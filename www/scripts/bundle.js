(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./www/scripts/main.js":[function(require,module,exports){
'use strict';

var namespace = 'main';

var angular = require('angular');

var app = angular.module(namespace, [
    // inject:modules start
    require('./common')(namespace).name
    // inject:modules end
]);

var runDeps = [];
var run = function() {
};

run.$inject = runDeps;
app.run(run);

module.exports = app;
},{"./common":"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\index.js","angular":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js"}],"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-animate\\angular-animate.min.js":[function(require,module,exports){
/*
 AngularJS v1.3.6
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(N,f,W){'use strict';f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(X,C,g){g=g.ngAnimateChildren;f.isString(g)&&0===g.length?C.data("$$ngAnimateChildren",!0):X.$watch(g,function(f){C.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,C){return function(g){return f(function(){g()})}}]).config(["$provide","$animateProvider",function(X,C){function g(f){for(var n=0;n<f.length;n++){var g=f[n];if(1==g.nodeType)return g}}
function ba(f,n){return g(f)==g(n)}var t=f.noop,n=f.forEach,da=C.$$selectors,aa=f.isArray,ea=f.isString,ga=f.isObject,r={running:!0},u;X.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(O,N,M,Y,y,H,P,W,Z,Q){function R(a,c){var b=a.data("$$ngAnimateState")||{};c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b));return b.disabled||b.running&&b.structural}function D(a){var c,b=N.defer();
b.promise.$$cancelFn=function(){c&&c()};P.$$postDigest(function(){c=a(function(){b.resolve()})});return b.promise}function I(a){if(ga(a))return a.tempClasses&&ea(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(" "),function(a){d[a]=e})});var h=Object.create(null);n((a.attr("class")||"").split(/\s+/),function(e){h[e]=!0});var f=[],l=[];n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===e?(b||"addClass"==c.event)&&
l.push(a):!0===e&&(b&&"removeClass"!=c.event||f.push(a))});return 0<f.length+l.length&&[f.join(" "),l.join(" ")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split(".");(Y.transitions||Y.animations)&&c.push(M.get(da[""]));for(var d=0;d<a.length;d++){var f=a[d],k=da[f];k&&!b[f]&&(c.push(M.get(k)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e["before"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return"leave"==a&&(c=b,b=null),u.push({event:a,fn:b}),J.push({event:a,fn:c}),
!0}function k(c,l,w){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(l){(l[f]||t)();if(++m<E.length)break a;l=null}w()}};switch(c.event){case "setClass":l.push(c.fn(a,e,A,p,d));break;case "animate":l.push(c.fn(a,b,d.from,d.to,p));break;case "addClass":l.push(c.fn(a,e||b,p,d));break;case "removeClass":l.push(c.fn(a,A||b,p,d));break;default:l.push(c.fn(a,p,d))}});l&&0===l.length&&w()}var l=a[0];if(l){d&&(d.to=d.to||{},d.from=d.from||{});var e,A;aa(b)&&(e=
b[0],A=b[1],e?A?b=e+" "+A:(b=e,c="addClass"):(b=A,c="removeClass"));var w="setClass"==c,E=w||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class")+" "+b;if(x(p)){var ca=t,m=[],J=[],g=t,s=[],u=[],p=(" "+p).replace(/\s+/g,".");n(T(p),function(a){!h(a,c)&&w&&(h(a,"addClass"),h(a,"removeClass"))});return{node:l,event:c,className:b,isClassBased:E,isSetClassOperation:w,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){ca=a;k(J,m,function(){ca=t;a()})},after:function(a){g=
a;k(u,s,function(){g=t;a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),ca(!0));s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function G(a,c,b,d,h,k,l,e){function A(e){var l="$animate:"+e;J&&J[l]&&0<J[l].length&&H(function(){b.triggerHandler(l,{event:a,className:c})})}function w(){A("before")}function E(){A("after")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,k())}function g(){if(!g.hasBeenRun){m&&m.applyStyles();g.hasBeenRun=!0;l&&l.tempClasses&&n(l.tempClasses,function(a){u.removeClass(b,
a)});var w=b.data("$$ngAnimateState");w&&(m&&m.isClassBased?B(b,c):(H(function(){var e=b.data("$$ngAnimateState")||{};fa==e.index&&B(b,c,a)}),b.data("$$ngAnimateState",w)));A("close");e()}}var m=U(b,a,c,l);if(!m)return p(),w(),E(),g(),t;a=m.event;c=m.className;var J=f.element._data(m.node),J=J&&J.events;d||(d=h?h.parent():b.parent());if(z(b,d))return p(),w(),E(),g(),t;d=b.data("$$ngAnimateState")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;h=!1;if(0<s){s=[];if(m.isClassBased)"setClass"==q.event?
(s.push(q),B(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),B(b,c)));else if("leave"==a&&L["ng-leave"])h=!0;else{for(var v in L)s.push(L[v]);d={};B(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}!m.isClassBased||m.isSetClassOperation||"animate"==a||h||(h="addClass"==a==b.hasClass(c));if(h)return p(),w(),E(),A("close"),e(),t;L=d.active||{};s=d.totalActive||0;if("leave"==a)b.one("$destroy",function(a){a=f.element(this);var e=a.data("$$ngAnimateState");e&&(e=e.active["ng-leave"])&&(e.cancel(),B(a,"ng-leave"))});
u.addClass(b,"ng-animate");l&&l.tempClasses&&n(l.tempClasses,function(a){u.addClass(b,a)});var fa=K++;s++;L[c]=m;b.data("$$ngAnimateState",{last:m,active:L,index:fa,totalActive:s});w();m.before(function(e){var l=b.data("$$ngAnimateState");e=e||!l||!l.active[c]||m.isClassBased&&l.active[c].event!=a;p();!0===e?g():(E(),m.after(g))});return m.cancel}function q(a){if(a=g(a))a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),n(a,function(a){a=
f.element(a);(a=a.data("$$ngAnimateState"))&&a.active&&n(a.active,function(a){a.cancel()})})}function B(a,c){if(ba(a,y))r.disabled||(r.running=!1,r.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]);if(d||!b.totalActive)u.removeClass(a,"ng-animate"),a.removeData("$$ngAnimateState")}}function z(a,c){if(r.disabled)return!0;if(ba(a,y))return r.running;var b,d,g;do{if(0===c.length)break;var k=ba(c,y),l=k?r:c.data("$$ngAnimateState")||
{};if(l.disabled)return!0;k&&(g=!0);!1!==b&&(k=c.data("$$ngAnimateChildren"),f.isDefined(k)&&(b=k));d=d||l.running||l.last&&!l.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q;y.data("$$ngAnimateState",r);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){r.running=!1})}))}),K=0,V=C.classNameFilter(),x=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,c,b,d,h){d=d||"ng-inline-animate";
h=I(h)||{};h.from=b?c:null;h.to=b?b:c;return D(function(b){return G("animate",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){d=I(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);R(a,!0);O.enter(a,c,b);return D(function(h){return G("enter","ng-enter",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){c=I(c);a=f.element(a);q(a);R(a,!0);return D(function(b){return G("leave","ng-leave",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,d){d=I(d);a=f.element(a);
c=c&&f.element(c);b=b&&f.element(b);q(a);R(a,!0);O.move(a,c,b);return D(function(h){return G("move","ng-move",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){d=I(d);a=f.element(a);a=f.element(g(a));if(R(a))return O.$$setClassImmediately(a,c,b,d);var h,k=a.data("$$animateClasses"),l=!!k;k||(k={classes:{}});h=k.classes;c=aa(c)?c:c.split(" ");n(c,function(a){a&&a.length&&(h[a]=
!0)});b=aa(b)?b:b.split(" ");n(b,function(a){a&&a.length&&(h[a]=!1)});if(l)return d&&k.options&&(k.options=f.extend(k.options||{},d)),k.promise;a.data("$$animateClasses",k={classes:h,options:d});return k.promise=D(function(e){var l=a.parent(),b=g(a),c=b.parentNode;if(!c||c.$$NG_REMOVED||b.$$NG_REMOVED)e();else{b=a.data("$$animateClasses");a.removeData("$$animateClasses");var c=a.data("$$ngAnimateState")||{},d=S(a,b,c.active);return d?G("setClass",d,a,l,null,function(){d[0]&&O.$$addClassImmediately(a,
d[0]);d[1]&&O.$$removeClassImmediately(a,d[1])},b.options,e):e()}})},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)B(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0;c.data("$$ngAnimateState",b)}break;case 1:r.disabled=!a;break;default:a=!r.disabled}return!!a}}}]);C.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,C,M,Y){function y(){b||(b=Y(function(){c=[];b=null;x={}}))}function H(a,e){b&&b();c.push(e);b=Y(function(){n(c,
function(a){a()});c=[];b=null;x={}})}function P(a,e){var b=g(a);a=f.element(b);k.push(a);b=Date.now()+e;b<=h||(M.cancel(d),h=b,d=M(function(){X(k);k=[]},e,!1))}function X(a){n(a,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?x[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{};c=Math.max(Q(a[z+"Duration"]),c);d=Math.max(Q(a[z+"Delay"]),d);g=Math.max(Q(a[K+"Delay"]),g);var e=Q(a[K+"Duration"]);
0<e&&(e*=parseInt(a[K+"IterationCount"],10)||1);f=Math.max(e,f)}});b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f};e&&(x[e]=b)}return b}function Q(a){var e=0;a=ea(a)?a.split(/\s*,\s*/):[];n(a,function(a){e=Math.max(parseFloat(a)||0,e)});return e}function R(b,e,c,d){b=0<=["ng-enter","ng-leave","ng-move"].indexOf(c);var f,p=e.parent(),h=p.data("$$ngAnimateKey");h||(p.data("$$ngAnimateKey",++a),h=a);f=h+"-"+g(e).getAttribute("class");var p=f+" "+c,h=x[p]?++x[p].total:
0,m={};if(0<h){var n=c+"-stagger",m=f+" "+n;(f=!x[m])&&u.addClass(e,n);m=Z(e,m);f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data("$$ngAnimateCSS3Data")||{},k=Z(e,p);f=k.transitionDuration;k=k.animationDuration;if(b&&0===f&&0===k)return u.removeClass(e,c),!1;c=d||b&&0<f;b=0<k&&0<m.animationDelay&&0===m.animationDuration;e.data("$$ngAnimateCSS3Data",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||[]});p=g(e);c&&(I(p,!0),d&&e.css(d));
b&&(p.style[K+"PlayState"]="paused");return!0}function D(a,e,b,c,d){function f(){e.off(D,h);u.removeClass(e,k);u.removeClass(e,t);z&&M.cancel(z);G(e,b);var a=g(e),c;for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-H,0)>=C&&b>=x&&c()}var m=g(e);a=e.data("$$ngAnimateCSS3Data");if(-1!=m.getAttribute("class").indexOf(b)&&a){var k="",t="";n(b.split(" "),function(a,
b){var e=(0<b?" ":"")+a;k+=e+"-active";t+=e+"-pending"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0;0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var y=0;0<v.animationDelay&&0===v.animationDuration&&(y=v.animationDelay*q,s.push(B+"animation-play-state"));r=Math.round(100*Math.max(r,y))/100}r||(u.addClass(e,k),a.blockTransition&&I(m,!1));var F=Z(e,a.cacheKey+" "+k),x=Math.max(F.transitionDuration,F.animationDuration);if(0===x)u.removeClass(e,k),G(e,b),c();else{!r&&
d&&(F.transitionDuration||(e.css("transition",F.animationDuration+"s linear all"),s.push("transition")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),C=1E3*q;0<s.length&&(v=m.getAttribute("style")||"",";"!==v.charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var H=Date.now(),D=V+" "+$,q=1E3*(r+1.5*(q+x)),z;0<r&&(u.addClass(e,t),z=M(function(){z=null;0<F.transitionDuration&&I(m,!1);0<F.animationDuration&&(m.style[K+"PlayState"]="");u.addClass(e,k);u.removeClass(e,t);d&&(0===
F.transitionDuration&&e.css("transition",F.animationDuration+"s linear all"),e.css(d),s.push("transition"))},1E3*r,!1));e.on(D,h);a.closeAnimationFns.push(function(){f();c()});a.running++;P(e,q);return f}}else c()}function I(a,b){a.style[z+"Property"]=b?"none":""}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&G(b,c)}}function T(a,b,c,d,f){if(b.data("$$ngAnimateCSS3Data"))return D(a,b,c,d,f);G(b,c);d()}function U(a,b,c,d,f){var g=S(a,b,c,f.from);if(g){var h=g;H(b,function(){h=T(a,b,c,d,f.to)});
return function(a){(h||t)(a)}}y();d()}function G(a,b){u.removeClass(a,b);var c=a.data("$$ngAnimateCSS3Data");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData("$$ngAnimateCSS3Data"))}function q(a,b){var c="";a=aa(a)?a:a.split(/\s+/);n(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)});return c}var B="",z,$,K,V;N.ontransitionend===W&&N.onwebkittransitionend!==W?(B="-webkit-",z="WebkitTransition",$="webkitTransitionEnd transitionend"):(z="transition",$="transitionend");N.onanimationend===
W&&N.onwebkitanimationend!==W?(B="-webkit-",K="WebkitAnimation",V="webkitAnimationEnd animationend"):(K="animation",V="animationend");var x={},a=0,c=[],b,d=null,h=0,k=[];return{animate:function(a,b,c,d,f,g){g=g||{};g.from=c;g.to=d;return U("animate",a,b,f,g)},enter:function(a,b,c){c=c||{};return U("enter",a,"ng-enter",b,c)},leave:function(a,b,c){c=c||{};return U("leave",a,"ng-leave",b,c)},move:function(a,b,c){c=c||{};return U("move",a,"ng-move",b,c)},beforeSetClass:function(a,b,c,d,f){f=f||{};b=q(c,
"-remove")+" "+q(b,"-add");if(f=S("setClass",a,b,f.from))return H(a,d),f;y();d()},beforeAddClass:function(a,b,c,d){d=d||{};if(b=S("addClass",a,q(b,"-add"),d.from))return H(a,c),b;y();c()},beforeRemoveClass:function(a,b,c,d){d=d||{};if(b=S("removeClass",a,q(b,"-remove"),d.from))return H(a,c),b;y();c()},setClass:function(a,b,c,d,f){f=f||{};c=q(c,"-remove");b=q(b,"-add");return T("setClass",a,c+" "+b,d,f.to)},addClass:function(a,b,c,d){d=d||{};return T("addClass",a,q(b,"-add"),c,d.to)},removeClass:function(a,
b,c,d){d=d||{};return T("removeClass",a,q(b,"-remove"),c,d.to)}}}])}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map

},{}],"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-sanitize\\angular-sanitize.min.js":[function(require,module,exports){
/*
 AngularJS v1.3.6
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(n,h,p){'use strict';function E(a){var d=[];s(d,h.noop).chars(a);return d.join("")}function g(a){var d={};a=a.split(",");var c;for(c=0;c<a.length;c++)d[a[c]]=!0;return d}function F(a,d){function c(a,b,c,l){b=h.lowercase(b);if(t[b])for(;f.last()&&u[f.last()];)e("",f.last());v[b]&&f.last()==b&&e("",b);(l=w[b]||!!l)||f.push(b);var m={};c.replace(G,function(a,b,d,c,e){m[b]=r(d||c||e||"")});d.start&&d.start(b,m,l)}function e(a,b){var c=0,e;if(b=h.lowercase(b))for(c=f.length-1;0<=c&&f[c]!=b;c--);
if(0<=c){for(e=f.length-1;e>=c;e--)d.end&&d.end(f[e]);f.length=c}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var b,k,f=[],m=a,l;for(f.last=function(){return f[f.length-1]};a;){l="";k=!0;if(f.last()&&x[f.last()])a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(a,b){b=b.replace(H,"$1").replace(I,"$1");d.chars&&d.chars(r(b));return""}),e("",f.last());else{if(0===a.indexOf("\x3c!--"))b=a.indexOf("--",4),0<=b&&a.lastIndexOf("--\x3e",b)===b&&(d.comment&&d.comment(a.substring(4,
b)),a=a.substring(b+3),k=!1);else if(y.test(a)){if(b=a.match(y))a=a.replace(b[0],""),k=!1}else if(J.test(a)){if(b=a.match(z))a=a.substring(b[0].length),b[0].replace(z,e),k=!1}else K.test(a)&&((b=a.match(A))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(A,c)),k=!1):(l+="<",a=a.substring(1)));k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),d.chars&&d.chars(r(l)))}if(a==m)throw L("badparse",a);m=a}e()}function r(a){if(!a)return"";var d=M.exec(a);a=d[1];var c=d[3];if(d=d[2])q.innerHTML=
d.replace(/</g,"&lt;"),d="textContent"in q?q.textContent:q.innerText;return a+d+c}function B(a){return a.replace(/&/g,"&amp;").replace(N,function(a){var c=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(c-55296)+(a-56320)+65536)+";"}).replace(O,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(a,d){var c=!1,e=h.bind(a,a.push);return{start:function(a,k,f){a=h.lowercase(a);!c&&x[a]&&(c=a);c||!0!==C[a]||(e("<"),e(a),h.forEach(k,function(c,f){var k=
h.lowercase(f),g="img"===a&&"src"===k||"background"===k;!0!==P[k]||!0===D[k]&&!d(c,g)||(e(" "),e(f),e('="'),e(B(c)),e('"'))}),e(f?"/>":">"))},end:function(a){a=h.lowercase(a);c||!0!==C[a]||(e("</"),e(a),e(">"));a==c&&(c=!1)},chars:function(a){c||e(B(a))}}}var L=h.$$minErr("$sanitize"),A=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,z=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,K=/^</,
J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,y=/<!DOCTYPE([^>]*?)>/i,I=/<!\[CDATA\[(.*?)]]\x3e/g,N=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O=/([^\#-~| |!])/g,w=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");p=g("rp,rt");var v=h.extend({},p,n),t=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),u=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
n=g("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var x=g("script,style"),C=h.extend({},w,t,u,v,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width");
p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");
var P=h.extend({},D,p,n),q=document.createElement("pre"),M=/^(\s*)([\s\S]*?)(\s*)$/;h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(d){var c=[];F(d,s(c,function(c,b){return!/^unsafe/.test(a(c,b))}));return c.join("")}}]});h.module("ngSanitize").filter("linky",["$sanitize",function(a){var d=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,c=/^mailto:/;return function(e,b){function k(a){a&&g.push(E(a))}
function f(a,c){g.push("<a ");h.isDefined(b)&&g.push('target="',b,'" ');g.push('href="',a.replace(/"/g,"&quot;"),'">');k(c);g.push("</a>")}if(!e)return e;for(var m,l=e,g=[],n,p;m=l.match(d);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),f(n,m[0].replace(c,"")),l=l.substring(p+m[0].length);k(l);return a(g.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

},{}],"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-ui-router\\release\\angular-ui-router.min.js":[function(require,module,exports){
(function (global){

; require("D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return M(new(M(function(){},{prototype:a})),b)}function e(a){return L(arguments,function(b){b!==a&&L(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var c=[];return b.forEach(a,function(a,b){c.push(b)}),c}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return M({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return L(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function m(a,b){var c=K(a),d=c?[]:{};return L(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function n(a,b){var c=K(a)?[]:{};return L(a,function(a,d){c[d]=b(a,d)}),c}function o(a,b){var d=1,f=2,i={},j=[],k=i,m=M(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,I(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);L(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return J(a)&&a.then&&a.$$promises}if(!J(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return L(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!G(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;L(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!J(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=m;var n=a.defer(),r=n.promise,s=r.$$promises={},t=M({},d),u=1+q.length/3,v=!1;if(G(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,l(f.$$inheritedValues,p)),M(s,f.$$promises),f.$$values?(v=e(t,l(f.$$values,p)),r.$$inheritedValues=l(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=l(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function p(a,b,c){this.fromConfig=function(a,b,c){return G(a.template)?this.fromString(a.template,b):G(a.templateUrl)?this.fromUrl(a.templateUrl,b):G(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return H(a)?a(b):a},this.fromUrl=function(c,d){return H(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function q(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new O.Param(b,c,d,e),p[b]}function g(a,b,c){var d=["",""],e=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return e;switch(c){case!1:d=["(",")"];break;case!0:d=["?(",")?"];break;default:d=["("+c+"|",")?"]}return e+d[0]+b+d[1]}function h(c,e){var f,g,h,i,j;return f=c[2]||c[3],j=b.params[f],h=a.substring(m,c.index),g=e?c[4]:c[4]||("*"==c[1]?".*":null),i=O.type(g||"string")||d(O.type("string"),{pattern:new RegExp(g)}),{id:f,regexp:g,segment:h,type:i,cfg:j}}b=M({params:{}},J(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new O.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function r(a){M(this,a)}function s(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(a){return this.pattern.test(a)}function i(){return{strict:t,caseInsensitive:p}}function j(a){return H(a)||K(a)&&H(a[a.length-1])}function k(){for(;x.length;){var a=x.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(v[a.name],o.invoke(a.def))}}function l(a){M(this,a||{})}O=this;var o,p=!1,t=!0,u=!1,v={},w=!0,x=[],y={string:{encode:a,decode:e,is:f,pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return G(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};s.$$getDefaultValue=function(a){if(!j(a.value))return a.value;if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(a.value)},this.caseInsensitive=function(a){return G(a)&&(p=a),p},this.strictMode=function(a){return G(a)&&(t=a),t},this.defaultSquashPolicy=function(a){if(!G(a))return u;if(a!==!0&&a!==!1&&!I(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return u=a,a},this.compile=function(a,b){return new q(a,M(i(),b))},this.isMatcher=function(a){if(!J(a))return!1;var b=!0;return L(q.prototype,function(c,d){H(c)&&(b=b&&G(a[d])&&H(a[d]))}),b},this.type=function(a,b,c){if(!G(b))return v[a];if(v.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return v[a]=new r(M({name:a},b)),c&&(x.push({name:a,def:c}),w||k()),this},L(y,function(a,b){v[b]=new r(M({name:b},a))}),v=d(v,{}),this.$get=["$injector",function(a){return o=a,w=!1,k(),L(y,function(a,b){v[b]||(v[b]=new r(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=J(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=j(a.value)?a.value:function(){return a.value},a}function i(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof r?b.type:new r(b.type):"config"===d?v.any:v.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return M(b,c,d).array}function l(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!G(c)||null==c)return u;if(c===!0||I(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=K(a.replace)?a.replace:[],I(e)&&f.push({from:e,to:c}),g=n(f,function(a){return a.from}),m(i,function(a){return-1===h(g,a.from)}).concat(f)}function q(){if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(d.$$fn)}function s(a){function b(a){return function(b){return b.from===a}}function c(a){var c=n(m(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),G(a)?w.type.decode(a):q()}function t(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=i(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=l(d,y),A=p(d,x,y,z);M(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:s,dynamic:c,config:d,toString:t})},l.prototype={$$new:function(){return d(this,M(new l,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(l.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),L(b,function(b){L(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return L(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return L(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var b,c,d,e=!0,f=this;return L(this.$$keys(),function(g){d=f[g],c=a[g],b=!c&&d.isOptional,e=e&&(b||!!d.type.is(c))}),e},$$parent:c},this.ParamSet=l}function t(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return G(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(I(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){var e=o&&d.url()===o;if(o=c,e)return!0;var g,h=j.length;for(g=0;h>g;g++)if(b(j[g]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){d.url(a.format(b||{})),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!H(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(I(a)){var b=a;a=function(){return b}}else if(!H(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=I(b);if(I(a)&&(a=d.compile(a)),!h&&!H(b)&&!K(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),M(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:I(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),M(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function u(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){if(!a)return c;var d=I(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=l(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var m=y[e];return!m||!d&&(d||m!==a&&m.self!==a)?c:m}function m(a,b){z[a]||(z[a]=[]),z[a].push(b)}function o(a){for(var b=z[a]||[];b.length;)p(b.shift())}function p(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!I(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(y.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):I(b.parent)?b.parent:J(b.parent)&&I(b.parent.name)?b.parent.name:"";if(e&&!y[e])return m(e,b.self);for(var f in B)H(B[f])&&(b[f]=B[f](b,B.$delegates[f]));return y[c]=b,!b[A]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){x.$current.navigable==b&&j(a,c)||x.transitionTo(b,a,{inherit:!0,location:!1})}]),o(c),b}function q(a){return a.indexOf("*")>-1}function r(a){var b=a.split("."),c=x.$current.name.split(".");if("**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function s(a,b){return I(a)&&!G(b)?B[a]:H(b)&&I(a)?(B[a]&&!B.$delegates[a]&&(B.$delegates[a]=B[a]),B[a]=b,this):this}function t(a,b){return J(a)?b=a:b.name=a,p(b),this}function u(a,e,f,h,m,o,p){function s(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),B;if(!g.retry)return null;if(f.$retry)return p.update(),C;var h=x.transition=e.when(g.retry);return h.then(function(){return h!==x.transition?u:(b.options.$retry=!0,x.transitionTo(b.to,b.toParams,b.options))},function(){return B}),p.update(),h}function t(a,c,d,g,i,j){var l=d?c:k(a.params.$$keys(),c),n={$stateParams:l};i.resolve=m.resolve(a.resolve,n,i.resolve,a);var o=[i.resolve.then(function(a){i.globals=a})];return g&&o.push(g),L(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return f.load(d,{view:c,locals:n,params:l,notify:j.notify})||""}],o.push(m.resolve(e,n,i.resolve,a).then(function(f){if(H(c.controllerProvider)||K(c.controllerProvider)){var g=b.extend({},e,n);f.$$controller=h.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,i[d]=f}))}),e.all(o).then(function(){return i})}var u=e.reject(new Error("transition superseded")),z=e.reject(new Error("transition prevented")),B=e.reject(new Error("transition aborted")),C=e.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:w.self,$current:w,transition:null},x.reload=function(){return x.transitionTo(x.current,o,{reload:!0,inherit:!1,notify:!0})},x.go=function(a,b,c){return x.transitionTo(a,b,M({inherit:!0,relative:x.$current},c))},x.transitionTo=function(b,c,f){c=c||{},f=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=x.$current,m=x.params,n=j.path,q=l(b,f.relative);if(!G(q)){var r={to:b,toParams:c,options:f},y=s(r,j.self,m,f);if(y)return y;if(b=r.to,c=r.toParams,f=r.options,q=l(b,f.relative),!G(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[A])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(o,c||{},x.$current,q)),!q.params.$$validates(c))return C;c=q.params.$$values(c),b=q;var B=b.path,D=0,E=B[D],F=w.locals,H=[];if(!f.reload)for(;E&&E===n[D]&&E.ownParams.$$equals(c,m);)F=H[D]=E.locals,D++,E=B[D];if(v(b,j,F,f))return b.self.reloadOnSearch!==!1&&p.update(),x.transition=null,e.when(x.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,m).defaultPrevented)return p.update(),z;for(var I=e.when(F),J=D;J<B.length;J++,E=B[J])F=H[J]=d(F),I=t(E,c,E===b,I,F,f);var K=x.transition=I.then(function(){var d,e,g;if(x.transition!==K)return u;for(d=n.length-1;d>=D;d--)g=n[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<B.length;d++)e=B[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return x.transition!==K?u:(x.$current=b,x.current=b.self,x.params=c,N(x.params,o),x.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,m),p.update(!0),x.current)},function(d){return x.transition!==K?u:(x.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,m,d),g.defaultPrevented||p.update(),e.reject(d))});return K},x.is=function(a,b,d){d=M({relative:x.$current},d||{});var e=l(a,d.relative);return G(e)?x.$current!==e?!1:b?j(e.params.$$values(b),o):!0:c},x.includes=function(a,b,d){if(d=M({relative:x.$current},d||{}),I(a)&&q(a)){if(!r(a))return!1;a=x.$current.name}var e=l(a,d.relative);return G(e)?G(x.$current.includes[e.name])?b?j(e.params.$$values(b),o,g(b)):!0:!1:c},x.href=function(a,b,d){d=M({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},d||{});var e=l(a,d.relative);if(!G(e))return null;d.inherit&&(b=i(o,b||{},x.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys(),b||{}),{absolute:d.absolute}):null},x.get=function(a,b){if(0===arguments.length)return n(g(y),function(a){return y[a].self});var c=l(a,b||x.$current);return c&&c.self?c.self:null},x}function v(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var w,x,y={},z={},A="abstract",B={parent:function(a){if(G(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):w},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=M({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(I(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||w).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new O.ParamSet;return L(a.params||{},function(a,c){b[c]||(b[c]=new O.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?M(a.parent.params.$$new(),a.ownParams):new O.ParamSet},views:function(a){var b={};return L(G(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?M({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=s,this.state=t,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function v(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=M(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function w(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function x(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=z(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function y(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=z(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function z(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function A(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function B(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function C(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=A(g.uiSref,a.current.name),j=null,k=B(f)||a.$current,l=null,m="A"===f.prop("tagName"),n="FORM"===f[0].nodeName,o=n?"action":"href",p=!0,q={relative:k,inherit:!0},r=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in r&&(q[a]=r[a])});var s=function(c){if(c&&(j=b.copy(c)),p){l=a.href(i.state,j,q);var d=h[1]||h[0];return d&&d.$$setStateInfo(i.state,j),null===l?(p=!1,!1):void g.$set(o,l)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&s(a)},!0),j=b.copy(e.$eval(i.paramExpr))),s(),n||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,q)});b.preventDefault();var g=m&&!l?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function D(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(j):d.removeClass(j)}function g(){return"undefined"!=typeof e.uiSrefActiveEq?h&&a.is(h.name,i):h&&a.includes(h.name,i)}var h,i,j;j=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$setStateInfo=function(b,c){h=a.get(b,B(d)),i=c,f()},b.$on("$stateChangeSuccess",f)}]}}function E(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function F(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var G=b.isDefined,H=b.isFunction,I=b.isString,J=b.isObject,K=b.isArray,L=b.forEach,M=b.extend,N=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),o.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",o),p.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",p);var O;q.prototype.concat=function(a,b){var c={caseInsensitive:O.caseInsensitive(),strict:O.strictMode(),squash:O.defaultSquashPolicy()};return new q(this.sourcePath+a+this.sourceSearch,M(c,b),this)},q.prototype.toString=function(){return this.source},q.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/,"-")}var d=b(a).split(/-(?!\\)/),e=n(d,b);return n(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},q.prototype.parameters=function(a){return G(a)?this.params[a]||null:this.$$paramNames},q.prototype.validates=function(a){return this.params.$$validates(a)},q.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],o=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),o),q=p?m.squash:!1,r=m.type.encode(o);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=K(r)?n(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else I(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;K(r)||(r=[r]),r=n(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},r.prototype.is=function(){return!0},r.prototype.encode=function(a){return a},r.prototype.decode=function(a){return a},r.prototype.equals=function(a,b){return a==b},r.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},r.prototype.pattern=/.*/,r.prototype.toString=function(){return"{Type:"+this.name+"}"},r.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return K(a)?a:G(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=n(c,a);return b===!0?0===m(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",s),b.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",t),u.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",u),v.$inject=[],b.module("ui.router.state").provider("$view",v),b.module("ui.router.state").provider("$uiViewScroll",w),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],y.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",x),b.module("ui.router.state").directive("uiView",y),C.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),E.$inject=["$state"],F.$inject=["$state"],b.module("ui.router.state").filter("isState",E).filter("includedByState",F)}(window,window.angular);
}).call(global, module, undefined, undefined);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js"}],"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js":[function(require,module,exports){
(function (global){
;__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
/*
 AngularJS v1.3.6
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(U,X,u){'use strict';function A(b){return function(){var a=arguments[0],c;c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.3.6/"+(b?b+"/":"")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var d=encodeURIComponent,e;e=arguments[a];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Ra(b){if(null==b||Sa(b))return!1;var a=b.length;return b.nodeType===
na&&a?!0:z(b)||x(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d,e;if(b)if(B(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(x(b)||Ra(b)){var f="object"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Cd(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,
b[d[e]],d[e]);return d}function kc(b){return function(a,c){b(c,a)}}function Dd(){return++kb}function lc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function G(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var k=f[g];b[k]=e[k]}}lc(b,a);return b}function $(b){return parseInt(b,10)}function H(){}function oa(b){return b}function ca(b){return function(){return b}}function C(b){return"undefined"===typeof b}function y(b){return"undefined"!==
typeof b}function O(b){return null!==b&&"object"===typeof b}function z(b){return"string"===typeof b}function Y(b){return"number"===typeof b}function pa(b){return"[object Date]"===Ja.call(b)}function B(b){return"function"===typeof b}function lb(b){return"[object RegExp]"===Ja.call(b)}function Sa(b){return b&&b.window===b}function Ta(b){return b&&b.$evalAsync&&b.$watch}function Ua(b){return"boolean"===typeof b}function mc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Ed(b){var a={};
b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function ua(b){return Q(b.nodeName||b[0]&&b[0].nodeName)}function Va(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return a}function Da(b,a,c,d){if(Sa(b)||Ta(b))throw Wa("cpws");if(a){if(b===a)throw Wa("cpi");c=c||[];d=d||[];if(O(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(x(b))for(var f=a.length=0;f<b.length;f++)e=Da(b[f],null,c,d),O(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);else{var g=a.$$hashKey;x(a)?a.length=
0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Da(b[f],null,c,d),O(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);lc(a,g)}}else if(a=b)x(b)?a=Da(b,[],c,d):pa(b)?a=new Date(b.getTime()):lb(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):O(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Da(b,e,c,d));return a}function qa(b,a){if(x(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(O(b))for(c in a=a||{},b)if("$"!==c.charAt(0)||"$"!==c.charAt(1))a[c]=
b[c];return a||b}function ga(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(x(b)){if(!x(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ga(b[d],a[d]))return!1;return!0}}else{if(pa(b))return pa(a)?ga(b.getTime(),a.getTime()):!1;if(lb(b)&&lb(a))return b.toString()==a.toString();if(Ta(b)||Ta(a)||Sa(b)||Sa(a)||x(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!B(b[d])){if(!ga(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&
"$"!==d.charAt(0)&&a[d]!==u&&!B(a[d]))return!1;return!0}return!1}function Xa(b,a,c){return b.concat(Ya.call(a,c))}function nc(b,a){var c=2<arguments.length?Ya.call(arguments,2):[];return!B(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Xa(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Fd(b,a){var c=a;"string"===typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?c=u:Sa(a)?c="$WINDOW":a&&X===a?c="$DOCUMENT":Ta(a)&&
(c="$SCOPE");return c}function Za(b,a){if("undefined"===typeof b)return u;Y(a)||(a=a?2:null);return JSON.stringify(b,Fd,a)}function oc(b){return z(b)?JSON.parse(b):b}function va(b){b=D(b).clone();try{b.empty()}catch(a){}var c=D("<div>").append(b).html();try{return b[0].nodeType===mb?Q(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Q(b)})}catch(d){return Q(c)}}function pc(b){try{return decodeURIComponent(b)}catch(a){}}function qc(b){var a={},c,d;r((b||"").split("&"),function(b){b&&
(c=b.replace(/\+/g,"%20").split("="),d=pc(c[0]),y(d)&&(b=y(c[1])?pc(c[1]):!0,rc.call(a,d)?x(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Nb(b){var a=[];r(b,function(b,d){x(b)?r(b,function(b){a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))}):a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))});return a.length?a.join("&"):""}function nb(b){return Ea(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ea(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,
":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Gd(b,a){var c,d,e=ob.length;b=D(b);for(d=0;d<e;++d)if(c=ob[d]+a,z(c=b.attr(c)))return c;return null}function Hd(b,a){var c,d,e={};r(ob,function(a){a+="app";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});r(ob,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==Gd(c,"strict-di"),a(c,d?[d]:[],e))}function sc(b,
a,c){O(c)||(c={});c=G({strictDi:!1},c);var d=function(){b=D(b);if(b.injector()){var d=b[0]===X?"document":va(b);throw Wa("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);a.unshift("ng");d=Ob(a,c.strictDi);d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return d},
e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;U&&e.test(U.name)&&(c.debugInfoEnabled=!0,U.name=U.name.replace(e,""));if(U&&!f.test(U.name))return d();U.name=U.name.replace(f,"");ha.resumeBootstrap=function(b){r(b,function(b){a.push(b)});d()}}function Id(){U.name="NG_ENABLE_DEBUG_INFO!"+U.name;U.location.reload()}function Jd(b){return ha.element(b).injector().get("$$testability")}function Pb(b,a){a=a||"_";return b.replace(Kd,function(b,d){return(d?a:"")+b.toLowerCase()})}function Ld(){var b;
tc||((ra=U.jQuery)&&ra.fn.on?(D=ra,G(ra.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=ra.cleanData,ra.cleanData=function(a){var c;if(Qb)Qb=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=ra._data(e,"events"))&&c.$destroy&&ra(e).triggerHandler("$destroy");b(a)}):D=R,ha.element=D,tc=!0)}function Rb(b,a,c){if(!b)throw Wa("areq",a||"?",c||"required");return b}function pb(b,a,c){c&&x(b)&&(b=b[b.length-1]);Rb(B(b),a,"not a function, got "+
(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function La(b,a){if("hasOwnProperty"===b)throw Wa("badname",a);}function uc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&B(b)?nc(e,b):b}function qb(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return D(c)}function ia(){return Object.create(null)}function Md(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=A("$injector"),
d=A("ng");b=a(b,"angular",Object);b.$$minErr=b.$$minErr||A;return a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");g&&b.hasOwnProperty(f)&&(b[f]=null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||"push"]([c,d,arguments]);return t}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],q=a("$injector","invoke","push",d),t={_invokeQueue:b,_configBlocks:d,_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide",
"factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){e.push(a);return this}};h&&q(h);return t})}})}function Nd(b){G(b,{bootstrap:sc,copy:Da,extend:G,equals:ga,element:D,forEach:r,injector:Ob,noop:H,bind:nc,toJson:Za,fromJson:oc,identity:oa,isUndefined:C,
isDefined:y,isString:z,isFunction:B,isObject:O,isNumber:Y,isElement:mc,isArray:x,version:Od,isDate:pa,lowercase:Q,uppercase:rb,callbacks:{counter:0},getTestability:Jd,$$minErr:A,$$csp:$a,reloadWithDebugInfo:Id});ab=Md(U);try{ab("ngLocale")}catch(a){ab("ngLocale",[]).provider("$locale",Pd)}ab("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Qd});a.provider("$compile",vc).directive({a:Rd,input:wc,textarea:wc,form:Sd,script:Td,select:Ud,style:Vd,option:Wd,ngBind:Xd,ngBindHtml:Yd,ngBindTemplate:Zd,
ngClass:$d,ngClassEven:ae,ngClassOdd:be,ngCloak:ce,ngController:de,ngForm:ee,ngHide:fe,ngIf:ge,ngInclude:he,ngInit:ie,ngNonBindable:je,ngPluralize:ke,ngRepeat:le,ngShow:me,ngStyle:ne,ngSwitch:oe,ngSwitchWhen:pe,ngSwitchDefault:qe,ngOptions:re,ngTransclude:se,ngModel:te,ngList:ue,ngChange:ve,pattern:xc,ngPattern:xc,required:yc,ngRequired:yc,minlength:zc,ngMinlength:zc,maxlength:Ac,ngMaxlength:Ac,ngValue:we,ngModelOptions:xe}).directive({ngInclude:ye}).directive(sb).directive(Bc);a.provider({$anchorScroll:ze,
$animate:Ae,$browser:Be,$cacheFactory:Ce,$controller:De,$document:Ee,$exceptionHandler:Fe,$filter:Cc,$interpolate:Ge,$interval:He,$http:Ie,$httpBackend:Je,$location:Ke,$log:Le,$parse:Me,$rootScope:Ne,$q:Oe,$$q:Pe,$sce:Qe,$sceDelegate:Re,$sniffer:Se,$templateCache:Te,$templateRequest:Ue,$$testability:Ve,$timeout:We,$window:Xe,$$rAF:Ye,$$asyncCallback:Ze,$$jqLite:$e})}])}function bb(b){return b.replace(af,function(a,b,d,e){return e?d.toUpperCase():d}).replace(bf,"Moz$1")}function Dc(b){b=b.nodeType;
return b===na||!b||9===b}function Ec(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Sb.test(b)){c=c||e.appendChild(a.createElement("div"));d=(cf.exec(b)||["",""])[1].toLowerCase();d=ja[d]||ja._default;c.innerHTML=d[1]+b.replace(df,"<$1></$2>")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Xa(f,c.childNodes);c=e.firstChild;c.textContent=""}else f.push(a.createTextNode(b));e.textContent="";e.innerHTML="";r(f,function(a){e.appendChild(a)});return e}function R(b){if(b instanceof R)return b;var a;z(b)&&(b=P(b),
a=!0);if(!(this instanceof R)){if(a&&"<"!=b.charAt(0))throw Tb("nosel");return new R(b)}if(a){a=X;var c;b=(c=ef.exec(b))?[a.createElement(c[1])]:(c=Ec(b,a))?c.childNodes:[]}Fc(this,b)}function Ub(b){return b.cloneNode(!0)}function tb(b,a){a||ub(b);if(b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)ub(c[d])}function Gc(b,a,c,d){if(y(d))throw Tb("offargs");var e=(d=vb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(" "),function(a){if(y(c)){var d=e[a];Va(d||[],c);if(d&&0<
d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function ub(b,a){var c=b.ng339,d=c&&wb[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Gc(b)),delete wb[c],b.ng339=u))}function vb(b,a){var c=b.ng339,c=c&&wb[c];a&&!c&&(b.ng339=c=++ff,c=wb[c]={events:{},data:{},handle:u});return c}function Vb(b,a,c){if(Dc(b)){var d=y(c),e=!d&&a&&!O(a),f=!a;b=(b=vb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;
if(e)return b&&b[a];G(b,a)}}}function xb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function yb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",P((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+P(a)+" "," ")))})}function zb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(a.split(" "),function(a){a=P(a);-1===c.indexOf(" "+a+" ")&&
(c+=a+" ")});b.setAttribute("class",P(c))}}function Fc(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"===typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Hc(b,a){return Ab(b,"$"+(a||"ngController")+"Controller")}function Ab(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=x(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=D.data(b,a[d]))!==u)return c;b=b.parentNode||11===b.nodeType&&b.host}}function Ic(b){for(tb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}
function Jc(b,a){a||tb(b);var c=b.parentNode;c&&c.removeChild(b)}function gf(b,a){a=a||U;if("complete"===a.document.readyState)a.setTimeout(b);else D(a).on("load",b)}function Kc(b,a){var c=Bb[a.toLowerCase()];return c&&Lc[ua(b)]&&c}function hf(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Mc[a]}function jf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=a[e||c.type],g=f?f.length:0;if(g){if(C(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;
c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<g&&(f=qa(f));for(var k=0;k<g;k++)c.isImmediatePropagationStopped()||f[k].call(b,c)}};c.elem=b;return c}function $e(){this.$get=function(){return G(R,{hasClass:function(b,a){b.attr&&(b=b[0]);return xb(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return zb(b,a)},removeClass:function(b,a){b.attr&&
(b=b[0]);return yb(b,a)}})}}function Ma(b,a){var c=b&&b.$$hashKey;if(c)return"function"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Dd)():c+":"+b}function cb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function kf(b){return(b=b.toString().replace(Nc,"").match(Oc))?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Wb(b,a,c){var d;if("function"===typeof b){if(!(d=b.$inject)){d=[];if(b.length){if(a)throw z(c)&&
c||(c=b.name||kf(b)),Fa("strictdi",c);a=b.toString().replace(Nc,"");a=a.match(Oc);r(a[1].split(lf),function(a){a.replace(mf,function(a,b,c){d.push(c)})})}b.$inject=d}}else x(b)?(a=b.length-1,pb(b[a],"fn"),d=b.slice(0,a)):pb(b,"fn",!0);return d}function Ob(b,a){function c(a){return function(b,c){if(O(b))r(b,kc(a));else return a(b,c)}}function d(a,b){La(a,"service");if(B(b)||x(b))b=q.instantiate(b);if(!b.$get)throw Fa("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=s.invoke(b,
this);if(C(c))throw Fa("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{z(a)?(c=ab(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):B(a)?b.push(q.invoke(a)):x(a)?b.push(q.invoke(a)):pb(a,"module")}catch(e){throw x(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&
(e=e.message+"\n"+e.stack),Fa("modulerr",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===k)throw Fa("cdep",a+" <- "+l.join(" <- "));return b[a]}try{return l.unshift(a),b[a]=k,b[a]=c(a,e)}catch(f){throw b[a]===k&&delete b[a],f;}finally{l.shift()}}function e(b,c,f,g){"string"===typeof f&&(g=f,f=null);var h=[],k=Wb(b,a,g),l,q,s;q=0;for(l=k.length;q<l;q++){s=k[q];if("string"!==typeof s)throw Fa("itkn",s);h.push(f&&f.hasOwnProperty(s)?f[s]:d(s,g))}x(b)&&
(b=b[l]);return b.apply(c,h)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((x(a)?a[a.length-1]:a).prototype);a=e(a,d,b,c);return O(a)||B(a)?a:d},get:d,annotate:Wb,has:function(a){return p.hasOwnProperty(a+"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var k={},l=[],m=new cb([],!0),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ca(b),!1)}),constant:c(function(a,b){La(a,
"constant");p[a]=b;t[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){ha.isString(b)&&l.push(b);throw Fa("unpr",l.join(" <- "));}),t={},s=t.$injector=h(t,function(a,b){var c=q.get(a+"Provider",b);return s.invoke(c.$get,c,u,a)});r(g(b),function(a){s.invoke(a||H)});return s}function ze(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location",
"$rootScope",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===ua(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;B(c)?c=c():mc(c)?(c=c[0],c="fixed"!==a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}
var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||gf(function(){d.$evalAsync(g)})});return g}]}function Ze(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,Ya.call(arguments,1))}finally{if(v--,0===v)for(;w.length;)try{w.pop()()}catch(b){c.error(b)}}}function f(a,b){(function Aa(){r(K,function(a){a()});E=b(Aa,a)})()}function g(){h();k()}function h(){J=
b.history.state;J=C(J)?null:J;ga(J,S)&&(J=S);S=J}function k(){if(F!==m.url()||L!==J)F=m.url(),L=J,r(W,function(a){a(m.url(),J)})}function l(a){try{return decodeURIComponent(a)}catch(b){return a}}var m=this,p=a[0],q=b.location,t=b.history,s=b.setTimeout,N=b.clearTimeout,n={};m.isMock=!1;var v=0,w=[];m.$$completeOutstandingRequest=e;m.$$incOutstandingRequestCount=function(){v++};m.notifyWhenNoOutstandingRequests=function(a){r(K,function(a){a()});0===v?a():w.push(a)};var K=[],E;m.addPollFn=function(a){C(E)&&
f(100,s);K.push(a);return a};var J,L,F=q.href,da=a.find("base"),I=null;h();L=J;m.url=function(a,c,e){C(e)&&(e=null);q!==b.location&&(q=b.location);t!==b.history&&(t=b.history);if(a){var f=L===e;if(F===a&&(!d.history||f))return m;var g=F&&Ga(F)===Ga(a);F=a;L=e;!d.history||g&&f?(g||(I=a),c?q.replace(a):g?(c=q,e=a.indexOf("#"),a=-1===e?"":a.substr(e+1),c.hash=a):q.href=a):(t[c?"replaceState":"pushState"](e,"",a),h(),L=J);return m}return I||q.href.replace(/%27/g,"'")};m.state=function(){return J};var W=
[],ba=!1,S=null;m.onUrlChange=function(a){if(!ba){if(d.history)D(b).on("popstate",g);D(b).on("hashchange",g);ba=!0}W.push(a);return a};m.$$checkUrlChange=k;m.baseHref=function(){var a=da.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var aa={},y="",ea=m.baseHref();m.cookies=function(a,b){var d,e,f,g;if(a)b===u?p.cookie=encodeURIComponent(a)+"=;path="+ea+";expires=Thu, 01 Jan 1970 00:00:00 GMT":z(b)&&(d=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+ea).length+
1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(p.cookie!==y)for(y=p.cookie,d=y.split("; "),aa={},f=0;f<d.length;f++)e=d[f],g=e.indexOf("="),0<g&&(a=l(e.substring(0,g)),aa[a]===u&&(aa[a]=l(e.substring(g+1))));return aa}};m.defer=function(a,b){var c;v++;c=s(function(){delete n[c];e(a)},b||0);n[c]=!0;return c};m.defer.cancel=function(a){return n[a]?(delete n[a],N(a),e(H),!0):!1}}function Be(){this.$get=["$window","$log","$sniffer",
"$document",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ce(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw A("$cacheFactory")("iid",b);var g=0,h=G({},d,{id:b}),k={},l=d&&d.capacity||Number.MAX_VALUE,m={},p=null,q=null;return a[b]={put:function(a,b){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}if(!C(b))return a in k||g++,k[a]=b,g>l&&this.remove(q.key),b},get:function(a){if(l<
Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==p&&(p=b.p);b==q&&(q=b.n);f(b.n,b.p);delete m[a]}delete k[a];g--},removeAll:function(){k={};g=0;m={};p=q=null},destroy:function(){m=h=k=null;delete a[b]},info:function(){return G({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Te(){this.$get=["$cacheFactory",function(b){return b("templates")}]}
function vc(b,a){function c(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};r(a,function(a,e){var f=a.match(c);if(!f)throw ka("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}});return d}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Ed("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,k=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){La(a,"directive");z(a)?(Rb(e,"directiveFactory"),d.hasOwnProperty(a)||
(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];r(d[a],function(d,g){try{var h=b.invoke(d);B(h)?h={compile:ca(h)}:!h.compile&&h.link&&(h.compile=ca(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||a;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";O(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name));f.push(h)}catch(k){e(k)}});return f}])),d[a].push(e)):r(a,kc(p));return this};this.aHrefSanitizationWhitelist=function(b){return y(b)?
(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};var l=!0;this.debugInfoEnabled=function(a){return y(a)?(l=a,this):l};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,s,N,n,v,w,K,E,J){function L(a,b){try{a.addClass(b)}catch(c){}}
function F(a,b,c,d,e){a instanceof D||(a=D(a));r(a,function(b,c){b.nodeType==mb&&b.nodeValue.match(/\S+/)&&(a[c]=D(b).wrap("<span></span>").parent()[0])});var f=da(a,b,a,c,d,e);F.$$addScopeClass(a);var g=null;return function(b,c,d){Rb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==ua(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==g?D(U(g,D("<div>").append(a).html())):
c?Ka.clone.call(a):a;if(h)for(var k in h)d.data("$"+k+"Controller",h[k].instance);F.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function da(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,q,s,n,w;if(p)for(w=Array(c.length),q=0;q<h.length;q+=3)f=h[q],w[f]=c[f];else w=c;q=0;for(s=h.length;q<s;)k=w[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(l=a.$new(),F.$$addScopeInfo(D(k),l)):l=a,n=c.transcludeOnThisElement?I(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?I(a,
b):null,c(f,l,k,d,n)):f&&f(a,k.childNodes,u,e)}for(var h=[],k,l,q,s,p,n=0;n<a.length;n++){k=new V;l=W(a[n],[],k,0===n?d:u,e);(f=l.length?aa(l,a[n],k,b,c,null,[],[],f):null)&&f.scope&&F.$$addScopeClass(k.$$element);k=f&&f.terminal||!(q=a[n].childNodes)||!q.length?null:da(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(n,f,k),s=!0,p=p||f;f=null}return s?g:null}function I(a,b,c,d){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,
{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function W(b,c,g,h,k){var l=g.$attr,q;switch(b.nodeType){case na:ea(c,wa(ua(b)),"E",h,k);for(var s,n,w,N=b.attributes,K=0,t=N&&N.length;K<t;K++){var J=!1,v=!1;s=N[K];q=s.name;s=P(s.value);n=wa(q);if(w=Ha.test(n))q=Pb(n.substr(6),"-");var L=n.replace(/(Start|End)$/,""),E;a:{var F=L;if(d.hasOwnProperty(F)){E=void 0;for(var F=a.get(F+"Directive"),W=0,r=F.length;W<r;W++)if(E=F[W],E.multiElement){E=!0;break a}}E=!1}E&&n===L+"Start"&&
(J=q,v=q.substr(0,q.length-5)+"end",q=q.substr(0,q.length-6));n=wa(q.toLowerCase());l[n]=q;if(w||!g.hasOwnProperty(n))g[n]=s,Kc(b,n)&&(g[n]=!0);R(b,c,s,n,w);ea(c,n,"A",h,k,J,v)}b=b.className;if(z(b)&&""!==b)for(;q=f.exec(b);)n=wa(q[2]),ea(c,n,"C",h,k)&&(g[n]=P(q[3])),b=b.substr(q.index+q[0].length);break;case mb:T(c,b.nodeValue);break;case 8:try{if(q=e.exec(b.nodeValue))n=wa(q[1]),ea(c,n,"M",h,k)&&(g[n]=P(q[2]))}catch(da){}}c.sort(A);return c}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&
a.hasAttribute(b)){do{if(!a)throw ka("uterdir",b,c);a.nodeType==na&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return D(d)}function S(a,b,c){return function(d,e,f,g,h){e=ba(e[0],b,c);return a(d,e,f,g,h)}}function aa(a,d,e,f,g,k,l,s,p){function w(a,b,c,d){if(a){c&&(a=S(a,c,d));a.require=M.require;a.directiveName=fa;if(I===M||M.$$isolateScope)a=Y(a,{isolateScope:!0});l.push(a)}if(b){c&&(b=S(b,c,d));b.require=M.require;b.directiveName=fa;if(I===
M||M.$$isolateScope)b=Y(b,{isolateScope:!0});s.push(b)}}function K(a,b,c,d){var e,f="data",g=!1,k=c,l;if(z(b)){l=b.match(h);b=b.substring(l[0].length);l[3]&&(l[1]?l[3]=null:l[1]=l[3]);"^"===l[1]?f="inheritedData":"^^"===l[1]&&(f="inheritedData",k=c.parent());"?"===l[2]&&(g=!0);e=null;d&&"data"===f&&(e=d[b])&&(e=e.instance);e=e||k[f]("$"+b+"Controller");if(!e&&!g)throw ka("ctreq",b,a);return e||null}x(b)&&(e=[],r(b,function(b){e.push(K(a,b,c,d))}));return e}function J(a,c,f,g,h){function k(a,b,c){var d;
Ta(a)||(c=b,b=a,a=u);ya&&(d=L);c||(c=ya?W.parent():W);return h(a,b,d,c,Xb)}var p,w,t,v,L,db,W,S;d===f?(S=e,W=e.$$element):(W=D(f),S=new V(W,e));I&&(v=c.$new(!0));h&&(db=k,db.$$boundTransclude=h);E&&(da={},L={},r(E,function(a){var b={$scope:a===I||a.$$isolateScope?v:c,$element:W,$attrs:S,$transclude:db};t=a.controller;"@"==t&&(t=S[a.name]);b=n(t,b,!0,a.controllerAs);L[a.name]=b;ya||W.data("$"+a.name+"Controller",b.instance);da[a.name]=b}));if(I){F.$$addScopeInfo(W,v,!0,!(aa&&(aa===I||aa===I.$$originalDirective)));
F.$$addScopeClass(W,!0);g=da&&da[I.name];var ba=v;g&&g.identifier&&!0===I.bindToController&&(ba=g.instance);r(v.$$isolateBindings=I.$$isolateBindings,function(a,d){var e=a.attrName,f=a.optional,g,h,k,l;switch(a.mode){case "@":S.$observe(e,function(a){ba[d]=a});S.$$observers[e].$$scope=c;S[e]&&(ba[d]=b(S[e])(c));break;case "=":if(f&&!S[e])break;h=N(S[e]);l=h.literal?ga:function(a,b){return a===b||a!==a&&b!==b};k=h.assign||function(){g=ba[d]=h(c);throw ka("nonassign",S[e],I.name);};g=ba[d]=h(c);f=function(a){l(a,
ba[d])||(l(a,g)?k(c,a=ba[d]):ba[d]=a);return g=a};f.$stateful=!0;f=a.collection?c.$watchCollection(S[e],f):c.$watch(N(S[e],f),null,h.literal);v.$on("$destroy",f);break;case "&":h=N(S[e]),ba[d]=function(a){return h(c,a)}}})}da&&(r(da,function(a){a()}),da=null);g=0;for(p=l.length;g<p;g++)w=l[g],Z(w,w.isolateScope?v:c,W,S,w.require&&K(w.directiveName,w.require,W,L),db);var Xb=c;I&&(I.template||null===I.templateUrl)&&(Xb=v);a&&a(Xb,f.childNodes,u,h);for(g=s.length-1;0<=g;g--)w=s[g],Z(w,w.isolateScope?
v:c,W,S,w.require&&K(w.directiveName,w.require,W,L),db)}p=p||{};for(var v=-Number.MAX_VALUE,L,E=p.controllerDirectives,da,I=p.newIsolateScopeDirective,aa=p.templateDirective,ea=p.nonTlbTranscludeDirective,H=!1,G=!1,ya=p.hasElementTranscludeDirective,T=e.$$element=D(d),M,fa,A,Ha=f,Q,xa=0,R=a.length;xa<R;xa++){M=a[xa];var Cb=M.$$start,$=M.$$end;Cb&&(T=ba(d,Cb,$));A=u;if(v>M.priority)break;if(A=M.scope)M.templateUrl||(O(A)?(Aa("new/isolated scope",I||L,M,T),I=M):Aa("new/isolated scope",I,M,T)),L=L||
M;fa=M.name;!M.templateUrl&&M.controller&&(A=M.controller,E=E||{},Aa("'"+fa+"' controller",E[fa],M,T),E[fa]=M);if(A=M.transclude)H=!0,M.$$tlb||(Aa("transclusion",ea,M,T),ea=M),"element"==A?(ya=!0,v=M.priority,A=T,T=e.$$element=D(X.createComment(" "+fa+": "+e[fa]+" ")),d=T[0],Db(g,Ya.call(A,0),d),Ha=F(A,f,v,k&&k.name,{nonTlbTranscludeDirective:ea})):(A=D(Ub(d)).contents(),T.empty(),Ha=F(A,f));if(M.template)if(G=!0,Aa("template",aa,M,T),aa=M,A=B(M.template)?M.template(T,e):M.template,A=Pc(A),M.replace){k=
M;A=Sb.test(A)?Qc(U(M.templateNamespace,P(A))):[];d=A[0];if(1!=A.length||d.nodeType!==na)throw ka("tplrt",fa,"");Db(g,T,d);R={$attr:{}};A=W(d,[],R);var pf=a.splice(xa+1,a.length-(xa+1));I&&y(A);a=a.concat(A).concat(pf);C(e,R);R=a.length}else T.html(A);if(M.templateUrl)G=!0,Aa("template",aa,M,T),aa=M,M.replace&&(k=M),J=of(a.splice(xa,a.length-xa),T,e,g,H&&Ha,l,s,{controllerDirectives:E,newIsolateScopeDirective:I,templateDirective:aa,nonTlbTranscludeDirective:ea}),R=a.length;else if(M.compile)try{Q=
M.compile(T,e,Ha),B(Q)?w(null,Q,Cb,$):Q&&w(Q.pre,Q.post,Cb,$)}catch(ca){c(ca,va(T))}M.terminal&&(J.terminal=!0,v=Math.max(v,M.priority))}J.scope=L&&!0===L.scope;J.transcludeOnThisElement=H;J.elementTranscludeOnThisElement=ya;J.templateOnThisElement=G;J.transclude=Ha;p.hasElementTranscludeDirective=ya;return J}function y(a){for(var b=0,c=a.length;b<c;b++){var d=b,e;e=G(Object.create(a[b]),{$$isolateScope:!0});a[d]=e}}function ea(b,e,f,g,h,k,l){if(e===h)return null;h=null;if(d.hasOwnProperty(e)){var q;
e=a.get(e+"Directive");for(var s=0,n=e.length;s<n;s++)try{if(q=e[s],(g===u||g>q.priority)&&-1!=q.restrict.indexOf(f)){if(k){var w={$$start:k,$$end:l};q=G(Object.create(q),w)}b.push(q);h=q}}catch(N){c(N)}}return h}function C(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){"class"==f?(L(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+
b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function of(a,b,c,d,e,f,g,h){var k=[],l,q,p=b[0],n=a.shift(),w=G({},n,{templateUrl:null,transclude:null,replace:null,$$originalDirective:n}),N=B(n.templateUrl)?n.templateUrl(b,c):n.templateUrl,t=n.templateNamespace;b.empty();s(K.getTrustedResourceUrl(N)).then(function(s){var K,v;s=Pc(s);if(n.replace){s=Sb.test(s)?Qc(U(t,P(s))):[];K=s[0];if(1!=s.length||K.nodeType!==na)throw ka("tplrt",n.name,N);s={$attr:{}};
Db(d,b,K);var J=W(K,[],s);O(n.scope)&&y(J);a=J.concat(a);C(c,s)}else K=p,b.html(s);a.unshift(w);l=aa(a,K,c,e,b,n,f,g,h);r(d,function(a,c){a==K&&(d[c]=b[0])});for(q=da(b[0].childNodes,e);k.length;){s=k.shift();v=k.shift();var E=k.shift(),F=k.shift(),J=b[0];if(!s.$$destroyed){if(v!==p){var S=v.className;h.hasElementTranscludeDirective&&n.replace||(J=Ub(K));Db(E,D(v),J);L(D(J),S)}v=l.transcludeOnThisElement?I(s,l.transclude,F):F;l(q,s,J,d,v)}}k=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?
k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=I(b,l.transclude,e)),l(q,b,c,d,a)))}}function A(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Aa(a,b,c,d){if(b)throw ka("multidir",b.name,c.name,a,va(d));}function T(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&F.$$addBindingClass(a);return function(a,c){var e=c.parent();b||F.$$addBindingClass(e);F.$$addBindingInfo(e,d.expressions);a.$watch(d,
function(a){c[0].nodeValue=a})}}})}function U(a,b){a=Q(a||"html");switch(a){case "svg":case "math":var c=X.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function xa(a,b){if("srcdoc"==b)return K.HTML;var c=ua(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return K.RESOURCE_URL}function R(a,c,d,e,f){var h=b(d,!0);if(h){if("multiple"===e&&"select"===ua(a))throw ka("selmulti",va(a));c.push({priority:100,compile:function(){return{pre:function(c,
d,l){d=l.$$observers||(l.$$observers={});if(k.test(e))throw ka("nodomevents");l[e]&&(h=b(l[e],!0,xa(a,e),g[e]||f))&&(l[e]=h(c),(d[e]||(d[e]=[])).$$inter=!0,(l.$$observers&&l.$$observers[e].$$scope||c).$watch(h,function(a,b){"class"===e&&a!=b?l.$updateClass(a,b):l.$set(e,a)}))}}}})}}function Db(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=
c);break}f&&f.replaceChild(c,d);a=X.createDocumentFragment();a.appendChild(d);D(c).data(D(d).data());ra?(Qb=!0,ra.cleanData([d])):delete D.cache[d[D.expando]];d=1;for(e=b.length;d<e;d++)f=b[d],D(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function Y(a,b){return G(function(){return a.apply(null,arguments)},a,b)}function Z(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,va(d))}}var V=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr=
{};this.$$element=a};V.prototype={$normalize:wa,$addClass:function(a){a&&0<a.length&&E.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&E.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Rc(a,b);c&&c.length&&E.addClass(this.$$element,c);(c=Rc(b,a))&&c.length&&E.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Kc(f,a),h=hf(f,a),f=a;g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=
e=Pb(a,"-"));g=ua(this.$$element);if("a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=J(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",h=P(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(h)?k:/(,)/,h=h.split(k),k=Math.floor(h.length/2),l=0;l<k;l++)var q=2*l,g=g+J(P(h[q]),!0),g=g+(" "+P(h[q+1]));h=P(h[2*l]).split(/\s/);g+=J(P(h[0]),!0);2===h.length&&(g+=" "+P(h[1]));this[a]=b=g}!1!==d&&(null===b||b===u?this.$$element.removeAttr(e):this.$$element.attr(e,b));(a=this.$$observers)&&
r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ia()),e=d[a]||(d[a]=[]);e.push(b);v.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){Va(e,b)}}};var ya=b.startSymbol(),fa=b.endSymbol(),Pc="{{"==ya||"}}"==fa?oa:function(a){return a.replace(/\{\{/g,ya).replace(/}}/g,fa)},Ha=/^ngAttr[A-Z]/;F.$$addBindingInfo=l?function(a,b){var c=a.data("$binding")||[];x(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:H;
F.$$addBindingClass=l?function(a){L(a,"ng-binding")}:H;F.$$addScopeInfo=l?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:H;F.$$addScopeClass=l?function(a,b){L(a,b?"ng-isolate-scope":"ng-scope")}:H;return F}]}function wa(b){return bb(b.replace(qf,""))}function Rc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Qc(b){b=D(b);var a=b.length;
if(1>=a)return b;for(;a--;)8===b[a].nodeType&&rf.call(b,a,1);return b}function De(){var b={},a=!1,c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,c){La(a,"controller");O(a)?G(b,a):b[a]=c};this.allowGlobals=function(){a=!0};this.$get=["$injector","$window",function(d,e){function f(a,b,c,d){if(!a||!O(a.$scope))throw A("$controller")("noscp",d,b);a.$scope[b]=c}return function(g,h,k,l){var m,p,q;k=!0===k;l&&z(l)&&(q=l);z(g)&&(l=g.match(c),p=l[1],q=q||l[3],g=b.hasOwnProperty(p)?b[p]:uc(h.$scope,p,
!0)||(a?uc(e,p,!0):u),pb(g,p,!0));if(k)return k=(x(g)?g[g.length-1]:g).prototype,m=Object.create(k),q&&f(h,q,m,p||g.name),G(function(){d.invoke(g,m,h,p);return m},{instance:m,identifier:q});m=d.instantiate(g,h,p);q&&f(h,q,m,p||g.name);return m}}]}function Ee(){this.$get=["$window",function(b){return D(b.document)}]}function Fe(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Yb(b,a){if(z(b)){b=b.replace(sf,"");var c=a("Content-Type");if(c&&0===c.indexOf(Sc)&&
b.trim()||tf.test(b)&&uf.test(b))b=oc(b)}return b}function Tc(b){var a=ia(),c,d,e;if(!b)return a;r(b.split("\n"),function(b){e=b.indexOf(":");c=Q(P(b.substr(0,e)));d=P(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function Uc(b){var a=O(b)?b:u;return function(c){a||(a=Tc(b));return c?(c=a[Q(c)],void 0===c&&(c=null),c):a}}function Vc(b,a,c){if(B(c))return c(b,a);r(c,function(c){b=c(b,a)});return b}function Ie(){var b=this.defaults={transformResponse:[Yb],transformRequest:[function(a){return O(a)&&
"[object File]"!==Ja.call(a)&&"[object Blob]"!==Ja.call(a)?Za(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:qa(Zb),put:qa(Zb),patch:qa(Zb)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,k){function l(a){function c(a){var b=G({},a);b.data=a.data?Vc(a.data,a.headers,d.transformResponse):
a.data;a=a.status;return 200<=a&&300>a?b:h.reject(b)}var d={method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},e=function(a){var c=b.headers,d=G({},a.headers),e,f,c=G({},c.common,c[Q(a.method)]);a:for(e in c){a=Q(e);for(f in d)if(Q(f)===a)continue a;d[e]=c[e]}(function(a){var b;r(a,function(c,d){B(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})})(d);return d}(a);if(!ha.isObject(a))throw A("$http")("badreq",a);G(d,a);d.headers=e;d.method=rb(d.method);var f=[function(a){e=
a.headers;var d=Vc(a.data,Uc(e),a.transformRequest);C(d)&&r(e,function(a,b){"content-type"===Q(b)&&delete e[b]});C(a.withCredentials)&&!C(b.withCredentials)&&(a.withCredentials=b.withCredentials);return m(a,d,e).then(c,c)},u],g=h.when(d);for(r(t,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),g=g.then(a,k)}g.success=function(a){g.then(function(b){a(b.data,b.status,
b.headers,d)});return g};g.error=function(a){g.then(null,function(b){a(b.data,b.status,b.headers,d)});return g};return g}function m(c,f,k){function m(b,c,d,e){function f(){w(c,b,d,e)}F&&(200<=b&&300>b?F.put(I,[b,c,Tc(d),e]):F.remove(I));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function w(a,b,d,e){b=Math.max(b,0);(200<=b&&300>b?J.resolve:J.reject)({data:a,status:b,headers:Uc(d),config:c,statusText:e})}function t(a){w(a.data,a.status,qa(a.headers()),a.statusText)}function E(){var a=l.pendingRequests.indexOf(c);
-1!==a&&l.pendingRequests.splice(a,1)}var J=h.defer(),L=J.promise,F,r,I=p(c.url,c.params);l.pendingRequests.push(c);L.then(E,E);!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(F=O(c.cache)?c.cache:O(b.cache)?b.cache:q);F&&(r=F.get(I),y(r)?r&&B(r.then)?r.then(t,t):x(r)?w(r[1],r[0],qa(r[2]),r[3]):w(r,200,{},"OK"):F.put(I,L));C(r)&&((r=Wc(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:u)&&(k[c.xsrfHeaderName||b.xsrfHeaderName]=r),d(c.method,I,f,m,k,c.timeout,c.withCredentials,
c.responseType));return L}function p(a,b){if(!b)return a;var c=[];Cd(b,function(a,b){null===a||C(a)||(x(a)||(a=[a]),r(a,function(a){O(a)&&(a=pa(a)?a.toISOString():Za(a));c.push(Ea(b)+"="+Ea(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var q=f("$http"),t=[];r(c,function(a){t.unshift(z(a)?k.get(a):k.invoke(a))});l.pendingRequests=[];(function(a){r(arguments,function(a){l[a]=function(b,c){return l(G(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,
function(a){l[a]=function(b,c,d){return l(G(d||{},{method:a,url:b,data:c}))}})})("post","put","patch");l.defaults=b;return l}]}function vf(){return new U.XMLHttpRequest}function Je(){this.$get=["$browser","$window","$document",function(b,a,c){return wf(b,vf,b.defer,a.angular.callbacks,c[0])}]}function wf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",m,!1);
e.body.removeChild(f);f=null;var g=-1,t="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),t=a.type,g="error"===a.type?404:200);c&&c(g,t)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,k,l,m,p,q,t){function s(){v&&v();w&&w.abort()}function N(a,d,e,f,g){E!==u&&c.cancel(E);v=w=null;a(d,e,f,g);b.$$completeOutstandingRequest(H)}b.$$incOutstandingRequestCount();h=h||b.url();if("jsonp"==Q(e)){var n="_"+(d.counter++).toString(36);
d[n]=function(a){d[n].data=a;d[n].called=!0};var v=f(h.replace("JSON_CALLBACK","angular.callbacks."+n),n,function(a,b){N(l,a,d[n].data,"",b);d[n]=H})}else{var w=a();w.open(e,h,!0);r(m,function(a,b){y(a)&&w.setRequestHeader(b,a)});w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=1223===w.status?204:w.status;0===c&&(c=b?200:"file"==Ba(h).protocol?404:0);N(l,c,b,w.getAllResponseHeaders(),a)};e=function(){N(l,-1,null,null,"")};w.onerror=e;w.onabort=e;q&&(w.withCredentials=
!0);if(t)try{w.responseType=t}catch(K){if("json"!==t)throw K;}w.send(k||null)}if(0<p)var E=c(s,p);else p&&B(p.then)&&p.then(s)}}function Ge(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,t,s){function N(c){return c.replace(l,b).replace(m,a)}function n(a){try{var b=a;a=t?e.getTrusted(t,b):e.valueOf(b);var c;if(s&&!y(a))c=
a;else if(null==a)c="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=Za(a)}c=a}return c}catch(g){c=$b("interr",f,g.toString()),d(c)}}s=!!s;for(var v,w,K=0,E=[],J=[],L=f.length,F=[],r=[];K<L;)if(-1!=(v=f.indexOf(b,K))&&-1!=(w=f.indexOf(a,v+h)))K!==v&&F.push(N(f.substring(K,v))),K=f.substring(v+h,w),E.push(K),J.push(c(K,n)),K=w+k,r.push(F.length),F.push("");else{K!==L&&F.push(N(f.substring(K)));break}if(t&&1<F.length)throw $b("noconcat",f);if(!g||E.length){var I=function(a){for(var b=
0,c=E.length;b<c;b++){if(s&&C(a[b]))return;F[r[b]]=a[b]}return F.join("")};return G(function(a){var b=0,c=E.length,e=Array(c);try{for(;b<c;b++)e[b]=J[b](a);return I(e)}catch(g){a=$b("interr",f,g.toString()),d(a)}},{exp:f,expressions:E,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(J,function(c,e){var f=I(c);B(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var h=b.length,k=a.length,l=new RegExp(b.replace(/./g,f),"g"),m=new RegExp(a.replace(/./g,f),"g");g.startSymbol=function(){return b};g.endSymbol=
function(){return a};return g}]}function He(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,k,l){var m=a.setInterval,p=a.clearInterval,q=0,t=y(l)&&!l,s=(t?d:c).defer(),N=s.promise;k=y(k)?k:0;N.then(null,null,e);N.$$intervalId=m(function(){s.notify(q++);0<k&&q>=k&&(s.resolve(q),p(N.$$intervalId),delete f[N.$$intervalId]);t||b.$apply()},h);f[N.$$intervalId]=s;return N}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),
delete f[b.$$intervalId],!0):!1};return e}]}function Pd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function ac(b){b=b.split("/");for(var a=b.length;a--;)b[a]=nb(b[a]);return b.join("/")}function Xc(b,a){var c=Ba(b);a.$$protocol=
c.protocol;a.$$host=c.hostname;a.$$port=$(c.port)||xf[c.protocol]||null}function Yc(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Ba(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);a.$$search=qc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function za(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Zc(b){return b.replace(/(#.+)|#$/,
"$1")}function bc(b){return b.substr(0,Ga(b).lastIndexOf("/")+1)}function cc(b,a){this.$$html5=!0;a=a||"";var c=bc(b);Xc(b,this);this.$$parse=function(a){var b=za(c,a);if(!z(b))throw Eb("ipthprfx",a,c);Yc(b,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Nb(this.$$search),b=this.$$hash?"#"+nb(this.$$hash):"";this.$$url=ac(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),
!0;var f,g;(f=za(b,d))!==u?(g=f,g=(f=za(a,f))!==u?c+(za("/",f)||f):b+g):(f=za(c,d))!==u?g=c+f:c==d+"/"&&(g=c);g&&this.$$parse(g);return!!g}}function dc(b,a){var c=bc(b);Xc(b,this);this.$$parse=function(d){d=za(b,d)||za(c,d);var e;"#"===d.charAt(0)?(e=za(a,d),C(e)&&(e=d)):e=this.$$html5?d:"";Yc(e,this);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};this.$$compose=function(){var c=Nb(this.$$search),e=this.$$hash?
"#"+nb(this.$$hash):"";this.$$url=ac(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):!1}}function $c(b,a){this.$$html5=!0;dc.apply(this,arguments);var c=bc(b);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ga(d)?f=d:(g=za(c,d))?f=b+a+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=function(){var c=Nb(this.$$search),e=this.$$hash?"#"+nb(this.$$hash):
"";this.$$url=ac(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+a+this.$$url}}function Fb(b){return function(){return this[b]}}function ad(b,a){return function(c){if(C(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Ke(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b};this.html5Mode=function(b){return Ua(b)?(a.enabled=b,this):O(b)?(Ua(b.enabled)&&(a.enabled=b.enabled),Ua(b.requireBase)&&(a.requireBase=b.requireBase),Ua(b.rewriteLinks)&&
(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,f){function g(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function h(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,l;l=d.baseHref();var m=d.url(),p;if(a.enabled){if(!l&&a.requireBase)throw Eb("nobase");p=m.substring(0,m.indexOf("/",m.indexOf("//")+2))+(l||"/");l=e.history?cc:$c}else p=Ga(m),
l=dc;k=new l(p,"#"+b);k.$$parseLinkUrl(m,m);k.$$state=d.state();var q=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&2!=b.which){for(var e=D(b.target);"a"!==ua(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var g=e.prop("href"),h=e.attr("href")||e.attr("xlink:href");O(g)&&"[object SVGAnimatedString]"===g.toString()&&(g=Ba(g.animVal).href);q.test(g)||!g||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(g,h)||(b.preventDefault(),k.absUrl()!=
d.url()&&(c.$apply(),U.angular["ff-684208-preventDefault"]=!0))}});k.absUrl()!=m&&d.url(k.absUrl(),!0);var t=!0;d.onUrlChange(function(a,b){c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,g(d,!1,e)):(t=!1,h(d,e)))});c.$$phase||c.$digest()});c.$watch(function(){var a=Zc(d.url()),b=Zc(k.absUrl()),f=d.state(),l=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;
if(t||q)t=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&g(b,l,f===k.$$state?null:k.$$state),h(a,f)))});k.$$replace=!1});return k}]}function Le(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&
(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||H;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function sa(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===
b||"__proto__"===b)throw la("isecfld",a);return b}function ta(b,a){if(b){if(b.constructor===b)throw la("isecfn",a);if(b.window===b)throw la("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw la("isecdom",a);if(b===Object)throw la("isecobj",a);}return b}function ec(b){return b.constant}function Na(b,a,c,d){ta(b,d);a=a.split(".");for(var e,f=0;1<a.length;f++){e=sa(a.shift(),d);var g=ta(b[e],d);g||(g={},b[e]=g);b=g}e=sa(a.shift(),d);ta(b[e],d);return b[e]=c}function Oa(b){return"constructor"==
b}function bd(b,a,c,d,e,f,g){sa(b,f);sa(a,f);sa(c,f);sa(d,f);sa(e,f);var h=function(a){return ta(a,f)},k=g||Oa(b)?h:oa,l=g||Oa(a)?h:oa,m=g||Oa(c)?h:oa,p=g||Oa(d)?h:oa,q=g||Oa(e)?h:oa;return function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;if(null==h)return h;h=k(h[b]);if(!a)return h;if(null==h)return u;h=l(h[a]);if(!c)return h;if(null==h)return u;h=m(h[c]);if(!d)return h;if(null==h)return u;h=p(h[d]);return e?null==h?u:h=q(h[e]):h}}function yf(b,a){return function(c,d){return b(c,d,ta,a)}}function cd(b,
a,c){var d=a.expensiveChecks,e=d?zf:Af,f=e[b];if(f)return f;var g=b.split("."),h=g.length;if(a.csp)f=6>h?bd(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var e=0,f;do f=bd(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=u,a=f;while(e<h);return f};else{var k="";d&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=d;r(g,function(a,b){sa(a,c);var e=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;if(d||Oa(a))e="eso("+e+", fe)",l=!0;k+="if(s == null) return undefined;\ns="+e+";\n"});k+="return s;";a=new Function("s",
"l","eso","fe",k);a.toString=ca(k);l&&(a=yf(a,c));f=a}f.sharedGetter=!0;f.assign=function(a,c){return Na(a,b,c,b)};return e[b]=f}function fc(b){return B(b.valueOf)?b.valueOf():Bf.call(b)}function Me(){var b=ia(),a=ia();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign);return b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===
b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=fc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d){var e=d.$$inputs||(d.$$inputs=f(d.inputs,[])),h;if(1===e.length){var k=g,e=e[0];return a.$watch(function(a){var b=e(a);g(b,k)||(h=d(a),k=b&&fc(b));return h},b,c)}for(var l=[],q=0,p=e.length;q<p;q++)l[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var k=e[c](a);if(b||(b=!g(k,l[c])))l[c]=k&&fc(k)}b&&(h=d(a));
return h},b,c)}function k(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;B(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function l(a,b,c,d){function e(a){var b=!0;r(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;B(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function m(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){B(b)&&
b.apply(this,arguments);e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==l&&c!==k?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=[a]);return c}var q={csp:d.csp,expensiveChecks:!1},t={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var v,w,K;switch(typeof d){case "string":K=d=d.trim();var E=g?a:b;v=E[K];
v||(":"===d.charAt(0)&&":"===d.charAt(1)&&(w=!0,d=d.substring(2)),g=g?t:q,v=new gc(g),v=(new eb(v,c,g)).parse(d),v.constant?v.$$watchDelegate=m:w?(v=e(v),v.$$watchDelegate=v.literal?l:k):v.inputs&&(v.$$watchDelegate=h),E[K]=v);return p(v,f);case "function":return p(d,f);default:return p(H,f)}}}]}function Oe(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return dd(function(a){b.$evalAsync(a)},a)}]}function Pe(){this.$get=["$browser","$exceptionHandler",function(b,a){return dd(function(a){b.defer(a)},
a)}]}function dd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;c.processScheduled=!1;c.pending=u;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{B(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),
a(h)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=A("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&f(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return l(b,!0,a)},function(b){return l(b,!1,a)},b)}};
g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(O(b)||B(b))d=b&&b.then;B(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=
a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(B(b)?b(c):c)}catch(h){a(h)}}})}};var k=function(a,b){var c=new g;b?c.resolve(a):c.reject(a);return c.promise},l=function(a,b,c){var d=null;try{B(c)&&(d=c())}catch(e){return k(e,!1)}return d&&B(d.then)?d.then(function(){return k(a,b)},function(a){return k(a,!1)}):
k(a,b)},m=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},p=function t(a){if(!B(a))throw h("norslvr",a);if(!(this instanceof t))return new t(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};p.defer=function(){return new g};p.reject=function(a){var b=new g;b.reject(a);return b.promise};p.when=m;p.all=function(a){var b=new g,c=0,d=x(a)?[]:{};r(a,function(a,e){c++;m(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||
b.reject(a)})});0===c&&b.resolve(d);return b.promise};return p}function Ye(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=e;return f}]}function Ne(){var b=10,
a=A("$rootScope"),c=null,d=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(e,f,g,h){function k(){this.$id=++kb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function l(b){if(s.$$phase)throw a("inprog",s.$$phase);s.$$phase=b}function m(a,
b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function p(){}function q(){for(;v.length;)try{v.shift()()}catch(a){f(a)}d=null}function t(){null===d&&(d=h.defer(function(){s.$apply(q)}))}k.prototype={constructor:k,$new:function(a,b){function c(){d.$$destroyed=!0}var d;b=b||this;a?(d=new k,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners=
{};this.$$listenerCount={};this.$id=++kb;this.$$ChildScope=null},this.$$ChildScope.prototype=this),d=new this.$$ChildScope);d.$parent=b;d.$$prevSibling=b.$$childTail;b.$$childHead?(b.$$childTail.$$nextSibling=d,b.$$childTail=d):b.$$childHead=b.$$childTail=d;(a||b!=this)&&d.$on("$destroy",c);return d},$watch:function(a,b,d){var e=g(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,d,e);var f=this.$$watchers,h={fn:b,last:p,get:e,exp:a,eq:!!d};c=null;B(b)||(h.fn=H);f||(f=this.$$watchers=[]);f.unshift(h);
return function(){Va(f,h);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,
b){function c(a){e=a;var b,d,g,h;if(!C(e)){if(O(e))if(Ra(e))for(f!==p&&(f=p,t=f.length=0,l++),a=e.length,t!==a&&(l++,f.length=t=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==m&&(f=m={},t=0,l++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(t++,f[b]=g,l++));if(t>a)for(b in l++,f)e.hasOwnProperty(b)||(t--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,q=g(a,c),p=[],m=
{},n=!0,t=0;return this.$watch(q,function(){n?(n=!1,b(e,e,d)):b(e,h,d);if(k)if(O(e))if(Ra(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)rc.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var e,g,k,m,t,v,r=b,I,u=[],y,S;l("$digest");h.$$checkUrlChange();this===s&&null!==d&&(h.defer.cancel(d),q());c=null;do{v=!1;for(I=this;N.length;){try{S=N.shift(),S.scope.$eval(S.expression)}catch(A){f(A)}c=null}a:do{if(m=I.$$watchers)for(t=m.length;t--;)try{if(e=m[t])if((g=
e.get(I))!==(k=e.last)&&!(e.eq?ga(g,k):"number"===typeof g&&"number"===typeof k&&isNaN(g)&&isNaN(k)))v=!0,c=e,e.last=e.eq?Da(g,null):g,e.fn(g,k===p?g:k,I),5>r&&(y=4-r,u[y]||(u[y]=[]),u[y].push({msg:B(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:g,oldVal:k}));else if(e===c){v=!1;break a}}catch(D){f(D)}if(!(m=I.$$childHead||I!==this&&I.$$nextSibling))for(;I!==this&&!(m=I.$$nextSibling);)I=I.$parent}while(I=m);if((v||N.length)&&!r--)throw s.$$phase=null,a("infdig",b,u);}while(v||N.length);
for(s.$$phase=null;n.length;)try{n.shift()()}catch(ea){f(ea)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==s){for(var b in this.$$listenerCount)m(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);
this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=H;this.$on=this.$watch=this.$watchGroup=function(){return H};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a){s.$$phase||N.length||h.defer(function(){N.length&&s.$digest()});N.push({scope:this,expression:a})},$$postDigest:function(a){n.push(a)},$apply:function(a){try{return l("$apply"),
this.$eval(a)}catch(b){f(b)}finally{s.$$phase=null;try{s.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&v.push(b);t()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,m(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,
stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=Xa([h],arguments,1),l,q;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(q=d.length;l<q;l++)if(d[l])try{d[l].apply(null,k)}catch(m){f(m)}else d.splice(l,1),l--,q--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;
for(var g=Xa([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var s=new k,N=s.$$asyncQueue=[],n=s.$$postDigestQueue=[],v=s.$$applyAsyncQueue=[];return s}]}function Qd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;
this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=Ba(c).href;return""===f||f.match(e)?c:"unsafe:"+f}}}function Cf(b){if("self"===b)return b;if(z(b)){if(-1<b.indexOf("***"))throw Ca("iwcard",b);b=ed(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+b+"$")}if(lb(b))return new RegExp("^"+b.source+"$");throw Ca("imatcher");}function fd(b){var a=
[];y(b)&&r(b,function(b){a.push(Cf(b))});return a}function Re(){this.SCE_CONTEXTS=ma;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=fd(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&(a=fd(b));return a};this.$get=["$injector",function(c){function d(a,b){return"self"===a?Wc(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};
b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ca("unsafe");};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};h[ma.HTML]=e(g);h[ma.CSS]=e(g);h[ma.URL]=e(g);h[ma.JS]=e(g);h[ma.RESOURCE_URL]=e(h[ma.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ca("icontext",a,b);if(null===b||b===u||""===b)return b;if("string"!==typeof b)throw Ca("itype",a);return new c(b)},getTrusted:function(c,e){if(null===
e||e===u||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===ma.RESOURCE_URL){var g=Ba(e.toString()),p,q,t=!1;p=0;for(q=b.length;p<q;p++)if(d(b[p],g)){t=!0;break}if(t)for(p=0,q=a.length;p<q;p++)if(d(a[p],g)){t=!1;break}if(t)return e;throw Ca("insecurl",e.toString());}if(c===ma.HTML)return f(e);throw Ca("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Qe(){var b=!0;this.enabled=function(a){arguments.length&&
(b=!!a);return b};this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>Pa)throw Ca("iequirks");var d=qa(ma);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=oa);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;r(ma,function(a,b){var c=Q(b);d[bb("parse_as_"+c)]=function(b){return e(a,
b)};d[bb("get_trusted_"+c)]=function(b){return f(a,b)};d[bb("trust_as_"+c)]=function(b){return g(a,b)}});return d}]}function Se(){this.$get=["$window","$document",function(b,a){var c={},d=$((/android (\d+)/.exec(Q((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,k=f.body&&f.body.style,l=!1,m=!1;if(k){for(var p in k)if(l=h.exec(p)){g=l[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in k&&"webkit");
l=!!("transition"in k||g+"Transition"in k);m=!!("animation"in k||g+"Animation"in k);!d||l&&m||(l=z(f.body.style.webkitTransition),m=z(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=Pa)return!1;if(C(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:$a(),vendorPrefix:g,transitions:l,animations:m,android:d}}]}function Ue(){this.$get=["$templateCache","$http","$q",function(b,a,c){function d(e,f){d.totalPendingRequests++;
var g=a.defaults&&a.defaults.transformResponse;x(g)?g=g.filter(function(a){return a!==Yb}):g===Yb&&(g=null);return a.get(e,{cache:b,transformResponse:g}).then(function(a){d.totalPendingRequests--;return a.data},function(a){d.totalPendingRequests--;if(!f)throw ka("tpload",e);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function Ve(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var d=
ha.element(a).data("$binding");d&&r(d,function(d){c?(new RegExp("(^|\\s)"+ed(b)+"(\\s|\\||$)")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function We(){this.$get=
["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,k,l){var m=y(l)&&!l,p=(m?d:c).defer(),q=p.promise;k=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}m||b.$apply()},k);q.$$timeoutId=k;g[k]=p;return q}var g={};f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function Ba(b){Pa&&(Z.setAttribute("href",b),b=Z.href);
Z.setAttribute("href",b);return{href:Z.href,protocol:Z.protocol?Z.protocol.replace(/:$/,""):"",host:Z.host,search:Z.search?Z.search.replace(/^\?/,""):"",hash:Z.hash?Z.hash.replace(/^#/,""):"",hostname:Z.hostname,port:Z.port,pathname:"/"===Z.pathname.charAt(0)?Z.pathname:"/"+Z.pathname}}function Wc(b){b=z(b)?Ba(b):b;return b.protocol===gd.protocol&&b.host===gd.host}function Xe(){this.$get=ca(U)}function Cc(b){function a(c,d){if(O(c)){var e={};r(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+
"Filter",d)}this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];a("currency",hd);a("date",id);a("filter",Df);a("json",Ef);a("limitTo",Ff);a("lowercase",Gf);a("number",jd);a("orderBy",kd);a("uppercase",Hf)}function Df(){return function(b,a,c){if(!x(b))return b;var d;switch(typeof a){case "function":break;case "boolean":case "number":case "string":d=!0;case "object":a=If(a,c,d);break;default:return b}return b.filter(a)}}function If(b,a,c){!0===a?a=ga:B(a)||
(a=function(a,b){if(O(a)||O(b))return!1;a=Q(""+a);b=Q(""+b);return-1!==a.indexOf(b)});return function(d){return fb(d,b,a,c)}}function fb(b,a,c,d){var e=typeof b,f=typeof a;if("string"===f&&"!"===a.charAt(0))return!fb(b,a.substring(1),c,d);if("array"===e)return b.some(function(b){return fb(b,a,c,d)});switch(e){case "object":var g;if(d){for(g in b)if("$"!==g.charAt(0)&&fb(b[g],a,c))return!0;return!1}if("object"===f){for(g in a)if(e=a[g],!B(e)&&(f="$"===g,!fb(f?b:b[g],e,c,f)))return!1;return!0}return c(b,
a);case "function":return!1;default:return c(b,a)}}function hd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){C(d)&&(d=a.CURRENCY_SYM);C(e)&&(e=a.PATTERNS[1].maxFrac);return null==b?b:ld(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:ld(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function ld(b,a,c,d,e){if(!isFinite(b)||O(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",k=[],l=!1;if(-1!==g.indexOf("e")){var m=
g.match(/([\d\.]+)e(-?)(\d+)/);m&&"-"==m[2]&&m[3]>e+1?b=0:(h=g,l=!0)}if(l)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(md)[1]||"").length;C(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(md),l=g[0],g=g[1]||"",p=0,q=a.lgSize,t=a.gSize;if(l.length>=q+t)for(p=l.length-q,m=0;m<p;m++)0===(p-m)%t&&0!==m&&(h+=c),h+=l.charAt(m);for(m=p;m<l.length;m++)0===(l.length-m)%q&&0!==m&&(h+=c),h+=l.charAt(m);for(;g.length<
e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}0===b&&(f=!1);k.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf);return k.join("")}function Gb(b,a,c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function V(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Gb(e,a,d)}}function Hb(b,a){return function(c,d){var e=c["get"+b](),f=rb(a?"SHORT"+b:b);return d[f][e]}}function nd(b){var a=(new Date(b,0,1)).getDay();
return new Date(b,0,(4>=a?5:12)-a)}function od(b){return function(a){var c=nd(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))-+c;a=1+Math.round(a/6048E5);return Gb(a,b)}}function id(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=$(b[9]+b[10]),g=$(b[9]+b[11]));h.call(a,$(b[1]),$(b[2])-1,$(b[3]));f=$(b[4]||0)-f;g=$(b[5]||0)-g;h=$(b[6]||0);b=Math.round(1E3*parseFloat("0."+
(b[7]||0)));k.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g="",h=[],k,l;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;z(c)&&(c=Jf.test(c)?$(c):a(c));Y(c)&&(c=new Date(c));if(!pa(c))return c;for(;e;)(l=Kf.exec(e))?(h=Xa(h,l,1),e=h.pop()):(h.push(e),e=null);f&&"UTC"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset()));r(h,function(a){k=Lf[a];g+=k?k(c,b.DATETIME_FORMATS):
a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ef(){return function(b,a){C(a)&&(a=2);return Za(b,a)}}function Ff(){return function(b,a){Y(b)&&(b=b.toString());if(!x(b)&&!z(b))return b;a=Infinity===Math.abs(Number(a))?Number(a):$(a);if(z(b))return a?0<=a?b.slice(0,a):b.slice(a,b.length):"";var c=[],d,e;a>b.length?a=b.length:a<-b.length&&(a=-b.length);0<a?(d=0,e=a):(d=b.length+a,e=b.length);for(;d<e;d++)c.push(b[d]);return c}}function kd(b){return function(a,c,d){function e(a,b){return b?
function(b,c){return a(c,b)}:a}function f(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(c=typeof(a.valueOf?a=a.valueOf():a),d=typeof(b.valueOf?b=b.valueOf():b),c===d&&"object"===c&&(c=typeof(a.toString?a=a.toString():a),d=typeof(b.toString?b=b.toString():b),c===d&&a===b||"object"===c))?0:c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Ra(a))return a;c=x(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(a){var c=!1,d=a||oa;if(z(a)){if("+"==a.charAt(0)||
"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);if(""===a)return e(function(a,b){return f(a,b)},c);d=b(a);if(d.constant){var l=d();return e(function(a,b){return f(a[l],b[l])},c)}}return e(function(a,b){return f(d(a),d(b))},c)});return Ya.call(a).sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Ia(b){B(b)&&(b={link:b});b.restrict=b.restrict||"AC";return ca(b)}function pd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||
Ib;f.$error={};f.$$success={};f.$pending=u;f.$name=e(a.name||a.ngForm||"")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){r(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){La(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&
f[a.$name]===a&&delete f[a.$name];r(f.$pending,function(b,c){f.$setValidity(c,null,a)});r(f.$error,function(b,c){f.$setValidity(c,null,a)});Va(g,a)};qd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Va(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Qa);d.addClass(b,Jb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Qa,Jb+" ng-submitted");
f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;r(g,function(a){a.$setPristine()})};f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,"ng-submitted");f.$submitted=!0;h.$setSubmitted()}}function hc(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function gb(b,a,c,d,e,f){var g=Q(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});a.on("compositionend",function(){h=!1;k()})}var k=function(b){l&&(f.defer.cancel(l),
l=null);if(!h){var e=a.val();b=b&&b.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=P(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",k);else{var l,m=function(a,b,c){l||(l=f.defer(function(){l=null;b&&b.value===c||k(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))a.on("paste cut",m)}a.on("change",k);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?
"":d.$viewValue)}}function Kb(b,a){return function(c,d){var e,f;if(pa(c))return c;if(z(c)){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));if(Mf.test(c))return new Date(c);b.lastIndex=0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,
f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function hb(b,a,c,d){return function(e,f,g,h,k,l,m){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?pa(a)?a:c(a):u}rd(e,f,g,h);gb(e,f,g,h,k,l);var t=h&&h.$options&&h.$options.timezone,s;h.$$parserName=b;h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,s),"UTC"===t&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):u});h.$formatters.push(function(a){if(a&&!pa(a))throw Lb("datefmt",a);if(p(a)){if((s=
a)&&"UTC"===t){var b=6E4*s.getTimezoneOffset();s=new Date(s.getTime()+b)}return m("date")(a,d,t)}s=null;return""});if(y(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!p(a)||C(r)||c(a)>=r};g.$observe("min",function(a){r=q(a);h.$validate()})}if(y(g.max)||g.ngMax){var n;h.$validators.max=function(a){return!p(a)||C(n)||c(a)<=n};g.$observe("max",function(a){n=q(a);h.$validate()})}}}function rd(b,a,c,d){(d.$$hasNativeValidators=O(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||
{};return c.badInput&&!c.typeMismatch?u:b})}function sd(b,a,c,d,e){if(y(d)){b=b(d);if(!b.constant)throw A("ngModel")("constexpr",c,d);return b(a)}return e}function qd(b){function a(a,b){b&&!f[a]?(l.addClass(e,a),f[a]=!0):!b&&f[a]&&(l.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+Pb(b,"-"):"";a(ib+b,!0===c);a(td+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,k=b.parentForm,l=b.$animate;f[td]=!(f[ib]=e.hasClass(ib));d.$setValidity=function(b,e,f){e===u?(d.$pending||(d.$pending={}),g(d.$pending,
b,f)):(d.$pending&&h(d.$pending,b,f),ud(d.$pending)&&(d.$pending=u));Ua(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f));d.$pending?(a(vd,!0),d.$valid=d.$invalid=u,c("",null)):(a(vd,!1),d.$valid=ud(d.$error),d.$invalid=!d.$valid,c("",d.$valid));e=d.$pending&&d.$pending[b]?u:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);k.$setValidity(b,e,d)}}function ud(b){if(b)for(var a in b)return!1;return!0}function ic(b,a){b="ngClass"+b;return["$animate",
function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){if(!x(a)){if(z(a))return a.split(" ");if(O(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}}return a}return{restrict:"AC",link:function(f,g,h){function k(a,b){var c=g.data("$classCounts")||{},d=[];r(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function l(b){if(!0===
a||f.$index%2===a){var l=e(b||[]);if(!m){var t=k(l,1);h.$addClass(t)}else if(!ga(b,m)){var s=e(m),t=d(l,s),l=d(s,l),t=k(t,1),l=k(l,-1);t&&t.length&&c.addClass(g,t);l&&l.length&&c.removeClass(g,l)}}m=qa(b)}var m;f.$watch(h[b],l,!0);h.$observe("class",function(a){l(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var l=e(f.$eval(h[b]));g===a?(g=k(l,1),h.$addClass(g)):(g=k(l,-1),h.$removeClass(g))}})}}}]}var Nf=/^\/(.+)\/([a-z]*)$/,Q=function(b){return z(b)?b.toLowerCase():
b},rc=Object.prototype.hasOwnProperty,rb=function(b){return z(b)?b.toUpperCase():b},Pa,D,ra,Ya=[].slice,rf=[].splice,Of=[].push,Ja=Object.prototype.toString,Wa=A("ng"),ha=U.angular||(U.angular={}),ab,kb=0;Pa=X.documentMode;H.$inject=[];oa.$inject=[];var x=Array.isArray,P=function(b){return z(b)?b.trim():b},ed=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},$a=function(){if(y($a.isActive_))return $a.isActive_;var b=!(!X.querySelector("[ng-csp]")&&!X.querySelector("[data-ng-csp]"));
if(!b)try{new Function("")}catch(a){b=!0}return $a.isActive_=b},ob=["ng-","data-ng-","ng:","x-ng-"],Kd=/[A-Z]/g,tc=!1,Qb,na=1,mb=3,Od={full:"1.3.6",major:1,minor:3,dot:6,codeName:"robofunky-danceblaster"};R.expando="ng339";var wb=R.cache={},ff=1;R._data=function(b){return this.cache[b[this.expando]]||{}};var af=/([\:\-\_]+(.))/g,bf=/^moz([A-Z])/,Pf={mouseleave:"mouseout",mouseenter:"mouseover"},Tb=A("jqLite"),ef=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sb=/<|&#?\w+;/,cf=/<([\w:]+)/,df=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var Ka=R.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===X.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),R(U).on("load",a))},
toString:function(){var b=[];r(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=b?D(this[b]):D(this[this.length+b])},length:0,push:Of,sort:[].sort,splice:[].splice},Bb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){Bb[Q(b)]=b});var Lc={};r("input select option textarea button form details".split(" "),function(b){Lc[b]=!0});var Mc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};
r({data:Vb,removeData:ub},function(b,a){R[a]=b});r({data:Vb,inheritedData:Ab,scope:function(b){return D.data(b,"$scope")||Ab(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return D.data(b,"$isolateScope")||D.data(b,"$isolateScopeNoTemplate")},controller:Hc,injector:function(b){return Ab(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:xb,css:function(b,a,c){a=bb(a);if(y(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=Q(a);if(Bb[d])if(y(c))c?
(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||H).specified?d:u;else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?u:b},prop:function(b,a,c){if(y(c))b[a]=c;else return b[a]},text:function(){function b(a,b){if(C(b)){var d=a.nodeType;return d===na||d===mb?a.textContent:""}a.textContent=b}b.$dv="";return b}(),val:function(b,a){if(C(a)){if(b.multiple&&"select"===ua(b)){var c=[];r(b.options,function(a){a.selected&&
c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(C(a))return b.innerHTML;tb(b,!0);b.innerHTML=a},empty:Ic},function(b,a){R.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Ic&&(2==b.length&&b!==xb&&b!==Hc?a:d)===u){if(O(a)){for(e=0;e<g;e++)if(b===Vb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===u?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});
r({removeData:ub,on:function a(c,d,e,f){if(y(f))throw Tb("onargs");if(Dc(c)){var g=vb(c,!0);f=g.events;var h=g.handle;h||(h=g.handle=jf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],k=g.length;k--;){d=g[k];var l=f[d];l||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Pf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),l=f[d]);l.push(e)}}},off:Gc,one:function(a,c,d){a=D(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,
d)},replaceWith:function(a,c){var d,e=a.parentNode;tb(a);r(new R(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a);d=c})},children:function(a){var c=[];r(a.childNodes,function(a){a.nodeType===na&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===na||11===d){c=new R(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===na){var d=a.firstChild;r(new R(c),function(c){a.insertBefore(c,
d)})}},wrap:function(a,c){c=D(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},remove:Jc,detach:function(a){Jc(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new R(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);d=h}},addClass:zb,removeClass:yb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;C(f)&&(f=!xb(a,c));(f?zb:yb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},
find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ub,triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=vb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:H,type:g,target:a},c.type&&(e=G(e,
c)),c=qa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,f)})}},function(a,c){R.prototype[c]=function(c,e,f){for(var g,h=0,k=this.length;h<k;h++)C(g)?(g=a(this[h],c,e,f),y(g)&&(g=D(g))):Fc(g,a(this[h],c,e,f));return y(g)?g:this};R.prototype.bind=R.prototype.on;R.prototype.unbind=R.prototype.off});cb.prototype={put:function(a,c){this[Ma(a,this.nextUid)]=c},get:function(a){return this[Ma(a,this.nextUid)]},remove:function(a){var c=this[a=Ma(a,this.nextUid)];delete this[a];
return c}};var Oc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,lf=/,/,mf=/^\s*(_?)(\S+?)\1\s*$/,Nc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Fa=A("$injector");Ob.$$annotate=Wb;var Qf=A("$animate"),Ae=["$provide",function(a){this.$$selectors={};this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Qf("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};
this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=ia();r((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0});r(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function k(){m||
(m=a.defer(),d(function(){m.resolve();m=null}));return m.promise}function l(a,c){if(ha.isObject(c)){var d=G(c.from||{},c.to||{});a.css(d)}}var m;return{animate:function(a,c,d){l(a,{from:c,to:d});return k()},enter:function(a,c,d,e){l(a,e);d?d.after(a):c.prepend(a);return k()},leave:function(a,c){a.remove();return k()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){a=D(a);c=z(c)?c:x(c)?c.join(" "):"";
r(a,function(a){zb(a,c)});l(a,d);return k()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=D(a);c=z(c)?c:x(c)?c.join(" "):"";r(a,function(a){yb(a,c)});l(a,d);return k()},setClass:function(a,c,d,e){var k=this,l=!1;a=D(a);var m=a.data("$$animateClasses");m?e&&m.options&&(m.options=ha.extend(m.options||{},e)):(m={classes:{},options:e},l=!0);e=m.classes;c=x(c)?c:c.split(" ");d=x(d)?d:d.split(" ");h(e,c,!0);h(e,d,!1);l&&(m.promise=f(function(c){var d=
a.data("$$animateClasses");a.removeData("$$animateClasses");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",m));return m.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,c);d&&this.$$removeClassImmediately(a,d);l(a,e);return k()},enabled:H,cancel:H}}]}],ka=A("$compile");vc.$inject=["$provide","$$sanitizeUriProvider"];var qf=/^((?:x|data)[\:\-_])/i,Sc="application/json",Zb={"Content-Type":Sc+";charset=utf-8"},
tf=/^\s*(\[|\{[^\{])/,uf=/[\}\]]\s*$/,sf=/^\)\]\}',?\n/,$b=A("$interpolate"),Rf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xf={http:80,https:443,ftp:21},Eb=A("$location"),Sf={$$html5:!1,$$replace:!1,absUrl:Fb("$$absUrl"),url:function(a){if(C(a))return this.$$url;var c=Rf.exec(a);(c[1]||""===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||""===a)&&this.search(c[3]||"");this.hash(c[5]||"");return this},protocol:Fb("$$protocol"),host:Fb("$$host"),port:Fb("$$port"),path:ad("$$path",function(a){a=null!==a?
a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(z(a)||Y(a))a=a.toString(),this.$$search=qc(a);else if(O(a))a=Da(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=a;else throw Eb("isrcharg");break;default:C(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:ad("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};
r([$c,dc,cc],function(a){a.prototype=Object.create(Sf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==cc||!this.$$html5)throw Eb("nostate");this.$$state=C(c)?null:c;return this}});var la=A("$parse"),Tf=Function.prototype.call,Uf=Function.prototype.apply,Vf=Function.prototype.bind,Mb=ia();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0;Mb[c]=a});Mb["this"]=
function(a){return a};Mb["this"].sharedGetter=!0;var jb=G(ia(),{"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return y(d)?y(e)?d+e:d:y(e)?e:u},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,
c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"!":function(a,c,d){return!d(a,c)},"=":!0,"|":!0}),Wf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},gc=function(a){this.options=a};gc.prototype={constructor:gc,lex:function(a){this.text=a;this.index=0;for(this.tokens=
[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=jb[c],f=jb[d];jb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=
a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===
a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw la("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=Q(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||
e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=
this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Wf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,constant:!0,value:d});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var eb=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};eb.ZERO=G(function(){return 0},
{sharedGetter:!0,constant:!0});eb.prototype={constructor:eb,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);a.literal=!!a.literal;a.constant=!!a.constant;return a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier?a=this.identifier():this.peek().constant?a=
this.constant():this.throwError("not a primary expression",this.peek());for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw la("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw la("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,
e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw la("ueoe",this.text);var c=this.expect(a);c||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return c},unaryFn:function(a,c){var d=jb[a];return G(function(a,f){return d(a,
f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=jb[c];return G(function(c,e){return f(c,e,a,d)},{constant:a.constant&&d.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return Mb[a]||cd(a,this.options,this.text)},constant:function(){var a=this.consume().value;return G(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=
[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var c=this.$filter(this.consume().text),d,e;if(this.peek(":"))for(d=[],e=[];this.expect(":");)d.push(this.expression());var f=[a].concat(d||[]);return G(function(f,h){var k=a(f,h);if(e){e[0]=
k;for(k=d.length;k--;)e[k+1]=d[k](f,h);return c.apply(u,e)}return c(k)},{constant:!c.$stateful&&f.every(ec),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),G(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var a=this.logicalOR(),c;if(this.expect("?")&&
(c=this.assignment(),this.consume(":"))){var d=this.assignment();return G(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},logicalOR:function(){for(var a=this.logicalAND(),c;c=this.expect("||");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var a=this.equality(),c;c=this.expect("&&");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var a=this.relational(),c;c=this.expect("==","!=",
"===","!==");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var a=this.additive(),c;c=this.expect("<",">","<=",">=");)a=this.binaryFn(a,c.text,this.additive());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect("+")?
this.primary():(a=this.expect("-"))?this.binaryFn(eb.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=this.text,d=this.consume().text,e=cd(d,this.options,c);return G(function(c,d,h){return e(h||a(c,d))},{assign:function(e,g,h){(h=a(e,h))||a.assign(e,h={});return Na(h,d,g,c)}})},objectIndex:function(a){var c=this.text,d=this.expression();this.consume("]");return G(function(e,f){var g=a(e,f),h=d(e,f);sa(h,c);return g?ta(g[h],
c):u},{assign:function(e,f,g){var h=sa(d(e,g),c);(g=ta(a(e,g),c))||a.assign(e,g={});return g[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());while(this.expect(","))}this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var k=c?c(g,h):y(c)?u:g,l=a(g,h,k)||H;if(f)for(var m=d.length;m--;)f[m]=ta(d[m](g,h),e);ta(k,e);if(l){if(l.constructor===l)throw la("isecfn",e);if(l===Tf||l===Uf||l===Vf)throw la("isecff",e);}k=l.apply?l.apply(k,
f):l(f[0],f[1],f[2],f[3],f[4]);return ta(k,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return G(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(ec),inputs:a})},object:function(){var a=[],c=[];if("}"!==this.peekToken().text){do{if(this.peek("}"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):
this.throwError("invalid key",d);this.consume(":");c.push(this.expression())}while(this.expect(","))}this.consume("}");return G(function(d,f){for(var g={},h=0,k=c.length;h<k;h++)g[a[h]]=c[h](d,f);return g},{literal:!0,constant:c.every(ec),inputs:c})}};var Af=ia(),zf=ia(),Bf=Object.prototype.valueOf,Ca=A("$sce"),ma={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ka=A("$compile"),Z=X.createElement("a"),gd=Ba(U.location.href);Cc.$inject=["$provide"];hd.$inject=["$locale"];jd.$inject=
["$locale"];var md=".",Lf={yyyy:V("FullYear",4),yy:V("FullYear",2,0,!0),y:V("FullYear",1),MMMM:Hb("Month"),MMM:Hb("Month",!0),MM:V("Month",2,1),M:V("Month",1,1),dd:V("Date",2),d:V("Date",1),HH:V("Hours",2),H:V("Hours",1),hh:V("Hours",2,-12),h:V("Hours",1,-12),mm:V("Minutes",2),m:V("Minutes",1),ss:V("Seconds",2),s:V("Seconds",1),sss:V("Milliseconds",3),EEEE:Hb("Day"),EEE:Hb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=
a?"+":"")+(Gb(Math[0<a?"floor":"ceil"](a/60),2)+Gb(Math.abs(a%60),2))},ww:od(2),w:od(1)},Kf=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Jf=/^\-?\d+$/;id.$inject=["$locale"];var Gf=ca(Q),Hf=ca(rb);kd.$inject=["$parse"];var Rd=ca({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){var f="[object SVGAnimatedString]"===Ja.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}),sb=
{};r(Bb,function(a,c){if("multiple"!=a){var d=wa("ng-"+c);sb[d]=function(){return{restrict:"A",priority:100,link:function(a,f,g){a.$watch(g[d],function(a){g.$set(c,!!a)})}}}}});r(Mc,function(a,c){sb[c]=function(){return{priority:100,link:function(a,e,f){if("ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Nf))){f.$set("ngPattern",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});r(["src","srcset","href"],function(a){var c=wa("ng-"+a);sb[c]=function(){return{priority:99,
link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ja.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null);f.$observe(c,function(c){c?(f.$set(h,c),Pa&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Ib={$addControl:H,$$renameControl:function(a,c){a.$name=c},$removeControl:H,$setValidity:H,$setDirty:H,$setPristine:H,$setSubmitted:H};pd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var wd=function(a){return["$timeout",function(c){return{name:"form",
restrict:a?"EAC":"E",controller:pd,compile:function(a){a.addClass(Qa).addClass(ib);return{pre:function(a,d,g,h){if(!("action"in g)){var k=function(c){a.$apply(function(){h.$commitViewValue();h.$setSubmitted()});c.preventDefault()};d[0].addEventListener("submit",k,!1);d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",k,!1)},0,!1)})}var l=h.$$parentForm,m=h.$name;m&&(Na(a,m,h,m),g.$observe(g.name?"name":"ngForm",function(c){m!==c&&(Na(a,m,u,m),m=c,Na(a,m,h,m),l.$$renameControl(h,
m))}));d.on("$destroy",function(){l.$removeControl(h);m&&Na(a,m,u,m);G(h,Ib)})}}}}}]},Sd=wd(),ee=wd(!0),Mf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Xf=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Yf=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Zf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,xd=/^(\d{4})-(\d{2})-(\d{2})$/,yd=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
jc=/^(\d{4})-W(\d\d)$/,zd=/^(\d{4})-(\d\d)$/,Ad=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,$f=/(\s+|^)default(\s+|$)/,Lb=new A("ngModel"),Bd={text:function(a,c,d,e,f,g){gb(a,c,d,e,f,g);hc(e)},date:hb("date",xd,Kb(xd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":hb("datetimelocal",yd,Kb(yd,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:hb("time",Ad,Kb(Ad,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:hb("week",jc,function(a,c){if(pa(a))return a;if(z(a)){jc.lastIndex=0;var d=
jc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,k=0,l=nd(e),f=7*(f-1);c&&(d=c.getHours(),g=c.getMinutes(),h=c.getSeconds(),k=c.getMilliseconds());return new Date(e,0,l.getDate()+f,d,g,h,k)}}return NaN},"yyyy-Www"),month:hb("month",zd,Kb(zd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){rd(a,c,d,e);gb(a,c,d,e,f,g);e.$$parserName="number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:Zf.test(a)?parseFloat(a):u});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!Y(a))throw Lb("numfmt",
a);a=a.toString()}return a});if(d.min||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||C(h)||a>=h};d.$observe("min",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));h=Y(a)&&!isNaN(a)?a:u;e.$validate()})}if(d.max||d.ngMax){var k;e.$validators.max=function(a){return e.$isEmpty(a)||C(k)||a<=k};d.$observe("max",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));k=Y(a)&&!isNaN(a)?a:u;e.$validate()})}},url:function(a,c,d,e,f,g){gb(a,c,d,e,f,g);hc(e);e.$$parserName="url";e.$validators.url=function(a,
c){var d=a||c;return e.$isEmpty(d)||Xf.test(d)}},email:function(a,c,d,e,f,g){gb(a,c,d,e,f,g);hc(e);e.$$parserName="email";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||Yf.test(d)}},radio:function(a,c,d,e){C(d.name)&&c.attr("name",++kb);c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,k){var l=sd(k,a,"ngTrueValue",d.ngTrueValue,!0),
m=sd(k,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&a.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ga(a,l)});e.$parsers.push(function(a){return a?l:m})},hidden:H,button:H,submit:H,reset:H,file:H},wc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,k){k[0]&&(Bd[Q(h.type)]||Bd.text)(f,g,h,k[0],
c,a,d,e)}}}}],ib="ng-valid",td="ng-invalid",Qa="ng-pristine",Jb="ng-dirty",vd="ng-pending",ag=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,k,l,m){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=u;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=
!1;this.$error={};this.$$success={};this.$pending=u;this.$name=m(d.name||"",!1)(a);var p=f(d.ngModel),q=p.assign,t=p,s=q,N=null,n=this;this.$$setOptions=function(a){if((n.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");t=function(a){var d=p(a);B(d)&&(d=c(a));return d};s=function(a,c){B(p(a))?g(a,{$$$p:n.$modelValue}):q(a,n.$modelValue)}}else if(!p.assign)throw Lb("nonassign",d.ngModel,va(e));};this.$render=H;this.$isEmpty=function(a){return C(a)||""===a||null===a||a!==
a};var v=e.inheritedData("$formController")||Ib,w=0;qd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:v,$animate:g});this.$setPristine=function(){n.$dirty=!1;n.$pristine=!0;g.removeClass(e,Jb);g.addClass(e,Qa)};this.$setDirty=function(){n.$dirty=!0;n.$pristine=!1;g.removeClass(e,Qa);g.addClass(e,Jb);v.$setDirty()};this.$setUntouched=function(){n.$touched=!1;n.$untouched=!0;g.setClass(e,"ng-untouched","ng-touched")};this.$setTouched=function(){n.$touched=
!0;n.$untouched=!1;g.setClass(e,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){h.cancel(N);n.$viewValue=n.$$lastCommittedViewValue;n.$render()};this.$validate=function(){if(!Y(n.$modelValue)||!isNaN(n.$modelValue)){var a=n.$$rawModelValue,c=n.$valid,d=n.$modelValue,e=n.$options&&n.$options.allowInvalid;n.$$runValidators(n.$error[n.$$parserName||"parse"]?!1:u,a,n.$$lastCommittedViewValue,function(f){e||c===f||(n.$modelValue=f?a:u,n.$modelValue!==d&&n.$$writeModelToScope())})}};this.$$runValidators=
function(a,c,d,e){function f(){var a=!0;r(n.$validators,function(e,f){var g=e(c,d);a=a&&g;h(f,g)});return a?!0:(r(n.$asyncValidators,function(a,c){h(c,null)}),!1)}function g(){var a=[],e=!0;r(n.$asyncValidators,function(f,g){var k=f(c,d);if(!k||!B(k.then))throw Lb("$asyncValidators",k);h(g,u);a.push(k.then(function(){h(g,!0)},function(a){e=!1;h(g,!1)}))});a.length?l.all(a).then(function(){k(e)},H):k(!0)}function h(a,c){m===w&&n.$setValidity(a,c)}function k(a){m===w&&e(a)}w++;var m=w;(function(a){var c=
n.$$parserName||"parse";if(a===u)h(c,null);else if(h(c,a),!a)return r(n.$validators,function(a,c){h(c,null)}),r(n.$asyncValidators,function(a,c){h(c,null)}),!1;return!0})(a)?f()?g():k(!1):k(!1)};this.$commitViewValue=function(){var a=n.$viewValue;h.cancel(N);if(n.$$lastCommittedViewValue!==a||""===a&&n.$$hasNativeValidators)n.$$lastCommittedViewValue=a,n.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=n.$$lastCommittedViewValue,d=C(c)?u:!0;if(d)for(var e=
0;e<n.$parsers.length;e++)if(c=n.$parsers[e](c),C(c)){d=!1;break}Y(n.$modelValue)&&isNaN(n.$modelValue)&&(n.$modelValue=t(a));var f=n.$modelValue,g=n.$options&&n.$options.allowInvalid;n.$$rawModelValue=c;g&&(n.$modelValue=c,n.$modelValue!==f&&n.$$writeModelToScope());n.$$runValidators(d,c,n.$$lastCommittedViewValue,function(a){g||(n.$modelValue=a?c:u,n.$modelValue!==f&&n.$$writeModelToScope())})};this.$$writeModelToScope=function(){s(a,n.$modelValue);r(n.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};
this.$setViewValue=function(a,c){n.$viewValue=a;n.$options&&!n.$options.updateOnDefault||n.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=n.$options;e&&y(e.debounce)&&(e=e.debounce,Y(e)?d=e:Y(e[c])?d=e[c]:Y(e["default"])&&(d=e["default"]));h.cancel(N);d?N=h(function(){n.$commitViewValue()},d):k.$$phase?n.$commitViewValue():a.$apply(function(){n.$commitViewValue()})};a.$watch(function(){var c=t(a);if(c!==n.$modelValue){n.$modelValue=n.$$rawModelValue=c;for(var d=
n.$formatters,e=d.length,f=c;e--;)f=d[e](f);n.$viewValue!==f&&(n.$viewValue=n.$$lastCommittedViewValue=f,n.$render(),n.$$runValidators(u,c,f,H))}return c})}],te=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ag,priority:1,compile:function(c){c.addClass(Qa).addClass("ng-untouched").addClass(ib);return{pre:function(a,c,f,g){var h=g[0],k=g[1]||Ib;h.$$setOptions(g[2]&&g[2].$options);k.$addControl(h);f.$observe("name",function(a){h.$name!==a&&k.$$renameControl(h,
a)});a.$on("$destroy",function(){k.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],ve=ca({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),yc=function(){return{restrict:"A",require:"?ngModel",link:function(a,
c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},xc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){z(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw A("ngPattern")("noregexp",g,a,va(c));f=a||u;e.$validate()});e.$validators.pattern=function(a){return e.$isEmpty(a)||C(f)||f.test(a)}}}}},Ac=function(){return{restrict:"A",
require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=$(a);f=isNaN(a)?-1:a;e.$validate()});e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(a)||c.length<=f}}}}},zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=$(a)||0;e.$validate()});e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}},ue=function(){return{restrict:"A",priority:100,require:"ngModel",
link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?P(f):f;e.$parsers.push(function(a){if(!C(a)){var c=[];a&&r(a.split(h),function(a){a&&c.push(g?P(a):a)});return c}});e.$formatters.push(function(a){return x(a)?a.join(f):u});e.$isEmpty=function(a){return!a||!a.length}}}},bg=/^(true|false|\d+)$/,we=function(){return{restrict:"A",priority:100,compile:function(a,c){return bg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,
function(a){f.$set("value",a)})}}}},xe=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions);this.$options.updateOn!==u?(this.$options.updateOnDefault=!1,this.$options.updateOn=P(this.$options.updateOn.replace($f,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},Xd=["$compile",function(a){return{restrict:"AC",compile:function(c){a.$$addBindingClass(c);return function(c,e,f){a.$$addBindingInfo(e,
f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===u?"":a})}}}}],Zd=["$interpolate","$compile",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));c.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe("ngBindTemplate",function(a){f.textContent=a===u?"":a})}}}}],Yd=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});
d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],$d=ic("",!0),be=ic("Odd",0),ae=ic("Even",1),ce=Ia({compile:function(a,c){c.$set("ngCloak",u);a.removeClass("ng-cloak")}}),de=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Bc={},cg={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var c=wa("ng-"+a);Bc[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};cg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ge=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,k,l;c.$watch(e.ngIf,function(c){c?k||g(function(c,f){k=f;c[c.length++]=X.createComment(" end ngIf: "+
e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=qb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],he=["$templateRequest","$anchorScroll","$animate","$sce",function(a,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ha.noop,compile:function(f,g){var h=g.ngInclude||g.src,k=g.onload||"",l=g.autoscroll;return function(f,g,q,r,s){var u=0,n,v,w,K=function(){v&&(v.remove(),v=null);n&&(n.$destroy(),
n=null);w&&(d.leave(w).then(function(){v=null}),v=w,w=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!y(l)||l&&!f.$eval(l)||c()},q=++u;e?(a(e,!0).then(function(a){if(q===u){var c=f.$new();r.template=a;a=s(c,function(a){K();d.enter(a,null,g).then(h)});n=c;w=a;n.$emit("$includeContentLoaded",e);f.$eval(k)}},function(){q===u&&(K(),f.$emit("$includeContentError",e))}),f.$emit("$includeContentRequested",e)):(K(),r.template=null)})}}}}],ye=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Ec(f.template,X).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ie=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),je=Ia({terminal:!0,priority:1E3}),ke=["$locale","$interpolate",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,g,h){function k(a){g.text(a||"")}var l=
h.count,m=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(m)||{},t={},m=c.startSymbol(),s=c.endSymbol(),u=m+l+"-"+p+s,n=ha.noop,v;r(h,function(a,c){var d=e.exec(c);d&&(d=(d[1]?"-":"")+Q(d[2]),q[d]=g.attr(h.$attr[c]))});r(q,function(a,e){t[e]=c(a.replace(d,u))});f.$watch(l,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p));c===v||d&&isNaN(v)||(n(),n=f.$watch(t[c],k),v=c)})}}}],le=["$parse","$animate",function(a,c){var d=A("ngRepeat"),e=function(a,c,d,e,l,m,p){a[d]=
e;l&&(a[l]=m);a.$index=c;a.$first=0===c;a.$last=c===p-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(c&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=X.createComment(" end ngRepeat: "+h+" "),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw d("iexp",h);var m=l[1],p=l[2],q=l[3],t=l[4],l=m.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);
if(!l)throw d("iidexp",m);var s=l[3]||l[1],y=l[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(q)))throw d("badident",q);var n,v,w,A,E={$id:Ma};t?n=a(t):(w=function(a,c){return Ma(c)},A=function(a){return a});return function(a,f,g,l,m){n&&(v=function(c,d,e){y&&(E[y]=c);E[s]=d;E.$index=e;return n(a,E)});var t=ia();a.$watchCollection(p,function(g){var l,n,p=f[0],F,E=ia(),C,H,G,T,B,x,z;q&&(a[q]=g);if(Ra(g))B=g,n=v||
w;else{n=v||A;B=[];for(z in g)g.hasOwnProperty(z)&&"$"!=z.charAt(0)&&B.push(z);B.sort()}C=B.length;z=Array(C);for(l=0;l<C;l++)if(H=g===B?l:B[l],G=g[H],T=n(H,G,l),t[T])x=t[T],delete t[T],E[T]=x,z[l]=x;else{if(E[T])throw r(z,function(a){a&&a.scope&&(t[a.id]=a)}),d("dupes",h,T,G);z[l]={id:T,scope:u,clone:u};E[T]=!0}for(F in t){x=t[F];T=qb(x.clone);c.leave(T);if(T[0].parentNode)for(l=0,n=T.length;l<n;l++)T[l].$$NG_REMOVED=!0;x.scope.$destroy()}for(l=0;l<C;l++)if(H=g===B?l:B[l],G=g[H],x=z[l],x.scope){F=
p;do F=F.nextSibling;while(F&&F.$$NG_REMOVED);x.clone[0]!=F&&c.move(qb(x.clone),null,D(p));p=x.clone[x.clone.length-1];e(x.scope,l,s,G,y,H,C)}else m(function(a,d){x.scope=d;var f=k.cloneNode(!1);a[a.length++]=f;c.enter(a,null,D(p));p=f;x.clone=a;E[x.id]=x;e(x.scope,l,s,G,y,H,C)});t=E})}}}}],me=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],fe=["$animate",
function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ne=Ia(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")});a&&c.css(a)},!0)}),oe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],k=[],l=[],m=function(a,c){return function(){a.splice(c,
1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=k.length;d<e;++d)a.cancel(k[d]);d=k.length=0;for(e=l.length;d<e;++d){var s=qb(h[d].clone);l[d].$destroy();(k[d]=a.leave(s)).then(m(k,d))}h.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=X.createComment(" end ngSwitchWhen: ");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],pe=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,
link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),qe=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),se=Ia({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw A("ngTransclude")("orphan",va(c));f(function(a){c.empty();c.append(a)})}}),Td=["$templateCache",function(a){return{restrict:"E",
terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],dg=A("ngOptions"),re=ca({restrict:"A",terminal:!0}),Ud=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:H};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,
c,d){var k=this,l={},m=e,p;k.databound=d.ngModel;k.init=function(a,c,d){m=a;p=d};k.addOption=function(c,d){La(c,'"option value"');l[c]=!0;m.$viewValue==c&&(a.val(c),p.parent()&&p.remove());d&&d[0].hasAttribute("selected")&&(d[0].selected=!0)};k.removeOption=function(a){this.hasOption(a)&&(delete l[a],m.$viewValue===a&&this.renderUnknownOption(a))};k.renderUnknownOption=function(c){c="? "+Ma(c)+" ?";p.val(c);a.prepend(p);a.val(c);p.prop("selected",!0)};k.hasOption=function(a){return l.hasOwnProperty(a)};
c.$on("$destroy",function(){k.renderUnknownOption=H})}],link:function(e,g,h,k){function l(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(E.parent()&&E.remove(),c.val(a),""===a&&n.prop("selected",!0)):C(a)&&n?c.val(""):e.renderUnknownOption(a)};c.on("change",function(){a.$apply(function(){E.parent()&&E.remove();d.$setViewValue(c.val())})})}function m(a,c,d){var e;d.$render=function(){var a=new cb(d.$viewValue);r(c.find("option"),function(c){c.selected=y(a.get(c.value))})};a.$watch(function(){ga(e,
d.$viewValue)||(e=qa(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){U[B]=d;G&&(U[G]=c);return a(e,U)}function k(a){var c;if(t)if(L&&x(a)){c=new cb([]);for(var d=0;d<a.length;d++)c.put(h(L,null,a[d]),!0)}else c=new cb(a);else L&&(a=h(L,null,a));return function(d,e){var f;f=L?L:C?C:z;return t?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function l(){v||(e.$$postDigest(n),
v=!0)}function m(a,c,d){a[c]=a[c]||0;a[c]+=d?1:-1}function n(){v=!1;var a={"":[]},c=[""],d,l,p,s,u;p=g.$viewValue;s=O(e)||[];var C=G?Object.keys(s).sort():s,x,B,D,z,S={};u=k(p);var P=!1,V,X;Q={};for(z=0;D=C.length,z<D;z++){x=z;if(G&&(x=C[z],"$"===x.charAt(0)))continue;B=s[x];d=h(J,x,B)||"";(l=a[d])||(l=a[d]=[],c.push(d));d=u(x,B);P=P||d;B=h(E,x,B);B=y(B)?B:"";X=L?L(e,U):G?C[z]:z;L&&(Q[X]=x);l.push({id:X,label:B,selected:d})}t||(A||null===p?a[""].unshift({id:"",label:"",selected:!P}):P||a[""].unshift({id:"?",
label:"",selected:!0}));x=0;for(C=c.length;x<C;x++){d=c[x];l=a[d];R.length<=x?(p={element:H.clone().attr("label",d),label:l.label},s=[p],R.push(s),f.append(p.element)):(s=R[x],p=s[0],p.label!=d&&p.element.attr("label",p.label=d));P=null;z=0;for(D=l.length;z<D;z++)d=l[z],(u=s[z+1])?(P=u.element,u.label!==d.label&&(m(S,u.label,!1),m(S,d.label,!0),P.text(u.label=d.label),P.prop("label",u.label)),u.id!==d.id&&P.val(u.id=d.id),P[0].selected!==d.selected&&(P.prop("selected",u.selected=d.selected),Pa&&P.prop("selected",
u.selected))):(""===d.id&&A?V=A:(V=w.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),s.push(u={element:V,label:d.label,id:d.id,selected:d.selected}),m(S,d.label,!0),P?P.after(V):p.element.append(V),P=V);for(z++;s.length>z;)d=s.pop(),m(S,d.label,!1),d.element.remove()}for(;R.length>x;){l=R.pop();for(z=1;z<l.length;++z)m(S,l[z].label,!1);l[0].element.remove()}r(S,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var p;if(!(p=s.match(d)))throw dg("iexp",
s,va(f));var E=c(p[2]||p[1]),B=p[4]||p[6],D=/ as /.test(p[0])&&p[1],C=D?c(D):null,G=p[5],J=c(p[3]||""),z=c(p[2]?p[1]:B),O=c(p[7]),L=p[8]?c(p[8]):null,Q={},R=[[{element:f,label:""}]],U={};A&&(a(A)(e),A.removeClass("ng-scope"),A.remove());f.empty();f.on("change",function(){e.$apply(function(){var a=O(e)||[],c;if(t)c=[],r(f.val(),function(d){d=L?Q[d]:d;c.push("?"===d?u:""===d?null:h(C?C:z,d,a[d]))});else{var d=L?Q[f.val()]:f.val();c="?"===d?u:""===d?null:h(C?C:z,d,a[d])}g.$setViewValue(c);n()})});g.$render=
n;e.$watchCollection(O,l);e.$watchCollection(function(){var a=O(e),c;if(a&&x(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(E,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(E,d,a[d]));return c},l);t&&e.$watchCollection(function(){return g.$modelValue},l)}if(k[1]){var q=k[0];k=k[1];var t=h.multiple,s=h.ngOptions,A=!1,n,v=!1,w=D(X.createElement("option")),H=D(X.createElement("optgroup")),E=w.clone();h=0;for(var B=g.children(),G=B.length;h<G;h++)if(""===B[h].value){n=A=B.eq(h);
break}q.init(k,A,E);t&&(k.$isEmpty=function(a){return!a||0===a.length});s?p(e,g,k):t?m(e,g,k):l(e,g,k,q)}}}}],Wd=["$interpolate",function(a){var c={addOption:H,removeOption:H};return{restrict:"E",priority:100,compile:function(d,e){if(C(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var l=d.parent(),m=l.data("$selectController")||l.parent().data("$selectController");m&&m.databound||(m=c);f?a.$watch(f,function(a,c){e.$set("value",a);c!==a&&m.removeOption(c);m.addOption(a,
d)}):m.addOption(e.value,d);d.on("$destroy",function(){m.removeOption(e.value)})}}}}],Vd=ca({restrict:"E",terminal:!1});U.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Ld(),Nd(ha),D(X).ready(function(){Hd(X,sc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
//# sourceMappingURL=angular.min.js.map

; browserify_shim__define__module__export__(typeof angular != "undefined" ? angular : window.angular);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"D:\\famous-calendar\\famous-calendar\\bower_components\\famous-angular\\dist\\famous-angular.min.js":[function(require,module,exports){
(function (global){

; require("famous-polyfills");
require("D:\\famous-calendar\\famous-calendar\\bower_components\\famous\\dist\\famous-global.min.js");
require("D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js");
require("D:\\famous-calendar\\famous-calendar\\bower_components\\angular-animate\\angular-animate.min.js");
require("D:\\famous-calendar\\famous-calendar\\bower_components\\angular-sanitize\\angular-sanitize.min.js");
require("D:\\famous-calendar\\famous-calendar\\bower_components\\angular-ui-router\\release\\angular-ui-router.min.js");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
/**
 * famous-angular - Bring structure to your Famo.us apps with the power of AngularJS. Famo.us/Angular integrates seamlessly with existing Angular and Famo.us apps.
 * @version v0.5.0
 * @link https://github.com/Famous/famous-angular
 * @license MPL v2.0
 */
"use strict";var ngFameApp=angular.module("famous.angular",[]);ngFameApp.provider("$famous",function(){var e={"famous/core/Context":famous.core.Context,"famous/core/ElementAllocator":famous.core.ElementAllocator,"famous/core/Engine":famous.core.Engine,"famous/core/Entity":famous.core.Entity,"famous/core/EventEmitter":famous.core.EventEmitter,"famous/core/EventHandler":famous.core.EventHandler,"famous/core/Group":famous.core.Group,"famous/core/Modifier":famous.core.Modifier,"famous/core/OptionsManager":famous.core.OptionsManager,"famous/core/RenderNode":famous.core.RenderNode,"famous/core/Scene":famous.core.Scene,"famous/core/SpecParser":famous.core.SpecParser,"famous/core/Surface":famous.core.Surface,"famous/core/Transform":famous.core.Transform,"famous/core/View":famous.core.View,"famous/core/ViewSequence":famous.core.ViewSequence,"famous/events/EventArbiter":famous.events.EventArbiter,"famous/events/EventFilter":famous.events.EventFilter,"famous/events/EventMapper":famous.events.EventMapper,"famous/inputs/FastClick":famous.inputs.FastClick,"famous/inputs/GenericSync":famous.inputs.GenericSync,"famous/inputs/MouseSync":famous.inputs.MouseSync,"famous/inputs/PinchSync":famous.inputs.PinchSync,"famous/inputs/RotateSync":famous.inputs.RotateSync,"famous/inputs/ScaleSync":famous.inputs.ScaleSync,"famous/inputs/ScrollSync":famous.inputs.ScrollSync,"famous/inputs/TouchSync":famous.inputs.TouchSync,"famous/inputs/TouchTracker":famous.inputs.TouchTracker,"famous/inputs/TwoFingerSync":famous.inputs.TwoFingerSync,"famous/math/Matrix":famous.math.Matrix,"famous/math/Quaternion":famous.math.Quaternion,"famous/math/Random":famous.math.Random,"famous/math/Utilities":famous.math.Utilities,"famous/math/Vector":famous.math.Vector,"famous/modifiers/Draggable":famous.modifiers.Draggable,"famous/modifiers/Fader":famous.modifiers.Fader,"famous/modifiers/ModifierChain":famous.modifiers.ModifierChain,"famous/modifiers/StateModifier":famous.modifiers.StateModifier,"famous/surfaces/CanvasSurface":famous.surfaces.CanvasSurface,"famous/surfaces/ContainerSurface":famous.surfaces.ContainerSurface,"famous/surfaces/FormContainerSurface":famous.surfaces.FormContainerSurface,"famous/surfaces/ImageSurface":famous.surfaces.ImageSurface,"famous/surfaces/InputSurface":famous.surfaces.InputSurface,"famous/surfaces/SubmitInputSurface":famous.surfaces.SubmitInputSurface,"famous/surfaces/TextareaSurface":famous.surfaces.TextareaSurface,"famous/surfaces/VideoSurface":famous.surfaces.VideoSurface,"famous/transitions/CachedMap":famous.transitions.CachedMap,"famous/transitions/Easing":famous.transitions.Easing,"famous/transitions/MultipleTransition":famous.transitions.MultipleTransition,"famous/transitions/SnapTransition":famous.transitions.SnapTransition,"famous/transitions/SpringTransition":famous.transitions.SpringTransition,"famous/transitions/Transitionable":famous.transitions.Transitionable,"famous/transitions/TransitionableTransform":famous.transitions.TransitionableTransform,"famous/transitions/TweenTransition":famous.transitions.TweenTransition,"famous/transitions/WallTransition":famous.transitions.WallTransition,"famous/utilities/KeyCodes":famous.utilities.KeyCodes,"famous/utilities/Timer":famous.utilities.Timer,"famous/utilities/Utility":famous.utilities.Utility,"famous/views/Deck":famous.views.Deck,"famous/views/EdgeSwapper":famous.views.EdgeSwapper,"famous/views/FlexibleLayout":famous.views.FlexibleLayout,"famous/views/Flipper":famous.views.Flipper,"famous/views/GridLayout":famous.views.GridLayout,"famous/views/HeaderFooterLayout":famous.views.HeaderFooterLayout,"famous/views/Lightbox":famous.views.Lightbox,"famous/views/RenderController":famous.views.RenderController,"famous/views/ScrollContainer":famous.views.ScrollContainer,"famous/views/Scroller":famous.views.Scroller,"famous/views/Scrollview":famous.views.Scrollview,"famous/views/SequentialLayout":famous.views.SequentialLayout,"famous/widgets/NavigationBar":famous.widgets.NavigationBar,"famous/widgets/Slider":famous.widgets.Slider,"famous/widgets/TabBar":famous.widgets.TabBar,"famous/widgets/ToggleButton":famous.widgets.ToggleButton,"famous/physics/PhysicsEngine":famous.physics.PhysicsEngine,"famous/physics/bodies/Body":famous.physics.bodies.Body,"famous/physics/bodies/Circle":famous.physics.bodies.Circle,"famous/physics/bodies/Particle":famous.physics.bodies.Particle,"famous/physics/bodies/Rectangle":famous.physics.bodies.Rectangle,"famous/physics/constraints/Collision":famous.physics.constraints.Collision,"famous/physics/constraints/Constraint":famous.physics.constraints.Constraint,"famous/physics/constraints/Curve":famous.physics.constraints.Curve,"famous/physics/constraints/Distance":famous.physics.constraints.Distance,"famous/physics/constraints/Snap":famous.physics.constraints.Snap,"famous/physics/constraints/Surface":famous.physics.constraints.Surface,"famous/physics/constraints/Wall":famous.physics.constraints.Wall,"famous/physics/constraints/Walls":famous.physics.constraints.Walls,"famous/physics/forces/Drag":famous.physics.forces.Drag,"famous/physics/forces/Force":famous.physics.forces.Force,"famous/physics/forces/Repulsion":famous.physics.forces.Repulsion,"famous/physics/forces/RotationalDrag":famous.physics.forces.RotationalDrag,"famous/physics/forces/RotationalSpring":famous.physics.forces.RotationalSpring,"famous/physics/forces/Spring":famous.physics.forces.Spring,"famous/physics/forces/VectorField":famous.physics.forces.VectorField,"famous/physics/integrators/SymplecticEuler":famous.physics.integrators.SymplecticEuler};this.registerModule=function(n,r){e[n]=r},e.getIsolate=function(e){return e&&"isolate"in e?e.isolate[e.$id]:{}},e.find=function(n){var r=angular.element(window.document.querySelectorAll(n)),a=function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=angular.element(e).scope()}),n}(r),o=function(n){var r=[];return angular.forEach(n,function(n,a){r[a]=e.getIsolate(n)}),r}(a);return o};var n=/([\:\-\_]+(.))/g,r=/^moz([A-Z])/,a=/^(x[\:\-_]|data[\:\-_])/i,o=/^FA\-.*SURFACE/,t=/^FA\-.*/;window.$famousUtil=e.util={isASurface:function(e){return o.test(e[0].tagName)},isFaElement:function(e){if(t.test(e[0].tagName))return!0;var n=!1;return angular.forEach(e[0].attributes,function(e){n=n||t.test(e)}),n},camelCase:function(e){return e.replace(n,function(e,n,r,a){return a?r.toUpperCase():r}).replace(r,"Moz$1")},directiveNormalize:function(n){return e.util.camelCase(n.replace(a,""))}},this.$get=function(){return e}}),angular.module("famous.angular").config(["$provide",function(e){e.decorator("$animate",["$delegate","$rootScope","$famous","$parse","$famousDecorator",function(e,n,r,a,o){var t=r["famous/utilities/Timer"],i="$$faAnimationActive",s={},u=function(e){var n=r.getIsolate(e);return!n&&e&&(n=o.$$getIsolateById(s[e.$id])),n},c={enabled:e.enabled};return angular.forEach(["addClass","removeClass"],function(n){var a=angular.element.prototype[n];angular.element.prototype[n]=function(e){return a.apply(this,arguments),r.util.isASurface(this)&&"string"==typeof e&&""!==e.trim()&&u(this.scope()).renderNode[n](e),this},c[n]=function(a,o,t){if(e[n](a,o,t),r.util.isFaElement(a)){var i=u(a.scope());if(r.util.isASurface(a)){var s=i.renderNode;angular.forEach(o.split(" "),function(e){"ng-hide"===e?"addClass"===n?i.hide():"removeClass"===n&&i.show():s[n](e)})}else angular.forEach(o.split(" "),function(e){"ng-hide"===e&&("addClass"===n?i.hide():"removeClass"===n&&i.show())})}}}),c.setClass=function(n,a,o,t){if(e.setClass(n,a,o,t),r.util.isASurface(n)){var i=u(n.scope()).renderNode;angular.forEach(a.split(" "),function(e){i.addClass(e)}),angular.forEach(o.split(" "),function(e){i.removeClass(e)})}},angular.forEach(["enter","leave","move"],function(a){var o=a[0].toUpperCase()+a.slice(1);c[a]=function(c){var f=this,l=arguments,d="enter"===a,m=c.scope();m&&m.$parent&&(s[m.$id]=m.$parent.$id);var p=u(m);d===!0&&e[a].apply(this,arguments),c.data(i)===!0&&p&&p.$$animateHaltHandler&&p.$$animateHaltHandler(c.scope()),c.data(i,!0);var v=function(){m&&m.$id;if("leave"===a&&r.util.isFaElement(c)){var n=u(m);n&&n.id&&n.hide()}c.data(i)!==!1&&(c.data(i,!1),d===!1&&e[a].apply(f,l))};n.$$postDigest(function(){var e,n=c.scope(),r=u(n);if(r&&(e=r["$$animate"+o+"Handler"]),void 0===e)return void v();var a=e(n,{$done:v});"number"==typeof a&&t.setTimeout(v,a)})}}),c}])}]),angular.module("famous.angular").factory("$famousDecorator",["$famous",function(e){var n={child:{},parent:{},renderable:function(n){var r=e["famous/core/RenderNode"];n.renderGate=new r,n.emptyNode=new r,n.show=function(){n.renderGate&&n.renderGate.set(n.renderNode)},n.hide=function(){n.renderGate.set(n.emptyNode)}}},r={};return{addRole:function(e,r){n[e](r)},ensureIsolate:function(e,n){if(n){var a=["fa-edge-swapper","fa-render-controller","fa-deck","fa-light-box"],o=!1;angular.forEach(a,function(e){return e.toUpperCase()===n[0].tagName?void(o=!0):void 0!==n[0].attributes[e]?void(o=!0):void 0}),o&&(e=e.$parent)}e.isolate=e.isolate||{},e.isolate[e.$id]=e.isolate[e.$id]||{};var t=e.isolate[e.$id];t.id=e.$id;var i=e.$eval("$index");return i&&"$index"!==i&&!t.index&&(t.index=i),r[t.id]=t,t},$$getIsolateById:function(e){return r[e]},registerChild:function(e,n,r,a){e.$emit("registerChild",r),n.one("$destroy",function(){"removeMethod"in r&&r.removeMethod(r.id),r&&r.hide&&r.hide(),a&&a()})},sequenceWith:function(n,r,a,o){n.$on("registerChild",function(t,i){if(t.targetScope.$id!==n.$id){var s=e.getIsolate(n);i.$parent=s,s.$children=s.$children||[],s.$children.push(i),r(i),t.stopPropagation(),a&&(i.removeMethod=a),o&&(i.updateMethod=o)}})}}}]),angular.module("famous.angular").service("$famousPipe",function(){function e(e,n,r){e instanceof Array||(e=[e]),n instanceof Array||(n=[n]);for(var a=0;a<e.length;a++)for(var o=0;o<n.length;o++)void 0!==n[o]&&void 0!==e[a]&&n[o][r](e[a])}this.unpipesFromTargets=function(n,r){e(n,r,"unpipe")},this.pipesToTargets=function(n,r){e(n,r,"pipe")}}),angular.module("famous.angular").factory("$timeline",function(){var e=function(e,n){return"number"==typeof e?e+n:e.map(function(e,r){return e+n[r]})},n=function(e,n){return"number"==typeof e?e-n:e.map(function(e,r){return e-n[r]})},r=function(e,n){return"number"==typeof e?e*n:e.map(function(e){return e*n})},a=function(a,o,t,i,s){return function(u){var c=i,f=-o,l=1/(t-o),d=n(s,i);return e(r(d,a(l*(u+f))),c)}};return function(e){var n=function(e){return e};return function(r){if(r<e[0][0])return e[0][1];for(var o=0;o<e.length-1;o++)if(e[o][0]<=r&&r<e[o+1][0]){var t=a(e[o][2]||n,e[o][0],e[o+1][0],e[o][1],e[o+1][1]);return t(r)}return e[e.length-1][1]}}}),angular.module("famous.angular").directive("faAnimateEnter",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,priority:16,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);t.$$animateEnterHandler=e(o.faAnimateEnter),o.$observe("faAnimateEnter",function(){t.$$animateEnterHandler=e(o.faAnimateEnter)})}}}}}]),angular.module("famous.angular").directive("faAnimateHalt",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,priority:16,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);t.$$animateHaltHandler=e(o.faAnimateHalt),o.$observe("faAnimateHalt",function(){t.$$animateHaltHandler=e(o.faAnimateHalt)})}}}}}]),angular.module("famous.angular").directive("faAnimateLeave",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,priority:16,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);t.$$animateLeaveHandler=e(o.faAnimateLeave),o.$observe("faAnimateLeave",function(){t.$$animateLeaveHandler=e(o.faAnimateLeave)})}}}}}]),angular.module("famous.angular").directive("faAnimateMove",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,priority:16,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);t.$$animateMoveHandler=e(o.faAnimateMove),o.$observe("faAnimateMove",function(){t.$$animateMoveHandler=e(o.faAnimateMove)})}}}}}]),angular.module("famous.angular").directive("faAnimation",["$famous","$famousDecorator",function(e,n){return{restrict:"EA",scope:!0,compile:function(){var r=e["famous/core/Transform"],a=e["famous/transitions/Transitionable"],o=e["famous/transitions/Easing"];return{pre:function(e){n.ensureIsolate(e)},post:function(e,t,i){var s=n.ensureIsolate(e);setTimeout(function(){s.timeline=e.$eval(i.timeline),s._trans=new a(0),s.play=function(n){var r={duration:e.$eval(i.duration),curve:e.$eval(i.curve)||"linear"};s._trans.set(1,r,function(){n&&n(),i.loop&&setTimeout(function(){s.replay(n)},0)})},s.reset=function(){s._trans.set(0)},s.replay=function(e){s.reset(),s.play(e)};var n=null;i.event&&(n&&n(),n=e.$on(i.event,function(e,n){var r=n&&n.callback?n.callback:void 0;s.replay(r)}));i.id;if(void 0===s.timeline&&(s.timeline=s._trans.get.bind(s._trans),i.autoplay&&s.play()),!s.timeline instanceof Function)throw new Error("timeline must be a reference to a function or duration must be provided");for(var u=t[0].querySelectorAll("animate"),c={},f=0;f<u.length;f++)!function(){var n=u[f];if(n.attributes.targetmodselector){var a=angular.element(t[0].parentNode)[0].querySelectorAll(n.attributes.targetmodselector.value);angular.forEach(a,function(a){var t=angular.element(a).scope(),i=t.isolate[t.$id].modifier,u=t.isolate[t.$id].getTransform,f=n.attributes.curve&&"linear"!==n.attributes.curve.value?o[n.attributes.curve.value]:function(e){return e};if(n.attributes.field){var l=n.attributes.field.value,d=n.attributes.timelinelowerbound?parseFloat(n.attributes.timelinelowerbound.value):0,m=n.attributes.timelineupperbound?parseFloat(n.attributes.timelineupperbound.value):1;if(!n.attributes.startvalue)throw new Error("you must provide a start value for the animation");var p=e.$eval(n.attributes.startvalue.value);if(!n.attributes.endvalue)throw new Error("you must provide an end value for the animation");var v=e.$eval(n.attributes.endValue.value),g=c[t.$id]=c[t.$id]||{},h=g[l]=g[l]||[];h.push({field:l,lowerBound:d,upperBound:m,startValue:p,endValue:v,curve:f}),h.sort(function(e,n){return e.lowerBound-n.lowerBound});for(var $=1;$<h.length;$++)for(var y=h[$].lowerBound,w=0;$>w;w++)if(y<h[w].upperBound)throw new Error("Animate segments have overlappingdomains for the same field ("+l+").At any point in the timeline, only one <animate>can affect a given field on the same modifier.");var S=function(){for(var e=s.timeline()||0,n=0,r=h[n],a=0;a<h.length;a++){if(e>=h[a].lowerBound&&e<=h[a].upperBound){r=h[a];break}if(a===h.length-1){r=h[a];break}if(e>=h[a].upperBound&&e<h[a+1].lowerBound){r=h[a];break}}if(e<=r.lowerBound)return r.startValue;if(e>=r.upperBound)return r.endValue;var o=r.upperBound-r.lowerBound,t=(e-r.lowerBound)/o;if(Array.isArray(r.startValue)){for(var i=[],u=0;u<r.startValue.length;u++)i.push(r.startValue[u]+r.curve(t)*(r.endValue[u]-r.startValue[u]));return i}return r.startValue+r.curve(t)*(r.endValue-r.startValue)},b=g.transformComponents=g.transformComponents||[];"opacity"===l?i.opacityFrom(function(){return S()}):"origin"===l?i.originFrom(function(){return S()}):"size"===l?i.sizeFrom(function(){return S()}):(b.push({field:l,fn:S}),i.transformFrom(function(){for(var e={},n=u&&u()?[u()]:[],a=0;a<b.length;a++)!function(){var o=b[a].field;if(!e[o]){var t=b[a].fn();n.push(Array.isArray(t)?r[o].apply(this,t):r[o](t)),e[o]=!0}}();return 1===n.length?n[0]:r.multiply.apply(this,n)}))}})}}()},1)}}}}}]),angular.module("famous.angular").directive("faApp",["$famous","$famousDecorator",function(e,n){return{template:'<div style="display: none;"><div></div></div>',transclude:!0,scope:!0,restrict:"EA",compile:function(r,a,o){return{pre:function(r,a,o){function t(){s.apply(this,arguments)}{var i=n.ensureIsolate(r),s=e["famous/core/View"],u=e["famous/core/Engine"];e["famous/core/Transform"]}a.append('<div class="famous-angular-clipping-container"><div class="famous-angular-container"></div></div>'),i.context=u.createContext(a[0].querySelector(".famous-angular-container")),window.context=i.context;var c=function(){var e=parseInt(o.faPerspective);e&&i.context.setPerspective(e)};o.$observe("faPerspective",c),c(),t.prototype=Object.create(s.prototype),t.prototype.constructor=t;i.view=new t,i.context.add(i.view),r.$on("$destroy",function(){i.context.update=angular.noop}),r.$on("registerChild",function(e,n){i.view.add(n.renderNode),e.stopPropagation()})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){angular.element(r[0].querySelectorAll("div div")[0]).append(e)}),a.readyToRender=!0}}}}}]),angular.module("famous.angular").directive("faCanvasSurface",["$famous","$famousDecorator","$interpolate","$controller","$compile",function(e,n){return{scope:!0,transclude:!0,template:'<canvas class="fa-canvas-surface"></canvas>',restrict:"EA",compile:function(r,a,o){return{pre:function(r,a,o){{var t=n.ensureIsolate(r),i=e["famous/surfaces/CanvasSurface"];e["famous/core/Transform"],e["famous/core/EventHandler"]}t.renderNode=new i({size:r.$eval(o.faSize)}),n.addRole("renderable",t),t.show(),o.class&&t.renderNode.setClasses(o["class"].split(" ")),n.sequenceWith(r,function(){throw new Error("Surfaces are leaf nodes of the Famo.us render tree and cannot accept rendernode children.  To include additional Famo.us content inside of a fa-surface, that content must be enclosed in an additional fa-app.")})},post:function(e,r){var a=n.ensureIsolate(e),t=function(){a.renderNode.setContent(r[0].querySelector("canvas.fa-canvas-surface"))};t(),o(e,function(e){angular.element(r[0].querySelectorAll("canvas.fa-canvas-surface")).append(e)}),n.registerChild(e,r,a,function(){})}}}}}]),angular.module("famous.angular").directive("faClick",["$parse","$famousDecorator",function(e,n){return{restrict:"A",compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);if(o.faClick){var i=t.renderNode._eventInput||t.renderNode;i.on("click",function(n){var a=e(o.faClick);a(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faContainerSurface",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,a,o){return{pre:function(r,a,o){var t=n.ensureIsolate(r),i=e["famous/surfaces/ContainerSurface"],s=r.$eval(o.faOptions)||{};t.renderNode=new i(s),n.addRole("renderable",t),t.show(),n.sequenceWith(r,function(e){t.renderNode.add(e.renderGate)})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faDraggable",["$famous","$famousDecorator","$parse","$rootScope",function(e,n,r,a){return{template:"<div></div>",transclude:!0,restrict:"EA",priority:2,scope:!0,compile:function(r,o,t){return{post:function(r,o,i){var s=n.ensureIsolate(r),u=e["famous/core/RenderNode"],c=e["famous/modifiers/Draggable"],f=r.$eval(i.faOptions)||{};r.$watch(function(){return r.$eval(i.faOptions)},function(e){e=e||{},s.modifier.setOptions(e)},!0),s.modifier=new c(f),s.renderNode=(new u).add(s.modifier),n.addRole("renderable",s),s.show(),n.sequenceWith(r,function(e){s.renderNode.add(e.renderGate)}),t(r,function(e){o.find("div").append(e)}),n.registerChild(r,o,s,function(){s.modifier.deactivate()}),r.$$phase||a.$$phase||r.$apply()}}}}}]),angular.module("famous.angular").directive("faEdgeSwapper",["$famous","$famousDecorator",function(e,n){return{scope:!0,restrict:"A",priority:512,compile:function(){var r=e["famous/views/EdgeSwapper"];return{pre:function(e,a,o){var t,i=n.ensureIsolate(e);i.$$animateEnterHandler=function(e,n){i.renderNode.show(t,function(){i.$$leaveDoneCallback&&i.$$leaveDoneCallback(),n.$done()})},i.$$animateLeaveHandler=function(e,n){i.$$leaveDoneCallback=n.$done};var s=e.$eval(o.faOptions);i.renderNode=new r(s),n.addRole("renderable",i),i.show(),n.sequenceWith(e,function(e){t=e.renderGate})},post:function(e,r){var a=n.ensureIsolate(e);n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faFlexibleLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,a,o){return{pre:function(r,a,o){var t=n.ensureIsolate(r),i=e["famous/views/FlexibleLayout"],s=(e["famous/core/ViewSequence"],e["famous/core/RenderNode"],[]),u=r.$eval(o.faOptions)||{};t.renderNode=new i(u),n.addRole("renderable",t),t.show();var c=function(){s.sort(function(e,n){return e.index-n.index}),t.renderNode.sequenceFrom(function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderGate}),n}(s))};n.sequenceWith(r,function(e){s.push(e),c()},function(e){s=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(s),c()})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),e.$emit("registerChild",a)}}}}}]),angular.module("famous.angular").directive("faFlipper",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,a,o){return{pre:function(r,a,o){var t=n.ensureIsolate(r),i=e["famous/views/Flipper"],s=r.$eval(o.faOptions)||{};t.renderNode=new i(s),n.addRole("renderable",t),t.show(),t.children=[],t.flip=function(e){t.renderNode.flip(e||r.$eval(o.faOptions))},n.sequenceWith(r,function(e){var n=t.children.length;if(0===n)t.renderNode.setFront(e.renderGate);else{if(1!==n)throw new Error("fa-flipper accepts only two child elements; more than two have been provided");t.renderNode.setBack(e.renderGate)}t.children.push(e.renderGate)},function(){t.children.splice(t.children.length-1,1)})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faGridLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,a,o){return{pre:function(r,a,o){var t=n.ensureIsolate(r),i=e["famous/views/GridLayout"],s=(e["famous/core/ViewSequence"],[]),u=r.$eval(o.faOptions)||{};t.renderNode=new i(u),n.addRole("renderable",t),t.show();var c=function(){r.$$postDigest(function(){s.sort(function(e,n){return e.index-n.index}),t.renderNode.sequenceFrom(function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderGate}),n}(s))})};n.sequenceWith(r,function(e){s.push(e),c()},function(e){s=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(s),c()},c)},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faHeaderFooterLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,a,o){var t=e["famous/views/HeaderFooterLayout"],i=e["famous/core/RenderNode"];return{pre:function(e,r,a){var o=n.ensureIsolate(e),s=(new i,new i,new i,e.$eval(a.faOptions)||{});o.renderNode=new t(s),n.addRole("renderable",o),o.show();var u=0;n.sequenceWith(e,function(e){if(u++,1===u)o.renderNode.header.add(e.renderGate);else if(2===u)o.renderNode.content.add(e.renderGate);else{if(3!==u)throw new Error("fa-header-footer-layout can accept no more than 3 children");o.renderNode.footer.add(e.renderGate)}},function(){1===u?o.renderNode.header.set({}):2===u?o.renderNode.content.set({}):3===u&&o.renderNode.footer.set({}),u--})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faImageSurface",["$famous","$famousDecorator",function(e,n){return{scope:!0,template:'<div class="fa-image-surface"></div>',restrict:"EA",compile:function(){return{pre:function(r,a,o){{var t=n.ensureIsolate(r),i=e["famous/surfaces/ImageSurface"];e["famous/core/Transform"],e["famous/core/EventHandler"]}r.$watch(function(){return t.getProperties()},function(){t.renderNode&&t.renderNode.setProperties(t.getProperties())},!0);var s=function(e){return"fa"+e.charAt(0).toUpperCase()+e.slice(1)};t.getProperties=function(){for(var e=r.$eval(o.faProperties)||{},n=["backgroundColor","color"],a=0;a<n.length;a++){var t=n[a],i=s(t);o[i]&&(e[t]=r.$eval(o[i]))}return e},t.renderNode=new i({size:r.$eval(o.faSize),"class":r.$eval(o.class),properties:t.getProperties()}),n.addRole("renderable",t),t.show(),o.class&&t.renderNode.setClasses(o["class"].split(" "))},post:function(e,r,a){var o=n.ensureIsolate(e),t=function(){o.renderNode.setContent(a.faImageUrl)};t(),a.$observe("faImageUrl",t),n.registerChild(e,r,o)}}}}}]),angular.module("famous.angular").directive("faIndex",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,priority:16,compile:function(){return{post:function(e,r,a){var o=n.ensureIsolate(e,r);o.index=e.$eval(a.faIndex),e.$watch(function(){return e.$eval(a.faIndex)},function(){o.index=e.$eval(a.faIndex),o.updateMethod&&o.updateMethod()})}}}}}]),angular.module("famous.angular").config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate","$famousDecorator","$parse","$rootElement","$famous","$timeout",function(e,n,r,a,o,t){function i(e,n,r,a){return Math.abs(e-r)<$&&Math.abs(n-a)<$}function s(e,n,r){for(var a=0;a<e.length;a+=2)if(i(e[a],e[a+1],n,r))return e.splice(a,a+2),!0;return!1}function u(e){if(!(Date.now()-l>h)){var n=e.touches&&e.touches.length?e.touches:[e],r=n[0].clientX,a=n[0].clientY;s(d,r,a)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur())}}function c(e){var n=e.touches&&e.touches.length?e.touches:[e],r=n[0].clientX,a=n[0].clientY;d.push(r,a),t(function(){for(var e=0;e<d.length;e+=2)if(d[e]===r&&d[e+1]===a)return void d.splice(e,e+2)},h,!1)}function f(e,n){d||(a[0].addEventListener("click",u,!0),a[0].addEventListener("touchstart",c,!0),d=[]),l=Date.now(),s(d,e,n)}{var l,d,m=e[0],p=m.compile,v=750,g=12,h=2500,$=25,y="ng-click-active";o["famous/core/Engine"]}return m.compile=function(e,n,a){return o.util.isFaElement(e)?o.util.isASurface(e)?{post:function(e,n,a){function t(){d=!1,p.removeClass(y)}var i,s,u,c,l=r(a.ngClick),d=!1,m=o.getIsolate(e),p=m.renderNode;p.on("touchstart",function(e){d=!0,i=e.target?e.target:e.srcElement,3===i.nodeType&&(i=i.parentNode),p.addClass(y),s=Date.now();var n=e.touches&&e.touches.length?e.touches:[e],r=n[0].originalEvent||n[0];u=r.clientX,c=r.clientY}),p.on("touchmove",function(){t()}),p.on("touchcancel",function(){t()}),p.on("touchend",function(e){var n=Date.now()-s,r=e.changedTouches&&e.changedTouches.length?e.changedTouches:e.touches&&e.touches.length?e.touches:[e],o=r[0].originalEvent||r[0],i=o.clientX,l=o.clientY,m=Math.sqrt(Math.pow(i-u,2)+Math.pow(l-c,2));d&&v>n&&g>m&&(f(i,l),angular.isDefined(a.disabled)&&"false"!==a.disabled||p.emit("click",[e])),t()}),p.on("click",function(n,r){e.$apply(function(){l(e,{$event:r||n})})}),p.on("mousedown",function(){p.addClass(y)}),p.on("mousemove mouseup",function(){p.removeClass(y)})}}:void 0:p(e,n,a)},e}]),angular.forEach("dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var r=window.$famousUtil.directiveNormalize("ng-"+n);e.decorator(r+"Directive",["$delegate","$famousDecorator","$parse","$famous",function(e,a,o,t){var i=e[0],s=i.compile;return i.compile=function(e,i,u){return t.util.isFaElement(e)?{post:function(e,t,i){var s=a.ensureIsolate(e);if(i[r]){var u=s.renderNode._eventInput||s.renderNode;u.on(n,function(n){var a=o(i[r]);a(e,{$event:n}),e.$$phase||e.$apply()})}}}:s(e,i,u)},e}])})}]),angular.module("famous.angular").directive("faModifier",["$famous","$famousDecorator","$parse","$rootScope",function(e,n,r,a){return{template:"<div></div>",transclude:!0,restrict:"EA",priority:2,scope:!0,compile:function(o,t,i){return{post:function(o,t,s){var u=n.ensureIsolate(o),c=e["famous/core/RenderNode"],f=e["famous/core/Modifier"],l=e["famous/core/Transform"],d=e["famous/physics/bodies/Particle"],m=function(e){return e.getPosition()},p=["aboutOrigin","perspective","rotate","rotateAxis","rotateX","rotateY","rotateZ","scale","skew","translate"];s.$observe("faTransformOrder",function(){var e=o.$eval(s.faTransformOrder);void 0!==e&&(p=e)});var v={};angular.forEach(p,function(n){var a=e.util.directiveNormalize("fa-"+n);s.$observe(a,function(){v[n]=r(s[a])})});var g=angular.noop;s.$observe("faTransform",function(){g=r(s.faTransform)}),u.getTransform=function(){var e=g(o);if(void 0!==e)return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e;var n=[];return angular.forEach(p,function(e){var r=v[e]?v[e](o):void 0;void 0!==r&&(r instanceof Function&&(r=r()),n.push(r instanceof Array?l[e].apply(this,r):r instanceof d?l[e].apply(this,m(r)):l[e].call(this,r)))}),n.length?1===n.length?n[0]:l.multiply.apply(this,n):void 0};var h=angular.noop;s.$observe("faAlign",function(){h=r(s.faAlign)}),u.getAlign=function(){var e=h(o);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e instanceof d?m(e):e};var $=angular.noop;s.$observe("faOpacity",function(){$=r(s.faOpacity)}),u.getOpacity=function(){var e=$(o);return void 0===e?1:e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e instanceof d?m(e):e};var y=angular.noop;s.$observe("faSize",function(){y=r(s.faSize)}),u.getSize=function(){var e=y(o);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e instanceof d?m(e):e};var w=angular.noop;s.$observe("faOrigin",function(){w=r(s.faOrigin)}),u.getOrigin=function(){var e=w(o);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e instanceof d?m(e):e},u.modifier=new f({transform:u.getTransform,size:u.getSize,opacity:u.getOpacity,origin:u.getOrigin,align:u.getAlign}),u.renderNode=(new c).add(u.modifier),n.addRole("renderable",u),u.show(),n.sequenceWith(o,function(e){u.renderNode.add(e.renderGate)}),i(o,function(e){t.find("div").append(e)}),n.registerChild(o,t,u,function(){u.modifier.setOpacity(0)}),o.$$phase||a.$$phase||o.$apply()}}}}}]),angular.module("famous.angular").directive("faMouseover",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);if(o.faMouseover){var i=t.renderNode._eventInput||t.renderNode;i.on("mouseover",function(n){var a=e(o.faMouseover);a(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faOptions",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,priority:-16,compile:function(){return{post:function(e,r,a){var o=n.ensureIsolate(e,r);e.$watch(function(){return e.$eval(a.faOptions)},function(){o.renderNode.setOptions(e.$eval(a.faOptions))},!0)}}}}}]),angular.module("famous.angular").directive("faPipeFrom",["$famous","$famousDecorator","$famousPipe",function(e,n,r){return{restrict:"A",scope:!1,priority:16,compile:function(){var a=e["famous/core/Engine"];return{post:function(e,o,t){var i=n.ensureIsolate(e);e.$watch(function(){return e.$eval(t.faPipeFrom)},function(e,n){var o;o=i.renderNode&&i.renderNode._isModifier?i.renderNode._object:i.renderNode?i.renderNode._eventInput||i.renderNode:a,r.unpipesFromTargets(o,n),r.pipesToTargets(o,e)}),e.$on("$destroy",function(){r.unpipesFromTargets(i.renderNode||a,e.$eval(t.faPipeFrom))})}}}}}]),angular.module("famous.angular").directive("faPipeTo",["$famous","$famousDecorator","$famousPipe",function(e,n,r){return{restrict:"A",scope:!1,priority:16,compile:function(){var a=e["famous/core/Engine"];return{post:function(e,o,t){var i=n.ensureIsolate(e);e.$watch(function(){return e.$eval(t.faPipeTo)},function(e,n){var o;o=i.renderNode&&i.renderNode._isModifier?i.renderNode._object:i.renderNode?i.renderNode._eventOutput||i.renderNode:a,r.unpipesFromTargets(n,o),r.pipesToTargets(e,o)}),e.$on("$destroy",function(){r.unpipesFromTargets(e.$eval(t.faPipeTo),i.renderNode||a)})}}}}}]),angular.module("famous.angular").directive("faRenderNode",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",transclude:!0,scope:!0,restrict:"EA",compile:function(r,a,o){return{pre:function(r,a,o){{var t=n.ensureIsolate(r),i=e["famous/core/Engine"];
e["famous/core/RenderNode"]}t.children=[],o.$observe("faPipeTo",function(e){var n=r.$eval(e);n&&i.pipe(n)}),t.renderNode=r.$eval(o.faNode),n.addRole("renderable",t),t.show(),n.sequenceWith(r,function(e){t.renderNode.add(e.renderGate),t.children.push(e)})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faScrollView",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,a,o){return{pre:function(r,a,o){var t=n.ensureIsolate(r),i=e["famous/views/Scrollview"],s=e["famous/core/ViewSequence"],u=(e["famous/core/Surface"],[]),c=r.$eval(o.faOptions)||{};t.renderNode=new i(c),n.addRole("renderable",t),t.show();var f=function(e){r.$$postDigest(function(){u.sort(function(e,n){return e.index-n.index});var n={array:function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderGate}),n}(u)};e&&(n.index=r.$eval(o.faStartIndex));var a=new s(n);t.renderNode.sequenceFrom(a)})};n.sequenceWith(r,function(e){u.push(e),f(!0)},function(e){u=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(u),f()},f)},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faSequentialLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,a,o){return window.$f=e,{pre:function(r,a,o){var t=n.ensureIsolate(r),i=e["famous/views/SequentialLayout"],s=[],u=r.$eval(o.faOptions)||{};t.renderNode=new i(u),n.addRole("renderable",t),t.show();var c=function(){s.sort(function(e,n){return e.index-n.index}),t.renderNode.sequenceFrom(function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderGate}),n}(s))};n.sequenceWith(r,function(e){s.push(e),c()},function(e){s=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(s),c()})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faSurface",["$famous","$famousDecorator","$interpolate","$controller","$compile",function(e,n){return{scope:!0,transclude:!0,template:'<div class="fa-surface"></div>',restrict:"EA",compile:function(r,a,o){return{pre:function(r,a,o){{var t=n.ensureIsolate(r),i=e["famous/core/Surface"];e["famous/core/Transform"],e["famous/core/EventHandler"]}r.$watch(function(){return t.getProperties()},function(){t.renderNode&&t.renderNode.setProperties(t.getProperties())},!0);var s=function(e){return"fa"+e.charAt(0).toUpperCase()+e.slice(1)};t.getProperties=function(){for(var e=r.$eval(o.faProperties)||{},n=["backgroundColor","margin","padding","color","pointerEvents","zIndex"],a=0;a<n.length;a++){var t=n[a],i=s(t);o[i]&&(e[t]=r.$eval(o[i]))}return e};var u=[];o.$observe("faSize",function(){t.renderNode.setSize(r.$eval(o.faSize)),u.push(new Date),u.length>5&&(u[4]-u[0]<=1e3&&console.warn("Using fa-size on fa-surface to animate is significantly non-performant, prefer to use fa-size on an fa-modifier surrounding a fa-surface"),u.shift())}),t.renderNode=new i({size:r.$eval(o.faSize),properties:t.getProperties()}),n.addRole("renderable",t),t.show(),o.class&&t.renderNode.setClasses(o["class"].split(" ")),n.sequenceWith(r,function(){throw new Error("Surfaces are leaf nodes of the Famo.us render tree and cannot accept rendernode children.  To include additional Famo.us content inside of a fa-surface, that content must be enclosed in an additional fa-app.")})},post:function(e,r){var a=n.ensureIsolate(e),t=function(){a.renderNode.setContent(r[0].querySelector("div.fa-surface"))};t(),o(e,function(e){angular.element(r[0].querySelectorAll("div.fa-surface")).append(e)}),n.registerChild(e,r,a,function(){})}}}}}]),angular.module("famous.angular").directive("faTap",["$parse","$famousDecorator",function(e,n){return{restrict:"A",compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);if(o.faTap){var i=t.renderNode._eventInput||t.renderNode,s=!1;i.on("touchmove",function(e){return s=!0,e}),i.on("tap",function(n){if(!s){var a=e(o.faTap);a(r,{$event:n}),r.$$phase||r.$apply()}s=!1})}}}}}}]),angular.module("famous.angular").directive("faTouchend",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);if(o.faTouchend){var i=t.renderNode._eventInput||t.renderNode;i.on("touchend",function(n){var a=e(o.faTouchend);a(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faTouchmove",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);if(o.faTouchmove){var i=t.renderNode._eventInput||t.renderNode;i.on("touchmove",function(n){var a=e(o.faTouchmove);a(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faTouchstart",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,compile:function(){return{post:function(r,a,o){var t=n.ensureIsolate(r);if(o.faTouchstart){var i=t.renderNode._eventInput||t.renderNode;i.on("touchstart",function(n){var a=e(o.faTouchstart);a(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faVideoSurface",["$famous","$famousDecorator",function(e,n){return{scope:!0,transclude:!0,template:'<div class="fa-video-surface"></div>',restrict:"EA",compile:function(){return{pre:function(r,a,o){var t=n.ensureIsolate(r),i=e["famous/surfaces/VideoSurface"];r.$watch(function(){return r.$eval(o.faOptions)},function(e,n){t.renderNode.setOptions(n)},!0),t.renderNode=new i({"class":r.$eval(o.class)}),n.addRole("renderable",t),t.show(),o.class&&t.renderNode.setClasses(o["class"].split(" ")),n.sequenceWith(r,function(){throw new Error("Surfaces are leaf nodes of the Famo.us render tree and cannot accept rendernode children.  To include additional Famo.us content inside of a fa-surface, that content must be enclosed in an additional fa-app.")})},post:function(e,r,a){var o=n.ensureIsolate(e),t=function(){o.renderNode.setContent(a.faVideoUrl)};t(),a.$observe("faVideoUrl",t),n.registerChild(e,r,o)}}}}}]),angular.module("famous.angular").directive("faView",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",transclude:!0,scope:!0,restrict:"EA",compile:function(r,a,o){var t=e["famous/core/View"];return{pre:function(e,r,a){var o=n.ensureIsolate(e);o.children=[],o.renderNode=new t({size:e.$eval(a.faSize)||[void 0,void 0]}),n.addRole("renderable",o),o.show(),n.sequenceWith(e,function(e){o.renderNode.add(e.renderGate),o.children.push(e)})},post:function(e,r){var a=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,a)}}}}}]);
}).call(global, module, undefined, undefined);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-animate\\angular-animate.min.js":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-animate\\angular-animate.min.js","D:\\famous-calendar\\famous-calendar\\bower_components\\angular-sanitize\\angular-sanitize.min.js":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-sanitize\\angular-sanitize.min.js","D:\\famous-calendar\\famous-calendar\\bower_components\\angular-ui-router\\release\\angular-ui-router.min.js":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-ui-router\\release\\angular-ui-router.min.js","D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js","D:\\famous-calendar\\famous-calendar\\bower_components\\famous\\dist\\famous-global.min.js":"D:\\famous-calendar\\famous-calendar\\bower_components\\famous\\dist\\famous-global.min.js","famous-polyfills":"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\index.js"}],"D:\\famous-calendar\\famous-calendar\\bower_components\\famous\\dist\\famous-global.min.js":[function(require,module,exports){
(function (global){
;__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * @copyright Famous Industries, Inc. 2014
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.famous=t()}}(function(){return function t(i,e,n){function o(r,a){if(!e[r]){if(!i[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var p=e[r]={exports:{}};i[r][0].call(p.exports,function(t){var e=i[r][1][t];return o(e?e:t)},p,p.exports,t,i,e,n)}return e[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,i){function e(t){return[t.clientWidth,t.clientHeight]}function n(t){this.container=t,this._allocator=new r(t),this._node=new o,this._eventOutput=new s,this._size=e(this.container),this._perspectiveState=new h(0),this._perspective=void 0,this._nodeContext={allocator:this._allocator,transform:a.identity,opacity:1,origin:c,align:c,size:this._size},this._eventOutput.on("resize",function(){this.setSize(e(this.container))}.bind(this))}var o=t("./RenderNode"),s=t("./EventHandler"),r=t("./ElementAllocator"),a=t("./Transform"),h=t("../transitions/Transitionable"),c=[0,0],p=!("perspective"in document.documentElement.style),u=p?function(t,i){t.style.webkitPerspective=i?i.toFixed()+"px":""}:function(t,i){t.style.perspective=i?i.toFixed()+"px":""};n.prototype.getAllocator=function(){return this._allocator},n.prototype.add=function(t){return this._node.add(t)},n.prototype.migrate=function(t){t!==this.container&&(this.container=t,this._allocator.migrate(t))},n.prototype.getSize=function(){return this._size},n.prototype.setSize=function(t){t||(t=e(this.container)),this._size[0]=t[0],this._size[1]=t[1]},n.prototype.update=function(t){t&&(t.transform&&(this._nodeContext.transform=t.transform),t.opacity&&(this._nodeContext.opacity=t.opacity),t.origin&&(this._nodeContext.origin=t.origin),t.align&&(this._nodeContext.align=t.align),t.size&&(this._nodeContext.size=t.size));var i=this._perspectiveState.get();i!==this._perspective&&(u(this.container,i),this._perspective=i),this._node.commit(this._nodeContext)},n.prototype.getPerspective=function(){return this._perspectiveState.get()},n.prototype.setPerspective=function(t,i,e){return this._perspectiveState.set(t,i,e)},n.prototype.emit=function(t,i){return this._eventOutput.emit(t,i)},n.prototype.on=function(t,i){return this._eventOutput.on(t,i)},n.prototype.removeListener=function(t,i){return this._eventOutput.removeListener(t,i)},n.prototype.pipe=function(t){return this._eventOutput.pipe(t)},n.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},i.exports=n},{"../transitions/Transitionable":88,"./ElementAllocator":2,"./EventHandler":7,"./RenderNode":11,"./Transform":15}],2:[function(t,i){function e(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}e.prototype.migrate=function(t){var i=this.container;if(t!==i){if(i instanceof DocumentFragment)t.appendChild(i);else for(;i.hasChildNodes();)t.appendChild(i.removeChild(i.firstChild));this.container=t}},e.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var i,e=this.detachedNodes[t];return e.length>0?i=e.pop():(i=document.createElement(t),this.container.appendChild(i)),this.nodeCount++,i},e.prototype.deallocate=function(t){var i=t.nodeName.toLowerCase(),e=this.detachedNodes[i];e.push(t),this.nodeCount--},e.prototype.getNodeCount=function(){return this.nodeCount},i.exports=e},{}],3:[function(t,i){function e(t){this._matrix=null,this._opacity=1,this._origin=null,this._size=null,this._eventOutput=new c,this._eventOutput.bindThis(this),this.eventForwarder=function(t){this._eventOutput.emit(t.type,t)}.bind(this),this.id=h.register(this),this._element=null,this._sizeDirty=!1,this._originDirty=!1,this._transformDirty=!1,this._invisible=!1,t&&this.attach(t)}function n(t){for(var i in this._eventOutput.listeners)t.addEventListener(i,this.eventForwarder)}function o(t){for(var i in this._eventOutput.listeners)t.removeEventListener(i,this.eventForwarder)}function s(t){t[12]=Math.round(t[12]*l)/l,t[13]=Math.round(t[13]*l)/l;for(var i="matrix3d(",e=0;15>e;e++)i+=t[e]<1e-6&&t[e]>-1e-6?"0,":t[e]+",";return i+=t[15]+")"}function r(t){return 100*t[0]+"% "+100*t[1]+"%"}function a(t,i){return t&&i?t[0]!==i[0]||t[1]!==i[1]:t!==i}var h=t("./Entity"),c=t("./EventHandler"),p=t("./Transform"),u=!("transform"in document.documentElement.style),l=window.devicePixelRatio||1;e.prototype.on=function(t,i){this._element&&this._element.addEventListener(t,this.eventForwarder),this._eventOutput.on(t,i)},e.prototype.removeListener=function(t,i){this._eventOutput.removeListener(t,i)},e.prototype.emit=function(t,i){i&&!i.origin&&(i.origin=this);var e=this._eventOutput.emit(t,i);return e&&i&&i.stopPropagation&&i.stopPropagation(),e},e.prototype.pipe=function(t){return this._eventOutput.pipe(t)},e.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},e.prototype.render=function(){return this.id};var f;f=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?function(t,i){t.style.zIndex=1e6*i[14]|0,t.style.transform=s(i)}:u?function(t,i){t.style.webkitTransform=s(i)}:function(t,i){t.style.transform=s(i)};var d=u?function(t,i){t.style.webkitTransformOrigin=r(i)}:function(t,i){t.style.transformOrigin=r(i)},_=u?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0};e.prototype.commit=function(t){var i=this._element;if(i){{var e=t.transform,n=t.opacity,o=t.origin;t.size}if(!e&&this._matrix)return this._matrix=null,this._opacity=0,void _(i);if(a(this._origin,o)&&(this._originDirty=!0),p.notEquals(this._matrix,e)&&(this._transformDirty=!0),this._invisible&&(this._invisible=!1,this._element.style.display=""),this._opacity!==n&&(this._opacity=n,i.style.opacity=n>=1?"0.999999":n),this._transformDirty||this._originDirty||this._sizeDirty){this._sizeDirty&&(this._sizeDirty=!1),this._originDirty&&(o?(this._origin||(this._origin=[0,0]),this._origin[0]=o[0],this._origin[1]=o[1]):this._origin=null,d(i,this._origin),this._originDirty=!1),e||(e=p.identity),this._matrix=e;var s=this._size?p.thenMove(e,[-this._size[0]*o[0],-this._size[1]*o[1],0]):e;f(i,s),this._transformDirty=!1}}},e.prototype.cleanup=function(){this._element&&(this._invisible=!0,this._element.style.display="none")},e.prototype.attach=function(t){this._element=t,n.call(this,t)},e.prototype.detach=function(){var t=this._element;return t&&(o.call(this,t),this._invisible&&(this._invisible=!1,this._element.style.display="")),this._element=null,t},i.exports=e},{"./Entity":5,"./EventHandler":7,"./Transform":15}],4:[function(t,i){function e(){v.runLoop?(p.step(),window.requestAnimationFrame(e)):_=!1}function n(){for(var t=0;t<u.length;t++)u[t].emit("resize");g.emit("resize")}function o(){window.addEventListener("touchmove",function(t){t.preventDefault()},!0),document.body.classList.add("famous-root"),document.documentElement.classList.add("famous-root")}var s,r,a=t("./Context"),h=t("./EventHandler"),c=t("./OptionsManager"),p={},u=[],l=[],f=[],d=Date.now(),_=!0,y={},g=new h,v={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0,appMode:!0},m=new c(v),O=10;p.step=function(){var t=Date.now();if(!(r&&r>t-d)){var i=0;for(s=t-d,d=t,g.emit("prerender"),i=0;i<l.length;i++)l[i].call(this);for(l.splice(0);f.length&&Date.now()-t<O;)f.shift().call(this);for(i=0;i<u.length;i++)u[i].update();g.emit("postrender")}},window.requestAnimationFrame(e),window.addEventListener("resize",n,!1),n();var S=!1;p.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(p):g.pipe(t)},p.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(p):g.unpipe(t)},p.on=function(t,i){return t in y||(y[t]=g.emit.bind(g,t),document.body?document.body.addEventListener(t,y[t]):p.nextTick(function(t,i){document.body.addEventListener(t,i)}.bind(this,t,y[t]))),g.on(t,i)},p.emit=function(t,i){return g.emit(t,i)},p.removeListener=function(t,i){return g.removeListener(t,i)},p.getFPS=function(){return 1e3/s},p.setFPSCap=function(t){r=Math.floor(1e3/t)},p.getOptions=function(t){return m.getOptions(t)},p.setOptions=function(){return m.setOptions.apply(m,arguments)},p.createContext=function(t){!S&&v.appMode&&p.nextTick(o);var i=!1;t||(t=document.createElement(v.containerType),t.classList.add(v.containerClass),i=!0);var e=new a(t);return p.registerContext(e),i&&p.nextTick(function(t,i){document.body.appendChild(i),t.emit("resize")}.bind(this,e,t)),e},p.registerContext=function(t){return u.push(t),t},p.getContexts=function(){return u},p.deregisterContext=function(t){var i=u.indexOf(t);i>=0&&u.splice(i,1)},p.nextTick=function(t){l.push(t)},p.defer=function(t){f.push(t)},m.on("change",function(t){"fpsCap"===t.id?p.setFPSCap(t.value):"runLoop"===t.id&&!_&&t.value&&(_=!0,window.requestAnimationFrame(e))}),i.exports=p},{"./Context":1,"./EventHandler":7,"./OptionsManager":10}],5:[function(t,i){function e(t){return r[t]}function n(t,i){r[t]=i}function o(t){var i=r.length;return n(i,t),i}function s(t){n(t,null)}var r=[];i.exports={register:o,unregister:s,get:e,set:n}},{}],6:[function(t,i){function e(){this.listeners={},this._owner=this}e.prototype.emit=function(t,i){var e=this.listeners[t];if(e)for(var n=0;n<e.length;n++)e[n].call(this._owner,i);return this},e.prototype.on=function(t,i){t in this.listeners||(this.listeners[t]=[]);var e=this.listeners[t].indexOf(i);return 0>e&&this.listeners[t].push(i),this},e.prototype.addListener=e.prototype.on,e.prototype.removeListener=function(t,i){var e=this.listeners[t];if(void 0!==e){var n=e.indexOf(i);n>=0&&e.splice(n,1)}return this},e.prototype.bindThis=function(t){this._owner=t},i.exports=e},{}],7:[function(t,i){function e(){n.apply(this,arguments),this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={}}var n=t("./EventEmitter");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.setInputHandler=function(t,i){t.trigger=i.trigger.bind(i),i.subscribe&&i.unsubscribe&&(t.subscribe=i.subscribe.bind(i),t.unsubscribe=i.unsubscribe.bind(i))},e.setOutputHandler=function(t,i){i instanceof e&&i.bindThis(t),t.pipe=i.pipe.bind(i),t.unpipe=i.unpipe.bind(i),t.on=i.on.bind(i),t.addListener=t.on,t.removeListener=i.removeListener.bind(i)},e.prototype.emit=function(t,i){n.prototype.emit.apply(this,arguments);var e=0;for(e=0;e<this.downstream.length;e++)this.downstream[e].trigger&&this.downstream[e].trigger(t,i);for(e=0;e<this.downstreamFn.length;e++)this.downstreamFn[e](t,i);return this},e.prototype.trigger=e.prototype.emit,e.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,e=i.indexOf(t);return 0>e&&i.push(t),t instanceof Function?t("pipe",null):t.trigger&&t.trigger("pipe",null),t},e.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,e=i.indexOf(t);return e>=0?(i.splice(e,1),t instanceof Function?t("unpipe",null):t.trigger&&t.trigger("unpipe",null),t):!1},e.prototype.on=function(t){if(n.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var i=this.trigger.bind(this,t);this.upstreamListeners[t]=i;for(var e=0;e<this.upstream.length;e++)this.upstream[e].on(t,i)}return this},e.prototype.addListener=e.prototype.on,e.prototype.subscribe=function(t){var i=this.upstream.indexOf(t);if(0>i){this.upstream.push(t);for(var e in this.upstreamListeners)t.on(e,this.upstreamListeners[e])}return this},e.prototype.unsubscribe=function(t){var i=this.upstream.indexOf(t);if(i>=0){this.upstream.splice(i,1);for(var e in this.upstreamListeners)t.removeListener(e,this.upstreamListeners[e])}return this},i.exports=e},{"./EventEmitter":6}],8:[function(t,i){function e(t){s.call(this,t),this._shouldRecalculateSize=!1,this._container=document.createDocumentFragment(),this.context=new n(this._container),this.setContent(this._container),this._groupSize=[void 0,void 0]}var n=t("./Context"),o=t("./Transform"),s=t("./Surface");e.SIZE_ZERO=[0,0],e.prototype=Object.create(s.prototype),e.prototype.elementType="div",e.prototype.elementClass="famous-group",e.prototype.add=function(){return this.context.add.apply(this.context,arguments)},e.prototype.render=function(){return s.prototype.render.call(this)},e.prototype.deploy=function(t){this.context.migrate(t)},e.prototype.recall=function(){this._container=document.createDocumentFragment(),this.context.migrate(this._container)},e.prototype.commit=function(t){var i=t.transform,n=t.origin,r=t.opacity,a=t.size,h=s.prototype.commit.call(this,{allocator:t.allocator,transform:o.thenMove(i,[-n[0]*a[0],-n[1]*a[1],0]),opacity:r,origin:n,size:e.SIZE_ZERO});return(a[0]!==this._groupSize[0]||a[1]!==this._groupSize[1])&&(this._groupSize[0]=a[0],this._groupSize[1]=a[1],this.context.setSize(a)),this.context.update({transform:o.translate(-n[0]*a[0],-n[1]*a[1],0),origin:n,size:a}),h},i.exports=e},{"./Context":1,"./Surface":14,"./Transform":15}],9:[function(t,i){function e(t){this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null,this._legacyStates={},this._output={transform:o.identity,opacity:1,origin:null,align:null,size:null,proportions:null,target:null},t&&(t.transform&&this.transformFrom(t.transform),void 0!==t.opacity&&this.opacityFrom(t.opacity),t.origin&&this.originFrom(t.origin),t.align&&this.alignFrom(t.align),t.size&&this.sizeFrom(t.size),t.proportions&&this.proportionsFrom(t.proportions))}function n(){this._transformGetter&&(this._output.transform=this._transformGetter()),this._opacityGetter&&(this._output.opacity=this._opacityGetter()),this._originGetter&&(this._output.origin=this._originGetter()),this._alignGetter&&(this._output.align=this._alignGetter()),this._sizeGetter&&(this._output.size=this._sizeGetter()),this._proportionGetter&&(this._output.proportions=this._proportionGetter())}var o=t("./Transform"),s=t("../transitions/Transitionable"),r=t("../transitions/TransitionableTransform");e.prototype.transformFrom=function(t){return t instanceof Function?this._transformGetter=t:t instanceof Object&&t.get?this._transformGetter=t.get.bind(t):(this._transformGetter=null,this._output.transform=t),this},e.prototype.opacityFrom=function(t){return t instanceof Function?this._opacityGetter=t:t instanceof Object&&t.get?this._opacityGetter=t.get.bind(t):(this._opacityGetter=null,this._output.opacity=t),this},e.prototype.originFrom=function(t){return t instanceof Function?this._originGetter=t:t instanceof Object&&t.get?this._originGetter=t.get.bind(t):(this._originGetter=null,this._output.origin=t),this},e.prototype.alignFrom=function(t){return t instanceof Function?this._alignGetter=t:t instanceof Object&&t.get?this._alignGetter=t.get.bind(t):(this._alignGetter=null,this._output.align=t),this},e.prototype.sizeFrom=function(t){return t instanceof Function?this._sizeGetter=t:t instanceof Object&&t.get?this._sizeGetter=t.get.bind(t):(this._sizeGetter=null,this._output.size=t),this},e.prototype.proportionsFrom=function(t){return t instanceof Function?this._proportionGetter=t:t instanceof Object&&t.get?this._proportionGetter=t.get.bind(t):(this._proportionGetter=null,this._output.proportions=t),this},e.prototype.setTransform=function(t,i,e){return i||this._legacyStates.transform?(this._legacyStates.transform||(this._legacyStates.transform=new r(this._output.transform)),this._transformGetter||this.transformFrom(this._legacyStates.transform),this._legacyStates.transform.set(t,i,e),this):this.transformFrom(t)},e.prototype.setOpacity=function(t,i,e){return i||this._legacyStates.opacity?(this._legacyStates.opacity||(this._legacyStates.opacity=new s(this._output.opacity)),this._opacityGetter||this.opacityFrom(this._legacyStates.opacity),this._legacyStates.opacity.set(t,i,e)):this.opacityFrom(t)},e.prototype.setOrigin=function(t,i,e){return i||this._legacyStates.origin?(this._legacyStates.origin||(this._legacyStates.origin=new s(this._output.origin||[0,0])),this._originGetter||this.originFrom(this._legacyStates.origin),this._legacyStates.origin.set(t,i,e),this):this.originFrom(t)},e.prototype.setAlign=function(t,i,e){return i||this._legacyStates.align?(this._legacyStates.align||(this._legacyStates.align=new s(this._output.align||[0,0])),this._alignGetter||this.alignFrom(this._legacyStates.align),this._legacyStates.align.set(t,i,e),this):this.alignFrom(t)},e.prototype.setSize=function(t,i,e){return t&&(i||this._legacyStates.size)?(this._legacyStates.size||(this._legacyStates.size=new s(this._output.size||[0,0])),this._sizeGetter||this.sizeFrom(this._legacyStates.size),this._legacyStates.size.set(t,i,e),this):this.sizeFrom(t)},e.prototype.setProportions=function(t,i,e){return t&&(i||this._legacyStates.proportions)?(this._legacyStates.proportions||(this._legacyStates.proportions=new s(this._output.proportions||[0,0])),this._proportionGetter||this.proportionsFrom(this._legacyStates.proportions),this._legacyStates.proportions.set(t,i,e),this):this.proportionsFrom(t)},e.prototype.halt=function(){this._legacyStates.transform&&this._legacyStates.transform.halt(),this._legacyStates.opacity&&this._legacyStates.opacity.halt(),this._legacyStates.origin&&this._legacyStates.origin.halt(),this._legacyStates.align&&this._legacyStates.align.halt(),this._legacyStates.size&&this._legacyStates.size.halt(),this._legacyStates.proportions&&this._legacyStates.proportions.halt(),this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null},e.prototype.getTransform=function(){return this._transformGetter()},e.prototype.getFinalTransform=function(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform},e.prototype.getOpacity=function(){return this._opacityGetter()},e.prototype.getOrigin=function(){return this._originGetter()},e.prototype.getAlign=function(){return this._alignGetter()},e.prototype.getSize=function(){return this._sizeGetter?this._sizeGetter():this._output.size},e.prototype.getProportions=function(){return this._proportionGetter?this._proportionGetter():this._output.proportions},e.prototype.modify=function(t){return n.call(this),this._output.target=t,this._output},i.exports=e},{"../transitions/Transitionable":88,"../transitions/TransitionableTransform":89,"./Transform":15}],10:[function(t,i){function e(t){this._value=t,this.eventOutput=null}function n(){this.eventOutput=new o,this.eventOutput.bindThis(this),o.setOutputHandler(this,this.eventOutput)}var o=t("./EventHandler");e.patch=function(t){for(var i=new e(t),n=1;n<arguments.length;n++)i.patch(arguments[n]);return t},e.prototype.patch=function(){for(var t=this._value,i=0;i<arguments.length;i++){var e=arguments[i];for(var n in e)n in t&&e[n]&&e[n].constructor===Object&&t[n]&&t[n].constructor===Object?(t.hasOwnProperty(n)||(t[n]=Object.create(t[n])),this.key(n).patch(e[n]),this.eventOutput&&this.eventOutput.emit("change",{id:n,value:this.key(n).value()})):this.set(n,e[n])}return this},e.prototype.setOptions=e.prototype.patch,e.prototype.key=function(t){var i=new e(this._value[t]);return(!(i._value instanceof Object)||i._value instanceof Array)&&(i._value={}),i},e.prototype.get=function(t){return t?this._value[t]:this._value},e.prototype.getOptions=e.prototype.get,e.prototype.set=function(t,i){var e=this.get(t);return this._value[t]=i,this.eventOutput&&i!==e&&this.eventOutput.emit("change",{id:t,value:i}),this},e.prototype.on=function(){return n.call(this),this.on.apply(this,arguments)},e.prototype.removeListener=function(){return n.call(this),this.removeListener.apply(this,arguments)},e.prototype.pipe=function(){return n.call(this),this.pipe.apply(this,arguments)},e.prototype.unpipe=function(){return n.call(this),this.unpipe.apply(this,arguments)},i.exports=e},{"./EventHandler":7}],11:[function(t,i){function e(t){this._object=null,this._child=null,this._hasMultipleChildren=!1,this._isRenderable=!1,this._isModifier=!1,this._resultCache={},this._prevResults={},this._childResult=null,t&&this.set(t)}function n(t,i,e){for(var r=s.parse(t,i),a=Object.keys(r),h=0;h<a.length;h++){var c=a[h],p=o.get(c),u=r[c];u.allocator=i.allocator;var l=p.commit(u);l?n(l,i,e):e[c]=u}}var o=t("./Entity"),s=t("./SpecParser");e.prototype.add=function(t){var i=t instanceof e?t:new e(t);return this._child instanceof Array?this._child.push(i):this._child?(this._child=[this._child,i],this._hasMultipleChildren=!0,this._childResult=[]):this._child=i,i},e.prototype.get=function(){return this._object||(this._hasMultipleChildren?null:this._child?this._child.get():null)},e.prototype.set=function(t){return this._childResult=null,this._hasMultipleChildren=!1,this._isRenderable=t.render?!0:!1,this._isModifier=t.modify?!0:!1,this._object=t,this._child=null,t instanceof e?t:this},e.prototype.getSize=function(){var t=null,i=this.get();return i&&i.getSize&&(t=i.getSize()),!t&&this._child&&this._child.getSize&&(t=this._child.getSize()),t},e.prototype.commit=function(t){for(var i=Object.keys(this._prevResults),e=0;e<i.length;e++){var s=i[e];if(void 0===this._resultCache[s]){var r=o.get(s);r.cleanup&&r.cleanup(t.allocator)}}this._prevResults=this._resultCache,this._resultCache={},n(this.render(),t,this._resultCache)},e.prototype.render=function(){if(this._isRenderable)return this._object.render();var t=null;if(this._hasMultipleChildren){t=this._childResult;for(var i=this._child,e=0;e<i.length;e++)t[e]=i[e].render()}else this._child&&(t=this._child.render());return this._isModifier?this._object.modify(t):t},i.exports=e},{"./Entity":5,"./SpecParser":13}],12:[function(t,i){function e(t){this.id=null,this._objects=null,this.node=new c,this._definition=null,t&&this.load(t)}function n(t){for(var i in p)if(i in t){var e=t[i];return e instanceof Array||(e=[e]),p[i].apply(this,e)}}function o(t){var i=t.transform,e=t.opacity,o=t.origin,s=t.align,r=t.size,c=a.identity;if(i instanceof Array)if(16===i.length&&"number"==typeof i[0])c=i;else for(var p=0;p<i.length;p++)c=a.multiply(c,n(i[p]));else i instanceof Function?c=i:i instanceof Object&&(c=n(i));var u=new h({transform:c,opacity:e,origin:o,align:s,size:r});return u}function s(t){for(var i=new c,e=0;e<t.length;e++){var n=r.call(this,t[e]);n&&i.add(n)}return i}function r(t){var i,e;if(t instanceof Array)i=s.call(this,t);else if(e=this._objects.length,t.render&&t.render instanceof Function)i=t;else if(t.target){var n=r.call(this,t.target),a=o.call(this,t);i=new c(a),i.add(n),t.id&&(this.id[t.id]=a)}else t.id&&(i=new c,this.id[t.id]=i);return this._objects[e]=i,i}var a=t("./Transform"),h=t("./Modifier"),c=t("./RenderNode"),p={translate:a.translate,rotate:a.rotate,rotateX:a.rotateX,rotateY:a.rotateY,rotateZ:a.rotateZ,rotateAxis:a.rotateAxis,scale:a.scale,skew:a.skew,matrix3d:function(){return arguments}};e.prototype.create=function(){return new e(this._definition)},e.prototype.load=function(t){this._definition=t,this.id={},this._objects=[],this.node.set(r.call(this,t))},e.prototype.add=function(){return this.node.add.apply(this.node,arguments)},e.prototype.render=function(){return this.node.render.apply(this.node,arguments)},i.exports=e},{"./Modifier":9,"./RenderNode":11,"./Transform":15}],13:[function(t,i){function e(){this.result={}}function n(t,i){return[t[0]*i[0]+t[1]*i[4]+t[2]*i[8],t[0]*i[1]+t[1]*i[5]+t[2]*i[9],t[0]*i[2]+t[1]*i[6]+t[2]*i[10]]}var o=t("./Transform");e._instance=new e,e.parse=function(t,i){return e._instance.parse(t,i)},e.prototype.parse=function(t,i){return this.reset(),this._parseSpec(t,i,o.identity),this.result},e.prototype.reset=function(){this.result={}};var s=[0,0];e.prototype._parseSpec=function(t,i,e){var r,a,h,c,p,u,l;if("number"==typeof t){if(r=t,h=i.transform,u=i.align||s,i.size&&u&&(u[0]||u[1])){var f=[u[0]*i.size[0],u[1]*i.size[1],0];h=o.thenMove(h,n(f,e))}this.result[r]={transform:h,opacity:i.opacity,origin:i.origin||s,align:i.align||s,size:i.size}}else{if(!t)return;if(t instanceof Array)for(var d=0;d<t.length;d++)this._parseSpec(t[d],i,e);else{a=t.target,h=i.transform,c=i.opacity,p=i.origin,u=i.align,l=i.size;var _=e;if(void 0!==t.opacity&&(c=i.opacity*t.opacity),t.transform&&(h=o.multiply(i.transform,t.transform)),t.origin&&(p=t.origin,_=i.transform),t.align&&(u=t.align),t.size||t.proportions){var y=l;l=[l[0],l[1]],t.size&&(void 0!==t.size[0]&&(l[0]=t.size[0]),void 0!==t.size[1]&&(l[1]=t.size[1])),t.proportions&&(void 0!==t.proportions[0]&&(l[0]=l[0]*t.proportions[0]),void 0!==t.proportions[1]&&(l[1]=l[1]*t.proportions[1])),y&&(u&&(u[0]||u[1])&&(h=o.thenMove(h,n([u[0]*y[0],u[1]*y[1],0],e))),p&&(p[0]||p[1])&&(h=o.moveThen([-p[0]*l[0],-p[1]*l[1],0],h))),_=i.transform,p=null,u=null}this._parseSpec(a,{transform:h,opacity:c,origin:p,align:u,size:l},_)}}},i.exports=e},{"./Transform":15}],14:[function(t,i){function e(t){c.call(this),this.options={},this.properties={},this.attributes={},this.content="",this.classList=[],this.size=null,this._classesDirty=!0,this._stylesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._trueSizeCheck=!0,this._dirtyClasses=[],t&&this.setOptions(t),this._currentTarget=null}function n(t){for(var i=0;i<this._dirtyClasses.length;i++)t.classList.remove(this._dirtyClasses[i]);this._dirtyClasses=[]}function o(t){for(var i in this.properties)t.style[i]=this.properties[i]}function s(t){for(var i in this.properties)t.style[i]=""}function r(t){for(var i in this.attributes)t.setAttribute(i,this.attributes[i])}function a(t){for(var i in this.attributes)t.removeAttribute(i)}function h(t,i){return t&&i?t[0]!==i[0]||t[1]!==i[1]:t!==i}var c=t("./ElementOutput");e.prototype=Object.create(c.prototype),e.prototype.constructor=e,e.prototype.elementType="div",e.prototype.elementClass="famous-surface",e.prototype.setAttributes=function(t){for(var i in t){if("style"===i)throw new Error('Cannot set styles via "setAttributes" as it will break Famo.us.  Use "setProperties" instead.');this.attributes[i]=t[i]}this._attributesDirty=!0},e.prototype.getAttributes=function(){return this.attributes},e.prototype.setProperties=function(t){for(var i in t)this.properties[i]=t[i];return this._stylesDirty=!0,this},e.prototype.getProperties=function(){return this.properties},e.prototype.addClass=function(t){return this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0),this},e.prototype.removeClass=function(t){var i=this.classList.indexOf(t);return i>=0&&(this._dirtyClasses.push(this.classList.splice(i,1)[0]),this._classesDirty=!0),this},e.prototype.toggleClass=function(t){var i=this.classList.indexOf(t);return i>=0?this.removeClass(t):this.addClass(t),this},e.prototype.setClasses=function(t){var i=0,e=[];for(i=0;i<this.classList.length;i++)t.indexOf(this.classList[i])<0&&e.push(this.classList[i]);for(i=0;i<e.length;i++)this.removeClass(e[i]);for(i=0;i<t.length;i++)this.addClass(t[i]);return this},e.prototype.getClassList=function(){return this.classList},e.prototype.setContent=function(t){return this.content!==t&&(this.content=t,this._contentDirty=!0),this},e.prototype.getContent=function(){return this.content},e.prototype.setOptions=function(t){return t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.attributes&&this.setAttributes(t.attributes),t.content&&this.setContent(t.content),this},e.prototype.setup=function(t){var i=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var e=0;e<this.elementClass.length;e++)i.classList.add(this.elementClass[e]);else i.classList.add(this.elementClass);i.style.display="",this.attach(i),this._opacity=null,this._currentTarget=i,this._stylesDirty=!0,this._classesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._originDirty=!0,this._transformDirty=!0},e.prototype.commit=function(t){this._currentTarget||this.setup(t.allocator);var i=this._currentTarget,e=t.size;if(this._classesDirty){n.call(this,i);for(var s=this.getClassList(),a=0;a<s.length;a++)i.classList.add(s[a]);this._classesDirty=!1,this._trueSizeCheck=!0}if(this._stylesDirty&&(o.call(this,i),this._stylesDirty=!1,this._trueSizeCheck=!0),this._attributesDirty&&(r.call(this,i),this._attributesDirty=!1,this._trueSizeCheck=!0),this.size){var p=t.size;if(e=[this.size[0],this.size[1]],void 0===e[0]&&(e[0]=p[0]),void 0===e[1]&&(e[1]=p[1]),e[0]===!0||e[1]===!0){if(e[0]!==!0||!this._trueSizeCheck&&0!==this._size[0])this._size&&(e[0]=this._size[0]);else{var u=i.offsetWidth;this._size&&this._size[0]!==u&&(this._size[0]=u,this._sizeDirty=!0),e[0]=u}if(e[1]!==!0||!this._trueSizeCheck&&0!==this._size[1])this._size&&(e[1]=this._size[1]);else{var l=i.offsetHeight;this._size&&this._size[1]!==l&&(this._size[1]=l,this._sizeDirty=!0),e[1]=l}this._trueSizeCheck=!1}}h(this._size,e)&&(this._size||(this._size=[0,0]),this._size[0]=e[0],this._size[1]=e[1],this._sizeDirty=!0),this._sizeDirty&&(this._size&&(i.style.width=this.size&&this.size[0]===!0?"":this._size[0]+"px",i.style.height=this.size&&this.size[1]===!0?"":this._size[1]+"px"),this._eventOutput.emit("resize")),this._contentDirty&&(this.deploy(i),this._eventOutput.emit("deploy"),this._contentDirty=!1,this._trueSizeCheck=!0),c.prototype.commit.call(this,t)},e.prototype.cleanup=function(t){var i=0,e=this._currentTarget;this._eventOutput.emit("recall"),this.recall(e),e.style.display="none",e.style.opacity="",e.style.width="",e.style.height="",s.call(this,e),a.call(this,e);var o=this.getClassList();for(n.call(this,e),i=0;i<o.length;i++)e.classList.remove(o[i]);if(this.elementClass)if(this.elementClass instanceof Array)for(i=0;i<this.elementClass.length;i++)e.classList.remove(this.elementClass[i]);else e.classList.remove(this.elementClass);this.detach(e),this._currentTarget=null,t.deallocate(e)},e.prototype.deploy=function(t){var i=this.getContent();if(i instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}else t.innerHTML=i},e.prototype.recall=function(t){for(var i=document.createDocumentFragment();t.hasChildNodes();)i.appendChild(t.firstChild);this.setContent(i)},e.prototype.getSize=function(){return this._size?this._size:this.size},e.prototype.setSize=function(t){return this.size=t?[t[0],t[1]]:null,this._sizeDirty=!0,this},i.exports=e},{"./ElementOutput":3}],15:[function(t,i){function e(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function n(t){return Math.sqrt(e(t))}function o(t){return 0>t?-1:1}var s={};s.precision=1e-6,s.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s.multiply4x4=function(t,i){return[t[0]*i[0]+t[4]*i[1]+t[8]*i[2]+t[12]*i[3],t[1]*i[0]+t[5]*i[1]+t[9]*i[2]+t[13]*i[3],t[2]*i[0]+t[6]*i[1]+t[10]*i[2]+t[14]*i[3],t[3]*i[0]+t[7]*i[1]+t[11]*i[2]+t[15]*i[3],t[0]*i[4]+t[4]*i[5]+t[8]*i[6]+t[12]*i[7],t[1]*i[4]+t[5]*i[5]+t[9]*i[6]+t[13]*i[7],t[2]*i[4]+t[6]*i[5]+t[10]*i[6]+t[14]*i[7],t[3]*i[4]+t[7]*i[5]+t[11]*i[6]+t[15]*i[7],t[0]*i[8]+t[4]*i[9]+t[8]*i[10]+t[12]*i[11],t[1]*i[8]+t[5]*i[9]+t[9]*i[10]+t[13]*i[11],t[2]*i[8]+t[6]*i[9]+t[10]*i[10]+t[14]*i[11],t[3]*i[8]+t[7]*i[9]+t[11]*i[10]+t[15]*i[11],t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12]*i[15],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13]*i[15],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14]*i[15],t[3]*i[12]+t[7]*i[13]+t[11]*i[14]+t[15]*i[15]]},s.multiply=function(t,i){return[t[0]*i[0]+t[4]*i[1]+t[8]*i[2],t[1]*i[0]+t[5]*i[1]+t[9]*i[2],t[2]*i[0]+t[6]*i[1]+t[10]*i[2],0,t[0]*i[4]+t[4]*i[5]+t[8]*i[6],t[1]*i[4]+t[5]*i[5]+t[9]*i[6],t[2]*i[4]+t[6]*i[5]+t[10]*i[6],0,t[0]*i[8]+t[4]*i[9]+t[8]*i[10],t[1]*i[8]+t[5]*i[9]+t[9]*i[10],t[2]*i[8]+t[6]*i[9]+t[10]*i[10],0,t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14],1]
},s.thenMove=function(t,i){return i[2]||(i[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+i[0],t[13]+i[1],t[14]+i[2],1]},s.moveThen=function(t,i){t[2]||(t[2]=0);var e=t[0]*i[0]+t[1]*i[4]+t[2]*i[8],n=t[0]*i[1]+t[1]*i[5]+t[2]*i[9],o=t[0]*i[2]+t[1]*i[6]+t[2]*i[10];return s.thenMove(i,[e,n,o])},s.translate=function(t,i,e){return void 0===e&&(e=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,i,e,1]},s.thenScale=function(t,i){return[i[0]*t[0],i[1]*t[1],i[2]*t[2],0,i[0]*t[4],i[1]*t[5],i[2]*t[6],0,i[0]*t[8],i[1]*t[9],i[2]*t[10],0,i[0]*t[12],i[1]*t[13],i[2]*t[14],1]},s.scale=function(t,i,e){return void 0===e&&(e=1),void 0===i&&(i=t),[t,0,0,0,0,i,0,0,0,0,e,0,0,0,0,1]},s.rotateX=function(t){var i=Math.cos(t),e=Math.sin(t);return[1,0,0,0,0,i,e,0,0,-e,i,0,0,0,0,1]},s.rotateY=function(t){var i=Math.cos(t),e=Math.sin(t);return[i,0,-e,0,0,1,0,0,e,0,i,0,0,0,0,1]},s.rotateZ=function(t){var i=Math.cos(t),e=Math.sin(t);return[i,e,0,0,-e,i,0,0,0,0,1,0,0,0,0,1]},s.rotate=function(t,i,e){var n=Math.cos(t),o=Math.sin(t),s=Math.cos(i),r=Math.sin(i),a=Math.cos(e),h=Math.sin(e),c=[s*a,n*h+o*r*a,o*h-n*r*a,0,-s*h,n*a-o*r*h,o*a+n*r*h,0,r,-o*s,n*s,0,0,0,0,1];return c},s.rotateAxis=function(t,i){var e=Math.sin(i),n=Math.cos(i),o=1-n,s=t[0]*t[0]*o,r=t[0]*t[1]*o,a=t[0]*t[2]*o,h=t[1]*t[1]*o,c=t[1]*t[2]*o,p=t[2]*t[2]*o,u=t[0]*e,l=t[1]*e,f=t[2]*e,d=[s+n,r+f,a-l,0,r-f,h+n,c+u,0,a+l,c-u,p+n,0,0,0,0,1];return d},s.aboutOrigin=function(t,i){var e=t[0]-(t[0]*i[0]+t[1]*i[4]+t[2]*i[8]),n=t[1]-(t[0]*i[1]+t[1]*i[5]+t[2]*i[9]),o=t[2]-(t[0]*i[2]+t[1]*i[6]+t[2]*i[10]);return s.thenMove(i,[e,n,o])},s.skew=function(t,i,e){return[1,Math.tan(i),0,0,Math.tan(e),1,0,0,0,Math.tan(t),1,0,0,0,0,1]},s.skewX=function(t){return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1]},s.skewY=function(t){return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},s.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},s.getTranslate=function(t){return[t[12],t[13],t[14]]},s.inverse=function(t){var i=t[5]*t[10]-t[6]*t[9],e=t[4]*t[10]-t[6]*t[8],n=t[4]*t[9]-t[5]*t[8],o=t[1]*t[10]-t[2]*t[9],s=t[0]*t[10]-t[2]*t[8],r=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],h=t[0]*t[6]-t[2]*t[4],c=t[0]*t[5]-t[1]*t[4],p=t[0]*i-t[1]*e+t[2]*n,u=1/p,l=[u*i,-u*o,u*a,0,-u*e,u*s,-u*h,0,u*n,-u*r,u*c,0,0,0,0,1];return l[12]=-t[12]*l[0]-t[13]*l[4]-t[14]*l[8],l[13]=-t[12]*l[1]-t[13]*l[5]-t[14]*l[9],l[14]=-t[12]*l[2]-t[13]*l[6]-t[14]*l[10],l},s.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},s.interpret=function(t){var i=[t[0],t[1],t[2]],r=o(i[0]),a=n(i),h=[i[0]+r*a,i[1],i[2]],c=2/e(h);if(c>=1/0)return{translate:s.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];p[0]=1-c*h[0]*h[0],p[5]=1-c*h[1]*h[1],p[10]=1-c*h[2]*h[2],p[1]=-c*h[0]*h[1],p[2]=-c*h[0]*h[2],p[6]=-c*h[1]*h[2],p[4]=p[1],p[8]=p[2],p[9]=p[6];var u=s.multiply(p,t),l=[u[5],u[6]],f=o(l[0]),d=n(l),_=[l[0]+f*d,l[1]],y=2/e(_),g=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];g[5]=1-y*_[0]*_[0],g[10]=1-y*_[1]*_[1],g[6]=-y*_[0]*_[1],g[9]=g[6];var v=s.multiply(g,p),m=s.multiply(v,t),O=s.scale(m[0]<0?-1:1,m[5]<0?-1:1,m[10]<0?-1:1);m=s.multiply(m,O),v=s.multiply(O,v);var S={};return S.translate=s.getTranslate(t),S.rotate=[Math.atan2(-v[6],v[10]),Math.asin(v[2]),Math.atan2(-v[1],v[0])],S.rotate[0]||(S.rotate[0]=0,S.rotate[2]=Math.atan2(v[4],v[5])),S.scale=[m[0],m[5],m[10]],S.skew=[Math.atan2(m[9],S.scale[2]),Math.atan2(m[8],S.scale[2]),Math.atan2(m[4],S.scale[0])],Math.abs(S.rotate[0])+Math.abs(S.rotate[2])>1.5*Math.PI&&(S.rotate[1]=Math.PI-S.rotate[1],S.rotate[1]>Math.PI&&(S.rotate[1]-=2*Math.PI),S.rotate[1]<-Math.PI&&(S.rotate[1]+=2*Math.PI),S.rotate[0]<0?S.rotate[0]+=Math.PI:S.rotate[0]-=Math.PI,S.rotate[2]<0?S.rotate[2]+=Math.PI:S.rotate[2]-=Math.PI),S},s.average=function(t,i,e){e=void 0===e?.5:e;for(var n=s.interpret(t),o=s.interpret(i),r={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)r.translate[a]=(1-e)*n.translate[a]+e*o.translate[a],r.rotate[a]=(1-e)*n.rotate[a]+e*o.rotate[a],r.scale[a]=(1-e)*n.scale[a]+e*o.scale[a],r.skew[a]=(1-e)*n.skew[a]+e*o.skew[a];return s.build(r)},s.build=function(t){var i=s.scale(t.scale[0],t.scale[1],t.scale[2]),e=s.skew(t.skew[0],t.skew[1],t.skew[2]),n=s.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return s.thenMove(s.multiply(s.multiply(n,e),i),t.translate)},s.equals=function(t,i){return!s.notEquals(t,i)},s.notEquals=function(t,i){return t===i?!1:!(t&&i)||t[12]!==i[12]||t[13]!==i[13]||t[14]!==i[14]||t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]},s.normalizeRotation=function(t){var i=t.slice(0);for((i[0]===.5*Math.PI||i[0]===.5*-Math.PI)&&(i[0]=-i[0],i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]>.5*Math.PI&&(i[0]=i[0]-Math.PI,i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]<.5*-Math.PI&&(i[0]=i[0]+Math.PI,i[1]=-Math.PI-i[1],i[2]-=Math.PI);i[1]<-Math.PI;)i[1]+=2*Math.PI;for(;i[1]>=Math.PI;)i[1]-=2*Math.PI;for(;i[2]<-Math.PI;)i[2]+=2*Math.PI;for(;i[2]>=Math.PI;)i[2]-=2*Math.PI;return i},s.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1],s.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1],i.exports=s},{}],16:[function(t,i){function e(t){this._node=new s,this._eventInput=new n,this._eventOutput=new n,n.setInputHandler(this,this._eventInput),n.setOutputHandler(this,this._eventOutput),this.options=r.clone(this.constructor.DEFAULT_OPTIONS||e.DEFAULT_OPTIONS),this._optionsManager=new o(this.options),t&&this.setOptions(t)}var n=t("./EventHandler"),o=t("./OptionsManager"),s=t("./RenderNode"),r=t("../utilities/Utility");e.DEFAULT_OPTIONS={},e.prototype.getOptions=function(t){return this._optionsManager.getOptions(t)},e.prototype.setOptions=function(t){this._optionsManager.patch(t)},e.prototype.add=function(){return this._node.add.apply(this._node,arguments)},e.prototype._add=e.prototype.add,e.prototype.render=function(){return this._node.render()},e.prototype.getSize=function(){return this._node&&this._node.getSize?this._node.getSize.apply(this._node,arguments)||this.options.size:this.options.size},i.exports=e},{"../utilities/Utility":95,"./EventHandler":7,"./OptionsManager":10,"./RenderNode":11}],17:[function(t,i){function e(t){t||(t=[]),t instanceof Array&&(t={array:t}),this._=null,this.index=t.index||0,t.array?this._=new this.constructor.Backing(t.array):t._&&(this._=t._),this.index===this._.firstIndex&&(this._.firstNode=this),this.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=this),void 0!==t.loop&&(this._.loop=t.loop),void 0!==t.trackSize&&(this._.trackSize=t.trackSize),this._previousNode=null,this._nextNode=null}e.Backing=function(t){this.array=t,this.firstIndex=0,this.loop=!1,this.firstNode=null,this.lastNode=null,this.cumulativeSizes=[[0,0]],this.sizeDirty=!0,this.trackSize=!1},e.Backing.prototype.getValue=function(t){var i=t-this.firstIndex;return 0>i||i>=this.array.length?null:this.array[i]},e.Backing.prototype.setValue=function(t,i){this.array[t-this.firstIndex]=i},e.Backing.prototype.getSize=function(t){return this.cumulativeSizes[t]},e.Backing.prototype.calculateSize=function(t){t=t||this.array.length;for(var i=[0,0],e=0;t>e;e++){var n=this.array[e].getSize();if(!n)return void 0;void 0!==i[0]&&(void 0===n[0]?i[0]=void 0:i[0]+=n[0]),void 0!==i[1]&&(void 0===n[1]?i[1]=void 0:i[1]+=n[1]),this.cumulativeSizes[e+1]=i.slice()}return this.sizeDirty=!1,i},e.Backing.prototype.reindex=function(t,i,e){if(this.array[0]){for(var n=0,o=this.firstIndex,s=e-i,r=this.firstNode;t-1>o;)r=r.getNext(),o++;var a=r;for(n=0;i>n;n++)r=r.getNext(),r&&(r._previousNode=a);var h=r?r.getNext():null;for(a._nextNode=null,r=a,n=0;e>n;n++)r=r.getNext();if(o+=e,r!==h&&(r._nextNode=h,h&&(h._previousNode=r)),h)for(r=h,o++;r&&o<this.array.length+this.firstIndex;)r._nextNode?r.index+=s:r.index=o,r=r.getNext(),o++;this.trackSize&&(this.sizeDirty=!0)}},e.prototype.getPrevious=function(){var t=this._.array.length;return t?this.index===this._.firstIndex?this._.loop?(this._previousNode=this._.lastNode||new this.constructor({_:this._,index:this._.firstIndex+t-1}),this._previousNode._nextNode=this):this._previousNode=null:this._previousNode||(this._previousNode=new this.constructor({_:this._,index:this.index-1}),this._previousNode._nextNode=this):this._previousNode=null,this._previousNode},e.prototype.getNext=function(){var t=this._.array.length;return t?this.index===this._.firstIndex+t-1?this._.loop?(this._nextNode=this._.firstNode||new this.constructor({_:this._,index:this._.firstIndex}),this._nextNode._previousNode=this):this._nextNode=null:this._nextNode||(this._nextNode=new this.constructor({_:this._,index:this.index+1}),this._nextNode._previousNode=this):this._nextNode=null,this._nextNode},e.prototype.indexOf=function(t){return this._.array.indexOf(t)},e.prototype.getIndex=function(){return this.index},e.prototype.toString=function(){return""+this.index},e.prototype.unshift=function(){this._.array.unshift.apply(this._.array,arguments),this._.firstIndex-=arguments.length,this._.trackSize&&(this._.sizeDirty=!0)},e.prototype.push=function(){this._.array.push.apply(this._.array,arguments),this._.trackSize&&(this._.sizeDirty=!0)},e.prototype.splice=function(t,i){var e=Array.prototype.slice.call(arguments,2);this._.array.splice.apply(this._.array,[t-this._.firstIndex,i].concat(e)),this._.reindex(t,i,e.length)},e.prototype.swap=function(t){var i=t.get(),e=this.get();this._.setValue(this.index,i),this._.setValue(t.index,e);var n=this._previousNode,o=this._nextNode,s=this.index,r=t._previousNode,a=t._nextNode,h=t.index;this.index=h,this._previousNode=r===this?t:r,this._previousNode&&(this._previousNode._nextNode=this),this._nextNode=a===this?t:a,this._nextNode&&(this._nextNode._previousNode=this),t.index=s,t._previousNode=n===t?this:n,t._previousNode&&(t._previousNode._nextNode=t),t._nextNode=o===t?this:o,t._nextNode&&(t._nextNode._previousNode=t),this.index===this._.firstIndex?this._.firstNode=this:this.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=this),t.index===this._.firstIndex?this._.firstNode=t:t.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=t),this._.trackSize&&(this._.sizeDirty=!0)},e.prototype.get=function(){return this._.getValue(this.index)},e.prototype.getSize=function(){var t=this.get();return t?t.getSize():null},e.prototype.render=function(){this._.trackSize&&this._.sizeDirty&&this._.calculateSize();var t=this.get();return t?t.render.apply(t,arguments):null},i.exports=e},{}],18:[function(t,i){i.exports={Context:t("./Context"),ElementAllocator:t("./ElementAllocator"),ElementOutput:t("./ElementOutput"),Engine:t("./Engine"),Entity:t("./Entity"),EventEmitter:t("./EventEmitter"),EventHandler:t("./EventHandler"),Group:t("./Group"),Modifier:t("./Modifier"),OptionsManager:t("./OptionsManager"),RenderNode:t("./RenderNode"),Scene:t("./Scene"),SpecParser:t("./SpecParser"),Surface:t("./Surface"),Transform:t("./Transform"),View:t("./View"),ViewSequence:t("./ViewSequence")}},{"./Context":1,"./ElementAllocator":2,"./ElementOutput":3,"./Engine":4,"./Entity":5,"./EventEmitter":6,"./EventHandler":7,"./Group":8,"./Modifier":9,"./OptionsManager":10,"./RenderNode":11,"./Scene":12,"./SpecParser":13,"./Surface":14,"./Transform":15,"./View":16,"./ViewSequence":17}],19:[function(t,i){function e(t){this.dispatchers={},this.currMode=void 0,this.setMode(t)}var n=t("../core/EventHandler");e.prototype.setMode=function(t){if(t!==this.currMode){var i=this.currMode;this.dispatchers[this.currMode]&&this.dispatchers[this.currMode].trigger("unpipe"),this.currMode=t,this.dispatchers[t]&&this.dispatchers[t].emit("pipe"),this.emit("change",{from:i,to:t})}},e.prototype.forMode=function(t){return this.dispatchers[t]||(this.dispatchers[t]=new n),this.dispatchers[t]},e.prototype.emit=function(t,i){if(void 0===this.currMode)return!1;i||(i={});var e=this.dispatchers[this.currMode];return e?e.trigger(t,i):void 0},i.exports=e},{"../core/EventHandler":7}],20:[function(t,i){function e(t){n.call(this),this._condition=t}var n=t("../core/EventHandler");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.emit=function(t,i){return this._condition(t,i)?n.prototype.emit.apply(this,arguments):void 0},e.prototype.trigger=e.prototype.emit,i.exports=e},{"../core/EventHandler":7}],21:[function(t,i){function e(t){n.call(this),this._mappingFunction=t}var n=t("../core/EventHandler");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.subscribe=null,e.prototype.unsubscribe=null,e.prototype.emit=function(t,i){var e=this._mappingFunction.apply(this,arguments);e&&e.emit instanceof Function&&e.emit(t,i)},e.prototype.trigger=e.prototype.emit,i.exports=e},{"../core/EventHandler":7}],22:[function(t,i){i.exports={EventArbiter:t("./EventArbiter"),EventFilter:t("./EventFilter"),EventMapper:t("./EventMapper")}},{"./EventArbiter":19,"./EventFilter":20,"./EventMapper":21}],23:[function(t,i){i.exports={events:t("./events"),core:t("./core"),math:t("./math"),inputs:t("./inputs"),physics:t("./physics"),modifiers:t("./modifiers"),surfaces:t("./surfaces"),transitions:t("./transitions"),utilities:t("./utilities"),views:t("./views"),widgets:t("./widgets")}},{"./core":18,"./events":22,"./inputs":36,"./math":42,"./modifiers":47,"./physics":71,"./surfaces":82,"./transitions":92,"./utilities":96,"./views":111,"./widgets":116}],24:[function(t,i){function e(t,i){void 0===i&&(i="update"),this._state=t&&t.get&&t.set?t:new s(t||0),this._eventInput=new o,o.setInputHandler(this,this._eventInput),this._eventInput.on(i,n.bind(this))}function n(t){var i=t.delta,e=this.get();if(i.constructor===e.constructor){var n=i instanceof Array?[e[0]+i[0],e[1]+i[1]]:e+i;this.set(n)}}var o=t("../core/EventHandler"),s=t("../transitions/Transitionable");e.prototype.get=function(){return this._state.get()},e.prototype.set=function(t){this._state.set(t)},i.exports=e},{"../core/EventHandler":7,"../transitions/Transitionable":88}],25:[function(){function t(t){window.addEventListener(t,function(t){return t.stopPropagation(),!1},!0)}var i="ontouchstart"in window;i&&(t("mousedown"),t("mousemove"),t("mouseup"),t("mouseleave"))},{}],26:[function(){!function(){if(window.CustomEvent){var t=300,i=500,e={},n={},o=Date.now;window.addEventListener("touchstart",function(t){for(var i=o(),n=0;n<t.changedTouches.length;n++){var s=t.changedTouches[n];e[s.identifier]=i}}),window.addEventListener("touchmove",function(t){for(var i=0;i<t.changedTouches.length;i++){var n=t.changedTouches[i];delete e[n.identifier]}}),window.addEventListener("touchend",function(i){for(var s=o(),r=0;r<i.changedTouches.length;r++){var a=i.changedTouches[r],h=e[a.identifier];if(h&&t>s-h){var c=new window.CustomEvent("click",{bubbles:!0,detail:a});n[s]=i,i.target.dispatchEvent(c)}delete e[a.identifier]}}),window.addEventListener("click",function(t){var e=o();for(var s in n){var r=n[s];i>e-s?t instanceof window.MouseEvent&&t.target===r.target&&t.stopPropagation():delete n[s]}},!0)}}()},{}],27:[function(t,i){function e(t,i){this._eventInput=new o,this._eventOutput=new o,o.setInputHandler(this,this._eventInput),o.setOutputHandler(this,this._eventOutput),this._syncs={},t&&this.addSync(t),i&&this.setOptions(i)}function n(t,i){s[t]&&(this._syncs[t]=new s[t](i),this.pipeSync(t))}var o=t("../core/EventHandler");e.DIRECTION_X=0,e.DIRECTION_Y=1,e.DIRECTION_Z=2;var s={};e.register=function(t){for(var i in t){if(s[i]){if(s[i]===t[i])return;throw new Error("this key is registered to a different sync class")}s[i]=t[i]}},e.prototype.setOptions=function(t){for(var i in this._syncs)this._syncs[i].setOptions(t)},e.prototype.pipeSync=function(t){var i=this._syncs[t];this._eventInput.pipe(i),i.pipe(this._eventOutput)},e.prototype.unpipeSync=function(t){var i=this._syncs[t];this._eventInput.unpipe(i),i.unpipe(this._eventOutput)},e.prototype.addSync=function(t){if(t instanceof Array)for(var i=0;i<t.length;i++)n.call(this,t[i]);else if(t instanceof Object)for(var e in t)n.call(this,e,t[e])},i.exports=e},{"../core/EventHandler":7}],28:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new h(this.options),t&&this.setOptions(t),this._eventInput=new a,this._eventOutput=new a,a.setInputHandler(this,this._eventInput),a.setOutputHandler(this,this._eventOutput),this._eventInput.on("mousedown",n.bind(this)),this._eventInput.on("mousemove",o.bind(this)),this._eventInput.on("mouseup",s.bind(this)),this.options.propogate?this._eventInput.on("mouseleave",r.bind(this)):this._eventInput.on("mouseleave",s.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:0,clientY:0,offsetX:0,offsetY:0},this._positionHistory=[],this._position=null,this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._moved=!1,this._documentActive=!1}function n(t){var i,e;this.options.preventDefault&&t.preventDefault();var n=t.clientX,o=t.clientY;this._prevCoord=[n,o],this._prevTime=Date.now(),this._down=!0,this._move=!1,void 0!==this.options.direction?(this._position=0,i=0,e=0):(this._position=[0,0],i=[0,0],e=[0,0]);var s=this._payload;s.delta=i,s.position=this._position,s.velocity=e,s.clientX=n,s.clientY=o,s.offsetX=t.offsetX,s.offsetY=t.offsetY,this._positionHistory.push({position:s.position.slice?s.position.slice(0):s.position,time:this._prevTime}),this._eventOutput.emit("start",s),this._documentActive=!1}function o(t){if(this._prevCoord){var i=this._prevCoord,n=(this._prevTime,t.clientX),o=t.clientY,s=Date.now(),r=n-i[0],a=o-i[1];this.options.rails&&(Math.abs(r)>Math.abs(a)?a=0:r=0);var h,p,u=Math.max(s-this._positionHistory[0].time,c),l=this.options.scale;this.options.direction===e.DIRECTION_X?(p=l*r,this._position+=p,h=l*(this._position-this._positionHistory[0].position)/u):this.options.direction===e.DIRECTION_Y?(p=l*a,this._position+=p,h=l*(this._position-this._positionHistory[0].position)/u):(p=[l*r,l*a],h=[l*(this._position[0]-this._positionHistory[0].position[0])/u,l*(this._position[1]-this._positionHistory[0].position[1])/u],this._position[0]+=p[0],this._position[1]+=p[1]);var f=this._payload;f.delta=p,f.position=this._position,f.velocity=h,f.clientX=n,f.clientY=o,f.offsetX=t.offsetX,f.offsetY=t.offsetY,this._positionHistory.length===this.options.velocitySampleLength&&this._positionHistory.shift(),this._positionHistory.push({position:f.position.slice?f.position.slice(0):f.position,time:s}),this._eventOutput.emit("update",f),this._prevCoord=[n,o],this._prevTime=s,this._move=!0}}function s(){this._down&&(this._eventOutput.emit("end",this._payload),this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._move=!1,this._positionHistory=[])}function r(t){if(this._down&&this._move&&!this._documentActive){var i=o.bind(this),e=function(t){s.call(this,t),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}.bind(this,t);document.addEventListener("mousemove",i),document.addEventListener("mouseup",e),this._documentActive=!0}}var a=t("../core/EventHandler"),h=t("../core/OptionsManager");e.DEFAULT_OPTIONS={direction:void 0,rails:!1,scale:1,propogate:!0,velocitySampleLength:10,preventDefault:!0},e.DIRECTION_X=0,e.DIRECTION_Y=1;var c=8;e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},i.exports=e},{"../core/EventHandler":7,"../core/OptionsManager":10}],29:[function(t,i){function e(t){n.call(this),this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new o(this.options),t&&this.setOptions(t),this._displacement=0,this._previousDistance=0}var n=t("./TwoFingerSync"),o=t("../core/OptionsManager");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={scale:1},e.prototype._startUpdate=function(t){this._previousDistance=n.calculateDistance(this.posA,this.posB),this._displacement=0,this._eventOutput.emit("start",{count:t.touches.length,touches:[this.touchAId,this.touchBId],distance:this._dist,center:n.calculateCenter(this.posA,this.posB)})},e.prototype._moveUpdate=function(t){var i=n.calculateDistance(this.posA,this.posB),e=n.calculateCenter(this.posA,this.posB),o=this.options.scale,s=o*(i-this._previousDistance),r=s/t;this._previousDistance=i,this._displacement+=s,this._eventOutput.emit("update",{delta:s,velocity:r,distance:i,displacement:this._displacement,center:e,touches:[this.touchAId,this.touchBId]})},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},i.exports=e},{"../core/OptionsManager":10,"./TwoFingerSync":35}],30:[function(t,i){function e(t){n.call(this),this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new o(this.options),t&&this.setOptions(t),this._angle=0,this._previousAngle=0}var n=t("./TwoFingerSync"),o=t("../core/OptionsManager");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={scale:1},e.prototype._startUpdate=function(t){this._angle=0,this._previousAngle=n.calculateAngle(this.posA,this.posB);var i=n.calculateCenter(this.posA,this.posB);this._eventOutput.emit("start",{count:t.touches.length,angle:this._angle,center:i,touches:[this.touchAId,this.touchBId]})},e.prototype._moveUpdate=function(t){var i=this.options.scale,e=n.calculateAngle(this.posA,this.posB),o=n.calculateCenter(this.posA,this.posB),s=i*(e-this._previousAngle),r=s/t;this._angle+=s,this._eventOutput.emit("update",{delta:s,velocity:r,angle:this._angle,center:o,touches:[this.touchAId,this.touchBId]}),this._previousAngle=e},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},i.exports=e},{"../core/OptionsManager":10,"./TwoFingerSync":35}],31:[function(t,i){function e(t){o.call(this),this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new s(this.options),t&&this.setOptions(t),this._scaleFactor=1,this._startDist=0,this._eventInput.on("pipe",n.bind(this))}function n(){this.touchAId=void 0,this.touchBId=void 0}var o=t("./TwoFingerSync"),s=t("../core/OptionsManager");e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={scale:1},e.prototype._startUpdate=function(t){this._scaleFactor=1,this._startDist=o.calculateDistance(this.posA,this.posB),this._eventOutput.emit("start",{count:t.touches.length,touches:[this.touchAId,this.touchBId],distance:this._startDist,center:o.calculateCenter(this.posA,this.posB)})},e.prototype._moveUpdate=function(t){var i=this.options.scale,e=o.calculateDistance(this.posA,this.posB),n=o.calculateCenter(this.posA,this.posB),s=(e-this._startDist)/this._startDist,r=Math.max(1+i*s,0),a=(r-this._scaleFactor)/t;this._eventOutput.emit("update",{delta:s,scale:r,velocity:a,distance:e,center:n,touches:[this.touchAId,this.touchBId]}),this._scaleFactor=r},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},i.exports=e},{"../core/OptionsManager":10,"./TwoFingerSync":35}],32:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new a(this.options),t&&this.setOptions(t),this._payload={delta:null,position:null,velocity:null,slip:!0},this._eventInput=new s,this._eventOutput=new s,s.setInputHandler(this,this._eventInput),s.setOutputHandler(this,this._eventOutput),this._position=void 0===this.options.direction?[0,0]:0,this._prevTime=void 0,this._prevVel=void 0,this._eventInput.on("mousewheel",o.bind(this)),this._eventInput.on("wheel",o.bind(this)),this._inProgress=!1,this._loopBound=!1}function n(){if(this._inProgress&&c()-this._prevTime>this.options.stallTime){this._inProgress=!1;var t=Math.abs(this._prevVel)>=this.options.minimumEndSpeed?this._prevVel:0,i=this._payload;i.position=this._position,i.velocity=t,i.slip=!0,this._eventOutput.emit("end",i)}}function o(t){this.options.preventDefault&&t.preventDefault(),this._inProgress||(this._inProgress=!0,this._position=void 0===this.options.direction?[0,0]:0,y=this._payload,y.slip=!0,y.position=this._position,y.clientX=t.clientX,y.clientY=t.clientY,y.offsetX=t.offsetX,y.offsetY=t.offsetY,this._eventOutput.emit("start",y),this._loopBound||(r.on("prerender",n.bind(this)),this._loopBound=!0));var i=c(),o=this._prevTime||i,s=void 0!==t.wheelDeltaX?t.wheelDeltaX:-t.deltaX,a=void 0!==t.wheelDeltaY?t.wheelDeltaY:-t.deltaY;1===t.deltaMode&&(s*=this.options.lineHeight,a*=this.options.lineHeight),this.options.rails&&(Math.abs(s)>Math.abs(a)?a=0:s=0);var p,u,l=Math.max(i-o,h),f=s/l,d=a/l,_=this.options.scale;this.options.direction===e.DIRECTION_X?(u=_*s,p=_*f,this._position+=u):this.options.direction===e.DIRECTION_Y?(u=_*a,p=_*d,this._position+=u):(u=[_*s,_*a],p=[_*f,_*d],this._position[0]+=u[0],this._position[1]+=u[1]);var y=this._payload;y.delta=u,y.velocity=p,y.position=this._position,y.slip=!0,this._eventOutput.emit("update",y),this._prevTime=i,this._prevVel=p}var s=t("../core/EventHandler"),r=t("../core/Engine"),a=t("../core/OptionsManager");e.DEFAULT_OPTIONS={direction:void 0,minimumEndSpeed:1/0,rails:!1,scale:1,stallTime:50,lineHeight:40,preventDefault:!0},e.DIRECTION_X=0,e.DIRECTION_Y=1;var h=8,c=Date.now;e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},i.exports=e},{"../core/Engine":4,"../core/EventHandler":7,"../core/OptionsManager":10}],33:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new h(this.options),t&&this.setOptions(t),this._eventOutput=new a,this._touchTracker=new r({touchLimit:this.options.touchLimit}),a.setOutputHandler(this,this._eventOutput),a.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",n.bind(this)),this._touchTracker.on("trackmove",o.bind(this)),this._touchTracker.on("trackend",s.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this._position=null}function n(t){var i,e;void 0!==this.options.direction?(this._position=0,i=0,e=0):(this._position=[0,0],i=[0,0],e=[0,0]);var n=this._payload;n.delta=e,n.position=this._position,n.velocity=i,n.clientX=t.x,n.clientY=t.y,n.count=t.count,n.touch=t.identifier,this._eventOutput.emit("start",n)}function o(t){var i=t.history,n=i[i.length-1],o=i[i.length-2],s=i[i.length-this.options.velocitySampleLength]?i[i.length-this.options.velocitySampleLength]:i[i.length-2],r=s.timestamp,a=n.timestamp,h=n.x-o.x,p=n.y-o.y,u=n.x-s.x,l=n.y-s.y;this.options.rails&&(Math.abs(h)>Math.abs(p)?p=0:h=0,Math.abs(u)>Math.abs(l)?l=0:u=0);var f,d,_=Math.max(a-r,c),y=u/_,g=l/_,v=this.options.scale;this.options.direction===e.DIRECTION_X?(d=v*h,f=v*y,this._position+=d):this.options.direction===e.DIRECTION_Y?(d=v*p,f=v*g,this._position+=d):(d=[v*h,v*p],f=[v*y,v*g],this._position[0]+=d[0],this._position[1]+=d[1]);var m=this._payload;m.delta=d,m.velocity=f,m.position=this._position,m.clientX=t.x,m.clientY=t.y,m.count=t.count,m.touch=t.identifier,this._eventOutput.emit("update",m)}function s(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}var r=t("./TouchTracker"),a=t("../core/EventHandler"),h=t("../core/OptionsManager");e.DEFAULT_OPTIONS={direction:void 0,rails:!1,touchLimit:1,velocitySampleLength:10,scale:1},e.DIRECTION_X=0,e.DIRECTION_Y=1;var c=8;e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.prototype.getOptions=function(){return this.options},i.exports=e},{"../core/EventHandler":7,"../core/OptionsManager":10,"./TouchTracker":34}],34:[function(t,i){function e(t,i,e){return{x:t.clientX,y:t.clientY,identifier:t.identifier,origin:i.origin,timestamp:c(),count:i.touches.length,history:e}}function n(t){if(!(t.touches.length>this.touchLimit)){this.isTouched=!0;for(var i=0;i<t.changedTouches.length;i++){var n=t.changedTouches[i],o=e(n,t,null);this.eventOutput.emit("trackstart",o),this.selective||this.touchHistory[n.identifier]||this.track(o)}}}function o(t){if(!(t.touches.length>this.touchLimit))for(var i=0;i<t.changedTouches.length;i++){var n=t.changedTouches[i],o=this.touchHistory[n.identifier];if(o){var s=e(n,t,o);this.touchHistory[n.identifier].push(s),this.eventOutput.emit("trackmove",s)}}}function s(t){if(this.isTouched){for(var i=0;i<t.changedTouches.length;i++){var n=t.changedTouches[i],o=this.touchHistory[n.identifier];if(o){var s=e(n,t,o);this.eventOutput.emit("trackend",s),delete this.touchHistory[n.identifier]}}this.isTouched=!1}}function r(){for(var t in this.touchHistory){var i=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:i[i.length-1].touch,timestamp:Date.now(),count:0,history:i}),delete this.touchHistory[t]}}function a(t){this.selective=t.selective,this.touchLimit=t.touchLimit||1,this.touchHistory={},this.eventInput=new h,this.eventOutput=new h,h.setInputHandler(this,this.eventInput),h.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",n.bind(this)),this.eventInput.on("touchmove",o.bind(this)),this.eventInput.on("touchend",s.bind(this)),this.eventInput.on("touchcancel",s.bind(this)),this.eventInput.on("unpipe",r.bind(this)),this.isTouched=!1}var h=t("../core/EventHandler"),c=Date.now;a.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},i.exports=a},{"../core/EventHandler":7}],35:[function(t,i){function e(){this._eventInput=new n,this._eventOutput=new n,n.setInputHandler(this,this._eventInput),n.setOutputHandler(this,this._eventOutput),this.touchAEnabled=!1,this.touchAId=0,this.posA=null,this.timestampA=0,this.touchBEnabled=!1,this.touchBId=0,this.posB=null,this.timestampB=0,this._eventInput.on("touchstart",this.handleStart.bind(this)),this._eventInput.on("touchmove",this.handleMove.bind(this)),this._eventInput.on("touchend",this.handleEnd.bind(this)),this._eventInput.on("touchcancel",this.handleEnd.bind(this))}var n=t("../core/EventHandler");e.calculateAngle=function(t,i){var e=i[0]-t[0],n=i[1]-t[1];return Math.atan2(n,e)},e.calculateDistance=function(t,i){var e=i[0]-t[0],n=i[1]-t[1];return Math.sqrt(e*e+n*n)},e.calculateCenter=function(t,i){return[(t[0]+i[0])/2,(t[1]+i[1])/2]};var o=Date.now;e.prototype.handleStart=function(t){for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i];this.touchAEnabled?this.touchBEnabled||(this.touchBId=e.identifier,this.touchBEnabled=!0,this.posB=[e.pageX,e.pageY],this.timestampB=o(),this._startUpdate(t)):(this.touchAId=e.identifier,this.touchAEnabled=!0,this.posA=[e.pageX,e.pageY],this.timestampA=o())}},e.prototype.handleMove=function(t){if(this.touchAEnabled&&this.touchBEnabled){for(var i,e=this.timestampA,n=this.timestampB,s=0;s<t.changedTouches.length;s++){var r=t.changedTouches[s];r.identifier===this.touchAId?(this.posA=[r.pageX,r.pageY],this.timestampA=o(),i=this.timestampA-e):r.identifier===this.touchBId&&(this.posB=[r.pageX,r.pageY],this.timestampB=o(),i=this.timestampB-n)}i&&this._moveUpdate(i)}},e.prototype.handleEnd=function(t){for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i];(e.identifier===this.touchAId||e.identifier===this.touchBId)&&(this.touchAEnabled&&this.touchBEnabled&&this._eventOutput.emit("end",{touches:[this.touchAId,this.touchBId],angle:this._angle}),this.touchAEnabled=!1,this.touchAId=0,this.touchBEnabled=!1,this.touchBId=0)}},i.exports=e},{"../core/EventHandler":7}],36:[function(t,i){i.exports={Accumulator:t("./Accumulator"),DesktopEmulationMode:t("./DesktopEmulationMode"),FastClick:t("./FastClick"),GenericSync:t("./GenericSync"),MouseSync:t("./MouseSync"),PinchSync:t("./PinchSync"),RotateSync:t("./RotateSync"),ScaleSync:t("./ScaleSync"),ScrollSync:t("./ScrollSync"),TouchSync:t("./TouchSync"),TouchTracker:t("./TouchTracker"),TwoFingerSync:t("./TwoFingerSync")}},{"./Accumulator":24,"./DesktopEmulationMode":25,"./FastClick":26,"./GenericSync":27,"./MouseSync":28,"./PinchSync":29,"./RotateSync":30,"./ScaleSync":31,"./ScrollSync":32,"./TouchSync":33,"./TouchTracker":34,"./TwoFingerSync":35}],37:[function(t,i){function e(t){return this.values=t||[[1,0,0],[0,1,0],[0,0,1]],this}var n=t("./Vector"),o=new e,s=new n;
e.prototype.get=function(){return this.values},e.prototype.set=function(t){this.values=t},e.prototype.vectorMultiply=function(t){var i=this.get(),e=t.x,n=t.y,o=t.z,r=i[0],a=i[1],h=i[2],c=r[0],p=r[1],u=r[2],l=a[0],f=a[1],d=a[2],_=h[0],y=h[1],g=h[2];return s.setXYZ(c*e+p*n+u*o,l*e+f*n+d*o,_*e+y*n+g*o)},e.prototype.multiply=function(t){for(var i=this.get(),e=[[]],n=0;3>n;n++){e[n]=[];for(var s=0;3>s;s++){for(var r=0,a=0;3>a;a++)r+=i[n][a]*t[a][s];e[n][s]=r}}return o.set(e)},e.prototype.transpose=function(){for(var t=[],i=this.get(),e=0;3>e;e++)for(var n=0;3>n;n++)t[e][n]=i[n][e];return o.set(t)},e.prototype.clone=function(){for(var t=this.get(),i=[],n=0;3>n;n++)i[n]=t[n].slice();return new e(i)},i.exports=e},{"./Vector":41}],38:[function(t,i){function e(t,i,e,n){return 1===arguments.length?this.set(t):(this.w=void 0!==t?t:1,this.x=void 0!==i?i:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0),this}var n=t("./Matrix"),o=new e(1,0,0,0);e.prototype.add=function(t){return o.setWXYZ(this.w+t.w,this.x+t.x,this.y+t.y,this.z+t.z)},e.prototype.sub=function(t){return o.setWXYZ(this.w-t.w,this.x-t.x,this.y-t.y,this.z-t.z)},e.prototype.scalarDivide=function(t){return this.scalarMultiply(1/t)},e.prototype.scalarMultiply=function(t){return o.setWXYZ(this.w*t,this.x*t,this.y*t,this.z*t)},e.prototype.multiply=function(t){var i=this.x,e=this.y,n=this.z,s=this.w,r=t.x,a=t.y,h=t.z,c=t.w||0;return o.setWXYZ(s*c-i*r-e*a-n*h,i*c+r*s+a*n-e*h,e*c+a*s+i*h-r*n,n*c+h*s+r*e-i*a)};var s=new e(1,0,0,0);e.prototype.rotateVector=function(t){return s.set(this.conj()),o.set(this.multiply(t).multiply(s))},e.prototype.inverse=function(){return o.set(this.conj().scalarDivide(this.normSquared()))},e.prototype.negate=function(){return this.scalarMultiply(-1)},e.prototype.conj=function(){return o.setWXYZ(this.w,-this.x,-this.y,-this.z)},e.prototype.normalize=function(t){return t=void 0===t?1:t,this.scalarDivide(t*this.norm())},e.prototype.makeFromAngleAndAxis=function(t,i){var e=i.normalize(),n=.5*t,o=-Math.sin(n);return this.x=o*e.x,this.y=o*e.y,this.z=o*e.z,this.w=Math.cos(n),this},e.prototype.setWXYZ=function(t,i,e,n){return o.clear(),this.w=t,this.x=i,this.y=e,this.z=n,this},e.prototype.set=function(t){return t instanceof Array?(this.w=0,this.x=t[0],this.y=t[1],this.z=t[2]):(this.w=t.w,this.x=t.x,this.y=t.y,this.z=t.z),this!==o&&o.clear(),this},e.prototype.put=function(t){t.set(o)},e.prototype.clone=function(){return new e(this)},e.prototype.clear=function(){return this.w=1,this.x=0,this.y=0,this.z=0,this},e.prototype.isEqual=function(t){return t.w===this.w&&t.x===this.x&&t.y===this.y&&t.z===this.z},e.prototype.dot=function(t){return this.w*t.w+this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.normSquared=function(){return this.dot(this)},e.prototype.norm=function(){return Math.sqrt(this.normSquared())},e.prototype.isZero=function(){return!(this.x||this.y||this.z)},e.prototype.getTransform=function(){var t=this.normalize(1),i=t.x,e=t.y,n=t.z,o=t.w;return[1-2*e*e-2*n*n,2*i*e-2*n*o,2*i*n+2*e*o,0,2*i*e+2*n*o,1-2*i*i-2*n*n,2*e*n-2*i*o,0,2*i*n-2*e*o,2*e*n+2*i*o,1-2*i*i-2*e*e,0,0,0,0,1]};var r=new n;e.prototype.getMatrix=function(){var t=this.normalize(1),i=t.x,e=t.y,n=t.z,o=t.w;return r.set([[1-2*e*e-2*n*n,2*i*e+2*n*o,2*i*n-2*e*o],[2*i*e-2*n*o,1-2*i*i-2*n*n,2*e*n+2*i*o],[2*i*n+2*e*o,2*e*n-2*i*o,1-2*i*i-2*e*e]])};var a=1e-5;e.prototype.slerp=function(t,i){var e,n,s,r,h;return n=this.dot(t),1-n>a?(e=Math.acos(n),s=Math.sin(e),r=Math.sin((1-i)*e)/s,h=Math.sin(i*e)/s):(r=1-i,h=i),o.set(this.scalarMultiply(r/h).add(t).multiply(h))},i.exports=e},{"./Matrix":37}],39:[function(t,i){function e(t,i){return t+o()*(i-t)}function n(t,i){return t+o()*(i-t+1)>>0}var o=Math.random,s={};s.integer=function(t,i,e){if(t=void 0!==t?t:0,i=void 0!==i?i:1,void 0!==e){for(var o=[],s=0;e>s;s++)o.push(n(t,i));return o}return n(t,i)},s.range=function(t,i,n){if(t=void 0!==t?t:0,i=void 0!==i?i:1,void 0!==n){for(var o=[],s=0;n>s;s++)o.push(e(t,i));return o}return e(t,i)},s.sign=function(t){return t=void 0!==t?t:.5,o()<t?1:-1},s.bool=function(t){return t=void 0!==t?t:.5,o()<t},i.exports=s},{}],40:[function(t,i){var e={};e.clamp=function(t,i){return Math.max(Math.min(t,i[1]),i[0])},e.length=function(t){for(var i=0,e=0;e<t.length;e++)i+=t[e]*t[e];return Math.sqrt(i)},i.exports=e},{}],41:[function(t,i){function e(t,i,e){return 1===arguments.length&&void 0!==t?this.set(t):(this.x=t||0,this.y=i||0,this.z=e||0),this}function n(t,i,e){return this.x=t,this.y=i,this.z=e,this}function o(t){return n.call(this,t[0],t[1],t[2]||0)}function s(t){return n.call(this,t.x,t.y,t.z)}function r(t){return n.call(this,t,0,0)}var a=new e(0,0,0);e.prototype.add=function(t){return n.call(a,this.x+t.x,this.y+t.y,this.z+t.z)},e.prototype.sub=function(t){return n.call(a,this.x-t.x,this.y-t.y,this.z-t.z)},e.prototype.mult=function(t){return n.call(a,t*this.x,t*this.y,t*this.z)},e.prototype.div=function(t){return this.mult(1/t)},e.prototype.cross=function(t){var i=this.x,e=this.y,o=this.z,s=t.x,r=t.y,h=t.z;return n.call(a,o*r-e*h,i*h-o*s,e*s-i*r)},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},e.prototype.rotateX=function(t){var i=this.x,e=this.y,o=this.z,s=Math.cos(t),r=Math.sin(t);return n.call(a,i,e*s-o*r,e*r+o*s)},e.prototype.rotateY=function(t){var i=this.x,e=this.y,o=this.z,s=Math.cos(t),r=Math.sin(t);return n.call(a,o*r+i*s,e,o*s-i*r)},e.prototype.rotateZ=function(t){var i=this.x,e=this.y,o=this.z,s=Math.cos(t),r=Math.sin(t);return n.call(a,i*s-e*r,i*r+e*s,o)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.normSquared=function(){return this.dot(this)},e.prototype.norm=function(){return Math.sqrt(this.normSquared())},e.prototype.normalize=function(t){0===arguments.length&&(t=1);var i=this.norm();return i>1e-7?s.call(a,this.mult(t/i)):n.call(a,t,0,0)},e.prototype.clone=function(){return new e(this)},e.prototype.isZero=function(){return!(this.x||this.y||this.z)},e.prototype.set=function(t){return t instanceof Array?o.call(this,t):"number"==typeof t?r.call(this,t):s.call(this,t)},e.prototype.setXYZ=function(){return n.apply(this,arguments)},e.prototype.set1D=function(t){return r.call(this,t)},e.prototype.put=function(t){this===a?s.call(t,a):s.call(t,this)},e.prototype.clear=function(){return n.call(this,0,0,0)},e.prototype.cap=function h(h){if(1/0===h)return s.call(a,this);var t=this.norm();return t>h?s.call(a,this.mult(h/t)):s.call(a,this)},e.prototype.project=function(t){return t.mult(this.dot(t))},e.prototype.reflectAcross=function(t){return t.normalize().put(t),s(a,this.sub(this.project(t).mult(2)))},e.prototype.get=function(){return[this.x,this.y,this.z]},e.prototype.get1D=function(){return this.x},i.exports=e},{}],42:[function(t,i){i.exports={Matrix:t("./Matrix"),Quaternion:t("./Quaternion"),Random:t("./Random"),Utilities:t("./Utilities"),Vector:t("./Vector")}},{"./Matrix":37,"./Quaternion":38,"./Random":39,"./Utilities":40,"./Vector":41}],43:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this._positionState=new c([0,0]),this._differential=[0,0],this._active=!0,this.sync=new l(["mouse","touch"],{scale:this.options.scale}),this.eventOutput=new p,p.setInputHandler(this,this.sync),p.setOutputHandler(this,this.eventOutput),a.call(this)}function n(t){var i=this.options,e=i.projection,n=i.snapX,o=i.snapY,s=e&_.x?t[0]:0,r=e&_.y?t[1]:0;return n>0&&(s-=s%n),o>0&&(r-=r%o),[s,r]}function o(){this._active&&(this._positionState.isActive()&&this._positionState.halt(),this.eventOutput.emit("start",{position:this.getPosition()}))}function s(t){if(this._active){var i=this.options;this._differential=t.position;var e=n.call(this,this._differential);this._differential[0]-=e[0],this._differential[1]-=e[1];var o=this.getPosition();if(o[0]+=e[0],o[1]+=e[1],i.xRange){var s=[i.xRange[0]+.5*i.snapX,i.xRange[1]-.5*i.snapX];o[0]=y(o[0],s)}if(i.yRange){var r=[i.yRange[0]+.5*i.snapY,i.yRange[1]-.5*i.snapY];o[1]=y(o[1],r)}this.eventOutput.emit("update",{position:o})}}function r(){this._active&&this.eventOutput.emit("end",{position:this.getPosition()})}function a(){this.sync.on("start",o.bind(this)),this.sync.on("update",s.bind(this)),this.sync.on("end",r.bind(this))}var h=t("../core/Transform"),c=t("../transitions/Transitionable"),p=t("../core/EventHandler"),u=t("../math/Utilities"),l=t("../inputs/GenericSync"),f=t("../inputs/MouseSync"),d=t("../inputs/TouchSync");l.register({mouse:f,touch:d});var _={x:1,y:2};e.DIRECTION_X=_.x,e.DIRECTION_Y=_.y;var y=u.clamp;e.DEFAULT_OPTIONS={projection:_.x|_.y,scale:1,xRange:null,yRange:null,snapX:0,snapY:0,transition:{duration:0}},e.prototype.setOptions=function(t){var i=this.options;if(void 0!==t.projection){var e=t.projection;this.options.projection=0,["x","y"].forEach(function(t){-1!==e.indexOf(t)&&(i.projection|=_[t])})}void 0!==t.scale&&(i.scale=t.scale,this.sync.setOptions({scale:t.scale})),void 0!==t.xRange&&(i.xRange=t.xRange),void 0!==t.yRange&&(i.yRange=t.yRange),void 0!==t.snapX&&(i.snapX=t.snapX),void 0!==t.snapY&&(i.snapY=t.snapY)},e.prototype.getPosition=function(){return this._positionState.get()},e.prototype.setRelativePosition=function(t,i,e){var n=this.getPosition(),o=[n[0]+t[0],n[1]+t[1]];this.setPosition(o,i,e)},e.prototype.setPosition=function(t,i,e){this._positionState.isActive()&&this._positionState.halt(),this._positionState.set(t,i,e)},e.prototype.activate=function(){this._active=!0},e.prototype.deactivate=function(){this._active=!1},e.prototype.toggle=function(){this._active=!this._active},e.prototype.modify=function(t){var i=this.getPosition();return{transform:h.translate(i[0],i[1]),target:t}},i.exports=e},{"../core/EventHandler":7,"../core/Transform":15,"../inputs/GenericSync":27,"../inputs/MouseSync":28,"../inputs/TouchSync":33,"../math/Utilities":40,"../transitions/Transitionable":88}],44:[function(t,i){function e(t,i){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new o(this.options),t&&this.setOptions(t),i||(i=0),this.transitionHelper=new n(i)}var n=t("../transitions/Transitionable"),o=t("../core/OptionsManager");e.DEFAULT_OPTIONS={cull:!1,transition:!0,pulseInTransition:!0,pulseOutTransition:!0},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.prototype.show=function(t,i){t=t||this.options.transition,this.set(1,t,i)},e.prototype.hide=function(t,i){t=t||this.options.transition,this.set(0,t,i)},e.prototype.set=function(t,i,e){this.halt(),this.transitionHelper.set(t,i,e)},e.prototype.halt=function(){this.transitionHelper.halt()},e.prototype.isVisible=function(){return this.transitionHelper.get()>0},e.prototype.modify=function(t){var i=this.transitionHelper.get();return this.options.cull&&!i?void 0:{opacity:i,target:t}},i.exports=e},{"../core/OptionsManager":10,"../transitions/Transitionable":88}],45:[function(t,i){function e(){this._chain=[],arguments.length&&this.addModifier.apply(this,arguments)}e.prototype.addModifier=function(){Array.prototype.push.apply(this._chain,arguments)},e.prototype.removeModifier=function(t){var i=this._chain.indexOf(t);0>i||this._chain.splice(i,1)},e.prototype.modify=function(t){for(var i=this._chain,e=t,n=0;n<i.length;n++)e=i[n].modify(e);return e},i.exports=e},{}],46:[function(t,i){function e(t){this._transformState=new r(o.identity),this._opacityState=new s(1),this._originState=new s([0,0]),this._alignState=new s([0,0]),this._sizeState=new s([0,0]),this._proportionsState=new s([0,0]),this._modifier=new n({transform:this._transformState,opacity:this._opacityState,origin:null,align:null,size:null,proportions:null}),this._hasOrigin=!1,this._hasAlign=!1,this._hasSize=!1,this._hasProportions=!1,t&&(t.transform&&this.setTransform(t.transform),void 0!==t.opacity&&this.setOpacity(t.opacity),t.origin&&this.setOrigin(t.origin),t.align&&this.setAlign(t.align),t.size&&this.setSize(t.size),t.proportions&&this.setProportions(t.proportions))}var n=t("../core/Modifier"),o=t("../core/Transform"),s=t("../transitions/Transitionable"),r=t("../transitions/TransitionableTransform");e.prototype.setTransform=function(t,i,e){return this._transformState.set(t,i,e),this},e.prototype.setOpacity=function(t,i,e){return this._opacityState.set(t,i,e),this},e.prototype.setOrigin=function(t,i,e){return null===t?(this._hasOrigin&&(this._modifier.originFrom(null),this._hasOrigin=!1),this):(this._hasOrigin||(this._hasOrigin=!0,this._modifier.originFrom(this._originState)),this._originState.set(t,i,e),this)},e.prototype.setAlign=function(t,i,e){return null===t?(this._hasAlign&&(this._modifier.alignFrom(null),this._hasAlign=!1),this):(this._hasAlign||(this._hasAlign=!0,this._modifier.alignFrom(this._alignState)),this._alignState.set(t,i,e),this)},e.prototype.setSize=function(t,i,e){return null===t?(this._hasSize&&(this._modifier.sizeFrom(null),this._hasSize=!1),this):(this._hasSize||(this._hasSize=!0,this._modifier.sizeFrom(this._sizeState)),this._sizeState.set(t,i,e),this)},e.prototype.setProportions=function(t,i,e){return null===t?(this._hasProportions&&(this._modifier.proportionsFrom(null),this._hasProportions=!1),this):(this._hasProportions||(this._hasProportions=!0,this._modifier.proportionsFrom(this._proportionsState)),this._proportionsState.set(t,i,e),this)},e.prototype.halt=function(){this._transformState.halt(),this._opacityState.halt(),this._originState.halt(),this._alignState.halt(),this._sizeState.halt(),this._proportionsState.halt()},e.prototype.getTransform=function(){return this._transformState.get()},e.prototype.getFinalTransform=function(){return this._transformState.getFinal()},e.prototype.getOpacity=function(){return this._opacityState.get()},e.prototype.getOrigin=function(){return this._hasOrigin?this._originState.get():null},e.prototype.getAlign=function(){return this._hasAlign?this._alignState.get():null},e.prototype.getSize=function(){return this._hasSize?this._sizeState.get():null},e.prototype.getProportions=function(){return this._hasProportions?this._proportionsState.get():null},e.prototype.modify=function(t){return this._modifier.modify(t)},i.exports=e},{"../core/Modifier":9,"../core/Transform":15,"../transitions/Transitionable":88,"../transitions/TransitionableTransform":89}],47:[function(t,i){i.exports={Draggable:t("./Draggable"),Fader:t("./Fader"),ModifierChain:t("./ModifierChain"),StateModifier:t("./StateModifier")}},{"./Draggable":43,"./Fader":44,"./ModifierChain":45,"./StateModifier":46}],48:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this._particles=[],this._bodies=[],this._agentData={},this._forces=[],this._constraints=[],this._buffer=0,this._prevTime=S(),this._isSleeping=!1,this._eventHandler=null,this._currAgentId=0,this._hasBodies=!1,this._eventHandler=null}function n(t){return t.applyForce?this._forces:t.applyConstraint?this._constraints:void 0}function o(t,i,e){return void 0===i&&(i=this.getParticlesAndBodies()),i instanceof Array||(i=[i]),t.on("change",this.wake.bind(this)),this._agentData[this._currAgentId]={agent:t,id:this._currAgentId,targets:i,source:e},n.call(this,t).push(this._currAgentId),this._currAgentId++}function s(t){return this._agentData[t]}function r(t){var i=s.call(this,this._forces[t]);i.agent.applyForce(i.targets,i.source)}function a(){for(var t=this._forces.length-1;t>-1;t--)r.call(this,t)}function h(t,i){var e=this._agentData[this._constraints[t]];return e.agent.applyConstraint(e.targets,e.source,i)}function c(t){for(var i=0;i<this.options.constraintSteps;){for(var e=this._constraints.length-1;e>-1;e--)h.call(this,e,t);i++}}function p(t,i){t.integrateVelocity(i),this.options.velocityCap&&t.velocity.cap(this.options.velocityCap).put(t.velocity)}function u(t,i){t.integrateAngularMomentum(i),t.updateAngularVelocity(),this.options.angularVelocityCap&&t.angularVelocity.cap(this.options.angularVelocityCap).put(t.angularVelocity)}function l(t,i){t.integrateOrientation(i)}function f(t,i){t.integratePosition(i),t.emit(T.update,t)}function d(t){a.call(this,t),this.forEach(p,t),this.forEachBody(u,t),c.call(this,t),this.forEachBody(l,t),this.forEach(f,t)}function _(){var t=0,i=0;return this.forEach(function(e){i=e.getEnergy(),t+=i}),t}function y(){var t=0;for(var i in this._agentData)t+=this.getAgentEnergy(i);return t}var g=t("../core/EventHandler"),v=17,m=1e3/120,O=17,S=Date.now,T={start:"start",update:"update",end:"end"};e.DEFAULT_OPTIONS={constraintSteps:1,sleepTolerance:1e-7,velocityCap:void 0,angularVelocityCap:void 0},e.prototype.setOptions=function(t){for(var i in t)this.options[i]&&(this.options[i]=t[i])},e.prototype.addBody=function(t){return t._engine=this,t.isBody?(this._bodies.push(t),this._hasBodies=!0):this._particles.push(t),t.on("start",this.wake.bind(this)),t},e.prototype.removeBody=function(t){var i=t.isBody?this._bodies:this._particles,e=i.indexOf(t);if(e>-1){for(var n in this._agentData)this.detachFrom(n.id,t);i.splice(e,1)}0===this.getBodies().length&&(this._hasBodies=!1)},e.prototype.attach=function(t,i,e){if(this.wake(),t instanceof Array){for(var n=[],s=0;s<t.length;s++)n[s]=o.call(this,t[s],i,e);return n}return o.call(this,t,i,e)},e.prototype.attachTo=function(t,i){s.call(this,t).targets.push(i)},e.prototype.detach=function(t){var i=this.getAgent(t),e=n.call(this,i),o=e.indexOf(t);e.splice(o,1),delete this._agentData[t]},e.prototype.detachFrom=function(t,i){var e=s.call(this,t);if(e.source===i)this.detach(t);else{var n=e.targets,o=n.indexOf(i);o>-1&&n.splice(o,1)}},e.prototype.detachAll=function(){this._agentData={},this._forces=[],this._constraints=[],this._currAgentId=0},e.prototype.getAgent=function(t){return s.call(this,t).agent},e.prototype.getParticles=function(){return this._particles},e.prototype.getBodies=function(){return this._bodies},e.prototype.getParticlesAndBodies=function(){return this.getParticles().concat(this.getBodies())},e.prototype.forEachParticle=function(t,i){for(var e=this.getParticles(),n=0,o=e.length;o>n;n++)t.call(this,e[n],i)},e.prototype.forEachBody=function(t,i){if(this._hasBodies)for(var e=this.getBodies(),n=0,o=e.length;o>n;n++)t.call(this,e[n],i)},e.prototype.forEach=function(t,i){this.forEachParticle(t,i),this.forEachBody(t,i)},e.prototype.getAgentEnergy=function(t){var i=s.call(this,t);return i.agent.getEnergy(i.targets,i.source)},e.prototype.getEnergy=function(){return _.call(this)+y.call(this)},e.prototype.step=function(){if(!this.isSleeping()){var t=S(),i=t-this._prevTime;this._prevTime=t,m>i||(i>O&&(i=O),d.call(this,v),this.emit(T.update,this),this.getEnergy()<this.options.sleepTolerance&&this.sleep())}},e.prototype.isSleeping=function(){return this._isSleeping},e.prototype.isActive=function(){return!this._isSleeping},e.prototype.sleep=function(){this._isSleeping||(this.forEach(function(t){t.sleep()}),this.emit(T.end,this),this._isSleeping=!0)},e.prototype.wake=function(){this._isSleeping&&(this._prevTime=S(),this.emit(T.start,this),this._isSleeping=!1)},e.prototype.emit=function(t,i){null!==this._eventHandler&&this._eventHandler.emit(t,i)},e.prototype.on=function(t,i){null===this._eventHandler&&(this._eventHandler=new g),this._eventHandler.on(t,i)},i.exports=e},{"../core/EventHandler":7}],49:[function(t,i){function e(t){n.call(this,t),t=t||{},this.orientation=new r,this.angularVelocity=new s,this.angularMomentum=new s,this.torque=new s,t.orientation&&this.orientation.set(t.orientation),t.angularVelocity&&this.angularVelocity.set(t.angularVelocity),t.angularMomentum&&this.angularMomentum.set(t.angularMomentum),t.torque&&this.torque.set(t.torque),this.angularVelocity.w=0,this.setMomentsOfInertia(),this.pWorld=new s}var n=t("./Particle"),o=t("../../core/Transform"),s=t("../../math/Vector"),r=t("../../math/Quaternion"),a=t("../../math/Matrix"),h=t("../integrators/SymplecticEuler");e.DEFAULT_OPTIONS=n.DEFAULT_OPTIONS,e.DEFAULT_OPTIONS.orientation=[0,0,0,1],e.DEFAULT_OPTIONS.angularVelocity=[0,0,0],e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.isBody=!0,e.prototype.setMass=function(){n.prototype.setMass.apply(this,arguments),this.setMomentsOfInertia()},e.prototype.setMomentsOfInertia=function(){this.inertia=new a,this.inverseInertia=new a},e.prototype.updateAngularVelocity=function(){this.angularVelocity.set(this.inverseInertia.vectorMultiply(this.angularMomentum))},e.prototype.toWorldCoordinates=function(t){return this.pWorld.set(this.orientation.rotateVector(t))},e.prototype.getEnergy=function(){return n.prototype.getEnergy.call(this)+.5*this.inertia.vectorMultiply(this.angularVelocity).dot(this.angularVelocity)},e.prototype.reset=function(t,i,e,o){n.prototype.reset.call(this,t,i),this.angularVelocity.clear(),this.setOrientation(e||[1,0,0,0]),this.setAngularMomentum(o||[0,0,0])},e.prototype.setOrientation=function(t){this.orientation.set(t)},e.prototype.setAngularVelocity=function(t){this.wake(),this.angularVelocity.set(t)},e.prototype.setAngularMomentum=function(t){this.wake(),this.angularMomentum.set(t)},e.prototype.applyForce=function(t,i){n.prototype.applyForce.call(this,t),void 0!==i&&this.applyTorque(i.cross(t))},e.prototype.applyTorque=function(t){this.wake(),this.torque.set(this.torque.add(t))},e.prototype.getTransform=function(){return o.thenMove(this.orientation.getTransform(),o.getTranslate(n.prototype.getTransform.call(this)))},e.prototype._integrate=function(t){n.prototype._integrate.call(this,t),this.integrateAngularMomentum(t),this.updateAngularVelocity(t),this.integrateOrientation(t)},e.prototype.integrateAngularMomentum=function(t){h.integrateAngularMomentum(this,t)},e.prototype.integrateOrientation=function(t){h.integrateOrientation(this,t)},i.exports=e},{"../../core/Transform":15,"../../math/Matrix":37,"../../math/Quaternion":38,"../../math/Vector":41,"../integrators/SymplecticEuler":72,"./Particle":51}],50:[function(t,i){function e(t){t=t||{},this.setRadius(t.radius||0),n.call(this,t)}var n=t("./Body"),o=t("../../math/Matrix");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.setRadius=function(t){this.radius=t,this.size=[2*this.radius,2*this.radius],this.setMomentsOfInertia()},e.prototype.setMomentsOfInertia=function(){var t=this.mass,i=this.radius;this.inertia=new o([[.25*t*i*i,0,0],[0,.25*t*i*i,0],[0,0,.5*t*i*i]]),this.inverseInertia=new o([[4/(t*i*i),0,0],[0,4/(t*i*i),0],[0,0,2/(t*i*i)]])},i.exports=e},{"../../math/Matrix":37,"./Body":49}],51:[function(t,i){function e(t){t=t||{};var i=e.DEFAULT_OPTIONS;this.position=new o,this.velocity=new o,this.force=new o,this._engine=null,this._isSleeping=!0,this._eventOutput=null,this.mass=void 0!==t.mass?t.mass:i.mass,this.inverseMass=1/this.mass,this.setPosition(t.position||i.position),this.setVelocity(t.velocity||i.velocity),this.force.set(t.force||[0,0,0]),this.transform=s.identity.slice(),this._spec={size:[!0,!0],target:{transform:this.transform,origin:[.5,.5],target:null}}}function n(){this._eventOutput=new r,this._eventOutput.bindThis(this),r.setOutputHandler(this,this._eventOutput)}var o=t("../../math/Vector"),s=t("../../core/Transform"),r=t("../../core/EventHandler"),a=t("../integrators/SymplecticEuler");e.DEFAULT_OPTIONS={position:[0,0,0],velocity:[0,0,0],mass:1};var h={start:"start",update:"update",end:"end"},c=Date.now;e.prototype.isBody=!1,e.prototype.isActive=function(){return!this._isSleeping},e.prototype.sleep=function(){this._isSleeping||(this.emit(h.end,this),this._isSleeping=!0)},e.prototype.wake=function(){this._isSleeping&&(this.emit(h.start,this),this._isSleeping=!1,this._prevTime=c(),this._engine&&this._engine.wake())},e.prototype.setPosition=function(t){this.position.set(t)},e.prototype.setPosition1D=function(t){this.position.x=t},e.prototype.getPosition=function(){return this._engine.step(),this.position.get()},e.prototype.getPosition1D=function(){return this._engine.step(),this.position.x},e.prototype.setVelocity=function(t){this.velocity.set(t),(0!==t[0]||0!==t[1]||0!==t[2])&&this.wake()},e.prototype.setVelocity1D=function(t){this.velocity.x=t,0!==t&&this.wake()},e.prototype.getVelocity=function(){return this.velocity.get()},e.prototype.setForce=function(t){this.force.set(t),this.wake()},e.prototype.getVelocity1D=function(){return this.velocity.x},e.prototype.setMass=function(t){this.mass=t,this.inverseMass=1/t},e.prototype.getMass=function(){return this.mass},e.prototype.reset=function(t,i){this.setPosition(t||[0,0,0]),this.setVelocity(i||[0,0,0])},e.prototype.applyForce=function(t){t.isZero()||(this.force.add(t).put(this.force),this.wake())},e.prototype.applyImpulse=function(t){if(!t.isZero()){var i=this.velocity;i.add(t.mult(this.inverseMass)).put(i)}},e.prototype.integrateVelocity=function(t){a.integrateVelocity(this,t)},e.prototype.integratePosition=function(t){a.integratePosition(this,t)},e.prototype._integrate=function(t){this.integrateVelocity(t),this.integratePosition(t)},e.prototype.getEnergy=function(){return.5*this.mass*this.velocity.normSquared()},e.prototype.getTransform=function(){this._engine.step();var t=this.position,i=this.transform;return i[12]=t.x,i[13]=t.y,i[14]=t.z,i},e.prototype.modify=function(t){var i=this._spec.target;return i.transform=this.getTransform(),i.target=t,this._spec},e.prototype.emit=function(t,i){this._eventOutput&&this._eventOutput.emit(t,i)},e.prototype.on=function(){return n.call(this),this.on.apply(this,arguments)},e.prototype.removeListener=function(){return n.call(this),this.removeListener.apply(this,arguments)},e.prototype.pipe=function(){return n.call(this),this.pipe.apply(this,arguments)},e.prototype.unpipe=function(){return n.call(this),this.unpipe.apply(this,arguments)},i.exports=e},{"../../core/EventHandler":7,"../../core/Transform":15,"../../math/Vector":41,"../integrators/SymplecticEuler":72}],52:[function(t,i){function e(t){t=t||{},this.size=t.size||[0,0],n.call(this,t)}var n=t("./Body"),o=t("../../math/Matrix");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.setSize=function(t){this.size=t,this.setMomentsOfInertia()},e.prototype.setMomentsOfInertia=function(){var t=this.mass,i=this.size[0],e=this.size[1];this.inertia=new o([[t*e*e/12,0,0],[0,t*i*i/12,0],[0,0,t*(i*i+e*e)/12]]),this.inverseInertia=new o([[12/(t*e*e),0,0],[0,12/(t*i*i),0],[0,0,12/(t*(i*i+e*e))]])},i.exports=e},{"../../math/Matrix":37,"./Body":49}],53:[function(t,i){i.exports={Body:t("./Body"),Circle:t("./Circle"),Particle:t("./Particle"),Rectangle:t("./Rectangle")}},{"./Body":49,"./Circle":50,"./Particle":51,"./Rectangle":52}],54:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this.normal=new o,this.pDiff=new o,this.vDiff=new o,this.impulse1=new o,this.impulse2=new o,n.call(this)}var n=t("./Constraint"),o=t("../../math/Vector");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={restitution:.5,drift:.5,slop:0},e.prototype.setOptions=function(t){for(var i in t)this.options[i]=t[i]},e.prototype.applyConstraint=function(t,i,e){if(void 0!==i)for(var n=i.velocity,o=i.position,s=i.inverseMass,r=i.radius,a=this.options,h=a.drift,c=-a.slop,p=a.restitution,u=this.normal,l=this.pDiff,f=this.vDiff,d=this.impulse1,_=this.impulse2,y=0;y<t.length;y++){var g=t[y];if(g!==i){var v=g.velocity,m=g.position,O=g.inverseMass,S=g.radius;l.set(m.sub(o)),f.set(v.sub(n));var T=l.norm(),w=T-(r+S),b=1/(s+O),E=0;if(0>w){if(u.set(l.normalize()),this._eventOutput){var I={target:g,source:i,overlap:w,normal:u};this._eventOutput.emit("preCollision",I),this._eventOutput.emit("collision",I)}var x=c>=w?((1+p)*u.dot(f)+h/e*(w-c))/(E+e/b):(1+p)*u.dot(f)/(E+e/b);u.mult(e*x).put(d),d.mult(-1).put(_),i.applyImpulse(d),g.applyImpulse(_),this._eventOutput&&this._eventOutput.emit("postCollision",I)}}}},i.exports=e},{"../../math/Vector":41,"./Constraint":55}],55:[function(t,i){function e(){this.options=this.options||{},this._eventOutput=new n,n.setOutputHandler(this,this._eventOutput)}var n=t("../../core/EventHandler");e.prototype.setOptions=function(t){this._eventOutput.emit("change",t)},e.prototype.applyConstraint=function(){},e.prototype.getEnergy=function(){return 0},i.exports=e},{"../../core/EventHandler":7}],56:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this.J=new o,this.impulse=new o,n.call(this)}var n=t("./Constraint"),o=t("../../math/Vector");e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var s=1e-7,r=Math.PI;e.DEFAULT_OPTIONS={equation:function(){return 0},plane:function(t,i,e){return e},period:0,dampingRatio:0},e.prototype.setOptions=function(t){for(var i in t)this.options[i]=t[i]},e.prototype.applyConstraint=function(t,i,e){for(var n=this.options,o=this.impulse,a=this.J,h=n.equation,c=n.plane,p=n.dampingRatio,u=n.period,l=0;l<t.length;l++){var f,d,_=t[l],y=_.velocity,g=_.position,v=_.mass;if(0===u)f=0,d=1;else{var m=4*v*r*p/u,O=4*v*r*r/(u*u);f=1/(m+e*O),d=e*O/(m+e*O)}var S=g.x,T=g.y,w=g.z,b=h(S,T,w),E=(h(S+s,g,g)-b)/s,I=(h(S,T+s,g)-b)/s,x=(h(S,T,g+s)-b)/s,M=c(S,T,w),z=(c(S+s,T,w)-M)/s,C=(c(S,T+s,w)-M)/s,P=(c(S,T,w+s)-M)/s;a.setXYZ(E+z,I+C,x+P);var F=d/e*(b+M),D=-(a.dot(y)+F)/(f+e*a.normSquared()/v);o.set(a.mult(e*D)),_.applyImpulse(o)}},i.exports=e},{"../../math/Vector":41,"./Constraint":55}],57:[function(t,i){function e(t){this.options=Object.create(this.constructor.DEFAULT_OPTIONS),t&&this.setOptions(t),this.impulse=new o,this.normal=new o,this.diffP=new o,this.diffV=new o,n.call(this)}var n=t("./Constraint"),o=t("../../math/Vector");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={anchor:null,length:0,minLength:0,period:0,dampingRatio:0};var s=Math.PI;e.prototype.setOptions=function(t){t.anchor&&(t.anchor.position instanceof o&&(this.options.anchor=t.anchor.position),t.anchor instanceof o&&(this.options.anchor=t.anchor),t.anchor instanceof Array&&(this.options.anchor=new o(t.anchor))),void 0!==t.length&&(this.options.length=t.length),void 0!==t.dampingRatio&&(this.options.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.options.period=t.period),void 0!==t.minLength&&(this.options.minLength=t.minLength)},e.prototype.setAnchor=function(t){this.options.anchor||(this.options.anchor=new o),this.options.anchor.set(t)},e.prototype.applyConstraint=function(t,i,e){var n,o,r=this.normal,a=this.diffP,h=this.diffV,c=this.impulse,p=this.options,u=p.dampingRatio,l=p.period,f=p.minLength;if(i){var d=i.velocity;n=i.position,o=i.inverseMass}else n=this.options.anchor,o=0;for(var _=this.options.length,y=0;y<t.length;y++){var g=t[y],v=g.velocity,m=g.position,O=g.inverseMass;a.set(m.sub(n)),r.set(a.normalize());var S=a.norm()-_;if(Math.abs(S)<f)return;h.set(i?v.sub(d):v);var T,w,b=1/(O+o);if(0===l)T=0,w=1;else{var E=4*b*s*u/l,I=4*b*s*s/(l*l);T=1/(E+e*I),w=e*I/(E+e*I)}var x=w/e*S,M=-(r.dot(h)+x)/(T+e/b);c.set(r.mult(e*M)),g.applyImpulse(c),i&&i.applyImpulse(c.mult(-1))}},i.exports=e},{"../../math/Vector":41,"./Constraint":55}],58:[function(t,i){function e(t){n.call(this),this.options=Object.create(this.constructor.DEFAULT_OPTIONS),t&&this.setOptions(t),this.pDiff=new o,this.vDiff=new o,this.impulse1=new o,this.impulse2=new o}var n=t("./Constraint"),o=t("../../math/Vector");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={period:300,dampingRatio:.1,length:0,anchor:void 0};var s=Math.PI;e.prototype.setOptions=function(t){void 0!==t.anchor&&(t.anchor instanceof o&&(this.options.anchor=t.anchor),t.anchor.position instanceof o&&(this.options.anchor=t.anchor.position),t.anchor instanceof Array&&(this.options.anchor=new o(t.anchor))),void 0!==t.length&&(this.options.length=t.length),void 0!==t.dampingRatio&&(this.options.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.options.period=t.period),n.prototype.setOptions.call(this,t)},e.prototype.getEnergy=function(t,i){for(var e=this.options,n=e.length,o=e.anchor||i.position,r=Math.pow(2*s/e.period,2),a=0,h=0;h<t.length;h++){var c=t[h],p=o.sub(c.position).norm()-n;a+=.5*r*p*p}return a},e.prototype.applyConstraint=function(t,i,e){for(var n=this.options,o=this.pDiff,r=this.vDiff,a=this.impulse1,h=this.impulse2,c=n.length,p=n.anchor||i.position,u=n.period,l=n.dampingRatio,f=0;f<t.length;f++){var d=t[f],_=d.position,y=d.velocity,g=d.mass,v=d.inverseMass;
o.set(_.sub(p));var m,O=o.norm()-c;if(i){var S=i.inverseMass,T=i.velocity;r.set(y.sub(T)),m=1/(v+S)}else r.set(y),m=g;var w,b;if(0===this.options.period)w=0,b=1;else{var E=4*m*s*s/(u*u),I=4*m*s*l/u;b=e*E/(I+e*E),w=1/(I+e*E)}var x=b/e*O;o.normalize(-x).sub(r).mult(e/(w+e/m)).put(a),d.applyImpulse(a),i&&(a.mult(-1).put(h),i.applyImpulse(h))}},i.exports=e},{"../../math/Vector":41,"./Constraint":55}],59:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this.J=new o,this.impulse=new o,n.call(this)}var n=t("./Constraint"),o=t("../../math/Vector");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={equation:void 0,period:0,dampingRatio:0};var s=1e-7,r=Math.PI;e.prototype.setOptions=function(t){for(var i in t)this.options[i]=t[i]},e.prototype.applyConstraint=function(t,i,e){for(var n=this.impulse,o=this.J,a=this.options,h=a.equation,c=a.dampingRatio,p=a.period,u=0;u<t.length;u++){var l,f,d=t[u],_=d.velocity,y=d.position,g=d.mass;if(0===p)l=0,f=1;else{var v=4*g*r*c/p,m=4*g*r*r/(p*p);l=1/(v+e*m),f=e*m/(v+e*m)}var O=y.x,S=y.y,T=y.z,w=h(O,S,T),b=(h(O+s,y,y)-w)/s,E=(h(O,S+s,y)-w)/s,I=(h(O,S,y+s)-w)/s;o.setXYZ(b,E,I);var x=f/e*w,M=-(o.dot(_)+x)/(l+e*o.normSquared()/g);n.set(o.mult(e*M)),d.applyImpulse(n)}},i.exports=e},{"../../math/Vector":41,"./Constraint":55}],60:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this.diff=new h,this.impulse=new h,a.call(this)}function n(t,i){return i.dot(t)}function o(t){var i=this.options.normal,e=this.options.distance;return t.dot(i)+e}function s(t,i,n){var o=t.position,s=t.velocity,r=t.mass,a=this.options.normal,h=this.options.onContact,c=this.options.restitution,p=this.impulse,u=this.options.drift,l=-this.options.slop,f=0;if(this._eventOutput){var d={particle:t,wall:this,overlap:i,normal:a};this._eventOutput.emit("preCollision",d),this._eventOutput.emit("collision",d)}switch(h){case e.ON_CONTACT.REFLECT:var _=l>i?-((1+c)*a.dot(s)+u/n*(i-l))/(r*n+f):-((1+c)*a.dot(s))/(r*n+f);p.set(a.mult(n*_)),t.applyImpulse(p),t.setPosition(o.add(a.mult(-i)))}this._eventOutput&&this._eventOutput.emit("postCollision",d)}function r(t,i){var n=this.options.onContact,o=t.position,s=this.options.normal;n===e.ON_CONTACT.REFLECT&&t.setPosition(o.add(s.mult(-i)))}var a=t("./Constraint"),h=t("../../math/Vector");e.prototype=Object.create(a.prototype),e.prototype.constructor=e,e.ON_CONTACT={REFLECT:0,SILENT:1},e.DEFAULT_OPTIONS={restitution:.5,drift:.5,slop:0,normal:[1,0,0],distance:0,onContact:e.ON_CONTACT.REFLECT},e.prototype.setOptions=function(t){void 0!==t.normal&&(t.normal instanceof h&&(this.options.normal=t.normal.clone()),t.normal instanceof Array&&(this.options.normal=new h(t.normal))),void 0!==t.restitution&&(this.options.restitution=t.restitution),void 0!==t.drift&&(this.options.drift=t.drift),void 0!==t.slop&&(this.options.slop=t.slop),void 0!==t.distance&&(this.options.distance=t.distance),void 0!==t.onContact&&(this.options.onContact=t.onContact)},e.prototype.applyConstraint=function(t,i,e){for(var a=this.options.normal,h=0;h<t.length;h++){var c=t[h],p=c.position,u=c.velocity,l=c.radius||0,f=o.call(this,p.add(a.mult(-l))),d=n.call(this,a,u);0>=f&&(0>d?s.call(this,c,f,e):r.call(this,c,f,e))}},i.exports=e},{"../../math/Vector":41,"./Constraint":55}],61:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),o.call(this,t.sides||this.options.sides),r.call(this)}function n(t,i,n){var o,s=e.SIDES;switch(parseInt(t)){case s.LEFT:o=i[0]*n[0];break;case s.TOP:o=i[1]*n[1];break;case s.FRONT:o=i[2]*n[2];break;case s.RIGHT:o=i[0]*(1-n[0]);break;case s.BOTTOM:o=i[1]*(1-n[1]);break;case s.BACK:o=i[2]*(1-n[2])}return o}function o(t){this.components={};for(var i=this.components,e=0;e<t.length;e++){var o=t[e];i[e]=new a({normal:c[o].clone(),distance:n(o,this.options.size,this.options.origin)})}}function s(t){this.forEach(function(i){i.setOptions(t)});for(var i in t)this.options[i]=t[i]}var r=t("./Constraint"),a=t("./Wall"),h=t("../../math/Vector");e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.ON_CONTACT=a.ON_CONTACT,e.SIDES={LEFT:0,RIGHT:1,TOP:2,BOTTOM:3,FRONT:4,BACK:5,TWO_DIMENSIONAL:[0,1,2,3],THREE_DIMENSIONAL:[0,1,2,3,4,5]},e.DEFAULT_OPTIONS={sides:e.SIDES.TWO_DIMENSIONAL,size:[window.innerWidth,window.innerHeight,0],origin:[.5,.5,.5],drift:.5,slop:0,restitution:.5,onContact:e.ON_CONTACT.REFLECT};var c={0:new h(1,0,0),1:new h(-1,0,0),2:new h(0,1,0),3:new h(0,-1,0),4:new h(0,0,1),5:new h(0,0,-1)};e.prototype.setOptions=function(t){var i=!1;void 0!==t.restitution&&s.call(this,{restitution:t.restitution}),void 0!==t.drift&&s.call(this,{drift:t.drift}),void 0!==t.slop&&s.call(this,{slop:t.slop}),void 0!==t.onContact&&s.call(this,{onContact:t.onContact}),void 0!==t.size&&(i=!0),void 0!==t.sides&&(this.options.sides=t.sides),void 0!==t.origin&&(i=!0),i&&this.setSize(t.size,t.origin)},e.prototype.setSize=function(t,i){i=i||this.options.origin,i.length<3&&(i[2]=.5),this.forEach(function(e,o){var s=n(o,t,i);e.setOptions({distance:s})}),this.options.size=t,this.options.origin=i},e.prototype.applyConstraint=function(t,i,e){this.forEach(function(n){n.applyConstraint(t,i,e)})},e.prototype.forEach=function(t){var i=this.options.sides;for(var e in this.sides)t(i[e],e)},e.prototype.rotateZ=function(t){this.forEach(function(i){var e=i.options.normal;e.rotateZ(t).put(e)})},e.prototype.rotateX=function(t){this.forEach(function(i){var e=i.options.normal;e.rotateX(t).put(e)})},e.prototype.rotateY=function(t){this.forEach(function(i){var e=i.options.normal;e.rotateY(t).put(e)})},i.exports=e},{"../../math/Vector":41,"./Constraint":55,"./Wall":60}],62:[function(t,i){i.exports={Collision:t("./Collision"),Constraint:t("./Constraint"),Curve:t("./Curve"),Distance:t("./Distance"),Snap:t("./Snap"),Surface:t("./Surface"),Wall:t("./Wall"),Walls:t("./Walls")}},{"./Collision":54,"./Constraint":55,"./Curve":56,"./Distance":57,"./Snap":58,"./Surface":59,"./Wall":60,"./Walls":61}],63:[function(t,i){function e(t){this.options=Object.create(this.constructor.DEFAULT_OPTIONS),t&&this.setOptions(t),n.call(this)}var n=t("./Force");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.FORCE_FUNCTIONS={LINEAR:function(t){return t},QUADRATIC:function(t){return t.mult(t.norm())}},e.DEFAULT_OPTIONS={strength:.01,forceFunction:e.FORCE_FUNCTIONS.LINEAR},e.prototype.applyForce=function(t){var i,e,n=this.options.strength,o=this.options.forceFunction,s=this.force;for(i=0;i<t.length;i++)e=t[i],o(e.velocity).mult(-n).put(s),e.applyForce(s)},e.prototype.setOptions=function(t){for(var i in t)this.options[i]=t[i]},i.exports=e},{"./Force":64}],64:[function(t,i){function e(t){this.force=new n(t),this._eventOutput=new o,o.setOutputHandler(this,this._eventOutput)}var n=t("../../math/Vector"),o=t("../../core/EventHandler");e.prototype.setOptions=function(t){this._eventOutput.emit("change",t)},e.prototype.applyForce=function(t){for(var i=t.length;i--;)t[i].applyForce(this.force)},e.prototype.getEnergy=function(){return 0},i.exports=e},{"../../core/EventHandler":7,"../../math/Vector":41}],65:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this.disp=new o,n.call(this)}var n=t("./Force"),o=t("../../math/Vector");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DECAY_FUNCTIONS={LINEAR:function(t,i){return Math.max(1-1/i*t,0)},MORSE:function(t,i){var e=0===i?100:i,n=t+e*(1-Math.log(2));return Math.max(1-Math.pow(1-Math.exp(n/e-1),2),0)},INVERSE:function(t,i){return 1/(1-i+t)},GRAVITY:function(t,i){return 1/(1-i+t*t)}},e.DEFAULT_OPTIONS={strength:1,anchor:void 0,range:[0,1/0],cutoff:0,cap:1/0,decayFunction:e.DECAY_FUNCTIONS.GRAVITY},e.prototype.setOptions=function(t){void 0!==t.anchor&&(t.anchor.position instanceof o&&(this.options.anchor=t.anchor.position),t.anchor instanceof Array&&(this.options.anchor=new o(t.anchor)),delete t.anchor);for(var i in t)this.options[i]=t[i]},e.prototype.applyForce=function(t,i){var e=this.options,n=this.force,o=this.disp,s=e.strength,r=e.anchor||i.position,a=e.cap,h=e.cutoff,c=e.range[0],p=e.range[1],u=e.decayFunction;if(0!==s)for(var l,f,d,_,y=t.length;y--;)l=t[y],l!==i&&(f=l.mass,d=l.position,o.set(d.sub(r)),_=o.norm(),p>_&&_>c&&(n.set(o.normalize(s*f*u(_,h)).cap(a)),l.applyForce(n)))},i.exports=e},{"../../math/Vector":41,"./Force":64}],66:[function(t,i){function e(t){n.call(this,t)}var n=t("./Drag");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS=n.DEFAULT_OPTIONS,e.FORCE_FUNCTIONS=n.FORCE_FUNCTIONS,e.FORCE_FUNCTIONS={LINEAR:function(t){return t},QUADRATIC:function(t){return t.mult(t.norm())}},e.prototype.applyForce=function(t){var i,e,n=this.options.strength,o=this.options.forceFunction,s=this.force;for(i=0;i<t.length;i++)e=t[i],o(e.angularVelocity).mult(-100*n).put(s),e.applyTorque(s)},e.prototype.setOptions=function(t){for(var i in t)this.options[i]=t[i]},i.exports=e},{"./Drag":63}],67:[function(t,i){function e(t){a.call(this,t)}function n(){var t=this.options;t.stiffness=Math.pow(2*c/t.period,2)}function o(){var t=this.options;t.damping=4*c*t.dampingRatio/t.period}function s(){n.call(this),o.call(this)}var r=t("./Force"),a=t("./Spring"),h=t("../../math/Quaternion");e.prototype=Object.create(a.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS=a.DEFAULT_OPTIONS,e.FORCE_FUNCTIONS=a.FORCE_FUNCTIONS;var c=Math.PI;e.prototype.setOptions=function(t){void 0!==t.anchor&&(t.anchor instanceof h&&(this.options.anchor=t.anchor),t.anchor instanceof Array&&(this.options.anchor=new h(t.anchor))),void 0!==t.period&&(this.options.period=t.period),void 0!==t.dampingRatio&&(this.options.dampingRatio=t.dampingRatio),void 0!==t.length&&(this.options.length=t.length),void 0!==t.forceFunction&&(this.options.forceFunction=t.forceFunction),void 0!==t.maxLength&&(this.options.maxLength=t.maxLength),s.call(this),r.prototype.setOptions.call(this,t)},e.prototype.applyForce=function(t){var i,e,n,o,s=this.force,r=this.options,a=this.disp,h=r.stiffness,c=r.damping,p=r.length,u=r.anchor,l=r.forceFunction,f=r.maxLength;for(i=0;i<t.length;i++){if(e=t[i],a.set(u.sub(e.orientation)),n=a.norm()-p,0===n)return;o=e.mass,h*=o,c*=o,s.set(a.normalize(h*l(n,f))),c&&s.add(e.angularVelocity.mult(-c)).put(s),e.applyTorque(s)}},e.prototype.getEnergy=function(t){for(var i=this.options,e=i.length,n=i.anchor,o=i.stiffness,s=0,r=0;r<t.length;r++){var a=t[r],h=n.sub(a.orientation).norm()-e;s+=.5*o*h*h}return s},i.exports=e},{"../../math/Quaternion":38,"./Force":64,"./Spring":68}],68:[function(t,i){function e(t){r.call(this),this.options=Object.create(this.constructor.DEFAULT_OPTIONS),t&&this.setOptions(t),this.disp=new a(0,0,0),s.call(this)}function n(){var t=this.options;t.stiffness=Math.pow(2*h/t.period,2)}function o(){var t=this.options;t.damping=4*h*t.dampingRatio/t.period}function s(){n.call(this),o.call(this)}var r=t("./Force"),a=t("../../math/Vector");e.prototype=Object.create(r.prototype),e.prototype.constructor=e;var h=Math.PI,c=150;e.FORCE_FUNCTIONS={FENE:function(t,i){var e=.99*i,n=Math.max(Math.min(t,e),-e);return n/(1-n*n/(i*i))},HOOK:function(t){return t}},e.DEFAULT_OPTIONS={period:300,dampingRatio:.1,length:0,maxLength:1/0,anchor:void 0,forceFunction:e.FORCE_FUNCTIONS.HOOK},e.prototype.setOptions=function(t){void 0!==t.anchor&&(t.anchor.position instanceof a&&(this.options.anchor=t.anchor.position),t.anchor instanceof a&&(this.options.anchor=t.anchor),t.anchor instanceof Array&&(this.options.anchor=new a(t.anchor))),void 0!==t.period&&(t.period<c&&(t.period=c,console.warn("The period of a SpringTransition is capped at "+c+" ms. Use a SnapTransition for faster transitions")),this.options.period=t.period),void 0!==t.dampingRatio&&(this.options.dampingRatio=t.dampingRatio),void 0!==t.length&&(this.options.length=t.length),void 0!==t.forceFunction&&(this.options.forceFunction=t.forceFunction),void 0!==t.maxLength&&(this.options.maxLength=t.maxLength),s.call(this),r.prototype.setOptions.call(this,t)},e.prototype.applyForce=function(t,i){var e,n,o,s,r,a,h=this.force,c=this.disp,p=this.options,u=p.stiffness,l=p.damping,f=p.length,d=p.maxLength,_=p.anchor||i.position,y=p.forceFunction;for(e=0;e<t.length;e++){if(n=t[e],o=n.position,s=n.velocity,_.sub(o).put(c),r=c.norm()-f,0===r)return;a=n.mass,u*=a,l*=a,c.normalize(u*y(r,d)).put(h),l&&(i?h.add(s.sub(i.velocity).mult(-l)).put(h):h.add(s.mult(-l)).put(h)),n.applyForce(h),i&&i.applyForce(h.mult(-1))}},e.prototype.getEnergy=function(t,i){for(var e=this.options,n=e.length,o=i?i.position:e.anchor,s=e.stiffness,r=0,a=0;a<t.length;a++){var h=t[a],c=o.sub(h.position).norm()-n;r+=.5*s*c*c}return r},i.exports=e},{"../../math/Vector":41,"./Force":64}],69:[function(t,i){function e(t){o.call(this),this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this.evaluation=new s}function n(t){var i=e.FIELDS;switch(t){case i.CONSTANT:this.options.direction?this.options.direction instanceof Array&&(this.options.direction=new s(this.options.direction)):this.options.direction=new s(0,1,0);break;case i.POINT_ATTRACTOR:this.options.position?this.options.position instanceof Array&&(this.options.position=new s(this.options.position)):this.options.position=new s(0,0,0)}}var o=t("./Force"),s=t("../../math/Vector");e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.FIELDS={CONSTANT:function(t,i){i.direction.put(this.evaluation)},LINEAR:function(t){t.put(this.evaluation)},RADIAL:function(t){t.mult(-1).put(this.evaluation)},POINT_ATTRACTOR:function(t,i){i.position.sub(t).put(this.evaluation)}},e.DEFAULT_OPTIONS={strength:.01,field:e.FIELDS.CONSTANT},e.prototype.setOptions=function(t){void 0!==t.strength&&(this.options.strength=t.strength),void 0!==t.field&&(this.options.field=t.field,n.call(this,this.options.field))},e.prototype.applyForce=function(t){var i,e,n=this.force,o=this.options.strength,s=this.options.field;for(i=0;i<t.length;i++)e=t[i],s.call(this,e.position,this.options),this.evaluation.mult(e.mass*o).put(n),e.applyForce(n)},e.prototype.getEnergy=function(t){var i,n,o=this.options.field,s=e.FIELDS,r=0;switch(o){case s.CONSTANT:r=t.length*this.options.direction.norm();break;case s.RADIAL:for(i=0;i<t.length;i++)n=t[i],r+=n.position.norm();break;case s.POINT_ATTRACTOR:for(i=0;i<t.length;i++)n=t[i],r+=n.position.sub(this.options.position).norm()}return r*=this.options.strength},i.exports=e},{"../../math/Vector":41,"./Force":64}],70:[function(t,i){i.exports={Drag:t("./Drag"),Force:t("./Force"),Repulsion:t("./Repulsion"),RotationalDrag:t("./RotationalDrag"),RotationalSpring:t("./RotationalSpring"),Spring:t("./Spring"),VectorField:t("./VectorField")}},{"./Drag":63,"./Force":64,"./Repulsion":65,"./RotationalDrag":66,"./RotationalSpring":67,"./Spring":68,"./VectorField":69}],71:[function(t,i){i.exports={PhysicsEngine:t("./PhysicsEngine"),bodies:t("./bodies"),constraints:t("./constraints"),forces:t("./forces"),integrators:t("./integrators")}},{"./PhysicsEngine":48,"./bodies":53,"./constraints":62,"./forces":70,"./integrators":73}],72:[function(t,i){var e={};e.integrateVelocity=function(t,i){var e=t.velocity,n=t.inverseMass,o=t.force;o.isZero()||(e.add(o.mult(i*n)).put(e),o.clear())},e.integratePosition=function(t,i){var e=t.position,n=t.velocity;e.add(n.mult(i)).put(e)},e.integrateAngularMomentum=function(t,i){var e=t.angularMomentum,n=t.torque;n.isZero()||(e.add(n.mult(i)).put(e),n.clear())},e.integrateOrientation=function(t,i){var e=t.orientation,n=t.angularVelocity;n.isZero()||e.add(e.multiply(n).scalarMultiply(.5*i)).put(e)},i.exports=e},{}],73:[function(t,i){i.exports={SymplecticEuler:t("./SymplecticEuler")}},{"./SymplecticEuler":72}],74:[function(t,i){function e(t){t&&t.canvasSize&&(this._canvasSize=t.canvasSize),n.apply(this,arguments),this._canvasSize||(this._canvasSize=this.getSize()),this._backBuffer=document.createElement("canvas"),this._canvasSize&&(this._backBuffer.width=this._canvasSize[0],this._backBuffer.height=this._canvasSize[1]),this._contextId=void 0}var n=t("../core/Surface");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.elementType="canvas",e.prototype.elementClass="famous-surface",e.prototype.setContent=function(){},e.prototype.deploy=function(t){this._canvasSize&&(t.width=this._canvasSize[0],t.height=this._canvasSize[1]),"2d"===this._contextId&&(t.getContext(this._contextId).drawImage(this._backBuffer,0,0),this._backBuffer.width=0,this._backBuffer.height=0)},e.prototype.recall=function(t){this.getSize();this._backBuffer.width=t.width,this._backBuffer.height=t.height,"2d"===this._contextId&&(this._backBuffer.getContext(this._contextId).drawImage(t,0,0),t.width=0,t.height=0)},e.prototype.getContext=function(t){return this._contextId=t,this._currentTarget?this._currentTarget.getContext(t):this._backBuffer.getContext(t)},e.prototype.setSize=function(t,i){n.prototype.setSize.apply(this,arguments),i&&(this._canvasSize=[i[0],i[1]]),this._currentTarget&&(this._currentTarget.width=this._canvasSize[0],this._currentTarget.height=this._canvasSize[1])},i.exports=e},{"../core/Surface":14}],75:[function(t,i){function e(t){n.call(this,t),this._container=document.createElement("div"),this._container.classList.add("famous-group"),this._container.classList.add("famous-container-group"),this._shouldRecalculateSize=!1,this.context=new o(this._container),this.setContent(this._container)}var n=t("../core/Surface"),o=t("../core/Context");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.elementType="div",e.prototype.elementClass="famous-surface",e.prototype.add=function(){return this.context.add.apply(this.context,arguments)},e.prototype.render=function(){return this._sizeDirty&&(this._shouldRecalculateSize=!0),n.prototype.render.apply(this,arguments)},e.prototype.deploy=function(){return this._shouldRecalculateSize=!0,n.prototype.deploy.apply(this,arguments)},e.prototype.commit=function(){var t=this._size?[this._size[0],this._size[1]]:null,i=n.prototype.commit.apply(this,arguments);return(this._shouldRecalculateSize||t&&(this._size[0]!==t[0]||this._size[1]!==t[1]))&&(this.context.setSize(),this._shouldRecalculateSize=!1),this.context.update(),i},i.exports=e},{"../core/Context":1,"../core/Surface":14}],76:[function(t,i){function e(t){t&&(this._method=t.method||""),n.apply(this,arguments)}var n=t("./ContainerSurface");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.elementType="form",e.prototype.deploy=function(t){return this._method&&(t.method=this._method),n.prototype.deploy.apply(this,arguments)},i.exports=e},{"./ContainerSurface":75}],77:[function(t,i){function e(){this._imageUrl=void 0,n.apply(this,arguments)}var n=t("../core/Surface"),o=[],s=[],r=[],a=!0;e.enableCache=function(){a=!0},e.disableCache=function(){a=!1},e.clearCache=function(){o=[],s=[],r=[]},e.getCache=function(){return{urlCache:o,countCache:s,nodeCache:s}},e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.elementType="img",e.prototype.elementClass="famous-surface",e.prototype.setContent=function(t){var i=o.indexOf(this._imageUrl);-1!==i&&(1===s[i]?(o.splice(i,1),s.splice(i,1),r.splice(i,1)):s[i]--),i=o.indexOf(t),-1===i?(o.push(t),s.push(1)):s[i]++,this._imageUrl=t,this._contentDirty=!0},e.prototype.deploy=function(t){var i=o.indexOf(this._imageUrl);if(void 0===r[i]&&a){var e=new Image;e.src=this._imageUrl||"",r[i]=e}t.src=this._imageUrl||""},e.prototype.recall=function(t){t.src=""},i.exports=e},{"../core/Surface":14}],78:[function(t,i){function e(t){this._placeholder=t.placeholder||"",this._value=t.value||"",this._type=t.type||"text",this._name=t.name||"",n.apply(this,arguments),this.on("click",this.focus.bind(this)),window.addEventListener("click",function(t){t.target!==this._currentTarget&&this.blur()}.bind(this))}var n=t("../core/Surface");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.elementType="input",e.prototype.elementClass="famous-surface",e.prototype.setPlaceholder=function(t){return this._placeholder=t,this._contentDirty=!0,this},e.prototype.focus=function(){return this._currentTarget&&this._currentTarget.focus(),this},e.prototype.blur=function(){return this._currentTarget&&this._currentTarget.blur(),this},e.prototype.setValue=function(t){return this._value=t,this._contentDirty=!0,this},e.prototype.setType=function(t){return this._type=t,this._contentDirty=!0,this},e.prototype.getValue=function(){return this._currentTarget?this._currentTarget.value:this._value},e.prototype.setName=function(t){return this._name=t,this._contentDirty=!0,this},e.prototype.getName=function(){return this._name},e.prototype.deploy=function(t){""!==this._placeholder&&(t.placeholder=this._placeholder),t.value=this._value,t.type=this._type,t.name=this._name},i.exports=e},{"../core/Surface":14}],79:[function(t,i){function e(t){n.apply(this,arguments),this._type="submit",t&&t.onClick&&this.setOnClick(t.onClick)}var n=t("./InputSurface");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.setOnClick=function(t){this.onClick=t},e.prototype.deploy=function(t){this.onclick&&(t.onClick=this.onClick),n.prototype.deploy.apply(this,arguments)},i.exports=e},{"./InputSurface":78}],80:[function(t,i){function e(t){this._placeholder=t.placeholder||"",this._value=t.value||"",this._name=t.name||"",this._wrap=t.wrap||"",this._cols=t.cols||"",this._rows=t.rows||"",n.apply(this,arguments),this.on("click",this.focus.bind(this))}var n=t("../core/Surface");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.elementType="textarea",e.prototype.elementClass="famous-surface",e.prototype.setPlaceholder=function(t){return this._placeholder=t,this._contentDirty=!0,this},e.prototype.focus=function(){return this._currentTarget&&this._currentTarget.focus(),this},e.prototype.blur=function(){return this._currentTarget&&this._currentTarget.blur(),this},e.prototype.setValue=function(t){return this._value=t,this._contentDirty=!0,this},e.prototype.getValue=function(){return this._currentTarget?this._currentTarget.value:this._value},e.prototype.setName=function(t){return this._name=t,this._contentDirty=!0,this},e.prototype.getName=function(){return this._name},e.prototype.setWrap=function(t){return this._wrap=t,this._contentDirty=!0,this},e.prototype.setColumns=function(t){return this._cols=t,this._contentDirty=!0,this},e.prototype.setRows=function(t){return this._rows=t,this._contentDirty=!0,this},e.prototype.deploy=function(t){""!==this._placeholder&&(t.placeholder=this._placeholder),""!==this._value&&(t.value=this._value),""!==this._name&&(t.name=this._name),""!==this._wrap&&(t.wrap=this._wrap),""!==this._cols&&(t.cols=this._cols),""!==this._rows&&(t.rows=this._rows)},i.exports=e},{"../core/Surface":14}],81:[function(t,i){function e(t){n.apply(this,arguments),this._videoUrl=void 0,this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t)}var n=t("../core/Surface");e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={autoplay:!1},e.prototype.elementType="video",e.prototype.elementClass="famous-surface",e.prototype.setOptions=function(t){t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.autoplay&&(this.options.autoplay=t.autoplay),t.src&&(this._videoUrl=t.src,this._contentDirty=!0)},e.prototype.setContent=function(t){this._videoUrl=t,this._contentDirty=!0},e.prototype.deploy=function(t){t.src=this._videoUrl,t.autoplay=this.options.autoplay},e.prototype.recall=function(t){t.src=""},i.exports=e},{"../core/Surface":14}],82:[function(t,i){i.exports={CanvasSurface:t("./CanvasSurface"),ContainerSurface:t("./ContainerSurface"),FormContainerSurface:t("./FormContainerSurface"),ImageSurface:t("./ImageSurface"),InputSurface:t("./InputSurface"),SubmitInputSurface:t("./SubmitInputSurface"),TextareaSurface:t("./TextareaSurface"),VideoSurface:t("./VideoSurface")}},{"./CanvasSurface":74,"./ContainerSurface":75,"./FormContainerSurface":76,"./ImageSurface":77,"./InputSurface":78,"./SubmitInputSurface":79,"./TextareaSurface":80,"./VideoSurface":81}],83:[function(t,i){function e(t){this._map=t||null,this._cachedOutput=null,this._cachedInput=Number.NaN}e.create=function(t){var i=new e(t);return i.get.bind(i)},e.prototype.get=function(t){return t!==this._cachedInput&&(this._cachedInput=t,this._cachedOutput=this._map(t)),this._cachedOutput},i.exports=e},{}],84:[function(t,i){var e={inQuad:function(t){return t*t},outQuad:function(t){return-(t-=1)*t+1},inOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},outExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:1===t?1:(e||(e=.3),i=e/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e)))},outElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:1===t?1:(e||(e=.3),i=e/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin(2*(t-i)*Math.PI/e)+1)},inOutElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:2===(t/=.5)?1:(e||(e=.3*1.5),i=e/(2*Math.PI)*Math.asin(1/n),1>t?-.5*n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e):n*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e)*.5+1)},inBack:function(t,i){return void 0===i&&(i=1.70158),t*t*((i+1)*t-i)},outBack:function(t,i){return void 0===i&&(i=1.70158),--t*t*((i+1)*t+i)+1},inOutBack:function(t,i){return void 0===i&&(i=1.70158),(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},inBounce:function(t){return 1-e.outBounce(1-t)},outBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t){return.5>t?.5*e.inBounce(2*t):.5*e.outBounce(2*t-1)+.5}};i.exports=e},{}],85:[function(t,i){function e(t){this.method=t,this._instances=[],this.state=[]}var n=t("../utilities/Utility");e.SUPPORTS_MULTIPLE=!0,e.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},e.prototype.set=function(t,i,e){for(var o=n.after(t.length,e),s=0;s<t.length;s++)this._instances[s]||(this._instances[s]=new this.method),this._instances[s].set(t[s],i,o)},e.prototype.reset=function(t){for(var i=0;i<t.length;i++)this._instances[i]||(this._instances[i]=new this.method),this._instances[i].reset(t[i])},i.exports=e},{"../utilities/Utility":95}],86:[function(t,i){function e(t){t=t||0,this.endState=new v(t),this.initState=new v,this._dimensions=1,this._restTolerance=1e-10,this._absRestTolerance=this._restTolerance,this._callback=void 0,this.PE=new _,this.particle=new y,this.spring=new g({anchor:this.endState}),this.PE.addBody(this.particle),this.PE.attach(this.spring,this.particle)}function n(){return this.particle.getEnergy()+this.spring.getEnergy([this.particle])}function o(){var t=this.endState.sub(this.initState).normSquared();this._absRestTolerance=0===t?this._restTolerance:this._restTolerance*t}function s(t){this.endState.set(t),o.call(this)}function r(){this.PE.wake()}function a(){this.PE.sleep()}function h(t){this.particle.position.set(t)}function c(t){this.particle.velocity.set(t)}function p(){return 0===this._dimensions?this.particle.getPosition1D():this.particle.getPosition()}function u(){return 0===this._dimensions?this.particle.getVelocity1D():this.particle.getVelocity()}function l(t){this._callback=t}function f(t){var i=e.DEFAULT_OPTIONS;void 0===t.period&&(t.period=i.period),void 0===t.dampingRatio&&(t.dampingRatio=i.dampingRatio),void 0===t.velocity&&(t.velocity=i.velocity),this.spring.setOptions({period:t.period,dampingRatio:t.dampingRatio}),c.call(this,t.velocity)}function d(){if(this.PE.isSleeping()){if(this._callback){var t=this._callback;this._callback=void 0,t()}}else n.call(this)<this._absRestTolerance&&(h.call(this,this.endState),c.call(this,[0,0,0]),a.call(this))}var _=t("../physics/PhysicsEngine"),y=t("../physics/bodies/Particle"),g=t("../physics/constraints/Snap"),v=t("../math/Vector");e.SUPPORTS_MULTIPLE=3,e.DEFAULT_OPTIONS={period:100,dampingRatio:.2,velocity:0},e.prototype.reset=function(t,i){this._dimensions=t instanceof Array?t.length:0,this.initState.set(t),h.call(this,t),s.call(this,t),i&&c.call(this,i),l.call(this,void 0)},e.prototype.getVelocity=function(){return u.call(this)},e.prototype.setVelocity=function(t){this.call(this,c(t))},e.prototype.isActive=function(){return!this.PE.isSleeping()},e.prototype.halt=function(){this.set(this.get())},e.prototype.get=function(){return d.call(this),p.call(this)},e.prototype.set=function(t,i,e){return i?(this._dimensions=t instanceof Array?t.length:0,r.call(this),f.call(this,i),s.call(this,t),void l.call(this,e)):(this.reset(t),void(e&&e()))},i.exports=e},{"../math/Vector":41,"../physics/PhysicsEngine":48,"../physics/bodies/Particle":51,"../physics/constraints/Snap":58}],87:[function(t,i){function e(t){t=t||0,this.endState=new v(t),this.initState=new v,this._dimensions=void 0,this._restTolerance=1e-10,this._absRestTolerance=this._restTolerance,this._callback=void 0,this.PE=new _,this.spring=new g({anchor:this.endState}),this.particle=new y,this.PE.addBody(this.particle),this.PE.attach(this.spring,this.particle)}function n(){return this.particle.getEnergy()+this.spring.getEnergy([this.particle])}function o(t){this.particle.setPosition(t)}function s(t){this.particle.setVelocity(t)}function r(){return 0===this._dimensions?this.particle.getPosition1D():this.particle.getPosition()}function a(){return 0===this._dimensions?this.particle.getVelocity1D():this.particle.getVelocity()}function h(t){this._callback=t}function c(){this.PE.wake()}function p(){this.PE.sleep()}function u(){if(this.PE.isSleeping()){if(this._callback){var t=this._callback;this._callback=void 0,t()}}else n.call(this)<this._absRestTolerance&&(o.call(this,this.endState),s.call(this,[0,0,0]),p.call(this))}function l(t){var i=e.DEFAULT_OPTIONS;void 0===t.period&&(t.period=i.period),void 0===t.dampingRatio&&(t.dampingRatio=i.dampingRatio),void 0===t.velocity&&(t.velocity=i.velocity),t.period<150&&(t.period=150,console.warn("The period of a SpringTransition is capped at 150 ms. Use a SnapTransition for faster transitions")),this.spring.setOptions({period:t.period,dampingRatio:t.dampingRatio}),s.call(this,t.velocity)}function f(){var t=this.endState.sub(this.initState).normSquared();this._absRestTolerance=0===t?this._restTolerance:this._restTolerance*t}function d(t){this.endState.set(t),f.call(this)}var _=t("../physics/PhysicsEngine"),y=t("../physics/bodies/Particle"),g=t("../physics/forces/Spring"),v=t("../math/Vector");e.SUPPORTS_MULTIPLE=3,e.DEFAULT_OPTIONS={period:300,dampingRatio:.5,velocity:0},e.prototype.reset=function(t,i){this._dimensions=t instanceof Array?t.length:0,this.initState.set(t),o.call(this,t),d.call(this,t),i&&s.call(this,i),h.call(this,void 0)},e.prototype.getVelocity=function(){return a.call(this)},e.prototype.setVelocity=function(t){this.call(this,s(t))},e.prototype.isActive=function(){return!this.PE.isSleeping()
},e.prototype.halt=function(){this.set(this.get())},e.prototype.get=function(){return u.call(this),r.call(this)},e.prototype.set=function(t,i,e){return i?(this._dimensions=t instanceof Array?t.length:0,c.call(this),l.call(this,i),d.call(this,t),void h.call(this,e)):(this.reset(t),void(e&&e()))},i.exports=e},{"../math/Vector":41,"../physics/PhysicsEngine":48,"../physics/bodies/Particle":51,"../physics/forces/Spring":68}],88:[function(t,i){function e(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function n(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return void this.set(this.get());this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var i=null,e=this.currentAction[0],a=this.currentAction[1];a instanceof Object&&a.method?(i=a.method,"string"==typeof i&&(i=r[i])):i=s,this._currentMethod!==i&&(this._engineInstance=!(e instanceof Object)||i.SUPPORTS_MULTIPLE===!0||e.length<=i.SUPPORTS_MULTIPLE?new i:new o(i),this._currentMethod=i),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(a.velocity=this.velocity),this._engineInstance.set(e,a,n.bind(this))}var o=t("./MultipleTransition"),s=t("./TweenTransition"),r={};e.register=function(t){var i=!0;for(var n in t)e.registerMethod(n,t[n])||(i=!1);return i},e.registerMethod=function(t,i){return t in r?!1:(r[t]=i,!0)},e.unregisterMethod=function(t){return t in r?(delete r[t],!0):!1},e.prototype.set=function(t,i,e){if(!i)return this.reset(t),e&&e(),this;var o=[t,i];return this.actionQueue.push(o),this.callbackQueue.push(e),this.currentAction||n.call(this),this},e.prototype.reset=function(t,i){this._currentMethod=null,this._engineInstance=null,this._callback=void 0,this.state=t,this.velocity=i,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},e.prototype.delay=function(t,i){this.set(this.get(),{duration:t,curve:function(){return 0}},i)},e.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},e.prototype.isActive=function(){return!!this.currentAction},e.prototype.halt=function(){return this.set(this.get())},i.exports=e},{"./MultipleTransition":85,"./TweenTransition":90}],89:[function(t,i){function e(t){this._final=r.identity.slice(),this._finalTranslate=[0,0,0],this._finalRotate=[0,0,0],this._finalSkew=[0,0,0],this._finalScale=[1,1,1],this.translate=new s(this._finalTranslate),this.rotate=new s(this._finalRotate),this.skew=new s(this._finalSkew),this.scale=new s(this._finalScale),t&&this.set(t)}function n(){return r.build({translate:this.translate.get(),rotate:this.rotate.get(),skew:this.skew.get(),scale:this.scale.get()})}function o(){return r.build({translate:this._finalTranslate,rotate:this._finalRotate,skew:this._finalSkew,scale:this._finalScale})}var s=t("./Transitionable"),r=t("../core/Transform"),a=t("../utilities/Utility");e.prototype.setTranslate=function(t,i,e){return this._finalTranslate=t,this._final=o.call(this),this.translate.set(t,i,e),this},e.prototype.setScale=function(t,i,e){return this._finalScale=t,this._final=o.call(this),this.scale.set(t,i,e),this},e.prototype.setRotate=function(t,i,e){return this._finalRotate=t,this._final=o.call(this),this.rotate.set(t,i,e),this},e.prototype.setSkew=function(t,i,e){return this._finalSkew=t,this._final=o.call(this),this.skew.set(t,i,e),this},e.prototype.set=function(t,i,e){var n=r.interpret(t);this._finalTranslate=n.translate,this._finalRotate=n.rotate,this._finalSkew=n.skew,this._finalScale=n.scale,this._final=t;var o=e?a.after(4,e):null;return this.translate.set(n.translate,i,o),this.rotate.set(n.rotate,i,o),this.skew.set(n.skew,i,o),this.scale.set(n.scale,i,o),this},e.prototype.setDefaultTransition=function(t){this.translate.setDefault(t),this.rotate.setDefault(t),this.skew.setDefault(t),this.scale.setDefault(t)},e.prototype.get=function(){return this.isActive()?n.call(this):this._final},e.prototype.getFinal=function(){return this._final},e.prototype.isActive=function(){return this.translate.isActive()||this.rotate.isActive()||this.scale.isActive()||this.skew.isActive()},e.prototype.halt=function(){return this.translate.halt(),this.rotate.halt(),this.skew.halt(),this.scale.halt(),this._final=this.get(),this._finalTranslate=this.translate.get(),this._finalRotate=this.rotate.get(),this._finalSkew=this.skew.get(),this._finalScale=this.scale.get(),this},i.exports=e},{"../core/Transform":15,"../utilities/Utility":95,"./Transitionable":88}],90:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function n(t,i,e){return(1-e)*t+e*i}function o(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function s(t,i){var n={curve:i.curve};return i.duration&&(n.duration=i.duration),i.speed&&(n.speed=i.speed),t instanceof Object&&(void 0!==t.duration&&(n.duration=t.duration),t.curve&&(n.curve=t.curve),t.speed&&(n.speed=t.speed)),"string"==typeof n.curve&&(n.curve=e.getCurve(n.curve)),n}function r(t,i,e,n,o){var s,r=1e-7,a=(e(o)-e(o-r))/r;if(t instanceof Array){s=[];for(var h=0;h<t.length;h++)s[h]="number"==typeof t[h]?a*(t[h]-i[h])/n:0}else s=a*(t-i)/n;return s}function a(t,i,e){var o;if(t instanceof Array){o=[];for(var s=0;s<t.length;s++)o[s]="number"==typeof t[s]?n(t[s],i[s],e):t[s]}else o=n(t,i,e);return o}e.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},e.SUPPORTS_MULTIPLE=!0,e.DEFAULT_OPTIONS={curve:e.Curves.linear,duration:500,speed:0};var h={};e.registerCurve=function(t,i){return h[t]?!1:(h[t]=i,!0)},e.unregisterCurve=function(t){return h[t]?(delete h[t],!0):!1},e.getCurve=function(t){var i=h[t];if(void 0!==i)return i;throw new Error("curve not registered")},e.getCurves=function(){return h},e.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},e.prototype.set=function(t,i,e){if(!i)return this.reset(t),void(e&&e());if(this._startValue=o(this.get()),i=s(i,this.options),i.speed){var n=this._startValue;if(n instanceof Object){var r=0;for(var a in n)r+=(t[a]-n[a])*(t[a]-n[a]);i.duration=Math.sqrt(r)/i.speed}else i.duration=Math.abs(t-n)/i.speed}this._startTime=Date.now(),this._endValue=o(t),this._startVelocity=o(i.velocity),this._duration=i.duration,this._curve=i.curve,this._active=!0,this._callback=e},e.prototype.reset=function(t,i){if(this._callback){var e=this._callback;this._callback=void 0,e()}this.state=o(t),this.velocity=o(i),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},e.prototype.getVelocity=function(){return this.velocity},e.prototype.get=function(t){return this.update(t),this.state},e.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var i=t-this._startTime;if(i>=this._duration)this.state=this._endValue,this.velocity=r(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(0>i)this.state=this._startValue,this.velocity=this._startVelocity;else{var e=i/this._duration;this.state=a(this._startValue,this._endValue,this._curve(e)),this.velocity=r(this.state,this._startValue,this._curve,this._duration,e)}}}else if(this._callback){var n=this._callback;this._callback=void 0,n()}},e.prototype.isActive=function(){return this._active},e.prototype.halt=function(){this.reset(this.get())},e.registerCurve("linear",e.Curves.linear),e.registerCurve("easeIn",e.Curves.easeIn),e.registerCurve("easeOut",e.Curves.easeOut),e.registerCurve("easeInOut",e.Curves.easeInOut),e.registerCurve("easeOutBounce",e.Curves.easeOutBounce),e.registerCurve("spring",e.Curves.spring),e.customCurve=function(t,i){return t=t||0,i=i||0,function(e){return t*e+(-2*t-i+3)*e*e+(t+i-2)*e*e*e}},i.exports=e},{}],91:[function(t,i){function e(t){t=t||0,this.endState=new m(t),this.initState=new m,this.spring=new g({anchor:this.endState}),this.wall=new v,this._restTolerance=1e-10,this._dimensions=1,this._absRestTolerance=this._restTolerance,this._callback=void 0,this.PE=new _,this.particle=new y,this.PE.addBody(this.particle),this.PE.attach([this.wall,this.spring],this.particle)}function n(){return this.particle.getEnergy()+this.spring.getEnergy([this.particle])}function o(){var t=this.endState.sub(this.initState).normSquared();this._absRestTolerance=0===t?this._restTolerance:this._restTolerance*t}function s(){this.PE.wake()}function r(){this.PE.sleep()}function a(t){this.endState.set(t);var i=this.endState.sub(this.initState).norm();this.wall.setOptions({distance:this.endState.norm(),normal:0===i?this.particle.velocity.normalize(-1):this.endState.sub(this.initState).normalize(-1)}),o.call(this)}function h(t){this.particle.position.set(t)}function c(t){this.particle.velocity.set(t)}function p(){return 0===this._dimensions?this.particle.getPosition1D():this.particle.getPosition()}function u(){return 0===this._dimensions?this.particle.getVelocity1D():this.particle.getVelocity()}function l(t){this._callback=t}function f(){if(this.PE.isSleeping()){if(this._callback){var t=this._callback;this._callback=void 0,t()}}else{var i=n.call(this);i<this._absRestTolerance&&(r.call(this),h.call(this,this.endState),c.call(this,[0,0,0]))}}function d(t){var i=e.DEFAULT_OPTIONS;void 0===t.period&&(t.period=i.period),void 0===t.dampingRatio&&(t.dampingRatio=i.dampingRatio),void 0===t.velocity&&(t.velocity=i.velocity),void 0===t.restitution&&(t.restitution=i.restitution),this.spring.setOptions({period:t.period,dampingRatio:t.dampingRatio}),this.wall.setOptions({restitution:t.restitution}),c.call(this,t.velocity)}var _=t("../physics/PhysicsEngine"),y=t("../physics/bodies/Particle"),g=t("../physics/forces/Spring"),v=t("../physics/constraints/Wall"),m=t("../math/Vector");e.SUPPORTS_MULTIPLE=3,e.DEFAULT_OPTIONS={period:300,dampingRatio:.5,velocity:0,restitution:.5},e.prototype.reset=function(t,i){this._dimensions=t instanceof Array?t.length:0,this.initState.set(t),h.call(this,t),i&&c.call(this,i),a.call(this,t),l.call(this,void 0)},e.prototype.getVelocity=function(){return u.call(this)},e.prototype.setVelocity=function(t){this.call(this,c(t))},e.prototype.isActive=function(){return!this.PE.isSleeping()},e.prototype.halt=function(){this.set(this.get())},e.prototype.get=function(){return f.call(this),p.call(this)},e.prototype.set=function(t,i,e){return i?(this._dimensions=t instanceof Array?t.length:0,s.call(this),d.call(this,i),a.call(this,t),void l.call(this,e)):(this.reset(t),void(e&&e()))},i.exports=e},{"../math/Vector":41,"../physics/PhysicsEngine":48,"../physics/bodies/Particle":51,"../physics/constraints/Wall":60,"../physics/forces/Spring":68}],92:[function(t,i){i.exports={CachedMap:t("./CachedMap"),Easing:t("./Easing"),MultipleTransition:t("./MultipleTransition"),SnapTransition:t("./SnapTransition"),SpringTransition:t("./SpringTransition"),Transitionable:t("./Transitionable"),TransitionableTransform:t("./TransitionableTransform"),TweenTransition:t("./TweenTransition"),WallTransition:t("./WallTransition")}},{"./CachedMap":83,"./Easing":84,"./MultipleTransition":85,"./SnapTransition":86,"./SpringTransition":87,"./Transitionable":88,"./TransitionableTransform":89,"./TweenTransition":90,"./WallTransition":91}],93:[function(t,i){var e={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:97,b:98,c:99,d:100,e:101,f:102,g:103,h:104,i:105,j:106,k:107,l:108,m:109,n:110,o:111,p:112,q:113,r:114,s:115,t:116,u:117,v:118,w:119,x:120,y:121,z:122,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ENTER:13,LEFT_ARROW:37,RIGHT_ARROW:39,UP_ARROW:38,DOWN_ARROW:40,SPACE:32,SHIFT:16,TAB:9};i.exports=e},{}],94:[function(t,i){function e(t){return c.on(p,t),t}function n(t,i){var n=u(),o=function(){var e=u();e-n>=i&&(t.apply(this,arguments),c.removeListener(p,o))};return e(o)}function o(t,i){var n=u(),o=function(){var e=u();e-n>=i&&(t.apply(this,arguments),n=u())};return e(o)}function s(t,i){if(void 0===i)return void 0;var n=function(){i--,0>=i&&(t.apply(this,arguments),a(n))};return e(n)}function r(t,i){i=i||1;var n=i,o=function(){i--,0>=i&&(t.apply(this,arguments),i=n)};return e(o)}function a(t){c.removeListener(p,t)}function h(t,i){var e,o,s,r,h;return function(){o=this,h=arguments,s=u();var c=function(){var a=u-s;i>a?e=n(c,i-a):(e=null,r=t.apply(o,h))};return a(e),e=n(c,i),r}}var c=t("../core/Engine"),p="prerender",u=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};i.exports={setTimeout:n,setInterval:o,debounce:h,after:s,every:r,clear:a}},{"../core/Engine":4}],95:[function(t,i){var e={};e.Direction={X:0,Y:1,Z:2},e.after=function(t,i){var e=t;return function(){e--,0===e&&i.apply(this,arguments)}},e.loadURL=function(t,i){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&i&&i(this.responseText)},e.open("GET",t),e.send()},e.createDocumentFragmentFromHTML=function(t){var i=document.createElement("div");i.innerHTML=t;for(var e=document.createDocumentFragment();i.hasChildNodes();)e.appendChild(i.firstChild);return e},e.clone=function(t){var i;if("object"==typeof t){i=t instanceof Array?[]:{};for(var n in t)if("object"==typeof t[n]&&null!==t[n])if(t[n]instanceof Array){i[n]=new Array(t[n].length);for(var o=0;o<t[n].length;o++)i[n][o]=e.clone(t[n][o])}else i[n]=e.clone(t[n]);else i[n]=t[n]}else i=t;return i},i.exports=e},{}],96:[function(t,i){i.exports={KeyCodes:t("./KeyCodes"),Timer:t("./Timer"),Utility:t("./Utility")}},{"./KeyCodes":93,"./Timer":94,"./Utility":95}],97:[function(t,i){function e(t){this.options=Object.create(this.constructor.DEFAULT_OPTIONS||e.DEFAULT_OPTIONS),this._optionsManager=new s(this.options),t&&this.setOptions(t),this._eventInput=new o,this._eventOutput=new o,o.setInputHandler(this,this._eventInput),o.setOutputHandler(this,this._eventOutput),this._id=n.register(this)}var n=t("../core/Entity"),o=(t("../core/Transform"),t("../core/EventHandler")),s=t("../core/OptionsManager");e.DEFAULT_OPTIONS={},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.prototype.getOptions=function(t){return this._optionsManager.getOptions(t)},e.prototype.render=function(){return this._id},e.prototype.commit=function(){},i.exports=e},{"../core/Entity":5,"../core/EventHandler":7,"../core/OptionsManager":10,"../core/Transform":15}],98:[function(t,i){function e(){c.apply(this,arguments),this.state=new a(0),this._isOpen=!1,this.setOutputFunction(function(t,i,e){var o=n.call(this),r=this.options.direction===h.Direction.X?s.translate(o*i,0,.001*(o-1)*i):s.translate(0,o*i,.001*(o-1)*i),a=t.render();if(this.options.stackRotation){var c=this.options.stackRotation*e*(1-o);a={transform:s.rotateZ(c),origin:[.5,.5],target:a}}return{transform:r,size:t.getSize(),target:a}})}function n(t){return t?this._isOpen?1:0:this.state.get()}function o(t,i,e){this.state.halt(),this.state.set(t,i,e)}var s=t("../core/Transform"),r=t("../core/OptionsManager"),a=t("../transitions/Transitionable"),h=t("../utilities/Utility"),c=t("./SequentialLayout");e.prototype=Object.create(c.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS=r.patch(c.DEFAULT_OPTIONS,{transition:{curve:"easeOutBounce",duration:500},stackRotation:0}),e.prototype.getSize=function(){var t=c.prototype.getSize.apply(this,arguments),i=this._items?this._items.get().getSize():[0,0];i||(i=[0,0]);var e=n.call(this),o=1-e;return[i[0]*o+t[0]*e,i[1]*o+t[1]*e]},e.prototype.isOpen=function(){return this._isOpen},e.prototype.open=function(t){this._isOpen=!0,o.call(this,1,this.options.transition,t)},e.prototype.close=function(t){this._isOpen=!1,o.call(this,0,this.options.transition,t)},e.prototype.toggle=function(t){this._isOpen?this.close(t):this.open(t)},i.exports=e},{"../core/OptionsManager":10,"../core/Transform":15,"../transitions/Transitionable":88,"../utilities/Utility":95,"./SequentialLayout":110}],99:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new p(this.options),t&&this.setOptions(t),this._position=new u(0),this._direction=n(this.options.side),this._orientation=o(this.options.side),this._isOpen=!1,this._cachedLength=0,this.drawer=new h,this.content=new h,this._eventInput=new l,this._eventOutput=new l,l.setInputHandler(this,this._eventInput),l.setOutputHandler(this,this._eventOutput),this._eventInput.on("update",r.bind(this)),this._eventInput.on("end",a.bind(this))}function n(t){var i=e.SIDES;return t===i.LEFT||t===i.RIGHT?f:d}function o(t){var i=e.SIDES;return t===i.LEFT||t===i.TOP?1:-1}function s(t){var i,e=this.options;if(e.drawerLength)i=e.drawerLength;else{var n=t.getSize();i=n?n[this._direction]:e.drawerLength}return this._orientation*i}function r(t){var i,e,n=this.getPosition()+t.delta;this._cachedLength=s.call(this,this.drawer),1===this._orientation?(i=0,e=this._cachedLength):(i=this._cachedLength,e=0),n>e?n=e:i>n&&(n=i),this.setPosition(n)}function a(t){var i=t.velocity,e=this._orientation*this.getPosition(),n=this.options,o=this._orientation*this._cachedLength,s=n.positionThreshold||o/2,r=n.velocityThreshold;if(n.transition instanceof Object&&(n.transition.velocity=t.velocity),0===e)return void(this._isOpen=!1);if(e===o)return void(this._isOpen=!0);var a=Math.abs(i)>r||!this._isOpen&&e>s||this._isOpen&&s>e;a?this.toggle():this.reset()}var h=t("../core/RenderNode"),c=t("../core/Transform"),p=t("../core/OptionsManager"),u=t("../transitions/Transitionable"),l=t("../core/EventHandler"),f=0,d=1;e.SIDES={LEFT:0,TOP:1,RIGHT:2,BOTTOM:3},e.DEFAULT_OPTIONS={side:e.SIDES.LEFT,drawerLength:0,velocityThreshold:0,positionThreshold:0,transition:!0},e.prototype.setOptions=function(t){this._optionsManager.setOptions(t),void 0!==t.side&&(this._direction=n(t.side),this._orientation=o(t.side))},e.prototype.open=function(t,i){t instanceof Function&&(i=t),void 0===t&&(t=this.options.transition),this._cachedLength=s.call(this,this.drawer),this.setPosition(this._cachedLength,t,i),this._isOpen||(this._isOpen=!0,this._eventOutput.emit("open"))},e.prototype.close=function(t,i){t instanceof Function&&(i=t),void 0===t&&(t=this.options.transition),this.setPosition(0,t,i),this._isOpen&&(this._isOpen=!1,this._eventOutput.emit("close"))},e.prototype.setPosition=function(t,i,e){this._position.isActive()&&this._position.halt(),this._position.set(t,i,e)},e.prototype.getPosition=function(){return this._position.get()},e.prototype.setProgress=function(t,i,e){return this._position.set(t*this._cachedLength,i,e)},e.prototype.getProgress=function(){return this._position.get()/this._cachedLength},e.prototype.toggle=function(t){this._isOpen?this.close(t):this.open(t)},e.prototype.reset=function(t){this._isOpen?this.open(t):this.close(t)},e.prototype.isOpen=function(){return this._isOpen},e.prototype.render=function(){var t=this.getPosition();(!this._isOpen&&0>t&&1===this._orientation||t>0&&-1===this._orientation)&&(t=0,this.setPosition(t));var i=this._direction===f?c.translate(t,0,0):c.translate(0,t,0);return[{transform:c.behind,target:this.drawer.render()},{transform:i,target:this.content.render()}]},i.exports=e},{"../core/EventHandler":7,"../core/OptionsManager":10,"../core/RenderNode":11,"../core/Transform":15,"../transitions/Transitionable":88}],100:[function(t,i){function e(t){this._currentTarget=null,this._size=[void 0,void 0],this._controller=new h(t),this._controller.inTransformFrom(o.create(n.bind(this,1e-4))),this._controller.outTransformFrom(o.create(n.bind(this,-1e-4))),this._eventInput=new r,r.setInputHandler(this,this._eventInput),this._entityId=s.register(this),t&&this.setOptions(t)}function n(t,i){return a.translate(this._size[0]*(1-i),0,t*(1-i))}var o=t("../transitions/CachedMap"),s=t("../core/Entity"),r=t("../core/EventHandler"),a=t("../core/Transform"),h=t("./RenderController");e.prototype.show=function(t){this._currentTarget&&this._eventInput.unpipe(this._currentTarget),this._currentTarget=t,this._currentTarget&&this._currentTarget.trigger&&this._eventInput.pipe(this._currentTarget),this._controller.show.apply(this._controller,arguments)},e.prototype.setOptions=function(t){this._controller.setOptions(t)},e.prototype.render=function(){return this._entityId},e.prototype.commit=function(t){return this._size[0]=t.size[0],this._size[1]=t.size[1],{transform:t.transform,opacity:t.opacity,origin:t.origin,size:t.size,target:this._controller.render()}},i.exports=e},{"../core/Entity":5,"../core/EventHandler":7,"../core/Transform":15,"../transitions/CachedMap":83,"./RenderController":106}],101:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this.optionsManager=new a(this.options),t&&this.setOptions(t),this.id=s.register(this),this._ratios=new c(this.options.ratios),this._nodes=[],this._size=[0,0],this._cachedDirection=null,this._cachedLengths=[],this._cachedTransforms=null,this._ratiosDirty=!1,this._eventOutput=new h,h.setOutputHandler(this,this._eventOutput)}function n(t,i,n){var o,s,a,h,c=0,p=i,u=0;for(this._cachedLengths=[],this._cachedTransforms=[],h=0;h<t.length;h++)s=t[h],a=this._nodes[h],"number"!=typeof s?p-=a.getSize()[n]||0:u+=s;for(h=0;h<t.length;h++)a=this._nodes[h],s=t[h],i="number"==typeof s?p*s/u:a.getSize()[n],o=n===e.DIRECTION_X?r.translate(c,0,0):r.translate(0,c,0),this._cachedTransforms.push(o),this._cachedLengths.push(i),c+=i}function o(t,i){for(var e=0;e<t.length;e++)if("number"!=typeof t[e]&&this._nodes[e].getSize()[i]!==this._cachedLengths[e])return!0;return!1}var s=t("../core/Entity"),r=t("../core/Transform"),a=t("../core/OptionsManager"),h=t("../core/EventHandler"),c=t("../transitions/Transitionable");e.DIRECTION_X=0,e.DIRECTION_Y=1,e.DEFAULT_OPTIONS={direction:e.DIRECTION_X,transition:!1,ratios:[]},e.prototype.render=function(){return this.id},e.prototype.setOptions=function(t){this.optionsManager.setOptions(t)},e.prototype.sequenceFrom=function(t){if(this._nodes=t,0===this._ratios.get().length){for(var i=[],e=0;e<this._nodes.length;e++)i.push(1);this.setRatios(i)}},e.prototype.setRatios=function(t,i,e){void 0===i&&(i=this.options.transition);var n=this._ratios;0===n.get().length&&(i=void 0),n.isActive()&&n.halt(),n.set(t,i,e),this._ratiosDirty=!0},e.prototype.getSize=function(){return this._size},e.prototype.commit=function(t){var i,e=t.size,s=t.transform,a=t.origin,h=t.opacity,c=this._ratios.get(),p=this.options.direction,u=e[p];(u!==this._size[p]||this._ratiosDirty||this._ratios.isActive()||p!==this._cachedDirection||o.call(this,c,p))&&(n.call(this,c,u,p),u!==this._size[p]&&(this._size[0]=e[0],this._size[1]=e[1]),p!==this._cachedDirection&&(this._cachedDirection=p),this._ratiosDirty&&(this._ratiosDirty=!1));for(var l=[],f=0;f<c.length;f++)i=[void 0,void 0],u=this._cachedLengths[f],i[p]=u,l.push({transform:this._cachedTransforms[f],size:i,target:this._nodes[f].render()});return e&&0!==a[0]&&0!==a[1]&&(s=r.moveThen([-e[0]*a[0],-e[1]*a[1],0],s)),{transform:s,size:e,opacity:h,target:l}},i.exports=e},{"../core/Entity":5,"../core/EventHandler":7,"../core/OptionsManager":10,"../core/Transform":15,"../transitions/Transitionable":88}],102:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new s(this.options),t&&this.setOptions(t),this.angle=new o(0),this.frontNode=void 0,this.backNode=void 0,this.flipped=!1}var n=t("../core/Transform"),o=t("../transitions/Transitionable"),s=(t("../core/RenderNode"),t("../core/OptionsManager"));e.DIRECTION_X=0,e.DIRECTION_Y=1;var r=1;e.DEFAULT_OPTIONS={transition:!0,direction:e.DIRECTION_X},e.prototype.flip=function(t,i){var e=this.flipped?0:Math.PI;this.setAngle(e,t,i),this.flipped=!this.flipped},e.prototype.setAngle=function(t,i,e){void 0===i&&(i=this.options.transition),this.angle.isActive()&&this.angle.halt(),this.angle.set(t,i,e)},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.prototype.setFront=function(t){this.frontNode=t},e.prototype.setBack=function(t){this.backNode=t},e.prototype.render=function(){var t,i,o=this.angle.get();this.options.direction===e.DIRECTION_X?(t=n.rotateY(o),i=n.rotateY(o+Math.PI)):(t=n.rotateX(o),i=n.rotateX(o+Math.PI));var s=[];return this.frontNode&&s.push({transform:t,target:this.frontNode.render()}),this.backNode&&s.push({transform:n.moveThen([0,0,r],i),target:this.backNode.render()}),s},i.exports=e},{"../core/OptionsManager":10,"../core/RenderNode":11,"../core/Transform":15,"../transitions/Transitionable":88}],103:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this.optionsManager=new u(this.options),t&&this.setOptions(t),this.id=r.register(this),this._modifiers=[],this._states=[],this._contextSizeCache=[0,0],this._dimensionsCache=[0,0],this._activeCount=0,this._eventOutput=new c,c.setOutputHandler(this,this._eventOutput)}function n(t,i,e){var n=[t[0],t[1]];n[0]-=this.options.gutterSize[0]*(i-1),n[1]-=this.options.gutterSize[1]*(e-1);for(var r,a=Math.round(n[1]/e),h=Math.round(n[0]/i),c=0,p=0,u=0;e>u;u++){r=0;for(var l=0;i>l;l++)void 0===this._modifiers[p]?o.call(this,p,[h,a],[r,c,0],1):s.call(this,p,[h,a],[r,c,0],1),p++,r+=h+this.options.gutterSize[0];c+=a+this.options.gutterSize[1]}for(this._dimensionsCache=[this.options.dimensions[0],this.options.dimensions[1]],this._contextSizeCache=[t[0],t[1]],this._activeCount=e*i,u=this._activeCount;u<this._modifiers.length;u++)s.call(this,u,[Math.round(h),Math.round(a)],[0,0],0);this._eventOutput.emit("reflow")}function o(t,i,e,n){var o={transform:new f(a.translate.apply(null,e)),opacity:new l(n),size:new l(i)},s=new p({transform:o.transform,opacity:o.opacity,size:o.size});this._states[t]=o,this._modifiers[t]=s}function s(t,i,e,n){var o=this._states[t],s=o.size,r=o.opacity,a=o.transform,h=this.options.transition;a.halt(),r.halt(),s.halt(),a.setTranslate(e,h),s.set(i,h),r.set(n,h)}var r=t("../core/Entity"),a=(t("../core/RenderNode"),t("../core/Transform")),h=t("../core/ViewSequence"),c=t("../core/EventHandler"),p=t("../core/Modifier"),u=t("../core/OptionsManager"),l=t("../transitions/Transitionable"),f=t("../transitions/TransitionableTransform");e.DEFAULT_OPTIONS={dimensions:[1,1],transition:!1,gutterSize:[0,0]},e.prototype.render=function(){return this.id},e.prototype.setOptions=function(t){return this.optionsManager.setOptions(t)},e.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new h(t)),this.sequence=t},e.prototype.commit=function(t){var i=t.transform,e=t.opacity,o=t.origin,s=t.size,r=this.options.dimensions[0],h=this.options.dimensions[1];(s[0]!==this._contextSizeCache[0]||s[1]!==this._contextSizeCache[1]||r!==this._dimensionsCache[0]||h!==this._dimensionsCache[1])&&n.call(this,s,r,h);for(var c=this.sequence,p=[],u=0;c&&u<this._modifiers.length;){var l=c.get(),f=this._modifiers[u];u>=this._activeCount&&this._states[u].opacity.isActive()&&(this._modifiers.splice(u,1),this._states.splice(u,1)),l&&p.push(f.modify({origin:o,target:l.render()})),c=c.getNext(),u++}return s&&(i=a.moveThen([-s[0]*o[0],-s[1]*o[1],0],i)),{transform:i,opacity:e,size:s,target:p}},i.exports=e},{"../core/Entity":5,"../core/EventHandler":7,"../core/Modifier":9,"../core/OptionsManager":10,"../core/RenderNode":11,"../core/Transform":15,"../core/ViewSequence":17,"../transitions/Transitionable":88,"../transitions/TransitionableTransform":89}],104:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this._entityId=r.register(this),this.header=new a,this.footer=new a,this.content=new a}function n(t,i){var e=t.getSize();return e?e[this.options.direction]:i}function o(t){return this.options.direction===e.DIRECTION_X?h.translate(t,0,0):h.translate(0,t,0)}function s(t,i){return this.options.direction===e.DIRECTION_X?[t,i[1]]:[i[0],t]}var r=t("../core/Entity"),a=t("../core/RenderNode"),h=t("../core/Transform"),c=t("../core/OptionsManager");e.DIRECTION_X=0,e.DIRECTION_Y=1,e.DEFAULT_OPTIONS={direction:e.DIRECTION_Y,headerSize:void 0,footerSize:void 0,defaultHeaderSize:0,defaultFooterSize:0},e.prototype.render=function(){return this._entityId},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.prototype.commit=function(t){var i=t.transform,e=t.origin,r=t.size,a=t.opacity,c=void 0!==this.options.headerSize?this.options.headerSize:n.call(this,this.header,this.options.defaultHeaderSize),p=void 0!==this.options.footerSize?this.options.footerSize:n.call(this,this.footer,this.options.defaultFooterSize),u=r[this.options.direction]-c-p;r&&(i=h.moveThen([-r[0]*e[0],-r[1]*e[1],0],i));var l=[{size:s.call(this,c,r),target:this.header.render()},{transform:o.call(this,c),size:s.call(this,u,r),target:this.content.render()},{transform:o.call(this,c+u),size:s.call(this,p,r),target:this.footer.render()}];return{transform:i,opacity:a,size:r,target:l}},i.exports=e},{"../core/Entity":5,"../core/OptionsManager":10,"../core/RenderNode":11,"../core/Transform":15}],105:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new a(this.options),t&&this.setOptions(t),this._showing=!1,this.nodes=[],this.transforms=[],this.states=[]}var n=t("../core/Transform"),o=t("../core/Modifier"),s=t("../core/RenderNode"),r=t("../utilities/Utility"),a=t("../core/OptionsManager"),h=t("../transitions/Transitionable"),c=t("../transitions/TransitionableTransform");e.DEFAULT_OPTIONS={inTransform:n.scale(.001,.001,.001),inOpacity:0,inOrigin:[.5,.5],inAlign:[.5,.5],outTransform:n.scale(.001,.001,.001),outOpacity:0,outOrigin:[.5,.5],outAlign:[.5,.5],showTransform:n.identity,showOpacity:1,showOrigin:[.5,.5],showAlign:[.5,.5],inTransition:!0,outTransition:!0,overlap:!1},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.prototype.show=function(t,i,e){if(!t)return this.hide(e);if(i instanceof Function&&(e=i,i=void 0),this._showing){if(!this.options.overlap)return this.hide(this.show.bind(this,t,i,e));this.hide()}this._showing=!0;var n={transform:new c(this.options.inTransform),origin:new h(this.options.inOrigin),align:new h(this.options.inAlign),opacity:new h(this.options.inOpacity)},a=new o({transform:n.transform,opacity:n.opacity,origin:n.origin,align:n.align}),p=new s;p.add(a).add(t),this.nodes.push(p),this.states.push(n),this.transforms.push(a);var u=e?r.after(3,e):void 0;i||(i=this.options.inTransition),n.transform.set(this.options.showTransform,i,u),n.opacity.set(this.options.showOpacity,i,u),n.origin.set(this.options.showOrigin,i,u),n.align.set(this.options.showAlign,i,u)},e.prototype.hide=function(t,i){if(this._showing){this._showing=!1,t instanceof Function&&(i=t,t=void 0);var e=this.nodes[this.nodes.length-1],n=this.transforms[this.transforms.length-1],o=this.states[this.states.length-1],s=r.after(3,function(){this.nodes.splice(this.nodes.indexOf(e),1),this.states.splice(this.states.indexOf(o),1),this.transforms.splice(this.transforms.indexOf(n),1),i&&i.call(this)}.bind(this));t||(t=this.options.outTransition),o.transform.set(this.options.outTransform,t,s),o.opacity.set(this.options.outOpacity,t,s),o.origin.set(this.options.outOrigin,t,s),o.align.set(this.options.outAlign,t,s)}},e.prototype.render=function(){for(var t=[],i=0;i<this.nodes.length;i++)t.push(this.nodes[i].render());return t},i.exports=e},{"../core/Modifier":9,"../core/OptionsManager":10,"../core/RenderNode":11,"../core/Transform":15,"../transitions/Transitionable":88,"../transitions/TransitionableTransform":89,"../utilities/Utility":95}],106:[function(t,i){function e(){h.apply(this,arguments),this._showing=-1,this._outgoingRenderables=[],this._nextRenderable=null,this._renderables=[],this._nodes=[],this._modifiers=[],this._states=[],this.inTransformMap=e.DefaultMap.transform,this.inOpacityMap=e.DefaultMap.opacity,this.inOriginMap=e.DefaultMap.origin,this.outTransformMap=e.DefaultMap.transform,this.outOpacityMap=e.DefaultMap.opacity,this.outOriginMap=e.DefaultMap.origin,this._output=[]
}function n(t,i){return t(i.get())}var o=t("../core/Modifier"),s=t("../core/RenderNode"),r=t("../core/Transform"),a=t("../transitions/Transitionable"),h=t("../core/View");e.prototype=Object.create(h.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={inTransition:!0,outTransition:!0,overlap:!0},e.DefaultMap={transform:function(){return r.identity},opacity:function(t){return t},origin:null},e.prototype.inTransformFrom=function(t){if(t instanceof Function)this.inTransformMap=t;else{if(!t||!t.get)throw new Error("inTransformFrom takes only function or getter object");this.inTransformMap=t.get.bind(t)}return this},e.prototype.inOpacityFrom=function(t){if(t instanceof Function)this.inOpacityMap=t;else{if(!t||!t.get)throw new Error("inOpacityFrom takes only function or getter object");this.inOpacityMap=t.get.bind(t)}return this},e.prototype.inOriginFrom=function(t){if(t instanceof Function)this.inOriginMap=t;else{if(!t||!t.get)throw new Error("inOriginFrom takes only function or getter object");this.inOriginMap=t.get.bind(t)}return this},e.prototype.outTransformFrom=function(t){if(t instanceof Function)this.outTransformMap=t;else{if(!t||!t.get)throw new Error("outTransformFrom takes only function or getter object");this.outTransformMap=t.get.bind(t)}return this},e.prototype.outOpacityFrom=function(t){if(t instanceof Function)this.outOpacityMap=t;else{if(!t||!t.get)throw new Error("outOpacityFrom takes only function or getter object");this.outOpacityMap=t.get.bind(t)}return this},e.prototype.outOriginFrom=function(t){if(t instanceof Function)this.outOriginMap=t;else{if(!t||!t.get)throw new Error("outOriginFrom takes only function or getter object");this.outOriginMap=t.get.bind(t)}return this},e.prototype.show=function(t,i,e){if(!t)return this.hide(e);if(i instanceof Function&&(e=i,i=null),this._showing>=0){if(!this.options.overlap)return void(this._nextRenderable?this._nextRenderable=t:(this._nextRenderable=t,this.hide(function(){this._nextRenderable===t&&this.show(this._nextRenderable,e),this._nextRenderable=null})));this.hide()}var r=null,h=this._renderables.indexOf(t);if(h>=0){this._showing=h,r=this._states[h],r.halt();var c=this._outgoingRenderables.indexOf(t);c>=0&&this._outgoingRenderables.splice(c,1)}else{r=new a(0);var p=new o({transform:this.inTransformMap?n.bind(this,this.inTransformMap,r):null,opacity:this.inOpacityMap?n.bind(this,this.inOpacityMap,r):null,origin:this.inOriginMap?n.bind(this,this.inOriginMap,r):null}),u=new s;u.add(p).add(t),this._showing=this._nodes.length,this._nodes.push(u),this._modifiers.push(p),this._states.push(r),this._renderables.push(t)}i||(i=this.options.inTransition),r.set(1,i,e)},e.prototype.hide=function(t,i){if(!(this._showing<0)){var e=this._showing;this._showing=-1,t instanceof Function&&(i=t,t=void 0);var o=this._nodes[e],s=this._modifiers[e],r=this._states[e],a=this._renderables[e];s.transformFrom(this.outTransformMap?n.bind(this,this.outTransformMap,r):null),s.opacityFrom(this.outOpacityMap?n.bind(this,this.outOpacityMap,r):null),s.originFrom(this.outOriginMap?n.bind(this,this.outOriginMap,r):null),this._outgoingRenderables.indexOf(a)<0&&this._outgoingRenderables.push(a),t||(t=this.options.outTransition),r.halt(),r.set(0,t,function(t,e,n,o){if(this._outgoingRenderables.indexOf(o)>=0){var s=this._nodes.indexOf(t);this._nodes.splice(s,1),this._modifiers.splice(s,1),this._states.splice(s,1),this._renderables.splice(s,1),this._outgoingRenderables.splice(this._outgoingRenderables.indexOf(o),1),this._showing>=s&&this._showing--}i&&i.call(this)}.bind(this,o,s,r,a))}},e.prototype.render=function(){var t=this._output;t.length>this._nodes.length&&t.splice(this._nodes.length);for(var i=0;i<this._nodes.length;i++)t[i]=this._nodes[i].render();return t},i.exports=e},{"../core/Modifier":9,"../core/RenderNode":11,"../core/Transform":15,"../core/View":16,"../transitions/Transitionable":88}],107:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new r(this.options),t&&this.setOptions(t),this.container=new n(this.options.container),this.scrollview=new s(this.options.scrollview),this.container.add(this.scrollview),this._eventInput=new o,o.setInputHandler(this,this._eventInput),this._eventInput.pipe(this.scrollview),this._eventOutput=new o,o.setOutputHandler(this,this._eventOutput),this.container.pipe(this._eventOutput),this.scrollview.pipe(this._eventOutput)}var n=t("../surfaces/ContainerSurface"),o=t("../core/EventHandler"),s=t("./Scrollview"),r=(t("../utilities/Utility"),t("../core/OptionsManager"));e.DEFAULT_OPTIONS={container:{properties:{overflow:"hidden"}},scrollview:{}},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.prototype.sequenceFrom=function(){return this.scrollview.sequenceFrom.apply(this.scrollview,arguments)},e.prototype.getSize=function(){return this.container.getSize.apply(this.container,arguments)},e.prototype.render=function(){return this.container.render()},i.exports=e},{"../core/EventHandler":7,"../core/OptionsManager":10,"../surfaces/ContainerSurface":75,"../utilities/Utility":95,"./Scrollview":109}],108:[function(t,i){function e(t){this.options=Object.create(this.constructor.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this._optionsManager.setOptions(t),this._node=null,this._position=0,this._positionOffset=0,this._positionGetter=null,this._outputFunction=null,this._masterOutputFunction=null,this.outputFrom(),this._onEdge=0,this.group=new h,this.group.add({render:r.bind(this)}),this._entityId=a.register(this),this._size=[void 0,void 0],this._contextSize=[void 0,void 0],this._eventInput=new f,this._eventOutput=new f,f.setInputHandler(this,this._eventInput),f.setOutputHandler(this,this._eventOutput)}function n(t){t||(t=this._contextSize);var i=this.options.direction;return void 0===t[i]?this._contextSize[i]:t[i]}function o(t,i,e){var o=t.getSize?t.getSize():this._contextSize,s=this._outputFunction(i);return e.push({transform:s,target:t.render()}),n.call(this,o)}function s(){return void 0!==this.options.clipSize?this.options.clipSize:this._contextSize[this.options.direction]>this.getCumulativeSize()[this.options.direction]?n.call(this,this.getCumulativeSize()):n.call(this,this._contextSize)}function r(){for(var t=null,i=this._position,e=[],r=-this._positionOffset,a=s.call(this),h=this._node;h&&r-i<a+this.options.margin;)r+=o.call(this,h,r,e),h=h.getNext?h.getNext():null;var c=this._node,p=n.call(this,c.getSize());if(a>r){for(;c&&a>p;)c=c.getPrevious(),c&&(p+=n.call(this,c.getSize()));for(c=this._node;c&&a>p;)c=c.getNext(),c&&(p+=n.call(this,c.getSize()))}for(!h&&a-d>r-i?1!==this._onEdge&&(this._onEdge=1,this._eventOutput.emit("onEdge",{position:r-a})):!this._node.getPrevious()&&-d>i?-1!==this._onEdge&&(this._onEdge=-1,this._eventOutput.emit("onEdge",{position:0})):0!==this._onEdge&&(this._onEdge=0,this._eventOutput.emit("offEdge")),h=this._node&&this._node.getPrevious?this._node.getPrevious():null,r=-this._positionOffset,h&&(t=h.getSize?h.getSize():this._contextSize,r-=n.call(this,t));h&&r-i>-(a+this.options.margin);)o.call(this,h,r,e),h=h.getPrevious?h.getPrevious():null,h&&(t=h.getSize?h.getSize():this._contextSize,r-=n.call(this,t));return e}var a=t("../core/Entity"),h=t("../core/Group"),c=t("../core/OptionsManager"),p=t("../core/Transform"),u=t("../utilities/Utility"),l=t("../core/ViewSequence"),f=t("../core/EventHandler");e.DEFAULT_OPTIONS={direction:u.Direction.Y,margin:0,clipSize:void 0,groupScroll:!1};var d=0;e.prototype.getCumulativeSize=function(t){return void 0===t&&(t=this._node._.cumulativeSizes.length-1),this._node._.getSize(t)},e.prototype.setOptions=function(t){t.groupScroll!==this.options.groupScroll&&(t.groupScroll?this.group.pipe(this._eventOutput):this.group.unpipe(this._eventOutput)),this._optionsManager.setOptions(t)},e.prototype.onEdge=function(){return this._onEdge},e.prototype.outputFrom=function(t,i){t||(t=function(t){return this.options.direction===u.Direction.X?p.translate(t,0):p.translate(0,t)}.bind(this),i||(i=t)),this._outputFunction=t,this._masterOutputFunction=i?i:function(i){return p.inverse(t(-i))}},e.prototype.positionFrom=function(t){t instanceof Function?this._positionGetter=t:t&&t.get?this._positionGetter=t.get.bind(t):(this._positionGetter=null,this._position=t),this._positionGetter&&(this._position=this._positionGetter.call(this))},e.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new l({array:t})),this._node=t,this._positionOffset=0},e.prototype.getSize=function(t){return t?this._contextSize:this._size},e.prototype.render=function(){return this._node?(this._positionGetter&&(this._position=this._positionGetter.call(this)),this._entityId):null},e.prototype.commit=function(t){var i=t.transform,e=t.opacity,n=t.origin,o=t.size;this.options.clipSize||o[0]===this._contextSize[0]&&o[1]===this._contextSize[1]||(this._onEdge=0,this._contextSize[0]=o[0],this._contextSize[1]=o[1],this.options.direction===u.Direction.X?(this._size[0]=s.call(this),this._size[1]=void 0):(this._size[0]=void 0,this._size[1]=s.call(this)));var r=this._masterOutputFunction(-this._position);return{transform:p.multiply(i,r),size:o,opacity:e,origin:n,target:this.group.render()}},i.exports=e},{"../core/Entity":5,"../core/EventHandler":7,"../core/Group":8,"../core/OptionsManager":10,"../core/Transform":15,"../core/ViewSequence":17,"../utilities/Utility":95}],109:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new O(this.options),this._scroller=new T(this.options),this.sync=new b(["scroll","touch"],{direction:this.options.direction,scale:this.options.syncScale,rails:this.options.rails,preventDefault:void 0!==this.options.preventDefault?this.options.preventDefault:this.options.direction!==w.Direction.Y}),this._physicsEngine=new _,this._particle=new y,this._physicsEngine.addBody(this._particle),this.spring=new v({anchor:[0,0,0],period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}),this.drag=new g({forceFunction:g.FORCE_FUNCTIONS.QUADRATIC,strength:this.options.drag}),this.friction=new g({forceFunction:g.FORCE_FUNCTIONS.LINEAR,strength:this.options.friction}),this._node=null,this._touchCount=0,this._springState=x.NONE,this._onEdge=M.NONE,this._pageSpringPosition=0,this._edgeSpringPosition=0,this._touchVelocity=0,this._earlyEnd=!1,this._needsPaginationCheck=!1,this._displacement=0,this._totalShift=0,this._cachedIndex=0,this._scroller.positionFrom(this.getPosition.bind(this)),this._eventInput=new m,this._eventOutput=new m,this._eventInput.pipe(this.sync),this.sync.pipe(this._eventInput),m.setInputHandler(this,this._eventInput),m.setOutputHandler(this,this._eventOutput),r.call(this),t&&this.setOptions(t)}function n(t){this._touchCount=t.count,void 0===t.count&&(this._touchCount=1),h.call(this),this.setVelocity(0),this._touchVelocity=0,this._earlyEnd=!1}function o(t){var i=-t.velocity,e=-t.delta;if(this._onEdge!==M.NONE&&t.slip&&(0>i&&this._onEdge===M.TOP||i>0&&this._onEdge===M.BOTTOM?this._earlyEnd||(s.call(this,t),this._earlyEnd=!0):this._earlyEnd&&Math.abs(i)>Math.abs(this.getVelocity())&&n.call(this,t)),!this._earlyEnd){if(this._touchVelocity=i,t.slip){var o=this.options.speedLimit;-o>i?i=-o:i>o&&(i=o),this.setVelocity(i);var r=16*o;e>r?e=r:-r>e&&(e=-r)}this.setPosition(this.getPosition()+e),this._displacement+=e,this._springState===x.NONE&&f.call(this)}}function s(t){if(this._touchCount=t.count||0,!this._touchCount){h.call(this),this._onEdge!==M.NONE&&l.call(this,this._edgeSpringPosition,x.EDGE),a.call(this);var i=-t.velocity,e=this.options.speedLimit;t.slip&&(e*=this.options.edgeGrip),-e>i?i=-e:i>e&&(i=e),this.setVelocity(i),this._touchVelocity=0,this._needsPaginationCheck=!0}}function r(){this._eventInput.bindThis(this),this._eventInput.on("start",n),this._eventInput.on("update",o),this._eventInput.on("end",s),this._eventInput.on("resize",function(){this._node._.calculateSize()}.bind(this)),this._scroller.on("onEdge",function(t){this._edgeSpringPosition=t.position,p.call(this,this._scroller.onEdge()),this._eventOutput.emit("onEdge")}.bind(this)),this._scroller.on("offEdge",function(){this.sync.setOptions({scale:this.options.syncScale}),this._onEdge=this._scroller.onEdge(),this._eventOutput.emit("offEdge")}.bind(this)),this._particle.on("update",function(t){this._springState===x.NONE&&f.call(this),this._displacement=t.position.x-this._totalShift}.bind(this)),this._particle.on("end",function(){(!this.options.paginated||this.options.paginated&&this._springState!==x.NONE)&&this._eventOutput.emit("settle")}.bind(this))}function a(){this._springState?this._physicsEngine.attach([this.spring],this._particle):this._physicsEngine.attach([this.drag,this.friction],this._particle)}function h(){this._springState=x.NONE,this._physicsEngine.detachAll()}function c(t){var i=this.options.direction,e=t.getSize();return e?e[i]:this._scroller.getSize()[i]}function p(t){this.sync.setOptions({scale:this.options.edgeGrip}),this._onEdge=t,this._touchCount||this._springState===x.EDGE||l.call(this,this._edgeSpringPosition,x.EDGE),this._springState&&Math.abs(this.getVelocity())<.001&&(h.call(this),a.call(this))}function u(){if(!this._touchCount&&this._springState!==x.EDGE){var t=this.getVelocity();if(!(Math.abs(t)>=this.options.pageStopSpeed)){var i=this.getPosition(),e=Math.abs(t)>this.options.pageSwitchSpeed,n=c.call(this,this._node),o=i>.5*n,s=t>0,r=0>t;this._needsPaginationCheck=!1,o&&!e||e&&s?this.goToNextPage():e&&r?this.goToPreviousPage():l.call(this,0,x.PAGE)}}}function l(t,i){var e;i===x.EDGE?(this._edgeSpringPosition=t,e={anchor:[this._edgeSpringPosition,0,0],period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}):i===x.PAGE&&(this._pageSpringPosition=t,e={anchor:[this._pageSpringPosition,0,0],period:this.options.pagePeriod,dampingRatio:this.options.pageDamp}),this.spring.setOptions(e),i&&!this._springState&&(h.call(this),this._springState=i,a.call(this)),this._springState=i}function f(){var t=0,i=this.getPosition();i+=(0>i?-.5:.5)>>0;for(var e=c.call(this,this._node),n=this._node.getNext();t+i>=e&&n;)t-=e,this._scroller.sequenceFrom(n),this._node=n,n=this._node.getNext(),e=c.call(this,this._node);for(var o,s=this._node.getPrevious();0>=t+i&&s;)o=c.call(this,s),this._scroller.sequenceFrom(s),this._node=s,t+=o,s=this._node.getPrevious();t&&d.call(this,t),this._node&&(this._node.index!==this._cachedIndex?this.getPosition()<.5*e&&(this._cachedIndex=this._node.index,this._eventOutput.emit("pageChange",{direction:-1,index:this._cachedIndex})):this.getPosition()>.5*e&&(this._cachedIndex=this._node.index+1,this._eventOutput.emit("pageChange",{direction:1,index:this._cachedIndex})))}function d(t){this._edgeSpringPosition+=t,this._pageSpringPosition+=t,this.setPosition(this.getPosition()+t),this._totalShift+=t,this._springState===x.EDGE?this.spring.setOptions({anchor:[this._edgeSpringPosition,0,0]}):this._springState===x.PAGE&&this.spring.setOptions({anchor:[this._pageSpringPosition,0,0]})}var _=t("../physics/PhysicsEngine"),y=t("../physics/bodies/Particle"),g=t("../physics/forces/Drag"),v=t("../physics/forces/Spring"),m=t("../core/EventHandler"),O=t("../core/OptionsManager"),S=t("../core/ViewSequence"),T=t("../views/Scroller"),w=t("../utilities/Utility"),b=t("../inputs/GenericSync"),E=t("../inputs/ScrollSync"),I=t("../inputs/TouchSync");b.register({scroll:E,touch:I});var x={NONE:0,EDGE:1,PAGE:2},M={TOP:-1,NONE:0,BOTTOM:1};e.DEFAULT_OPTIONS={direction:w.Direction.Y,rails:!0,friction:.005,drag:1e-4,edgeGrip:.2,edgePeriod:300,edgeDamp:1,margin:1e3,paginated:!1,pagePeriod:500,pageDamp:.8,pageStopSpeed:10,pageSwitchSpeed:.5,speedLimit:5,groupScroll:!1,syncScale:1},e.prototype.getCurrentIndex=function(){return this._node.index},e.prototype.goToPreviousPage=function(){if(!this._node||this._onEdge===M.TOP)return null;if(this.getPosition()>1&&this._springState===x.NONE)return l.call(this,0,x.PAGE),this._node;var t=this._node.getPrevious();if(t){var i=c.call(this,t);this._scroller.sequenceFrom(t),this._node=t,d.call(this,i),l.call(this,0,x.PAGE)}return t},e.prototype.goToNextPage=function(){if(!this._node||this._onEdge===M.BOTTOM)return null;var t=this._node.getNext();if(t){var i=c.call(this,this._node);this._scroller.sequenceFrom(t),this._node=t,d.call(this,-i),l.call(this,0,x.PAGE)}return t},e.prototype.goToPage=function(t){var i,e=this.getCurrentIndex();if(e>t)for(i=0;e-t>i;i++)this.goToPreviousPage();if(t>e)for(i=0;t-e>i;i++)this.goToNextPage()},e.prototype.outputFrom=function(){return this._scroller.outputFrom.apply(this._scroller,arguments)},e.prototype.getPosition=function(){return this._particle.getPosition1D()},e.prototype.getAbsolutePosition=function(){return this._scroller.getCumulativeSize(this.getCurrentIndex())[this.options.direction]+this.getPosition()},e.prototype.getOffset=e.prototype.getPosition,e.prototype.setPosition=function(t){this._particle.setPosition1D(t)},e.prototype.setOffset=e.prototype.setPosition,e.prototype.getVelocity=function(){return this._touchCount?this._touchVelocity:this._particle.getVelocity1D()},e.prototype.setVelocity=function(t){this._particle.setVelocity1D(t)},e.prototype.setOptions=function(t){void 0!==t.direction&&("x"===t.direction?t.direction=w.Direction.X:"y"===t.direction&&(t.direction=w.Direction.Y)),t.groupScroll!==this.options.groupScroll&&(t.groupScroll?this.subscribe(this._scroller):this.unsubscribe(this._scroller)),this._optionsManager.setOptions(t),this._scroller.setOptions(t),void 0!==t.drag&&this.drag.setOptions({strength:this.options.drag}),void 0!==t.friction&&this.friction.setOptions({strength:this.options.friction}),(void 0!==t.edgePeriod||void 0!==t.edgeDamp)&&this.spring.setOptions({period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}),(t.rails||void 0!==t.direction||void 0!==t.syncScale||t.preventDefault)&&this.sync.setOptions({rails:this.options.rails,direction:this.options.direction===w.Direction.X?b.DIRECTION_X:b.DIRECTION_Y,scale:this.options.syncScale,preventDefault:this.options.preventDefault})},e.prototype.sequenceFrom=function(t){return t instanceof Array&&(t=new S({array:t,trackSize:!0})),this._node=t,this._scroller.sequenceFrom(t)},e.prototype.getSize=function(){return this._scroller.getSize.apply(this._scroller,arguments)},e.prototype.render=function(){return this.options.paginated&&this._needsPaginationCheck&&u.call(this),this._scroller.render()},i.exports=e},{"../core/EventHandler":7,"../core/OptionsManager":10,"../core/ViewSequence":17,"../inputs/GenericSync":27,"../inputs/ScrollSync":32,"../inputs/TouchSync":33,"../physics/PhysicsEngine":48,"../physics/bodies/Particle":51,"../physics/forces/Drag":63,"../physics/forces/Spring":68,"../utilities/Utility":95,"../views/Scroller":108}],110:[function(t,i){function e(t){this._items=null,this._size=null,this._outputFunction=e.DEFAULT_OUTPUT_FUNCTION,this.options=r.clone(this.constructor.DEFAULT_OPTIONS||e.DEFAULT_OPTIONS),this.optionsManager=new n(this.options),t&&this.setOptions(t)}var n=t("../core/OptionsManager"),o=t("../core/Transform"),s=t("../core/ViewSequence"),r=t("../utilities/Utility");e.DEFAULT_OPTIONS={direction:r.Direction.Y,itemSpacing:0},e.DEFAULT_OUTPUT_FUNCTION=function(t,i){var e=this.options.direction===r.Direction.X?o.translate(i,0):o.translate(0,i);return{transform:e,target:t.render()}},e.prototype.getSize=function(){return this._size||this.render(),this._size},e.prototype.sequenceFrom=function(t){return t instanceof Array&&(t=new s(t)),this._items=t,this},e.prototype.setOptions=function(){return this.optionsManager.setOptions.apply(this.optionsManager,arguments),this},e.prototype.setOutputFunction=function(t){return this._outputFunction=t,this},e.prototype.render=function(){var t=0,i=1^this.options.direction,e=this._items,n=null,o=[],s={},r=[],a=0;for(this._size=[0,0];e&&(n=e.get());)n.getSize&&(o=n.getSize()),s=this._outputFunction.call(this,n,t,a++),r.push(s),o&&(o[this.options.direction]&&(t+=o[this.options.direction]),o[i]>this._size[i]&&(this._size[i]=o[i])),e=e.getNext(),this.options.itemSpacing&&e&&(t+=this.options.itemSpacing);return this._size[this.options.direction]=t,r},i.exports=e},{"../core/OptionsManager":10,"../core/Transform":15,"../core/ViewSequence":17,"../utilities/Utility":95}],111:[function(t,i){i.exports={ContextualView:t("./ContextualView"),Deck:t("./Deck"),EdgeSwapper:t("./EdgeSwapper"),DrawerLayout:t("./DrawerLayout"),FlexibleLayout:t("./FlexibleLayout"),Flipper:t("./Flipper"),GridLayout:t("./GridLayout"),HeaderFooterLayout:t("./HeaderFooterLayout"),Lightbox:t("./Lightbox"),RenderController:t("./RenderController"),ScrollContainer:t("./ScrollContainer"),Scroller:t("./Scroller"),Scrollview:t("./Scrollview"),SequentialLayout:t("./SequentialLayout")}},{"./ContextualView":97,"./Deck":98,"./DrawerLayout":99,"./EdgeSwapper":100,"./FlexibleLayout":101,"./Flipper":102,"./GridLayout":103,"./HeaderFooterLayout":104,"./Lightbox":105,"./RenderController":106,"./ScrollContainer":107,"./Scroller":108,"./Scrollview":109,"./SequentialLayout":110}],112:[function(t,i){function e(){r.apply(this,arguments),this.title=new o({classes:this.options.classes,content:this.options.content}),this.back=new o({size:[this.options.size[1],this.options.size[1]],classes:this.options.classes,content:this.options.backContent}),this.back.on("click",function(){this._eventOutput.emit("back",{})}.bind(this)),this.more=new o({size:[this.options.size[1],this.options.size[1]],classes:this.options.classes,content:this.options.moreContent}),this.more.on("click",function(){this._eventOutput.emit("more",{})}.bind(this)),this.layout=new n({id:"master",size:this.options.size,target:[{transform:s.inFront,origin:[0,.5],target:this.back},{origin:[.5,.5],target:this.title},{transform:s.inFront,origin:[1,.5],target:this.more}]}),this._add(this.layout),this._optionsManager.on("change",function(t){var i=t.id,e=t.value;"size"===i?(this.layout.id.master.setSize(e),this.title.setSize(e),this.back.setSize([e[1],e[1]]),this.more.setSize([e[1],e[1]])):"backClasses"===i?this.back.setOptions({classes:this.options.classes.concat(this.options.backClasses)}):"backContent"===i?this.back.setContent(this.options.backContent):"classes"===i?(this.title.setOptions({classes:this.options.classes}),this.back.setOptions({classes:this.options.classes.concat(this.options.backClasses)}),this.more.setOptions({classes:this.options.classes.concat(this.options.moreClasses)})):"content"===i?this.setContent(this.options.content):"moreClasses"===i?this.more.setOptions({classes:this.options.classes.concat(this.options.moreClasses)}):"moreContent"===i&&this.more.setContent(this.options.content)}.bind(this))}var n=t("../core/Scene"),o=t("../core/Surface"),s=t("../core/Transform"),r=t("../core/View");e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={size:[void 0,50],backClasses:["back"],backContent:"&#x25c0;",classes:["navigation"],content:"",moreClasses:["more"],moreContent:"&#x271a;"},e.prototype.setContent=function(t){return this.title.setContent(t)},i.exports=e},{"../core/Scene":12,"../core/Surface":14,"../core/Transform":15,"../core/View":16}],113:[function(t,i){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this.optionsManager=new c(this.options),t&&this.setOptions(t),this.indicator=new s({size:this.options.indicatorSize,classes:["slider-back"]}),this.label=new o({size:this.options.labelSize,content:this.options.label,properties:{pointerEvents:"none"},classes:["slider-label"]}),this.eventOutput=new a,this.eventInput=new a,a.setInputHandler(this,this.eventInput),a.setOutputHandler(this,this.eventOutput);var i=(this.options.range[1]-this.options.range[0])/this.options.indicatorSize[0];this.sync=new l(["mouse","touch"],{scale:i,direction:l.DIRECTION_X}),this.indicator.pipe(this.sync),this.sync.pipe(this),this.eventInput.on("update",function(t){this.set(t.position)}.bind(this)),this._drawPos=0,n.call(this)}function n(){this.label.setContent(this.options.label+'<span style="float: right">'+this.get().toFixed(this.options.precision)+"</span>")}var o=t("../core/Surface"),s=t("../surfaces/CanvasSurface"),r=t("../core/Transform"),a=t("../core/EventHandler"),h=t("../math/Utilities"),c=t("../core/OptionsManager"),p=t("../inputs/MouseSync"),u=t("../inputs/TouchSync"),l=t("../inputs/GenericSync");l.register({mouse:p,touch:u}),e.DEFAULT_OPTIONS={size:[200,60],indicatorSize:[200,30],labelSize:[200,30],range:[0,1],precision:2,value:0,label:"",fillColor:"rgba(170, 170, 170, 1)"},e.prototype.setOptions=function(t){return this.optionsManager.setOptions(t)},e.prototype.get=function(){return this.options.value},e.prototype.set=function(t){t!==this.options.value&&(this.options.value=h.clamp(t,this.options.range),n.call(this),this.eventOutput.emit("change",{value:t}))},e.prototype.getSize=function(){return this.options.size},e.prototype.render=function(){var t=this.options.range,i=Math.floor((this.get()-t[0])/(t[1]-t[0])*this.options.indicatorSize[0]);if(i<this._drawPos)this.indicator.getContext("2d").clearRect(i,0,this._drawPos-i+1,this.options.indicatorSize[1]);else if(i>this._drawPos){var e=this.indicator.getContext("2d");e.fillStyle=this.options.fillColor,e.fillRect(this._drawPos-1,0,i-this._drawPos+1,this.options.indicatorSize[1])}return this._drawPos=i,{size:this.options.size,target:[{origin:[0,0],target:this.indicator.render()},{transform:r.translate(0,0,1),origin:[0,0],target:this.label.render()}]}},i.exports=e},{"../core/EventHandler":7,"../core/OptionsManager":10,"../core/Surface":14,"../core/Transform":15,"../inputs/GenericSync":27,"../inputs/MouseSync":28,"../inputs/TouchSync":33,"../math/Utilities":40,"../surfaces/CanvasSurface":74}],114:[function(t,i){function e(){r.apply(this,arguments),this.layout=new a,this.buttons=[],this._buttonIds={},this._buttonCallbacks={},this.layout.sequenceFrom(this.buttons),this._add(this.layout),this._optionsManager.on("change",n.bind(this))}function n(t){var i=t.id,e=t.value;if("direction"===i)this.layout.setOptions({dimensions:o.call(this.buttons.length,this.options.direction)});else if("buttons"===i)for(var n in this.buttons)this.buttons[n].setOptions(e);else if("sections"===i)for(var s in this.options.sections)this.defineSection(s,this.options.sections[s])}function o(t,i){return i===s.Direction.X?[t,1]:[1,t]}var s=t("../utilities/Utility"),r=t("../core/View"),a=t("../views/GridLayout"),h=t("./ToggleButton");e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={sections:[],widget:h,size:[void 0,50],direction:s.Direction.X,buttons:{toggleMode:h.ON}},e.prototype.defineSection=function(t,i){var e,n=this._buttonIds[t];if(void 0===n){n=this.buttons.length,this._buttonIds[t]=n;var s=this.options.widget;e=new s,this.buttons[n]=e,this.layout.setOptions({dimensions:o(this.buttons.length,this.options.direction)})}else e=this.buttons[n],e.unbind("select",this._buttonCallbacks[t]);this.options.buttons&&e.setOptions(this.options.buttons),e.setOptions(i),this._buttonCallbacks[t]=this.select.bind(this,t),e.on("select",this._buttonCallbacks[t])},e.prototype.select=function(t){var i=this._buttonIds[t];this.buttons[i]&&this.buttons[i].isSelected()?this._eventOutput.emit("select",{id:t}):this.buttons[i]&&this.buttons[i].select();for(var e=0;e<this.buttons.length;e++)e!==i&&this.buttons[e].deselect()},i.exports=e},{"../core/View":16,"../utilities/Utility":95,"../views/GridLayout":103,"./ToggleButton":115}],115:[function(t,i){function e(t){this.options={content:"",offClasses:["off"],onClasses:["on"],size:void 0,outTransition:{curve:"easeInOut",duration:300},inTransition:{curve:"easeInOut",duration:300},toggleMode:e.TOGGLE,crossfade:!0},this._eventOutput=new o,o.setOutputHandler(this,this._eventOutput),this.offSurface=new n,this.offSurface.on("click",function(){this.options.toggleMode!==e.OFF&&this.select()}.bind(this)),this.offSurface.pipe(this._eventOutput),this.onSurface=new n,this.onSurface.on("click",function(){this.options.toggleMode!==e.ON&&this.deselect()}.bind(this)),this.onSurface.pipe(this._eventOutput),this.arbiter=new s({overlap:this.options.crossfade}),this.deselect(),t&&this.setOptions(t)}var n=t("../core/Surface"),o=t("../core/EventHandler"),s=t("../views/RenderController");e.OFF=0,e.ON=1,e.TOGGLE=2,e.prototype.select=function(){this.selected=!0,this.arbiter.show(this.onSurface,this.options.inTransition),this._eventOutput.emit("select")},e.prototype.deselect=function(){this.selected=!1,this.arbiter.show(this.offSurface,this.options.outTransition),this._eventOutput.emit("deselect")},e.prototype.isSelected=function(){return this.selected},e.prototype.setOptions=function(t){void 0!==t.content&&(this.options.content=t.content,this.offSurface.setContent(this.options.content),this.onSurface.setContent(this.options.content)),t.offClasses&&(this.options.offClasses=t.offClasses,this.offSurface.setClasses(this.options.offClasses)),t.onClasses&&(this.options.onClasses=t.onClasses,this.onSurface.setClasses(this.options.onClasses)),void 0!==t.size&&(this.options.size=t.size,this.onSurface.setSize(this.options.size),this.offSurface.setSize(this.options.size)),void 0!==t.toggleMode&&(this.options.toggleMode=t.toggleMode),void 0!==t.outTransition&&(this.options.outTransition=t.outTransition),void 0!==t.inTransition&&(this.options.inTransition=t.inTransition),void 0!==t.crossfade&&(this.options.crossfade=t.crossfade,this.arbiter.setOptions({overlap:this.options.crossfade}))},e.prototype.getSize=function(){return this.options.size},e.prototype.render=function(){return this.arbiter.render()},i.exports=e},{"../core/EventHandler":7,"../core/Surface":14,"../views/RenderController":106}],116:[function(t,i){i.exports={NavigationBar:t("./NavigationBar"),Slider:t("./Slider"),TabBar:t("./TabBar"),ToggleButton:t("./ToggleButton")}},{"./NavigationBar":112,"./Slider":113,"./TabBar":114,"./ToggleButton":115}]},{},[23])(23)});
; browserify_shim__define__module__export__(typeof famous != "undefined" ? famous : window.famous);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"D:\\famous-calendar\\famous-calendar\\bower_components\\ngCordova\\dist\\ng-cordova.min.js":[function(require,module,exports){
(function (global){

; require("D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js");
;__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
!function(){angular.module("ngCordova",["ngCordova.plugins"]),angular.module("ngCordova.plugins.adMob",[]).factory("$cordovaAdMob",["$q","$window",function(e,n){return{createBannerView:function(r){var t=e.defer();return n.plugins.AdMob.createBannerView(r,function(){t.resolve()},function(){t.reject()}),t.promise},createInterstitialView:function(r){var t=e.defer();return n.plugins.AdMob.createInterstitialView(r,function(){t.resolve()},function(){t.reject()}),t.promise},requestAd:function(r){var t=e.defer();return n.plugins.AdMob.requestAd(r,function(){t.resolve()},function(){t.reject()}),t.promise},showAd:function(r){var t=e.defer();return n.plugins.AdMob.showAd(r,function(){t.resolve()},function(){t.reject()}),t.promise},requestInterstitialAd:function(r){var t=e.defer();return n.plugins.AdMob.requestInterstitialAd(r,function(){t.resolve()},function(){t.reject()}),t.promise}}}]),angular.module("ngCordova.plugins.appAvailability",[]).factory("$cordovaAppAvailability",["$q",function(e){return{check:function(n){var r=e.defer();return appAvailability.check(n,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.AppRate",[]).provider("$cordovaAppRate",[function(){this.setAppUrl=function(e,n){var r=["ios","android","blackberry","windows8"];-1!==r.indexOf(e)&&(AppRate.preferences.storeAppURL[e]=n)},this.$get=["$q",function(e){return{promptForRating:function(n){var r=e.defer(),t=AppRate.promptForRating(n);return r.resolve(t),r.promise},onButtonClicked:function(e){AppRate.onButtonClicked=function(n){e.call(this,n)}},onRateDialogShow:function(e){AppRate.onRateDialogShow=e()},useLanguage:function(e){AppRate.preferences.useLanguage=e},customLocale:function(e){var n={title:"Rate %@",message:"If you enjoy using %@, would you mind taking a moment to rate it? It won’t take more than a minute. Thanks for your support!",cancelButtonLabel:"No, Thanks",laterButtonLabel:"Remind Me Later",rateButtonLabel:"Rate It Now"};n=angular.extend(n,e),AppRate.preferences.customLocale=n},appName:function(e){AppRate.preferences.displayAppName=e},usesUntilPrompt:function(e){AppRate.preferences.usesUntilPrompt=e},promptForEveryVersion:function(e){AppRate.preferences.promptAgainForEachNewVersion=e}}}]}]),angular.module("ngCordova.plugins.backgroundGeolocation",[]).factory("$cordovaBackgroundGeolocation",["$q","$window",function(e,n){return{init:function(){n.navigator.geolocation.getCurrentPosition(function(e){return e})},configure:function(r){this.init();var t=e.defer();return n.plugins.backgroundGeoLocation.configure(function(e){t.notify(e),n.plugins.backgroundGeoLocation.finish()},function(e){t.reject(e)},r),this.start(),t.promise},start:function(){var r=e.defer();return n.plugins.backgroundGeoLocation.start(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},stop:function(){var r=e.defer();return n.plugins.backgroundGeoLocation.stop(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.badge",[]).factory("$cordovaBadge",["$q",function(e){return{hasPermission:function(){var n=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?n.resolve(!0):n.reject("You do not have permission")}),n.promise},promptForPermission:function(){return cordova.plugins.notification.badge.promptForPermission()},set:function(n){var r=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?r.resolve(cordova.plugins.notification.badge.set(n)):r.reject("You do not have permission to set Badge")}),r.promise},get:function(){var n=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?cordova.plugins.notification.badge.get(function(e){n.resolve(e)}):n.reject("You do not have permission to get Badge")}),n.promise},clear:function(){var n=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?n.resolve(cordova.plugins.notification.badge.clear()):n.reject("You do not have permission to clear Badge")}),n.promise},configure:function(e){return cordova.plugins.notification.badge.configure(e)}}}]),angular.module("ngCordova.plugins.barcodeScanner",[]).factory("$cordovaBarcodeScanner",["$q",function(e){return{scan:function(){var n=e.defer();return cordova.plugins.barcodeScanner.scan(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},encode:function(n,r){var t=e.defer();return n=n||"TEXT_TYPE",cordova.plugins.barcodeScanner.encode(n,r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.battery-status",[]).factory("$cordovaBatteryStatus",["$rootScope","$window",function(e,n){var r=e.$new();return n.addEventListener("batterystatus",function(e){r.$emit("batterystatus",e.detail)},!1),n.addEventListener("batterycritical",function(e){r.$emit("batterycritical",e.detail)},!1),n.addEventListener("batterylow",function(e){r.$emit("batterylow",e.detail)},!1),r}]),angular.module("ngCordova.plugins.ble",[]).factory("$cordovaBLE",["$q",function(e){return{scan:function(n,r){var t=e.defer();return ble.scan(n,r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},connect:function(n){var r=e.defer();return ble.connect(n,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},disconnect:function(n){var r=e.defer();return ble.disconnect(n,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},read:function(n,r,t){var o=e.defer();return ble.read(n,r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},write:function(n,r,t,o){var i=e.defer();return ble.write(n,r,t,o,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},writeCommand:function(n,r,t,o){var i=e.defer();return ble.writeCommand(n,r,t,o,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},notify:function(n,r,t){var o=e.defer();return ble.notify(n,r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},indicate:function(n,r,t){var o=e.defer();return ble.indicate(n,r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},isConnected:function(n){var r=e.defer();return ble.isConnected(n,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},isEnabled:function(){var n=e.defer();return ble.isEnabled(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.bluetoothSerial",[]).factory("$cordovaBluetoothSerial",["$q","$window",function(e,n){return{connect:function(r){var t=e.defer();return n.bluetoothSerial.connect(r,function(){t.resolve()},function(e){t.reject(e)}),t.promise},connectInsecure:function(r){var t=e.defer();return n.bluetoothSerial.connectInsecure(r,function(){t.resolve()},function(e){t.reject(e)}),t.promise},disconnect:function(){var r=e.defer();return n.bluetoothSerial.disconnect(function(){r.resolve()},function(e){r.reject(e)}),r.promise},list:function(){var r=e.defer();return n.bluetoothSerial.list(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},isEnabled:function(){var r=e.defer();return n.bluetoothSerial.isEnabled(function(){r.resolve()},function(){r.reject()}),r.promise},isConnected:function(){var r=e.defer();return n.bluetoothSerial.isConnected(function(){r.resolve()},function(){r.reject()}),r.promise},available:function(){var r=e.defer();return n.bluetoothSerial.available(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},read:function(){var r=e.defer();return n.bluetoothSerial.read(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},readUntil:function(r){var t=e.defer();return n.bluetoothSerial.readUntil(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},write:function(r){var t=e.defer();return n.bluetoothSerial.write(r,function(){t.resolve()},function(e){t.reject(e)}),t.promise},subscribe:function(r){var t=e.defer();return n.bluetoothSerial.subscribe(r,function(e){t.notify(e)},function(e){t.reject(e)}),t.promise},subscribeRawData:function(){var r=e.defer();return n.bluetoothSerial.subscribeRawData(function(e){r.notify(e)},function(e){r.reject(e)}),r.promise},unsubscribe:function(){var r=e.defer();return n.bluetoothSerial.unsubscribe(function(){r.resolve()},function(e){r.reject(e)}),r.promise},unsubscribeRawData:function(){var r=e.defer();return n.bluetoothSerial.unsubscribeRawData(function(){r.resolve()},function(e){r.reject(e)}),r.promise},clear:function(){var r=e.defer();return n.bluetoothSerial.clear(function(){r.resolve()},function(e){r.reject(e)}),r.promise},readRSSI:function(){var r=e.defer();return n.bluetoothSerial.readRSSI(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.calendar",[]).factory("$cordovaCalendar",["$q","$window",function(e,n){return{createCalendar:function(r){var t=e.defer(),o=n.plugins.calendar.getCreateCalendarOptions();return"string"==typeof r?o.calendarName=r:o=angular.extend(o,r),n.plugins.calendar.createCalendar(o,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},deleteCalendar:function(r){var t=e.defer();return n.plugins.calendar.deleteCalendar(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},createEvent:function(r){var t=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,r),n.plugins.calendar.createEvent(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},createEventWithOptions:function(r){var t=e.defer(),o=[],i=window.plugins.calendar.getCalendarOptions(),a={title:null,location:null,notes:null,startDate:null,endDate:null};o=Object.keys(a);for(var c in r)-1===o.indexOf(c)?i[c]=r[c]:a[c]=r[c];return n.plugins.calendar.createEventWithOptions(a.title,a.location,a.notes,new Date(a.startDate),new Date(a.endDate),i,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},createEventInteractively:function(r){var t=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,r),n.plugins.calendar.createEventInteractively(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},createEventInNamedCalendar:function(r){var t=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null,calendarName:null};return o=angular.extend(o,r),n.plugins.calendar.createEventInNamedCalendar(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),o.calendarName,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},findEvent:function(r){var t=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,r),n.plugins.calendar.findEvent(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},listEventsInRange:function(r,t){var o=e.defer();return n.plugins.calendar.listEventsInRange(r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},listCalendars:function(){var r=e.defer();return n.plugins.calendar.listCalendars(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},findAllEventsInNamedCalendar:function(r){var t=e.defer();return n.plugins.calendar.findAllEventsInNamedCalendar(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},modifyEvent:function(r){var t=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null,newTitle:null,newLocation:null,newNotes:null,newStartDate:null,newEndDate:null};return o=angular.extend(o,r),n.plugins.calendar.modifyEvent(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),o.newTitle,o.newLocation,o.newNotes,new Date(o.newStartDate),new Date(o.newEndDate),function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},deleteEvent:function(r){var t=e.defer(),o={newTitle:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,r),n.plugins.calendar.deleteEvent(o.newTitle,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.camera",[]).factory("$cordovaCamera",["$q",function(e){return{getPicture:function(n){var r=e.defer();return navigator.camera?(navigator.camera.getPicture(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise):(r.resolve(null),r.promise)},cleanup:function(){var n=e.defer();return navigator.camera.cleanup(function(){n.resolve()},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.capture",[]).factory("$cordovaCapture",["$q",function(e){return{captureAudio:function(n){var r=e.defer();return navigator.device.capture?(navigator.device.capture.captureAudio(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise):(r.resolve(null),r.promise)},captureImage:function(n){var r=e.defer();return navigator.device.capture?(navigator.device.capture.captureImage(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise):(r.resolve(null),r.promise)},captureVideo:function(n){var r=e.defer();return navigator.device.capture?(navigator.device.capture.captureVideo(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise):(r.resolve(null),r.promise)}}}]),angular.module("ngCordova.plugins.clipboard",[]).factory("$cordovaClipboard",["$q","$window",function(e,n){return{copy:function(r){var t=e.defer();return n.cordova.plugins.clipboard.copy(r,function(){t.resolve()},function(){t.reject()}),t.promise},paste:function(){var r=e.defer();return n.cordova.plugins.clipboard.paste(function(e){r.resolve(e)},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins.contacts",[]).factory("$cordovaContacts",["$q",function(e){return{save:function(n){var r=e.defer(),t=navigator.contacts.create(n);return t.save(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},remove:function(n){var r=e.defer(),t=navigator.contacts.create(n);return t.remove(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},clone:function(e){var n=navigator.contacts.create(e);return n.clone(e)},find:function(n){var r=e.defer(),t=n.fields||["id","displayName"];return delete n.fields,navigator.contacts.find(t,function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise},pickContact:function(){var n=e.defer();return navigator.contacts.pickContact(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.datePicker",[]).factory("$cordovaDatePicker",["$window","$q",function(e,n){return{show:function(r){r=r||{date:new Date,mode:"date"};var t=n.defer();return e.datePicker.show(r,function(e){t.resolve(e)}),t.promise}}}]),angular.module("ngCordova.plugins.device",[]).factory("$cordovaDevice",[function(){return{getDevice:function(){return device},getCordova:function(){return device.cordova},getModel:function(){return device.model},getName:function(){return device.name},getPlatform:function(){return device.platform},getUUID:function(){return device.uuid},getVersion:function(){return device.version}}}]),angular.module("ngCordova.plugins.deviceMotion",[]).factory("$cordovaDeviceMotion",["$q",function(e){return{getCurrentAcceleration:function(){var n=e.defer();return navigator.accelerometer.getCurrentAcceleration(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},watchAcceleration:function(n){var r=e.defer(),t=navigator.accelerometer.watchAcceleration(function(e){r.notify(e)},function(e){r.reject(e)},n);return r.promise.cancel=function(){navigator.accelerometer.clearWatch(t)},r.promise.clearWatch=function(e){navigator.accelerometer.clearWatch(e||t)},r.promise.watchID=t,r.promise},clearWatch:function(e){return navigator.accelerometer.clearWatch(e)}}}]),angular.module("ngCordova.plugins.deviceOrientation",[]).factory("$cordovaDeviceOrientation",["$q",function(e){return{getCurrentHeading:function(){var n=e.defer();return navigator.compass.getCurrentHeading(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},watchHeading:function(n){var r=e.defer(),t=navigator.compass.watchHeading(function(e){r.notify(e)},function(e){r.reject(e)},n);return r.promise.cancel=function(){navigator.compass.clearWatch(t)},r.promise.clearWatch=function(e){navigator.compass.clearWatch(e||t)},r.promise.watchID=t,r.promise},clearWatch:function(e){return navigator.compass.clearWatch(e)}}}]),angular.module("ngCordova.plugins.dialogs",[]).factory("$cordovaDialogs",["$q","$window",function(e,n){return{alert:function(r,t,o){var i=e.defer();return n.navigator.notification?navigator.notification.alert(r,function(){i.resolve()},t,o):(n.alert(r),i.resolve()),i.promise},confirm:function(r,t,o){var i=e.defer();return n.navigator.notification?navigator.notification.confirm(r,function(e){i.resolve(e)},t,o):i.resolve(n.confirm(r)?1:2),i.promise},prompt:function(r,t,o,i){var a=e.defer();if(n.navigator.notification)navigator.notification.prompt(r,function(e){a.resolve(e)},t,o,i);else{var c=n.prompt(r,i);a.resolve(null!==c?{input1:c,buttonIndex:1}:{input1:c,buttonIndex:2})}return a.promise},beep:function(e){return navigator.notification.beep(e)}}}]),angular.module("ngCordova.plugins.facebook",[]).provider("$cordovaFacebook",[function(){var e,n;this.setAppID=function(r,t){e=r,n=t||"v2.0"},this.$get=["$q","$window",function(r,t){return{getAppID:function(){return e},init:function(e){t.cordova||facebookConnectPlugin.browserInit(e,n)},login:function(e){this.init(this.getAppID());var n=r.defer();return facebookConnectPlugin.login(e,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},showDialog:function(e){var n=r.defer();return facebookConnectPlugin.showDialog(e,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},api:function(e,n){var t=r.defer();return facebookConnectPlugin.api(e,n,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getAccessToken:function(){var e=r.defer();return facebookConnectPlugin.getAccessToken(function(n){e.resolve(n)},function(n){e.reject(n)}),e.promise},getLoginStatus:function(){var e=r.defer();return facebookConnectPlugin.getLoginStatus(function(n){e.resolve(n)},function(n){e.reject(n)}),e.promise},logout:function(){var e=r.defer();return facebookConnectPlugin.logout(function(n){e.resolve(n)},function(n){e.reject(n)}),e.promise}}}]}]),angular.module("ngCordova.plugins.facebookAds",[]).factory("$cordovaFacebookAds",["$q","$window",function(e,n){return{setOptions:function(r){var t=e.defer();return n.FacebookAds.setOptions(r,function(){t.resolve()},function(){t.reject()}),t.promise},createBanner:function(r){var t=e.defer();return n.FacebookAds.createBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},removeBanner:function(){var r=e.defer();return n.FacebookAds.removeBanner(function(){r.resolve()},function(){r.reject()}),r.promise},showBanner:function(r){var t=e.defer();return n.FacebookAds.showBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},showBannerAtXY:function(r,t){var o=e.defer();return n.FacebookAds.showBannerAtXY(r,t,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var r=e.defer();return n.FacebookAds.hideBanner(function(){r.resolve()},function(){r.reject()}),r.promise},prepareInterstitial:function(r){var t=e.defer();return n.FacebookAds.prepareInterstitial(r,function(){t.resolve()},function(){t.reject()}),t.promise},showInterstitial:function(){var r=e.defer();return n.FacebookAds.showInterstitial(function(){r.resolve()},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins.file",[]).factory("$cordovaFile",["$q","$window","$log","$timeout",function(e,n,r,t){function o(e){var n=new FileReader;return n.onloadend=function(){this.error?e.reject(this.error):e.resolve(this.result)},n}function i(n,r){var t=e.defer();return c(n,r).then(function(e){e.file(t.resolve,t.reject)},t.reject),t.promise}function a(n,r){var t=e.defer();return c(n,r).then(function(e){e.createWriter(t.resolve,t.reject)},t.reject),t.promise}function c(n,r){var t=e.defer();return l().then(function(e){e.root.getFile(n,r,t.resolve,t.reject)},t.reject),t.promise}function u(r){var t=e.defer();return n.resolveLocalFileSystemURL(r,function(e){e.file(t.resolve,t.reject)},t.reject),t.promise}function s(n,r){var t=e.defer();return l().then(function(e){e.root.getDirectory(n,r,t.resolve,t.reject)},t.reject),t.promise}function l(){var r=e.defer();try{n.requestFileSystem(n.PERSISTENT,1048576,r.resolve,r.reject)}catch(t){r.reject(t)}return r.promise}return{checkDir:function(e){return s(e,{create:!1})},createDir:function(e,n){return s(e,{create:!0,exclusive:n})},listDir:function(n){var r=e.defer();return s(n,{create:!1}).then(function(e){var t=e.createReader();t.readEntries(function(e){r.resolve(e)},function(){r.reject("DIR_READ_ERROR : "+n)})},function(){r.reject("DIR_NOT_FOUND : "+n)}),r.promise},checkFile:function(e){return 2==arguments.length&&(e="/"+e+"/"+arguments[1]),c(e,{create:!1})},createFile:function(e,n){return 3==arguments.length&&(e="/"+e+"/"+arguments[1],n=arguments[2]),c(e,{create:!0,exclusive:n})},removeFile:function(n){var r=e.defer();return 2==arguments.length&&(n="/"+n+"/"+arguments[1]),c(n,{create:!1}).then(function(e){e.remove(r.resolve,r.reject)},r.reject),r.promise},writeFile:function(n,r,t){var o=e.defer();return a(n,{create:!0}).then(function(e){t&&t.append===!0&&e.seek(e.length),e.onwriteend=function(e){this.error?o.reject(this.error):o.resolve(e)},e.write(r)},o.reject),o.promise},readFile:function(e){return r.log("readFile is now deprecated as of v0.1.4-alpha, use readAsText instead"),this.readAsText(e)},readAsText:function(n){var r=e.defer();return 2==arguments.length&&(n="/"+n+"/"+arguments[1]),i(n,{create:!1}).then(function(e){o(r).readAsText(e)},r.reject),r.promise},readAsDataURL:function(n){var r=e.defer();return 2==arguments.length&&(n="/"+n+"/"+arguments[1]),i(n,{create:!1}).then(function(e){o(r).readAsDataURL(e)},r.reject),r.promise},readAsBinaryString:function(n){var r=e.defer();return 2==arguments.length&&(n="/"+n+"/"+arguments[1]),i(n,{create:!1}).then(function(e){o(r).readAsBinaryString(e)},r.reject),r.promise},readAsArrayBuffer:function(n){var r=e.defer();return 2==arguments.length&&(n="/"+n+"/"+arguments[1]),i(n,{create:!1}).then(function(e){o(r).readAsArrayBuffer(e)},r.reject),r.promise},readFileMetadata:function(e){return i(e,{create:!1})},readFileAbsolute:function(n){var r=e.defer();return u(n).then(function(e){o(r).readAsText(e)},r.reject),r.promise},readFileMetadataAbsolute:function(e){return u(e)},downloadFile:function(n,r,t,o){var i=e.defer(),a=new FileTransfer,c=encodeURI(n);return a.onprogress=i.notify,a.download(c,r,i.resolve,i.reject,t,o),i.promise},uploadFile:function(n,r,o){var i=e.defer(),a=new FileTransfer,c=encodeURI(n);return void 0!==o.timeout&&null!==o.timeout&&(t(function(){a.abort()},o.timeout),o.timeout=null),a.onprogress=i.notify,a.upload(r,c,i.resolve,i.reject,o),i.promise}}}]),angular.module("ngCordova.plugins.flashlight",[]).factory("$cordovaFlashlight",["$q","$window",function(e,n){return{available:function(){var r=e.defer();return n.plugins.flashlight.available(function(e){r.resolve(e)}),r.promise},switchOn:function(){var r=e.defer();return n.plugins.flashlight.switchOn(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},switchOff:function(){var r=e.defer();return n.plugins.flashlight.switchOff(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},toggle:function(){var r=e.defer();return n.plugins.flashlight.toggle(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.flurryAds",[]).factory("$cordovaFlurryAds",["$q","$window",function(e,n){return{setOptions:function(r){var t=e.defer();return n.FlurryAds.setOptions(r,function(){t.resolve()},function(){t.reject()}),t.promise},createBanner:function(r){var t=e.defer();return n.FlurryAds.createBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},removeBanner:function(){var r=e.defer();return n.FlurryAds.removeBanner(function(){r.resolve()},function(){r.reject()}),r.promise},showBanner:function(r){var t=e.defer();return n.FlurryAds.showBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},showBannerAtXY:function(r,t){var o=e.defer();return n.FlurryAds.showBannerAtXY(r,t,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var r=e.defer();return n.FlurryAds.hideBanner(function(){r.resolve()},function(){r.reject()}),r.promise},prepareInterstitial:function(r){var t=e.defer();return n.FlurryAds.prepareInterstitial(r,function(){t.resolve()},function(){t.reject()}),t.promise},showInterstitial:function(){var r=e.defer();return n.FlurryAds.showInterstitial(function(){r.resolve()},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins.ga",[]).factory("$cordovaGA",["$q","$window",function(e,n){return{init:function(r,t){var o=e.defer();return t=t>=0?t:10,n.plugins.gaPlugin.init(function(e){o.resolve(e)},function(e){o.reject(e)},r,t),o.promise},trackEvent:function(r,t,o,i,a,c){var u=e.defer();return n.plugins.gaPlugin.trackEvent(function(e){u.resolve(e)},function(e){u.reject(e)},o,i,a,c),u.promise},trackPage:function(r,t,o){var i=e.defer();return n.plugins.gaPlugin.trackPage(function(e){i.resolve(e)},function(e){i.reject(e)},o),i.promise},setVariable:function(r,t,o,i){var a=e.defer();return n.plugins.gaPlugin.setVariable(function(e){a.resolve(e)},function(e){a.reject(e)},o,i),a.promise},exit:function(){var r=e.defer();return n.plugins.gaPlugin.exit(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.geolocation",[]).factory("$cordovaGeolocation",["$q",function(e){return{getCurrentPosition:function(n){var r=e.defer();return navigator.geolocation.getCurrentPosition(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise},watchPosition:function(n){var r=e.defer(),t=navigator.geolocation.watchPosition(function(e){r.notify(e)},function(e){r.reject(e)},n);return r.promise.cancel=function(){navigator.geolocation.clearWatch(t)},r.promise.clearWatch=function(e){navigator.geolocation.clearWatch(e||t)},r.promise.watchID=t,r.promise},clearWatch:function(e){return navigator.geolocation.clearWatch(e)}}}]),angular.module("ngCordova.plugins.globalization",[]).factory("$cordovaGlobalization",["$q",function(e){return{getPreferredLanguage:function(){var n=e.defer();return navigator.globalization.getPreferredLanguage(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},getLocaleName:function(){var n=e.defer();return navigator.globalization.getLocaleName(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},getFirstDayOfWeek:function(){var n=e.defer();return navigator.globalization.getFirstDayOfWeek(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},dateToString:function(n,r){var t=e.defer();return navigator.globalization.dateToString(n,function(e){t.resolve(e)},function(e){t.reject(e)},r),t.promise},stringToDate:function(n,r){var t=e.defer();return navigator.globalization.stringToDate(n,function(e){t.resolve(e)},function(e){t.reject(e)},r),t.promise},getDatePattern:function(n){var r=e.defer();return navigator.globalization.getDatePattern(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise},getDateNames:function(n){var r=e.defer();return navigator.globalization.getDateNames(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise},isDayLightSavingsTime:function(n){var r=e.defer();return navigator.globalization.isDayLightSavingsTime(n,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},numberToString:function(n,r){var t=e.defer();return navigator.globalization.numberToString(n,function(e){t.resolve(e)},function(e){t.reject(e)},r),t.promise},stringToNumber:function(n,r){var t=e.defer();return navigator.globalization.stringToNumber(n,function(e){t.resolve(e)},function(e){t.reject(e)},r),t.promise},getNumberPattern:function(n){var r=e.defer();return navigator.globalization.getNumberPattern(function(e){r.resolve(e)},function(e){r.reject(e)},n),r.promise},getCurrencyPattern:function(n){var r=e.defer();return navigator.globalization.getCurrencyPattern(n,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.googleAds",[]).factory("$cordovaGoogleAds",["$q","$window",function(e,n){return{setOptions:function(r){var t=e.defer();return n.AdMob.setOptions(r,function(){t.resolve()},function(){t.reject()}),t.promise},createBanner:function(r){var t=e.defer();return n.AdMob.createBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},removeBanner:function(){var r=e.defer();return n.AdMob.removeBanner(function(){r.resolve()},function(){r.reject()}),r.promise},showBanner:function(r){var t=e.defer();return n.AdMob.showBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},showBannerAtXY:function(r,t){var o=e.defer();return n.AdMob.showBannerAtXY(r,t,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var r=e.defer();return n.AdMob.hideBanner(function(){r.resolve()},function(){r.reject()}),r.promise},prepareInterstitial:function(r){var t=e.defer();return n.AdMob.prepareInterstitial(r,function(){t.resolve()},function(){t.reject()}),t.promise},showInterstitial:function(){var r=e.defer();return n.AdMob.showInterstitial(function(){r.resolve()},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins.googleAnalytics",[]).factory("$cordovaGoogleAnalytics",["$q","$window",function(e,n){return{startTrackerWithId:function(r){var t=e.defer();return n.analytics.startTrackerWithId(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},setUserId:function(r){var t=e.defer();return n.analytics.setUserId(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},debugMode:function(){var r=e.defer();return n.analytics.debugMode(function(e){r.resolve(e)},function(){r.reject()}),r.promise},trackView:function(r){var t=e.defer();return n.analytics.trackView(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},addCustomDimension:function(r,t){var o=e.defer();return n.analytics.addCustomDimension(r,t,function(){o.resolve()},function(e){o.reject(e)}),o.promise},trackEvent:function(r,t,o,i){var a=e.defer();return n.analytics.trackEvent(r,t,o,i,function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise},addTransaction:function(r,t,o,i,a,c){var u=e.defer();return n.analytics.addTransaction(r,t,o,i,a,c,function(e){u.resolve(e)},function(e){u.reject(e)}),u.promise},addTransactionItem:function(r,t,o,i,a,c,u){var s=e.defer();return n.analytics.addTransactionItem(r,t,o,i,a,c,u,function(e){s.resolve(e)},function(e){s.reject(e)}),s.promise}}}]),angular.module("ngCordova.plugins.googleMap",[]).factory("$cordovaGoogleMap",["$q","$window",function(e,n){var r=null;return{getMap:function(t){var o=e.defer();if(n.plugin.google.maps){var i=document.getElementById("map_canvas");r=n.plugin.google.maps.Map.getMap(t),r.setDiv(i),o.resolve(r)}else o.reject(null);return o.promise},isMapLoaded:function(){return!!r},addMarker:function(n){var t=e.defer();return r.addMarker(n,function(e){t.resolve(e)}),t.promise},getMapTypeIds:function(){return n.plugin.google.maps.mapTypeId},setVisible:function(n){var t=e.defer();return r.setVisible(n),t.promise},cleanup:function(){r=null}}}]),angular.module("ngCordova.plugins.httpd",[]).factory("$cordovaHttpd",["$q",function(e){return{startServer:function(n){var r=e.defer();return cordova.plugins.CorHttpd.startServer(n,function(){r.resolve()},function(){r.reject()}),r.promise},stopServer:function(){var n=e.defer();return cordova.plugins.CorHttpd.stopServer(function(){n.resolve()},function(){n.reject()}),n.promise},getURL:function(){var n=e.defer();return cordova.plugins.CorHttpd.getURL(function(e){n.resolve(e)},function(){n.reject()}),n.promise},getLocalPath:function(){var n=e.defer();return cordova.plugins.CorHttpd.getLocalPath(function(e){n.resolve(e)},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.iAd",[]).factory("$cordovaiAd",["$q","$window",function(e,n){return{setOptions:function(r){var t=e.defer();
return n.iAd.setOptions(r,function(){t.resolve()},function(){t.reject()}),t.promise},createBanner:function(r){var t=e.defer();return n.iAd.createBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},removeBanner:function(){var r=e.defer();return n.iAd.removeBanner(function(){r.resolve()},function(){r.reject()}),r.promise},showBanner:function(r){var t=e.defer();return n.iAd.showBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},showBannerAtXY:function(r,t){var o=e.defer();return n.iAd.showBannerAtXY(r,t,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var r=e.defer();return n.iAd.hideBanner(function(){r.resolve()},function(){r.reject()}),r.promise},prepareInterstitial:function(r){var t=e.defer();return n.iAd.prepareInterstitial(r,function(){t.resolve()},function(){t.reject()}),t.promise},showInterstitial:function(){var r=e.defer();return n.iAd.showInterstitial(function(){r.resolve()},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins.inAppBrowser",[]).factory("$cordovaInAppBrowser",["$rootScope","$q","$window",function(e,n,r){var t,o,i=e.$new();return{init:function(e){if(angular.isObject(e)){var n=[];for(var r in e)n.push([r+"="+e[r]]);o=n.join()}else o=e;return i},open:function(e,a){var c=n.defer();return t=r.open(e,a,o),t.addEventListener("loadstart",function(e){i.$emit("loadstart",e)},!1),t.addEventListener("loadstop",function(e){c.resolve(e),i.$emit("loadstop",e)},!1),t.addEventListener("loaderror",function(e){c.reject(e),i.$emit("loaderror",e)},!1),t.addEventListener("exit",function(e){i.$emit("exit",e)},!1),c.promise},close:function(){t.close()},executeScript:function(e){var r=n.defer();return t.executeScript(e,function(e){r.resolve(e)}),r.promise},insertCSS:function(e){var r=n.defer();return t.insertCSS(e,function(e){r.resolve(e)}),r.promise}}}]),angular.module("ngCordova.plugins.keyboard",[]).factory("$cordovaKeyboard",[function(){return{hideAccessoryBar:function(e){return cordova.plugins.Keyboard.hideKeyboardAccessoryBar(e)},close:function(){return cordova.plugins.Keyboard.close()},disableScroll:function(e){return cordova.plugins.Keyboard.disableScroll(e)},isVisible:function(){return cordova.plugins.Keyboard.isVisible}}}]),angular.module("ngCordova.plugins.keychain",[]).factory("$cordovaKeychain",["$q",function(e){var n=new Keychain;return{getForKey:function(r,t){var o=e.defer();return n.getForKey(o.resolve,o.reject,r,t),o.promise},setForKey:function(r,t,o){var i=e.defer();return n.setForKey(i.resolve,i.reject,r,t,o),i.promise},removeForKey:function(r,t){var o=e.defer();return n.removeForKey(o.resolve,o.reject,r,t),o.promise}}}]),angular.module("ngCordova.plugins.localNotification",[]).factory("$cordovaLocalNotification",["$q","$window",function(e,n){return{add:function(r,t){var o=e.defer();return n.plugin.notification.local.add(r,function(e){o.resolve(e)},t),o.promise},cancel:function(r,t){var o=e.defer();return n.plugin.notification.local.cancel(r,function(e){o.resolve(e)},t),o.promise},cancelAll:function(r){var t=e.defer();return n.plugin.notification.local.cancelAll(function(e){t.resolve(e)},r),t.promise},isScheduled:function(r,t){var o=e.defer();return n.plugin.notification.local.isScheduled(r,function(e){o.resolve(e)},t),o.promise},hasPermission:function(r){var t=e.defer();return n.plugin.notification.local.hasPermission(function(e){t.resolve(e)},r),t.promise},promptForPermission:function(){n.plugin.notification.local.promptForPermission()},getScheduledIds:function(r){var t=e.defer();return n.plugin.notification.local.getScheduledIds(function(e){t.resolve(e)},r),t.promise},isTriggered:function(r,t){var o=e.defer();return n.plugin.notification.local.isTriggered(r,function(e){o.resolve(e)},t),o.promise},getTriggeredIds:function(r){var t=e.defer();return n.plugin.notification.local.getTriggeredIds(function(e){t.resolve(e)},r),t.promise},getDefaults:function(){return n.plugin.notification.local.getDefaults()},setDefaults:function(e){n.plugin.notification.local.setDefaults(e)},onadd:function(){return n.plugin.notification.local.onadd},ontrigger:function(){return n.plugin.notification.local.ontrigger},onclick:function(){return n.plugin.notification.local.onclick},oncancel:function(){return n.plugin.notification.local.oncancel}}}]),angular.module("ngCordova.plugins.mMediaAds",[]).factory("$cordovaMMediaAds",["$q","$window",function(e,n){return{setOptions:function(r){var t=e.defer();return n.mMedia.setOptions(r,function(){t.resolve()},function(){t.reject()}),t.promise},createBanner:function(r){var t=e.defer();return n.mMedia.createBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},removeBanner:function(){var r=e.defer();return n.mMedia.removeBanner(function(){r.resolve()},function(){r.reject()}),r.promise},showBanner:function(r){var t=e.defer();return n.mMedia.showBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},showBannerAtXY:function(r,t){var o=e.defer();return n.mMedia.showBannerAtXY(r,t,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var r=e.defer();return n.mMedia.hideBanner(function(){r.resolve()},function(){r.reject()}),r.promise},prepareInterstitial:function(r){var t=e.defer();return n.mMedia.prepareInterstitial(r,function(){t.resolve()},function(){t.reject()}),t.promise},showInterstitial:function(){var r=e.defer();return n.mMedia.showInterstitial(function(){r.resolve()},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins.media",[]).factory("$cordovaMedia",["$q",function(e){return{newMedia:function(n){var r=e.defer(),t=null,o=new Media(n,function(e){r.resolve(e)},function(e){r.reject(e)},function(e){t=e});return{media:o,mediaStatus:t,promise:r.promise}},getCurrentPosition:function(n){var r=e.defer();return n.getCurrentPosition(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},getDuration:function(e){return e.getDuration()},play:function(e,n){return"object"!=typeof n&&(n={}),e.play(n)},pause:function(e){return e.pause()},release:function(e){return e.release()},seekTo:function(e,n){return e.seekTo(n)},setVolume:function(e,n){return e.setVolume(n)},startRecord:function(e){return e.startRecord()},stopRecord:function(e){return e.stopRecord()},stop:function(e){return e.stop()}}}]),angular.module("ngCordova.plugins.mobfoxAds",[]).factory("$cordovaMobFoxAds",["$q","$window",function(e,n){return{setOptions:function(r){var t=e.defer();return n.MobFox.setOptions(r,function(){t.resolve()},function(){t.reject()}),t.promise},createBanner:function(r){var t=e.defer();return n.MobFox.createBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},removeBanner:function(){var r=e.defer();return n.MobFox.removeBanner(function(){r.resolve()},function(){r.reject()}),r.promise},showBanner:function(r){var t=e.defer();return n.MobFox.showBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},showBannerAtXY:function(r,t){var o=e.defer();return n.MobFox.showBannerAtXY(r,t,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var r=e.defer();return n.MobFox.hideBanner(function(){r.resolve()},function(){r.reject()}),r.promise},prepareInterstitial:function(r){var t=e.defer();return n.MobFox.prepareInterstitial(r,function(){t.resolve()},function(){t.reject()}),t.promise},showInterstitial:function(){var r=e.defer();return n.MobFox.showInterstitial(function(){r.resolve()},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins",["ngCordova.plugins.adMob","ngCordova.plugins.appAvailability","ngCordova.plugins.backgroundGeolocation","ngCordova.plugins.badge","ngCordova.plugins.barcodeScanner","ngCordova.plugins.battery-status","ngCordova.plugins.ble","ngCordova.plugins.bluetoothSerial","ngCordova.plugins.calendar","ngCordova.plugins.camera","ngCordova.plugins.capture","ngCordova.plugins.clipboard","ngCordova.plugins.contacts","ngCordova.plugins.datePicker","ngCordova.plugins.device","ngCordova.plugins.deviceMotion","ngCordova.plugins.deviceOrientation","ngCordova.plugins.dialogs","ngCordova.plugins.facebook","ngCordova.plugins.facebookAds","ngCordova.plugins.file","ngCordova.plugins.flashlight","ngCordova.plugins.flurryAds","ngCordova.plugins.ga","ngCordova.plugins.geolocation","ngCordova.plugins.globalization","ngCordova.plugins.googleAds","ngCordova.plugins.googleAnalytics","ngCordova.plugins.googleMap","ngCordova.plugins.httpd","ngCordova.plugins.iAd","ngCordova.plugins.inAppBrowser","ngCordova.plugins.keyboard","ngCordova.plugins.keychain","ngCordova.plugins.localNotification","ngCordova.plugins.media","ngCordova.plugins.mMediaAds","ngCordova.plugins.mobfoxAds","ngCordova.plugins.mopubAds","ngCordova.plugins.nativeAudio","ngCordova.plugins.network","ngCordova.plugins.oauth","ngCordova.plugins.oauthUtility","ngCordova.plugins.pinDialog","ngCordova.plugins.prefs","ngCordova.plugins.printer","ngCordova.plugins.progressIndicator","ngCordova.plugins.push","ngCordova.plugins.sms","ngCordova.plugins.socialSharing","ngCordova.plugins.spinnerDialog","ngCordova.plugins.splashscreen","ngCordova.plugins.sqlite","ngCordova.plugins.statusbar","ngCordova.plugins.toast","ngCordova.plugins.touchid","ngCordova.plugins.vibration","ngCordova.plugins.videoCapturePlus","ngCordova.plugins.zip"]),angular.module("ngCordova.plugins.mopubAds",[]).factory("$cordovaMoPubAds",["$q","$window",function(e,n){return{setOptions:function(r){var t=e.defer();return n.MoPub.setOptions(r,function(){t.resolve()},function(){t.reject()}),t.promise},createBanner:function(r){var t=e.defer();return n.MoPub.createBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},removeBanner:function(){var r=e.defer();return n.MoPub.removeBanner(function(){r.resolve()},function(){r.reject()}),r.promise},showBanner:function(r){var t=e.defer();return n.MoPub.showBanner(r,function(){t.resolve()},function(){t.reject()}),t.promise},showBannerAtXY:function(r,t){var o=e.defer();return n.MoPub.showBannerAtXY(r,t,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var r=e.defer();return n.MoPub.hideBanner(function(){r.resolve()},function(){r.reject()}),r.promise},prepareInterstitial:function(r){var t=e.defer();return n.MoPub.prepareInterstitial(r,function(){t.resolve()},function(){t.reject()}),t.promise},showInterstitial:function(){var r=e.defer();return n.MoPub.showInterstitial(function(){r.resolve()},function(){r.reject()}),r.promise}}}]),angular.module("ngCordova.plugins.nativeAudio",[]).factory("$cordovaNativeAudio",["$q","$window",function(e,n){return{preloadSimple:function(r,t){var o=e.defer();return n.plugins.NativeAudio.preloadSimple(r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},preloadComplex:function(r,t,o,i){var a=e.defer();return n.plugins.NativeAudio.preloadComplex(r,t,o,i,function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise},play:function(r,t){var o=e.defer();return n.plugins.NativeAudio.play(r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},stop:function(r){var t=e.defer();return n.plugins.NativeAudio.stop(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},loop:function(r){var t=e.defer();return n.plugins.NativeAudio.loop(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},unload:function(r){var t=e.defer();return n.plugins.NativeAudio.unload(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},setVolumeForComplexAsset:function(r,t){var o=e.defer();return n.plugins.NativeAudio.setVolumeForComplexAsset(r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}}}]),angular.module("ngCordova.plugins.network",[]).factory("$cordovaNetwork",[function(){return{getNetwork:function(){return navigator.connection.type},isOnline:function(){var e=navigator.connection.type;return e!==Connection.UNKNOWN&&e!==Connection.NONE},isOffline:function(){var e=navigator.connection.type;return e===Connection.UNKNOWN||e===Connection.NONE},watchNetwork:function(){}}}]),angular.module("ngCordova.plugins.oauth",["ngCordova.plugins.oauthUtility"]).factory("$cordovaOauth",["$q","$http","$cordovaOauthUtility",function(e,n,r){return{dropbox:function(n){var r=e.defer();if(window.cordova){var t=cordova.require("cordova/plugin_list").metadata;if(t.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://www.dropbox.com/1/oauth2/authorize?client_id="+n+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var n=e.url.split("#")[1],t=n.split("&"),i=[],a=0;a<t.length;a++)i[t[a].split("=")[0]]=t[a].split("=")[1];if(void 0!==i.access_token&&null!==i.access_token){var c={access_token:i.access_token,token_type:i.token_type,uid:i.uid};r.resolve(c)}else r.reject("Problem authenticating");o.close()}})}else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise},digitalOcean:function(r,t){var o=e.defer();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(i.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var a=window.open("https://cloud.digitalocean.com/v1/oauth/authorize?client_id="+r+"&redirect_uri=http://localhost/callback&response_type=code&scope=read%20write","_blank","location=no,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var i=e.url.split("code=")[1];n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n({method:"post",url:"https://cloud.digitalocean.com/v1/oauth/token",data:"client_id="+r+"&client_secret="+t+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+i}).success(function(e){o.resolve(e)}).error(function(){o.reject("Problem authenticating")}),a.close()}})}else o.reject("Could not find InAppBrowser plugin")}else o.reject("Cannot authenticate via a web browser");return o.promise},google:function(n,r){var t=e.defer();if(window.cordova){var o=cordova.require("cordova/plugin_list").metadata;if(o.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var i=window.open("https://accounts.google.com/o/oauth2/auth?client_id="+n+"&redirect_uri=http://localhost/callback&scope="+r.join(" ")+"&approval_prompt=force&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");i.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var n=e.url.split("#")[1],r=n.split("&"),o=[],a=0;a<r.length;a++)o[r[a].split("=")[0]]=r[a].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){{({access_token:o.access_token,token_type:o.token_type,uid:o.uid})}t.resolve({access_token:o.access_token,token_type:o.token_type,expires_in:o.expires_in})}else t.reject("Problem authenticating");i.close()}})}else t.reject("Could not find InAppBrowser plugin")}else t.reject("Cannot authenticate via a web browser");return t.promise},github:function(r,t,o){var i=e.defer();if(window.cordova){var a=cordova.require("cordova/plugin_list").metadata;if(a.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var c=window.open("https://github.com/login/oauth/authorize?client_id="+r+"&redirect_uri=http://localhost/callback&scope="+o.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");c.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var o=e.url.split("code=")[1];n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n.defaults.headers.post.Accept="application/json",n({method:"post",url:"https://github.com/login/oauth/access_token",data:"client_id="+r+"&client_secret="+t+"&redirect_uri=http://localhost/callback&code="+o}).success(function(e){i.resolve(e)}).error(function(){i.reject("Problem authenticating")}),c.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},facebook:function(n,r){var t=e.defer();if(window.cordova){var o=cordova.require("cordova/plugin_list").metadata;if(o.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var i=window.open("https://www.facebook.com/dialog/oauth?client_id="+n+"&redirect_uri=http://localhost/callback&response_type=token&scope="+r.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");i.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var n=e.url.split("#")[1],r=n.split("&"),o=[],a=0;a<r.length;a++)o[r[a].split("=")[0]]=r[a].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){var c={access_token:o.access_token,expires_in:o.expires_in};t.resolve(c)}else t.reject("Problem authenticating");i.close()}})}else t.reject("Could not find InAppBrowser plugin")}else t.reject("Cannot authenticate via a web browser");return t.promise},linkedin:function(r,t,o,i){var a=e.defer();if(window.cordova){var c=cordova.require("cordova/plugin_list").metadata;if(c.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var u=window.open("https://www.linkedin.com/uas/oauth2/authorization?client_id="+r+"&redirect_uri=http://localhost/callback&scope="+o.join(" ")+"&response_type=code&state="+i,"_blank","location=no,clearsessioncache=yes,clearcache=yes");u.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var o=e.url.split("code=")[1];n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n({method:"post",url:"https://www.linkedin.com/uas/oauth2/accessToken",data:"client_id="+r+"&client_secret="+t+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+o}).success(function(e){a.resolve(e)}).error(function(){a.reject("Problem authenticating")}),u.close()}})}else a.reject("Could not find InAppBrowser plugin")}else a.reject("Cannot authenticate via a web browser");return a.promise},instagram:function(n,r){var t=e.defer();if(window.cordova){var o=cordova.require("cordova/plugin_list").metadata;if(o.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var i=window.open("https://api.instagram.com/oauth/authorize/?client_id="+n+"&redirect_uri=http://localhost/callback&scope="+r.join(" ")+"&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");i.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var n=e.url.split("#")[1],r=n.split("&"),o=[],a=0;a<r.length;a++)o[r[a].split("=")[0]]=r[a].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){var c={access_token:o.access_token};t.resolve(c)}else t.reject("Problem authenticating");i.close()}})}else t.reject("Could not find InAppBrowser plugin")}else t.reject("Cannot authenticate via a web browser");return t.promise},box:function(r,t,o){var i=e.defer();if(window.cordova){var a=cordova.require("cordova/plugin_list").metadata;if(a.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var c=window.open("https://app.box.com/api/oauth2/authorize/?client_id="+r+"&redirect_uri=http://localhost/callback&state="+o+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");c.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var o=e.url.split("code=")[1];n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n({method:"post",url:"https://app.box.com/api/oauth2/token",data:"client_id="+r+"&client_secret="+t+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+o}).success(function(e){i.resolve(e)}).error(function(){i.reject("Problem authenticating")}),c.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},reddit:function(r,t,o){var i=e.defer();if(window.cordova){var a=cordova.require("cordova/plugin_list").metadata;if(a.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var c=window.open("https://ssl.reddit.com/api/v1/authorize?client_id="+r+"&redirect_uri=http://localhost/callback&duration=permanent&state=ngcordovaoauth&scope="+o.join(",")+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");c.addEventListener("loadstart",function(e){0===e.url.indexOf("http://localhost/callback")&&(requestToken=e.url.split("code=")[1],n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n.defaults.headers.post.Authorization="Basic "+btoa(r+":"+t),n({method:"post",url:"https://ssl.reddit.com/api/v1/access_token",data:"redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+requestToken}).success(function(e){i.resolve(e)}).error(function(){i.reject("Problem authenticating")}),c.close())})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},twitter:function(t,o){var i=e.defer();if(window.cordova){var a=cordova.require("cordova/plugin_list").metadata;if(a.hasOwnProperty("org.apache.cordova.inappbrowser")===!0)if("undefined"!=typeof jsSHA){var c=new jsSHA(Math.round((new Date).getTime()/1e3),"TEXT"),u={oauth_consumer_key:t,oauth_nonce:c.getHash("SHA-1","HEX"),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Math.round((new Date).getTime()/1e3),oauth_version:"1.0"},s=r.createSignature("POST","https://api.twitter.com/oauth/request_token",u,{oauth_callback:"http://localhost/callback"},o);n.defaults.headers.post.Authorization=s.authorization_header,n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n({method:"post",url:"https://api.twitter.com/oauth/request_token",data:"oauth_callback=http://localhost/callback"}).success(function(e){for(var t=e.split("&"),a={},c=0;c<t.length;c++)a[t[c].split("=")[0]]=t[c].split("=")[1];a.hasOwnProperty("oauth_token")===!1&&i.reject("Oauth request token was not received");var s=window.open("https://api.twitter.com/oauth/authenticate?oauth_token="+a.oauth_token,"_blank","location=no,clearsessioncache=yes,clearcache=yes");s.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("?")[1],a=t.split("&"),c={},l=0;l<a.length;l++)c[a[l].split("=")[0]]=a[l].split("=")[1];c.hasOwnProperty("oauth_verifier")===!1&&i.reject("Browser authentication failed to complete.  No oauth_verifier was returned"),delete u.oauth_signature,u.oauth_token=c.oauth_token;var f=r.createSignature("POST","https://api.twitter.com/oauth/access_token",u,{oauth_verifier:c.oauth_verifier},o);n.defaults.headers.post.Authorization=f.authorization_header,n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n({method:"post",url:"https://api.twitter.com/oauth/access_token",data:"oauth_verifier="+c.oauth_verifier}).success(function(e){for(var n=e.split("&"),r={},t=0;t<n.length;t++)r[n[t].split("=")[0]]=n[t].split("=")[1];r.hasOwnProperty("oauth_token_secret")===!1&&i.reject("Oauth access token was not received"),i.resolve(r)}).error(function(e){i.reject(e)}),s.close()}})}).error(function(e){i.reject(e)})}else i.reject("Missing jsSHA JavaScript library");else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},meetup:function(n){var r=e.defer();if(window.cordova){var t=cordova.require("cordova/plugin_list").metadata;if(t.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://secure.meetup.com/oauth2/authorize/?client_id="+n+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var n=e.url.split("#")[1],t=n.split("&"),i={},a=0;a<t.length;a++)i[t[a].split("=")[0]]=t[a].split("=")[1];void 0!==i.access_token&&null!==i.access_token?r.resolve(i):r.reject("Problem authenticating"),o.close()}})}else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise},foursquare:function(n){var r=e.defer();if(window.cordova){var t=cordova.require("cordova/plugin_list").metadata;if(t.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://foursquare.com/oauth2/authenticate?client_id="+n+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var n=e.url.split("#")[1],t=n.split("&"),i=[],a=0;a<t.length;a++)i[t[a].split("=")[0]]=t[a].split("=")[1];if(void 0!==i.access_token&&null!==i.access_token){var c={access_token:i.access_token,expires_in:i.expires_in};r.resolve(c)}else r.reject("Problem authenticating");o.close()}})}else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise}}}]),angular.module("ngCordova.plugins.oauthUtility",[]).factory("$cordovaOauthUtility",["$q",function(){return{createSignature:function(e,n,r,t,o){if("undefined"!=typeof jsSHA){for(var i=angular.copy(r),a=Object.keys(t),c=0;c<a.length;c++)i[a[c]]=encodeURIComponent(t[a[c]]);var u=e+"&"+encodeURIComponent(n)+"&",s=Object.keys(i).sort();for(c=0;c<s.length;c++)u+=encodeURIComponent(c==s.length-1?s[c]+"="+i[s[c]]:s[c]+"="+i[s[c]]+"&");var l=new jsSHA(u,"TEXT");r.oauth_signature=encodeURIComponent(l.getHMAC(encodeURIComponent(o)+"&","TEXT","SHA-1","B64"));var f=Object.keys(r),d="OAuth ";for(c=0;c<f.length;c++)d+=c==f.length-1?f[c]+'="'+r[f[c]]+'"':f[c]+'="'+r[f[c]]+'",';return{signature_base_string:u,authorization_header:d,signature:r.oauth_signature}}return"Missing jsSHA JavaScript library"}}}]),angular.module("ngCordova.plugins.pinDialog",[]).factory("$cordovaPinDialog",["$q","$window",function(e,n){return{prompt:function(r,t,o){var i=e.defer();return n.plugins.pinDialog.prompt(r,function(e){i.resolve(e)},t,o),i.promise}}}]),angular.module("ngCordova.plugins.prefs",[]).factory("$cordovaPreferences",["$window","$q",function(e,n){return{set:function(r,t){var o=n.defer();return e.appgiraffe.plugins.applicationPreferences.set(r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},get:function(r){var t=n.defer();return e.appgiraffe.plugins.applicationPreferences.get(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.printer",[]).factory("$cordovaPrinter",["$q","$window",function(e,n){return{isAvailable:function(){var r=e.defer();return n.plugin.printer.isAvailable(function(e){r.resolve(e)}),r.promise},print:function(r,t){var o=e.defer();return n.plugin.printer.print(r,t,function(){o.resolve()}),o.promise}}}]),angular.module("ngCordova.plugins.progressIndicator",[]).factory("$cordovaProgress",["$q",function(){return{showSimple:function(e){var n=e||!1;return ProgressIndicator.showSimple(n)},showSimpleWithLabel:function(e,n){var r=e||!1,t=n||"Loading...";return ProgressIndicator.showSimpleWithLabel(r,t)},showSimpleWithLabelDetail:function(e,n,r){var t=e||!1,o=n||"Loading...",i=r||"Please wait";return ProgressIndicator.showSimpleWithLabelDetail(t,o,i)},showDeterminate:function(e,n){var r=e||!1,t=n||5e4;return ProgressIndicator.showDeterminate(r,t)},showDeterminateWithLabel:function(e,n,r){var t=e||!1,o=n||5e4,i=r||"Loading...";return ProgressIndicator.showDeterminateWithLabel(t,o,i)},showAnnular:function(e,n){var r=e||!1,t=n||5e4;return ProgressIndicator.showAnnular(r,t)},showAnnularWithLabel:function(e,n,r){var t=e||!1,o=n||5e4,i=r||"Loading...";return ProgressIndicator.showAnnularWithLabel(t,o,i)},showBar:function(e,n){var r=e||!1,t=n||5e4;return ProgressIndicator.showBar(r,t)},showBarWithLabel:function(e,n,r){var t=e||!1,o=n||5e4,i=r||"Loading...";return ProgressIndicator.showBarWithLabel(t,o,i)},showSuccess:function(e,n){var r=e||!1,t=n||"Success";return ProgressIndicator.showSuccess(r,t)},showText:function(e,n,r){var t=e||!1,o=n||"Warning",i=r||"center";return ProgressIndicator.showText(t,o,i)},hide:function(){return ProgressIndicator.hide()}}}]),angular.module("ngCordova.plugins.push",[]).factory("$cordovaPush",["$q","$window","$rootScope",function(e,n,r){return{onNotification:function(e){r.$apply(function(){r.$broadcast("pushNotificationReceived",e)})},register:function(r){var t=e.defer();return void 0!==r&&void 0===r.ecb&&(r.ecb="angular.element(document.querySelector('[ng-app]')).injector().get('$cordovaPush').onNotification"),n.plugins.pushNotification.register(function(e){t.resolve(e)},function(e){t.reject(e)},r),t.promise},unregister:function(r){var t=e.defer();return n.plugins.pushNotification.unregister(function(e){t.resolve(e)},function(e){t.reject(e)},r),t.promise},setBadgeNumber:function(r){var t=e.defer();return n.plugins.pushNotification.setApplicationIconBadgeNumber(function(e){t.resolve(e)},function(e){t.reject(e)},r),t.promise}}}]),angular.module("ngCordova.plugins.sms",[]).factory("$cordovaSms",["$q",function(e){return{send:function(n,r,t){var o=e.defer();return sms.send(n,r,t,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}}}]),angular.module("ngCordova.plugins.socialSharing",[]).factory("$cordovaSocialSharing",["$q","$window",function(e,n){return{share:function(r,t,o,i){var a=e.defer();return n.plugins.socialsharing.share(r,t,o,i,function(){a.resolve(!0)},function(){a.reject(!1)}),a.promise},shareViaTwitter:function(r,t,o){var i=e.defer();return n.plugins.socialsharing.shareViaTwitter(r,t,o,function(){i.resolve(!0)},function(){i.reject(!1)}),i.promise},shareViaWhatsApp:function(r,t,o){var i=e.defer();return n.plugins.socialsharing.shareViaWhatsApp(r,t,o,function(){i.resolve(!0)},function(){i.reject(!1)}),i.promise},shareViaFacebook:function(r,t,o){var i=e.defer();return n.plugins.socialsharing.shareViaFacebook(r,t,o,function(){i.resolve(!0)},function(){i.reject(!1)}),i.promise},shareViaSMS:function(r,t){var o=e.defer();return n.plugins.socialsharing.shareViaSMS(r,t,function(){o.resolve(!0)},function(){o.reject(!1)}),o.promise},shareViaEmail:function(r,t,o,i,a,c){var u=e.defer();return n.plugins.socialsharing.shareViaEmail(r,t,o,i,a,c,function(){u.resolve(!0)},function(){u.reject(!1)}),u.promise},canShareViaEmail:function(){var r=e.defer();return n.plugins.socialsharing.canShareViaEmail(function(){r.resolve(!0)},function(){r.reject(!1)}),r.promise},canShareVia:function(r,t,o,i,a){var c=e.defer();return n.plugins.socialsharing.canShareVia(r,t,o,i,a,function(e){c.resolve(e)},function(e){c.reject(e)}),c.promise},shareVia:function(r,t,o,i,a){var c=e.defer();return n.plugins.socialsharing.shareVia(r,t,o,i,a,function(){c.resolve(!0)},function(){c.reject(!1)}),c.promise}}}]),angular.module("ngCordova.plugins.spinnerDialog",[]).factory("$cordovaSpinnerDialog",["$window",function(e){return{show:function(n,r,t){return t=t||!1,e.plugins.spinnerDialog.show(n,r,t)},hide:function(){return e.plugins.spinnerDialog.hide()}}}]),angular.module("ngCordova.plugins.splashscreen",[]).factory("$cordovaSplashscreen",[function(){return{hide:function(){return navigator.splashscreen.hide()},show:function(){return navigator.splashscreen.show()}}}]),angular.module("ngCordova.plugins.sqlite",[]).factory("$cordovaSQLite",["$q","$window",function(e,n){return{openDB:function(e,r){return"undefined"==typeof r&&(r=0),n.sqlitePlugin.openDatabase({name:e,bgType:r})},execute:function(n,r,t){var o=e.defer();return n.transaction(function(e){e.executeSql(r,t,function(e,n){o.resolve(n)},function(e,n){o.reject(n)})}),o.promise},insertCollection:function(n,r,t){var o=e.defer(),i=t.slice(0);return n.transaction(function(e){!function n(){var t=i.splice(0,1)[0];try{e.executeSql(r,t,function(e,r){0===i.length?o.resolve(r):n()},function(e,n){o.reject(n)})}catch(a){o.reject(a)}}()}),o.promise},nestedExecute:function(n,r,t,o,i){var a=e.defer();return n.transaction(function(e){e.executeSql(r,o,function(e,n){a.resolve(n),e.executeSql(t,i,function(e,n){a.resolve(n)
})})},function(e,n){a.reject(n)}),a.promise},deleteDB:function(r){var t=e.defer();return n.sqlitePlugin.deleteDatabase(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.statusbar",[]).factory("$cordovaStatusbar",[function(){return{overlaysWebView:function(e){return StatusBar.overlaysWebView(!!e)},style:function(e){switch(e){case 0:return StatusBar.styleDefault();case 1:return StatusBar.styleLightContent();case 2:return StatusBar.styleBlackTranslucent();case 3:return StatusBar.styleBlackOpaque();default:return StatusBar.styleDefault()}},styleColor:function(e){return StatusBar.backgroundColorByName(e)},styleHex:function(e){return StatusBar.backgroundColorByHexString(e)},hide:function(){return StatusBar.hide()},show:function(){return StatusBar.show()},isVisible:function(){return StatusBar.isVisible()}}}]),angular.module("ngCordova.plugins.toast",[]).factory("$cordovaToast",["$q","$window",function(e,n){return{showShortTop:function(r){var t=e.defer();return n.plugins.toast.showShortTop(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},showShortCenter:function(r){var t=e.defer();return n.plugins.toast.showShortCenter(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},showShortBottom:function(r){var t=e.defer();return n.plugins.toast.showShortBottom(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},showLongTop:function(r){var t=e.defer();return n.plugins.toast.showLongTop(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},showLongCenter:function(r){var t=e.defer();return n.plugins.toast.showLongCenter(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},showLongBottom:function(r){var t=e.defer();return n.plugins.toast.showLongBottom(r,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},show:function(r,t,o){var i=e.defer();return n.plugins.toast.show(r,t,o,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.touchid",[]).factory("$cordovaTouchID",["$q",function(e){return{checkSupport:function(){var n=e.defer();return window.cordova?touchid.checkSupport(function(e){n.resolve(e)},function(e){n.reject(e)}):n.reject("Not supported without cordova.js"),n.promise},authenticate:function(n){var r=e.defer();return window.cordova?touchid.authenticate(function(e){r.resolve(e)},function(e){r.reject(e)},n):r.reject("Not supported without cordova.js"),r.promise}}}]),angular.module("ngCordova.plugins.vibration",[]).factory("$cordovaVibration",[function(){return{vibrate:function(e){return navigator.notification.vibrate(e)},vibrateWithPattern:function(e,n){return navigator.notification.vibrateWithPattern(e,n)},cancelVibration:function(){return navigator.notification.cancelVibration()}}}]),angular.module("ngCordova.plugins.videoCapturePlus",[]).provider("$cordovaVideoCapturePlus",[function(){var e={};this.setLimit=function(n){e.limit=n},this.setMaxDuration=function(n){e.duration=n},this.setHighQuality=function(n){e.highquality=n},this.useFrontCamera=function(n){e.frontcamera=n},this.setPortraitOverlay=function(n){e.portraitOverlay=n},this.setLandscapeOverlay=function(n){e.landscapeOverlay=n},this.setOverlayText=function(n){e.overlayText=n},this.$get=["$q","$window",function(n,r){return{captureVideo:function(t){var o=n.defer();return r.plugins.videocaptureplus?(r.plugins.videocaptureplus.captureVideo(o.resolve,o.reject,angular.extend({},e,t)),o.promise):(o.resolve(null),o.promise)}}}]}]),angular.module("ngCordova.plugins.zip",[]).factory("$cordovaZip",["$q","$window",function(e,n){return{unzip:function(r,t){var o=e.defer();return n.zip.unzip(r,t,function(e){0===e?o.resolve():o.reject()},function(e){o.notify(e)}),o.promise}}}])}();
; browserify_shim__define__module__export__(typeof ngCordova != "undefined" ? ngCordova : window.ngCordova);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js"}],"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\classList.js":[function(require,module,exports){

/*
 * classList.js: Cross-browser full element.classList implementation.
 * 2011-06-15
 *
 * By Eli Grey, http://eligrey.com
 * Public Domain.
 * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.
 */

/*global self, document, DOMException */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/

if (typeof document !== "undefined" && !("classList" in document.createElement("a"))) {

(function (view) {

"use strict";

var
      classListProp = "classList"
    , protoProp = "prototype"
    , elemCtrProto = (view.HTMLElement || view.Element)[protoProp]
    , objCtr = Object
    , strTrim = String[protoProp].trim || function () {
        return this.replace(/^\s+|\s+$/g, "");
    }
    , arrIndexOf = Array[protoProp].indexOf || function (item) {
        var
              i = 0
            , len = this.length
        ;
        for (; i < len; i++) {
            if (i in this && this[i] === item) {
                return i;
            }
        }
        return -1;
    }
    // Vendors: please allow content code to instantiate DOMExceptions
    , DOMEx = function (type, message) {
        this.name = type;
        this.code = DOMException[type];
        this.message = message;
    }
    , checkTokenAndGetIndex = function (classList, token) {
        if (token === "") {
            throw new DOMEx(
                  "SYNTAX_ERR"
                , "An invalid or illegal string was specified"
            );
        }
        if (/\s/.test(token)) {
            throw new DOMEx(
                  "INVALID_CHARACTER_ERR"
                , "String contains an invalid character"
            );
        }
        return arrIndexOf.call(classList, token);
    }
    , ClassList = function (elem) {
        var
              trimmedClasses = strTrim.call(elem.className)
            , classes = trimmedClasses ? trimmedClasses.split(/\s+/) : []
            , i = 0
            , len = classes.length
        ;
        for (; i < len; i++) {
            this.push(classes[i]);
        }
        this._updateClassName = function () {
            elem.className = this.toString();
        };
    }
    , classListProto = ClassList[protoProp] = []
    , classListGetter = function () {
        return new ClassList(this);
    }
;
// Most DOMException implementations don't allow calling DOMException's toString()
// on non-DOMExceptions. Error's toString() is sufficient here.
DOMEx[protoProp] = Error[protoProp];
classListProto.item = function (i) {
    return this[i] || null;
};
classListProto.contains = function (token) {
    token += "";
    return checkTokenAndGetIndex(this, token) !== -1;
};
classListProto.add = function (token) {
    token += "";
    if (checkTokenAndGetIndex(this, token) === -1) {
        this.push(token);
        this._updateClassName();
    }
};
classListProto.remove = function (token) {
    token += "";
    var index = checkTokenAndGetIndex(this, token);
    if (index !== -1) {
        this.splice(index, 1);
        this._updateClassName();
    }
};
classListProto.toggle = function (token) {
    token += "";
    if (checkTokenAndGetIndex(this, token) === -1) {
        this.add(token);
    } else {
        this.remove(token);
    }
};
classListProto.toString = function () {
    return this.join(" ");
};

if (objCtr.defineProperty) {
    var classListPropDesc = {
          get: classListGetter
        , enumerable: true
        , configurable: true
    };
    try {
        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);
    } catch (ex) { // IE 8 doesn't support enumerable:true
        if (ex.number === -0x7FF5EC54) {
            classListPropDesc.enumerable = false;
            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);
        }
    }
} else if (objCtr[protoProp].__defineGetter__) {
    elemCtrProto.__defineGetter__(classListProp, classListGetter);
}

}(self));

}

},{}],"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\functionPrototypeBind.js":[function(require,module,exports){
if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {
        if (typeof this !== "function") {
            // closest thing possible to the ECMAScript 5 internal IsCallable function
            throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
        }

        var aArgs = Array.prototype.slice.call(arguments, 1),
        fToBind = this,
        fNOP = function () {},
        fBound = function () {
            return fToBind.apply(this instanceof fNOP && oThis
                ? this
                : oThis,
                aArgs.concat(Array.prototype.slice.call(arguments)));
        };

        fNOP.prototype = this.prototype;
        fBound.prototype = new fNOP();

        return fBound;
    };
}

},{}],"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\index.js":[function(require,module,exports){
require('./classList.js');
require('./functionPrototypeBind.js');
require('./requestAnimationFrame.js');
},{"./classList.js":"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\classList.js","./functionPrototypeBind.js":"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\functionPrototypeBind.js","./requestAnimationFrame.js":"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\requestAnimationFrame.js"}],"D:\\famous-calendar\\famous-calendar\\node_modules\\famous-polyfills\\requestAnimationFrame.js":[function(require,module,exports){
// adds requestAnimationFrame functionality
// Source: http://strd6.com/2011/05/better-window-requestanimationframe-shim/

window.requestAnimationFrame || (window.requestAnimationFrame =
  window.webkitRequestAnimationFrame ||
  window.mozRequestAnimationFrame    ||
  window.oRequestAnimationFrame      ||
  window.msRequestAnimationFrame     ||
  function(callback, element) {
    return window.setTimeout(function() {
      callback(+new Date());
  }, 1000 / 60);
});

},{}],"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\controllers\\hello.js":[function(require,module,exports){
'use strict';
var controllername = 'hello';

module.exports = function(app) {
    /*jshint validthis: true */

    var deps = [];

    function controller() {
        var vm = this;
        vm.message = 'Hello World';
        var activate = function() {

        };
        activate();
    }

    controller.$inject = deps;
    app.controller(app.name + '.' + controllername, controller);
};
},{}],"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\controllers\\index.js":[function(require,module,exports){
'use strict';

module.exports = function(app) {
    // inject:start
    require('./hello')(app);
    // inject:end
};
},{"./hello":"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\controllers\\hello.js"}],"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\index.js":[function(require,module,exports){
'use strict';
require('angular-ui-router');

require('famous-angular');
require('ngCordova');

var modulename = 'common';

module.exports = function(namespace) {

    var fullname = namespace + '.' + modulename;

    var angular = require('angular');
    var app = angular.module(fullname, ['ui.router', 'famous.angular', 'ngCordova']);
    // inject:folders start
    require('./controllers')(app);

    // inject:folders end

    app.config(['$stateProvider', '$urlRouterProvider',
        function($stateProvider, $urlRouterProvider) {
            $urlRouterProvider.otherwise('/');
            $stateProvider.state('home', {
                url: '/',
                template: require('./views/home.html')
            });
        }
    ]);

    return app;
};
},{"./controllers":"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\controllers\\index.js","./views/home.html":"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\views\\home.html","angular":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular\\angular.min.js","angular-ui-router":"D:\\famous-calendar\\famous-calendar\\bower_components\\angular-ui-router\\release\\angular-ui-router.min.js","famous-angular":"D:\\famous-calendar\\famous-calendar\\bower_components\\famous-angular\\dist\\famous-angular.min.js","ngCordova":"D:\\famous-calendar\\famous-calendar\\bower_components\\ngCordova\\dist\\ng-cordova.min.js"}],"D:\\famous-calendar\\famous-calendar\\www\\scripts\\common\\views\\home.html":[function(require,module,exports){
module.exports = '<div>Home</div>';
},{}]},{},["./www/scripts/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxicm93c2VyLXBhY2tcXF9wcmVsdWRlLmpzIiwid3d3XFxzY3JpcHRzXFxtYWluLmpzIiwiYm93ZXJfY29tcG9uZW50c1xcYW5ndWxhci1hbmltYXRlXFxhbmd1bGFyLWFuaW1hdGUubWluLmpzIiwiYm93ZXJfY29tcG9uZW50c1xcYW5ndWxhci1zYW5pdGl6ZVxcYW5ndWxhci1zYW5pdGl6ZS5taW4uanMiLCJib3dlcl9jb21wb25lbnRzXFxhbmd1bGFyLXVpLXJvdXRlclxccmVsZWFzZVxcYW5ndWxhci11aS1yb3V0ZXIubWluLmpzIiwiYm93ZXJfY29tcG9uZW50c1xcYW5ndWxhclxcYW5ndWxhci5taW4uanMiLCJib3dlcl9jb21wb25lbnRzXFxmYW1vdXMtYW5ndWxhclxcZGlzdFxcZmFtb3VzLWFuZ3VsYXIubWluLmpzIiwiYm93ZXJfY29tcG9uZW50c1xcZmFtb3VzXFxkaXN0XFxmYW1vdXMtZ2xvYmFsLm1pbi5qcyIsImJvd2VyX2NvbXBvbmVudHNcXG5nQ29yZG92YVxcZGlzdFxcbmctY29yZG92YS5taW4uanMiLCJub2RlX21vZHVsZXNcXGZhbW91cy1wb2x5ZmlsbHNcXGNsYXNzTGlzdC5qcyIsIm5vZGVfbW9kdWxlc1xcZmFtb3VzLXBvbHlmaWxsc1xcZnVuY3Rpb25Qcm90b3R5cGVCaW5kLmpzIiwibm9kZV9tb2R1bGVzXFxmYW1vdXMtcG9seWZpbGxzXFxpbmRleC5qcyIsIm5vZGVfbW9kdWxlc1xcZmFtb3VzLXBvbHlmaWxsc1xccmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwid3d3XFxzY3JpcHRzXFxjb21tb25cXGNvbnRyb2xsZXJzXFxoZWxsby5qcyIsInd3d1xcc2NyaXB0c1xcY29tbW9uXFxjb250cm9sbGVyc1xcaW5kZXguanMiLCJ3d3dcXHNjcmlwdHNcXGNvbW1vblxcaW5kZXguanMiLCJ3d3dcXHNjcmlwdHNcXGNvbW1vblxcdmlld3NcXGhvbWUuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbmFtZXNwYWNlID0gJ21haW4nO1xuXG52YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKG5hbWVzcGFjZSwgW1xuICAgIC8vIGluamVjdDptb2R1bGVzIHN0YXJ0XG4gICAgcmVxdWlyZSgnLi9jb21tb24nKShuYW1lc3BhY2UpLm5hbWVcbiAgICAvLyBpbmplY3Q6bW9kdWxlcyBlbmRcbl0pO1xuXG52YXIgcnVuRGVwcyA9IFtdO1xudmFyIHJ1biA9IGZ1bmN0aW9uKCkge1xufTtcblxucnVuLiRpbmplY3QgPSBydW5EZXBzO1xuYXBwLnJ1bihydW4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDsiLCIvKlxuIEFuZ3VsYXJKUyB2MS4zLjZcbiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuIExpY2Vuc2U6IE1JVFxuKi9cbihmdW5jdGlvbihOLGYsVyl7J3VzZSBzdHJpY3QnO2YubW9kdWxlKFwibmdBbmltYXRlXCIsW1wibmdcIl0pLmRpcmVjdGl2ZShcIm5nQW5pbWF0ZUNoaWxkcmVuXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oWCxDLGcpe2c9Zy5uZ0FuaW1hdGVDaGlsZHJlbjtmLmlzU3RyaW5nKGcpJiYwPT09Zy5sZW5ndGg/Qy5kYXRhKFwiJCRuZ0FuaW1hdGVDaGlsZHJlblwiLCEwKTpYLiR3YXRjaChnLGZ1bmN0aW9uKGYpe0MuZGF0YShcIiQkbmdBbmltYXRlQ2hpbGRyZW5cIiwhIWYpfSl9fSkuZmFjdG9yeShcIiQkYW5pbWF0ZVJlZmxvd1wiLFtcIiQkckFGXCIsXCIkZG9jdW1lbnRcIixmdW5jdGlvbihmLEMpe3JldHVybiBmdW5jdGlvbihnKXtyZXR1cm4gZihmdW5jdGlvbigpe2coKX0pfX1dKS5jb25maWcoW1wiJHByb3ZpZGVcIixcIiRhbmltYXRlUHJvdmlkZXJcIixmdW5jdGlvbihYLEMpe2Z1bmN0aW9uIGcoZil7Zm9yKHZhciBuPTA7bjxmLmxlbmd0aDtuKyspe3ZhciBnPWZbbl07aWYoMT09Zy5ub2RlVHlwZSlyZXR1cm4gZ319XG5mdW5jdGlvbiBiYShmLG4pe3JldHVybiBnKGYpPT1nKG4pfXZhciB0PWYubm9vcCxuPWYuZm9yRWFjaCxkYT1DLiQkc2VsZWN0b3JzLGFhPWYuaXNBcnJheSxlYT1mLmlzU3RyaW5nLGdhPWYuaXNPYmplY3Qscj17cnVubmluZzohMH0sdTtYLmRlY29yYXRvcihcIiRhbmltYXRlXCIsW1wiJGRlbGVnYXRlXCIsXCIkJHFcIixcIiRpbmplY3RvclwiLFwiJHNuaWZmZXJcIixcIiRyb290RWxlbWVudFwiLFwiJCRhc3luY0NhbGxiYWNrXCIsXCIkcm9vdFNjb3BlXCIsXCIkZG9jdW1lbnRcIixcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiQkanFMaXRlXCIsZnVuY3Rpb24oTyxOLE0sWSx5LEgsUCxXLFosUSl7ZnVuY3Rpb24gUihhLGMpe3ZhciBiPWEuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIil8fHt9O2MmJihiLnJ1bm5pbmc9ITAsYi5zdHJ1Y3R1cmFsPSEwLGEuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIixiKSk7cmV0dXJuIGIuZGlzYWJsZWR8fGIucnVubmluZyYmYi5zdHJ1Y3R1cmFsfWZ1bmN0aW9uIEQoYSl7dmFyIGMsYj1OLmRlZmVyKCk7XG5iLnByb21pc2UuJCRjYW5jZWxGbj1mdW5jdGlvbigpe2MmJmMoKX07UC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtjPWEoZnVuY3Rpb24oKXtiLnJlc29sdmUoKX0pfSk7cmV0dXJuIGIucHJvbWlzZX1mdW5jdGlvbiBJKGEpe2lmKGdhKGEpKXJldHVybiBhLnRlbXBDbGFzc2VzJiZlYShhLnRlbXBDbGFzc2VzKSYmKGEudGVtcENsYXNzZXM9YS50ZW1wQ2xhc3Nlcy5zcGxpdCgvXFxzKy8pKSxhfWZ1bmN0aW9uIFMoYSxjLGIpe2I9Ynx8e307dmFyIGQ9e307bihiLGZ1bmN0aW9uKGUsYSl7bihhLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtkW2FdPWV9KX0pO3ZhciBoPU9iamVjdC5jcmVhdGUobnVsbCk7bigoYS5hdHRyKFwiY2xhc3NcIil8fFwiXCIpLnNwbGl0KC9cXHMrLyksZnVuY3Rpb24oZSl7aFtlXT0hMH0pO3ZhciBmPVtdLGw9W107bihjJiZjLmNsYXNzZXN8fFtdLGZ1bmN0aW9uKGUsYSl7dmFyIGI9aFthXSxjPWRbYV18fHt9OyExPT09ZT8oYnx8XCJhZGRDbGFzc1wiPT1jLmV2ZW50KSYmXG5sLnB1c2goYSk6ITA9PT1lJiYoYiYmXCJyZW1vdmVDbGFzc1wiIT1jLmV2ZW50fHxmLnB1c2goYSkpfSk7cmV0dXJuIDA8Zi5sZW5ndGgrbC5sZW5ndGgmJltmLmpvaW4oXCIgXCIpLGwuam9pbihcIiBcIildfWZ1bmN0aW9uIFQoYSl7aWYoYSl7dmFyIGM9W10sYj17fTthPWEuc3Vic3RyKDEpLnNwbGl0KFwiLlwiKTsoWS50cmFuc2l0aW9uc3x8WS5hbmltYXRpb25zKSYmYy5wdXNoKE0uZ2V0KGRhW1wiXCJdKSk7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBmPWFbZF0saz1kYVtmXTtrJiYhYltmXSYmKGMucHVzaChNLmdldChrKSksYltmXT0hMCl9cmV0dXJuIGN9fWZ1bmN0aW9uIFUoYSxjLGIsZCl7ZnVuY3Rpb24gaChlLGEpe3ZhciBiPWVbYV0sYz1lW1wiYmVmb3JlXCIrYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKV07aWYoYnx8YylyZXR1cm5cImxlYXZlXCI9PWEmJihjPWIsYj1udWxsKSx1LnB1c2goe2V2ZW50OmEsZm46Yn0pLEoucHVzaCh7ZXZlbnQ6YSxmbjpjfSksXG4hMH1mdW5jdGlvbiBrKGMsbCx3KXt2YXIgRT1bXTtuKGMsZnVuY3Rpb24oYSl7YS5mbiYmRS5wdXNoKGEpfSk7dmFyIG09MDtuKEUsZnVuY3Rpb24oYyxmKXt2YXIgcD1mdW5jdGlvbigpe2E6e2lmKGwpeyhsW2ZdfHx0KSgpO2lmKCsrbTxFLmxlbmd0aClicmVhayBhO2w9bnVsbH13KCl9fTtzd2l0Y2goYy5ldmVudCl7Y2FzZSBcInNldENsYXNzXCI6bC5wdXNoKGMuZm4oYSxlLEEscCxkKSk7YnJlYWs7Y2FzZSBcImFuaW1hdGVcIjpsLnB1c2goYy5mbihhLGIsZC5mcm9tLGQudG8scCkpO2JyZWFrO2Nhc2UgXCJhZGRDbGFzc1wiOmwucHVzaChjLmZuKGEsZXx8YixwLGQpKTticmVhaztjYXNlIFwicmVtb3ZlQ2xhc3NcIjpsLnB1c2goYy5mbihhLEF8fGIscCxkKSk7YnJlYWs7ZGVmYXVsdDpsLnB1c2goYy5mbihhLHAsZCkpfX0pO2wmJjA9PT1sLmxlbmd0aCYmdygpfXZhciBsPWFbMF07aWYobCl7ZCYmKGQudG89ZC50b3x8e30sZC5mcm9tPWQuZnJvbXx8e30pO3ZhciBlLEE7YWEoYikmJihlPVxuYlswXSxBPWJbMV0sZT9BP2I9ZStcIiBcIitBOihiPWUsYz1cImFkZENsYXNzXCIpOihiPUEsYz1cInJlbW92ZUNsYXNzXCIpKTt2YXIgdz1cInNldENsYXNzXCI9PWMsRT13fHxcImFkZENsYXNzXCI9PWN8fFwicmVtb3ZlQ2xhc3NcIj09Y3x8XCJhbmltYXRlXCI9PWMscD1hLmF0dHIoXCJjbGFzc1wiKStcIiBcIitiO2lmKHgocCkpe3ZhciBjYT10LG09W10sSj1bXSxnPXQscz1bXSx1PVtdLHA9KFwiIFwiK3ApLnJlcGxhY2UoL1xccysvZyxcIi5cIik7bihUKHApLGZ1bmN0aW9uKGEpeyFoKGEsYykmJncmJihoKGEsXCJhZGRDbGFzc1wiKSxoKGEsXCJyZW1vdmVDbGFzc1wiKSl9KTtyZXR1cm57bm9kZTpsLGV2ZW50OmMsY2xhc3NOYW1lOmIsaXNDbGFzc0Jhc2VkOkUsaXNTZXRDbGFzc09wZXJhdGlvbjp3LGFwcGx5U3R5bGVzOmZ1bmN0aW9uKCl7ZCYmYS5jc3MoZi5leHRlbmQoZC5mcm9tfHx7fSxkLnRvfHx7fSkpfSxiZWZvcmU6ZnVuY3Rpb24oYSl7Y2E9YTtrKEosbSxmdW5jdGlvbigpe2NhPXQ7YSgpfSl9LGFmdGVyOmZ1bmN0aW9uKGEpe2c9XG5hO2sodSxzLGZ1bmN0aW9uKCl7Zz10O2EoKX0pfSxjYW5jZWw6ZnVuY3Rpb24oKXttJiYobihtLGZ1bmN0aW9uKGEpeyhhfHx0KSghMCl9KSxjYSghMCkpO3MmJihuKHMsZnVuY3Rpb24oYSl7KGF8fHQpKCEwKX0pLGcoITApKX19fX19ZnVuY3Rpb24gRyhhLGMsYixkLGgsayxsLGUpe2Z1bmN0aW9uIEEoZSl7dmFyIGw9XCIkYW5pbWF0ZTpcIitlO0omJkpbbF0mJjA8SltsXS5sZW5ndGgmJkgoZnVuY3Rpb24oKXtiLnRyaWdnZXJIYW5kbGVyKGwse2V2ZW50OmEsY2xhc3NOYW1lOmN9KX0pfWZ1bmN0aW9uIHcoKXtBKFwiYmVmb3JlXCIpfWZ1bmN0aW9uIEUoKXtBKFwiYWZ0ZXJcIil9ZnVuY3Rpb24gcCgpe3AuaGFzQmVlblJ1bnx8KHAuaGFzQmVlblJ1bj0hMCxrKCkpfWZ1bmN0aW9uIGcoKXtpZighZy5oYXNCZWVuUnVuKXttJiZtLmFwcGx5U3R5bGVzKCk7Zy5oYXNCZWVuUnVuPSEwO2wmJmwudGVtcENsYXNzZXMmJm4obC50ZW1wQ2xhc3NlcyxmdW5jdGlvbihhKXt1LnJlbW92ZUNsYXNzKGIsXG5hKX0pO3ZhciB3PWIuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIik7dyYmKG0mJm0uaXNDbGFzc0Jhc2VkP0IoYixjKTooSChmdW5jdGlvbigpe3ZhciBlPWIuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIil8fHt9O2ZhPT1lLmluZGV4JiZCKGIsYyxhKX0pLGIuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIix3KSkpO0EoXCJjbG9zZVwiKTtlKCl9fXZhciBtPVUoYixhLGMsbCk7aWYoIW0pcmV0dXJuIHAoKSx3KCksRSgpLGcoKSx0O2E9bS5ldmVudDtjPW0uY2xhc3NOYW1lO3ZhciBKPWYuZWxlbWVudC5fZGF0YShtLm5vZGUpLEo9SiYmSi5ldmVudHM7ZHx8KGQ9aD9oLnBhcmVudCgpOmIucGFyZW50KCkpO2lmKHooYixkKSlyZXR1cm4gcCgpLHcoKSxFKCksZygpLHQ7ZD1iLmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIpfHx7fTt2YXIgTD1kLmFjdGl2ZXx8e30scz1kLnRvdGFsQWN0aXZlfHwwLHE9ZC5sYXN0O2g9ITE7aWYoMDxzKXtzPVtdO2lmKG0uaXNDbGFzc0Jhc2VkKVwic2V0Q2xhc3NcIj09cS5ldmVudD9cbihzLnB1c2gocSksQihiLGMpKTpMW2NdJiYodj1MW2NdLHYuZXZlbnQ9PWE/aD0hMDoocy5wdXNoKHYpLEIoYixjKSkpO2Vsc2UgaWYoXCJsZWF2ZVwiPT1hJiZMW1wibmctbGVhdmVcIl0paD0hMDtlbHNle2Zvcih2YXIgdiBpbiBMKXMucHVzaChMW3ZdKTtkPXt9O0IoYiwhMCl9MDxzLmxlbmd0aCYmbihzLGZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9KX0hbS5pc0NsYXNzQmFzZWR8fG0uaXNTZXRDbGFzc09wZXJhdGlvbnx8XCJhbmltYXRlXCI9PWF8fGh8fChoPVwiYWRkQ2xhc3NcIj09YT09Yi5oYXNDbGFzcyhjKSk7aWYoaClyZXR1cm4gcCgpLHcoKSxFKCksQShcImNsb3NlXCIpLGUoKSx0O0w9ZC5hY3RpdmV8fHt9O3M9ZC50b3RhbEFjdGl2ZXx8MDtpZihcImxlYXZlXCI9PWEpYi5vbmUoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKGEpe2E9Zi5lbGVtZW50KHRoaXMpO3ZhciBlPWEuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIik7ZSYmKGU9ZS5hY3RpdmVbXCJuZy1sZWF2ZVwiXSkmJihlLmNhbmNlbCgpLEIoYSxcIm5nLWxlYXZlXCIpKX0pO1xudS5hZGRDbGFzcyhiLFwibmctYW5pbWF0ZVwiKTtsJiZsLnRlbXBDbGFzc2VzJiZuKGwudGVtcENsYXNzZXMsZnVuY3Rpb24oYSl7dS5hZGRDbGFzcyhiLGEpfSk7dmFyIGZhPUsrKztzKys7TFtjXT1tO2IuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIix7bGFzdDptLGFjdGl2ZTpMLGluZGV4OmZhLHRvdGFsQWN0aXZlOnN9KTt3KCk7bS5iZWZvcmUoZnVuY3Rpb24oZSl7dmFyIGw9Yi5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKTtlPWV8fCFsfHwhbC5hY3RpdmVbY118fG0uaXNDbGFzc0Jhc2VkJiZsLmFjdGl2ZVtjXS5ldmVudCE9YTtwKCk7ITA9PT1lP2coKTooRSgpLG0uYWZ0ZXIoZykpfSk7cmV0dXJuIG0uY2FuY2VsfWZ1bmN0aW9uIHEoYSl7aWYoYT1nKGEpKWE9Zi5pc0Z1bmN0aW9uKGEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSk/YS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibmctYW5pbWF0ZVwiKTphLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmctYW5pbWF0ZVwiKSxuKGEsZnVuY3Rpb24oYSl7YT1cbmYuZWxlbWVudChhKTsoYT1hLmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIpKSYmYS5hY3RpdmUmJm4oYS5hY3RpdmUsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0pfSl9ZnVuY3Rpb24gQihhLGMpe2lmKGJhKGEseSkpci5kaXNhYmxlZHx8KHIucnVubmluZz0hMSxyLnN0cnVjdHVyYWw9ITEpO2Vsc2UgaWYoYyl7dmFyIGI9YS5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKXx8e30sZD0hMD09PWM7IWQmJmIuYWN0aXZlJiZiLmFjdGl2ZVtjXSYmKGIudG90YWxBY3RpdmUtLSxkZWxldGUgYi5hY3RpdmVbY10pO2lmKGR8fCFiLnRvdGFsQWN0aXZlKXUucmVtb3ZlQ2xhc3MoYSxcIm5nLWFuaW1hdGVcIiksYS5yZW1vdmVEYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKX19ZnVuY3Rpb24geihhLGMpe2lmKHIuZGlzYWJsZWQpcmV0dXJuITA7aWYoYmEoYSx5KSlyZXR1cm4gci5ydW5uaW5nO3ZhciBiLGQsZztkb3tpZigwPT09Yy5sZW5ndGgpYnJlYWs7dmFyIGs9YmEoYyx5KSxsPWs/cjpjLmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIpfHxcbnt9O2lmKGwuZGlzYWJsZWQpcmV0dXJuITA7ayYmKGc9ITApOyExIT09YiYmKGs9Yy5kYXRhKFwiJCRuZ0FuaW1hdGVDaGlsZHJlblwiKSxmLmlzRGVmaW5lZChrKSYmKGI9aykpO2Q9ZHx8bC5ydW5uaW5nfHxsLmxhc3QmJiFsLmxhc3QuaXNDbGFzc0Jhc2VkfXdoaWxlKGM9Yy5wYXJlbnQoKSk7cmV0dXJuIWd8fCFiJiZkfXU9UTt5LmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIscik7dmFyICQ9UC4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gWi50b3RhbFBlbmRpbmdSZXF1ZXN0c30sZnVuY3Rpb24oYSxjKXswPT09YSYmKCQoKSxQLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe1AuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7ci5ydW5uaW5nPSExfSl9KSl9KSxLPTAsVj1DLmNsYXNzTmFtZUZpbHRlcigpLHg9Vj9mdW5jdGlvbihhKXtyZXR1cm4gVi50ZXN0KGEpfTpmdW5jdGlvbigpe3JldHVybiEwfTtyZXR1cm57YW5pbWF0ZTpmdW5jdGlvbihhLGMsYixkLGgpe2Q9ZHx8XCJuZy1pbmxpbmUtYW5pbWF0ZVwiO1xuaD1JKGgpfHx7fTtoLmZyb209Yj9jOm51bGw7aC50bz1iP2I6YztyZXR1cm4gRChmdW5jdGlvbihiKXtyZXR1cm4gRyhcImFuaW1hdGVcIixkLGYuZWxlbWVudChnKGEpKSxudWxsLG51bGwsdCxoLGIpfSl9LGVudGVyOmZ1bmN0aW9uKGEsYyxiLGQpe2Q9SShkKTthPWYuZWxlbWVudChhKTtjPWMmJmYuZWxlbWVudChjKTtiPWImJmYuZWxlbWVudChiKTtSKGEsITApO08uZW50ZXIoYSxjLGIpO3JldHVybiBEKGZ1bmN0aW9uKGgpe3JldHVybiBHKFwiZW50ZXJcIixcIm5nLWVudGVyXCIsZi5lbGVtZW50KGcoYSkpLGMsYix0LGQsaCl9KX0sbGVhdmU6ZnVuY3Rpb24oYSxjKXtjPUkoYyk7YT1mLmVsZW1lbnQoYSk7cShhKTtSKGEsITApO3JldHVybiBEKGZ1bmN0aW9uKGIpe3JldHVybiBHKFwibGVhdmVcIixcIm5nLWxlYXZlXCIsZi5lbGVtZW50KGcoYSkpLG51bGwsbnVsbCxmdW5jdGlvbigpe08ubGVhdmUoYSl9LGMsYil9KX0sbW92ZTpmdW5jdGlvbihhLGMsYixkKXtkPUkoZCk7YT1mLmVsZW1lbnQoYSk7XG5jPWMmJmYuZWxlbWVudChjKTtiPWImJmYuZWxlbWVudChiKTtxKGEpO1IoYSwhMCk7Ty5tb3ZlKGEsYyxiKTtyZXR1cm4gRChmdW5jdGlvbihoKXtyZXR1cm4gRyhcIm1vdmVcIixcIm5nLW1vdmVcIixmLmVsZW1lbnQoZyhhKSksYyxiLHQsZCxoKX0pfSxhZGRDbGFzczpmdW5jdGlvbihhLGMsYil7cmV0dXJuIHRoaXMuc2V0Q2xhc3MoYSxjLFtdLGIpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhLGMsYil7cmV0dXJuIHRoaXMuc2V0Q2xhc3MoYSxbXSxjLGIpfSxzZXRDbGFzczpmdW5jdGlvbihhLGMsYixkKXtkPUkoZCk7YT1mLmVsZW1lbnQoYSk7YT1mLmVsZW1lbnQoZyhhKSk7aWYoUihhKSlyZXR1cm4gTy4kJHNldENsYXNzSW1tZWRpYXRlbHkoYSxjLGIsZCk7dmFyIGgsaz1hLmRhdGEoXCIkJGFuaW1hdGVDbGFzc2VzXCIpLGw9ISFrO2t8fChrPXtjbGFzc2VzOnt9fSk7aD1rLmNsYXNzZXM7Yz1hYShjKT9jOmMuc3BsaXQoXCIgXCIpO24oYyxmdW5jdGlvbihhKXthJiZhLmxlbmd0aCYmKGhbYV09XG4hMCl9KTtiPWFhKGIpP2I6Yi5zcGxpdChcIiBcIik7bihiLGZ1bmN0aW9uKGEpe2EmJmEubGVuZ3RoJiYoaFthXT0hMSl9KTtpZihsKXJldHVybiBkJiZrLm9wdGlvbnMmJihrLm9wdGlvbnM9Zi5leHRlbmQoay5vcHRpb25zfHx7fSxkKSksay5wcm9taXNlO2EuZGF0YShcIiQkYW5pbWF0ZUNsYXNzZXNcIixrPXtjbGFzc2VzOmgsb3B0aW9uczpkfSk7cmV0dXJuIGsucHJvbWlzZT1EKGZ1bmN0aW9uKGUpe3ZhciBsPWEucGFyZW50KCksYj1nKGEpLGM9Yi5wYXJlbnROb2RlO2lmKCFjfHxjLiQkTkdfUkVNT1ZFRHx8Yi4kJE5HX1JFTU9WRUQpZSgpO2Vsc2V7Yj1hLmRhdGEoXCIkJGFuaW1hdGVDbGFzc2VzXCIpO2EucmVtb3ZlRGF0YShcIiQkYW5pbWF0ZUNsYXNzZXNcIik7dmFyIGM9YS5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKXx8e30sZD1TKGEsYixjLmFjdGl2ZSk7cmV0dXJuIGQ/RyhcInNldENsYXNzXCIsZCxhLGwsbnVsbCxmdW5jdGlvbigpe2RbMF0mJk8uJCRhZGRDbGFzc0ltbWVkaWF0ZWx5KGEsXG5kWzBdKTtkWzFdJiZPLiQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseShhLGRbMV0pfSxiLm9wdGlvbnMsZSk6ZSgpfX0pfSxjYW5jZWw6ZnVuY3Rpb24oYSl7YS4kJGNhbmNlbEZuKCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSxjKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAyOmlmKGEpQihjKTtlbHNle3ZhciBiPWMuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIil8fHt9O2IuZGlzYWJsZWQ9ITA7Yy5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiLGIpfWJyZWFrO2Nhc2UgMTpyLmRpc2FibGVkPSFhO2JyZWFrO2RlZmF1bHQ6YT0hci5kaXNhYmxlZH1yZXR1cm4hIWF9fX1dKTtDLnJlZ2lzdGVyKFwiXCIsW1wiJHdpbmRvd1wiLFwiJHNuaWZmZXJcIixcIiR0aW1lb3V0XCIsXCIkJGFuaW1hdGVSZWZsb3dcIixmdW5jdGlvbihyLEMsTSxZKXtmdW5jdGlvbiB5KCl7Ynx8KGI9WShmdW5jdGlvbigpe2M9W107Yj1udWxsO3g9e319KSl9ZnVuY3Rpb24gSChhLGUpe2ImJmIoKTtjLnB1c2goZSk7Yj1ZKGZ1bmN0aW9uKCl7bihjLFxuZnVuY3Rpb24oYSl7YSgpfSk7Yz1bXTtiPW51bGw7eD17fX0pfWZ1bmN0aW9uIFAoYSxlKXt2YXIgYj1nKGEpO2E9Zi5lbGVtZW50KGIpO2sucHVzaChhKTtiPURhdGUubm93KCkrZTtiPD1ofHwoTS5jYW5jZWwoZCksaD1iLGQ9TShmdW5jdGlvbigpe1goayk7az1bXX0sZSwhMSkpfWZ1bmN0aW9uIFgoYSl7bihhLGZ1bmN0aW9uKGEpeyhhPWEuZGF0YShcIiQkbmdBbmltYXRlQ1NTM0RhdGFcIikpJiZuKGEuY2xvc2VBbmltYXRpb25GbnMsZnVuY3Rpb24oYSl7YSgpfSl9KX1mdW5jdGlvbiBaKGEsZSl7dmFyIGI9ZT94W2VdOm51bGw7aWYoIWIpe3ZhciBjPTAsZD0wLGY9MCxnPTA7bihhLGZ1bmN0aW9uKGEpe2lmKDE9PWEubm9kZVR5cGUpe2E9ci5nZXRDb21wdXRlZFN0eWxlKGEpfHx7fTtjPU1hdGgubWF4KFEoYVt6K1wiRHVyYXRpb25cIl0pLGMpO2Q9TWF0aC5tYXgoUShhW3orXCJEZWxheVwiXSksZCk7Zz1NYXRoLm1heChRKGFbSytcIkRlbGF5XCJdKSxnKTt2YXIgZT1RKGFbSytcIkR1cmF0aW9uXCJdKTtcbjA8ZSYmKGUqPXBhcnNlSW50KGFbSytcIkl0ZXJhdGlvbkNvdW50XCJdLDEwKXx8MSk7Zj1NYXRoLm1heChlLGYpfX0pO2I9e3RvdGFsOjAsdHJhbnNpdGlvbkRlbGF5OmQsdHJhbnNpdGlvbkR1cmF0aW9uOmMsYW5pbWF0aW9uRGVsYXk6ZyxhbmltYXRpb25EdXJhdGlvbjpmfTtlJiYoeFtlXT1iKX1yZXR1cm4gYn1mdW5jdGlvbiBRKGEpe3ZhciBlPTA7YT1lYShhKT9hLnNwbGl0KC9cXHMqLFxccyovKTpbXTtuKGEsZnVuY3Rpb24oYSl7ZT1NYXRoLm1heChwYXJzZUZsb2F0KGEpfHwwLGUpfSk7cmV0dXJuIGV9ZnVuY3Rpb24gUihiLGUsYyxkKXtiPTA8PVtcIm5nLWVudGVyXCIsXCJuZy1sZWF2ZVwiLFwibmctbW92ZVwiXS5pbmRleE9mKGMpO3ZhciBmLHA9ZS5wYXJlbnQoKSxoPXAuZGF0YShcIiQkbmdBbmltYXRlS2V5XCIpO2h8fChwLmRhdGEoXCIkJG5nQW5pbWF0ZUtleVwiLCsrYSksaD1hKTtmPWgrXCItXCIrZyhlKS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTt2YXIgcD1mK1wiIFwiK2MsaD14W3BdPysreFtwXS50b3RhbDpcbjAsbT17fTtpZigwPGgpe3ZhciBuPWMrXCItc3RhZ2dlclwiLG09ZitcIiBcIituOyhmPSF4W21dKSYmdS5hZGRDbGFzcyhlLG4pO209WihlLG0pO2YmJnUucmVtb3ZlQ2xhc3MoZSxuKX11LmFkZENsYXNzKGUsYyk7dmFyIG49ZS5kYXRhKFwiJCRuZ0FuaW1hdGVDU1MzRGF0YVwiKXx8e30saz1aKGUscCk7Zj1rLnRyYW5zaXRpb25EdXJhdGlvbjtrPWsuYW5pbWF0aW9uRHVyYXRpb247aWYoYiYmMD09PWYmJjA9PT1rKXJldHVybiB1LnJlbW92ZUNsYXNzKGUsYyksITE7Yz1kfHxiJiYwPGY7Yj0wPGsmJjA8bS5hbmltYXRpb25EZWxheSYmMD09PW0uYW5pbWF0aW9uRHVyYXRpb247ZS5kYXRhKFwiJCRuZ0FuaW1hdGVDU1MzRGF0YVwiLHtzdGFnZ2VyOm0sY2FjaGVLZXk6cCxydW5uaW5nOm4ucnVubmluZ3x8MCxpdGVtSW5kZXg6aCxibG9ja1RyYW5zaXRpb246YyxjbG9zZUFuaW1hdGlvbkZuczpuLmNsb3NlQW5pbWF0aW9uRm5zfHxbXX0pO3A9ZyhlKTtjJiYoSShwLCEwKSxkJiZlLmNzcyhkKSk7XG5iJiYocC5zdHlsZVtLK1wiUGxheVN0YXRlXCJdPVwicGF1c2VkXCIpO3JldHVybiEwfWZ1bmN0aW9uIEQoYSxlLGIsYyxkKXtmdW5jdGlvbiBmKCl7ZS5vZmYoRCxoKTt1LnJlbW92ZUNsYXNzKGUsayk7dS5yZW1vdmVDbGFzcyhlLHQpO3omJk0uY2FuY2VsKHopO0coZSxiKTt2YXIgYT1nKGUpLGM7Zm9yKGMgaW4gcylhLnN0eWxlLnJlbW92ZVByb3BlcnR5KHNbY10pfWZ1bmN0aW9uIGgoYSl7YS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgYj1hLm9yaWdpbmFsRXZlbnR8fGE7YT1iLiRtYW51YWxUaW1lU3RhbXB8fGIudGltZVN0YW1wfHxEYXRlLm5vdygpO2I9cGFyc2VGbG9hdChiLmVsYXBzZWRUaW1lLnRvRml4ZWQoMykpO01hdGgubWF4KGEtSCwwKT49QyYmYj49eCYmYygpfXZhciBtPWcoZSk7YT1lLmRhdGEoXCIkJG5nQW5pbWF0ZUNTUzNEYXRhXCIpO2lmKC0xIT1tLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLmluZGV4T2YoYikmJmEpe3ZhciBrPVwiXCIsdD1cIlwiO24oYi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxcbmIpe3ZhciBlPSgwPGI/XCIgXCI6XCJcIikrYTtrKz1lK1wiLWFjdGl2ZVwiO3QrPWUrXCItcGVuZGluZ1wifSk7dmFyIHM9W10scT1hLml0ZW1JbmRleCx2PWEuc3RhZ2dlcixyPTA7aWYoMDxxKXtyPTA7MDx2LnRyYW5zaXRpb25EZWxheSYmMD09PXYudHJhbnNpdGlvbkR1cmF0aW9uJiYocj12LnRyYW5zaXRpb25EZWxheSpxKTt2YXIgeT0wOzA8di5hbmltYXRpb25EZWxheSYmMD09PXYuYW5pbWF0aW9uRHVyYXRpb24mJih5PXYuYW5pbWF0aW9uRGVsYXkqcSxzLnB1c2goQitcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIpKTtyPU1hdGgucm91bmQoMTAwKk1hdGgubWF4KHIseSkpLzEwMH1yfHwodS5hZGRDbGFzcyhlLGspLGEuYmxvY2tUcmFuc2l0aW9uJiZJKG0sITEpKTt2YXIgRj1aKGUsYS5jYWNoZUtleStcIiBcIitrKSx4PU1hdGgubWF4KEYudHJhbnNpdGlvbkR1cmF0aW9uLEYuYW5pbWF0aW9uRHVyYXRpb24pO2lmKDA9PT14KXUucmVtb3ZlQ2xhc3MoZSxrKSxHKGUsYiksYygpO2Vsc2V7IXImJlxuZCYmKEYudHJhbnNpdGlvbkR1cmF0aW9ufHwoZS5jc3MoXCJ0cmFuc2l0aW9uXCIsRi5hbmltYXRpb25EdXJhdGlvbitcInMgbGluZWFyIGFsbFwiKSxzLnB1c2goXCJ0cmFuc2l0aW9uXCIpKSxlLmNzcyhkKSk7dmFyIHE9TWF0aC5tYXgoRi50cmFuc2l0aW9uRGVsYXksRi5hbmltYXRpb25EZWxheSksQz0xRTMqcTswPHMubGVuZ3RoJiYodj1tLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiLFwiO1wiIT09di5jaGFyQXQodi5sZW5ndGgtMSkmJih2Kz1cIjtcIiksbS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLHYrXCIgXCIpKTt2YXIgSD1EYXRlLm5vdygpLEQ9VitcIiBcIiskLHE9MUUzKihyKzEuNSoocSt4KSksejswPHImJih1LmFkZENsYXNzKGUsdCksej1NKGZ1bmN0aW9uKCl7ej1udWxsOzA8Ri50cmFuc2l0aW9uRHVyYXRpb24mJkkobSwhMSk7MDxGLmFuaW1hdGlvbkR1cmF0aW9uJiYobS5zdHlsZVtLK1wiUGxheVN0YXRlXCJdPVwiXCIpO3UuYWRkQ2xhc3MoZSxrKTt1LnJlbW92ZUNsYXNzKGUsdCk7ZCYmKDA9PT1cbkYudHJhbnNpdGlvbkR1cmF0aW9uJiZlLmNzcyhcInRyYW5zaXRpb25cIixGLmFuaW1hdGlvbkR1cmF0aW9uK1wicyBsaW5lYXIgYWxsXCIpLGUuY3NzKGQpLHMucHVzaChcInRyYW5zaXRpb25cIikpfSwxRTMqciwhMSkpO2Uub24oRCxoKTthLmNsb3NlQW5pbWF0aW9uRm5zLnB1c2goZnVuY3Rpb24oKXtmKCk7YygpfSk7YS5ydW5uaW5nKys7UChlLHEpO3JldHVybiBmfX1lbHNlIGMoKX1mdW5jdGlvbiBJKGEsYil7YS5zdHlsZVt6K1wiUHJvcGVydHlcIl09Yj9cIm5vbmVcIjpcIlwifWZ1bmN0aW9uIFMoYSxiLGMsZCl7aWYoUihhLGIsYyxkKSlyZXR1cm4gZnVuY3Rpb24oYSl7YSYmRyhiLGMpfX1mdW5jdGlvbiBUKGEsYixjLGQsZil7aWYoYi5kYXRhKFwiJCRuZ0FuaW1hdGVDU1MzRGF0YVwiKSlyZXR1cm4gRChhLGIsYyxkLGYpO0coYixjKTtkKCl9ZnVuY3Rpb24gVShhLGIsYyxkLGYpe3ZhciBnPVMoYSxiLGMsZi5mcm9tKTtpZihnKXt2YXIgaD1nO0goYixmdW5jdGlvbigpe2g9VChhLGIsYyxkLGYudG8pfSk7XG5yZXR1cm4gZnVuY3Rpb24oYSl7KGh8fHQpKGEpfX15KCk7ZCgpfWZ1bmN0aW9uIEcoYSxiKXt1LnJlbW92ZUNsYXNzKGEsYik7dmFyIGM9YS5kYXRhKFwiJCRuZ0FuaW1hdGVDU1MzRGF0YVwiKTtjJiYoYy5ydW5uaW5nJiZjLnJ1bm5pbmctLSxjLnJ1bm5pbmcmJjAhPT1jLnJ1bm5pbmd8fGEucmVtb3ZlRGF0YShcIiQkbmdBbmltYXRlQ1NTM0RhdGFcIikpfWZ1bmN0aW9uIHEoYSxiKXt2YXIgYz1cIlwiO2E9YWEoYSk/YTphLnNwbGl0KC9cXHMrLyk7bihhLGZ1bmN0aW9uKGEsZCl7YSYmMDxhLmxlbmd0aCYmKGMrPSgwPGQ/XCIgXCI6XCJcIikrYStiKX0pO3JldHVybiBjfXZhciBCPVwiXCIseiwkLEssVjtOLm9udHJhbnNpdGlvbmVuZD09PVcmJk4ub253ZWJraXR0cmFuc2l0aW9uZW5kIT09Vz8oQj1cIi13ZWJraXQtXCIsej1cIldlYmtpdFRyYW5zaXRpb25cIiwkPVwid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kXCIpOih6PVwidHJhbnNpdGlvblwiLCQ9XCJ0cmFuc2l0aW9uZW5kXCIpO04ub25hbmltYXRpb25lbmQ9PT1cblcmJk4ub253ZWJraXRhbmltYXRpb25lbmQhPT1XPyhCPVwiLXdlYmtpdC1cIixLPVwiV2Via2l0QW5pbWF0aW9uXCIsVj1cIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmRcIik6KEs9XCJhbmltYXRpb25cIixWPVwiYW5pbWF0aW9uZW5kXCIpO3ZhciB4PXt9LGE9MCxjPVtdLGIsZD1udWxsLGg9MCxrPVtdO3JldHVybnthbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQsZixnKXtnPWd8fHt9O2cuZnJvbT1jO2cudG89ZDtyZXR1cm4gVShcImFuaW1hdGVcIixhLGIsZixnKX0sZW50ZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8e307cmV0dXJuIFUoXCJlbnRlclwiLGEsXCJuZy1lbnRlclwiLGIsYyl9LGxlYXZlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9O3JldHVybiBVKFwibGVhdmVcIixhLFwibmctbGVhdmVcIixiLGMpfSxtb3ZlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9O3JldHVybiBVKFwibW92ZVwiLGEsXCJuZy1tb3ZlXCIsYixjKX0sYmVmb3JlU2V0Q2xhc3M6ZnVuY3Rpb24oYSxiLGMsZCxmKXtmPWZ8fHt9O2I9cShjLFxuXCItcmVtb3ZlXCIpK1wiIFwiK3EoYixcIi1hZGRcIik7aWYoZj1TKFwic2V0Q2xhc3NcIixhLGIsZi5mcm9tKSlyZXR1cm4gSChhLGQpLGY7eSgpO2QoKX0sYmVmb3JlQWRkQ2xhc3M6ZnVuY3Rpb24oYSxiLGMsZCl7ZD1kfHx7fTtpZihiPVMoXCJhZGRDbGFzc1wiLGEscShiLFwiLWFkZFwiKSxkLmZyb20pKXJldHVybiBIKGEsYyksYjt5KCk7YygpfSxiZWZvcmVSZW1vdmVDbGFzczpmdW5jdGlvbihhLGIsYyxkKXtkPWR8fHt9O2lmKGI9UyhcInJlbW92ZUNsYXNzXCIsYSxxKGIsXCItcmVtb3ZlXCIpLGQuZnJvbSkpcmV0dXJuIEgoYSxjKSxiO3koKTtjKCl9LHNldENsYXNzOmZ1bmN0aW9uKGEsYixjLGQsZil7Zj1mfHx7fTtjPXEoYyxcIi1yZW1vdmVcIik7Yj1xKGIsXCItYWRkXCIpO3JldHVybiBUKFwic2V0Q2xhc3NcIixhLGMrXCIgXCIrYixkLGYudG8pfSxhZGRDbGFzczpmdW5jdGlvbihhLGIsYyxkKXtkPWR8fHt9O3JldHVybiBUKFwiYWRkQ2xhc3NcIixhLHEoYixcIi1hZGRcIiksYyxkLnRvKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSxcbmIsYyxkKXtkPWR8fHt9O3JldHVybiBUKFwicmVtb3ZlQ2xhc3NcIixhLHEoYixcIi1yZW1vdmVcIiksYyxkLnRvKX19fV0pfV0pfSkod2luZG93LHdpbmRvdy5hbmd1bGFyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItYW5pbWF0ZS5taW4uanMubWFwXG4iLCIvKlxuIEFuZ3VsYXJKUyB2MS4zLjZcbiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuIExpY2Vuc2U6IE1JVFxuKi9cbihmdW5jdGlvbihuLGgscCl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIEUoYSl7dmFyIGQ9W107cyhkLGgubm9vcCkuY2hhcnMoYSk7cmV0dXJuIGQuam9pbihcIlwiKX1mdW5jdGlvbiBnKGEpe3ZhciBkPXt9O2E9YS5zcGxpdChcIixcIik7dmFyIGM7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKylkW2FbY11dPSEwO3JldHVybiBkfWZ1bmN0aW9uIEYoYSxkKXtmdW5jdGlvbiBjKGEsYixjLGwpe2I9aC5sb3dlcmNhc2UoYik7aWYodFtiXSlmb3IoO2YubGFzdCgpJiZ1W2YubGFzdCgpXTspZShcIlwiLGYubGFzdCgpKTt2W2JdJiZmLmxhc3QoKT09YiYmZShcIlwiLGIpOyhsPXdbYl18fCEhbCl8fGYucHVzaChiKTt2YXIgbT17fTtjLnJlcGxhY2UoRyxmdW5jdGlvbihhLGIsZCxjLGUpe21bYl09cihkfHxjfHxlfHxcIlwiKX0pO2Quc3RhcnQmJmQuc3RhcnQoYixtLGwpfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz0wLGU7aWYoYj1oLmxvd2VyY2FzZShiKSlmb3IoYz1mLmxlbmd0aC0xOzA8PWMmJmZbY10hPWI7Yy0tKTtcbmlmKDA8PWMpe2ZvcihlPWYubGVuZ3RoLTE7ZT49YztlLS0pZC5lbmQmJmQuZW5kKGZbZV0pO2YubGVuZ3RoPWN9fVwic3RyaW5nXCIhPT10eXBlb2YgYSYmKGE9bnVsbD09PWF8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYT9cIlwiOlwiXCIrYSk7dmFyIGIsayxmPVtdLG09YSxsO2ZvcihmLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZltmLmxlbmd0aC0xXX07YTspe2w9XCJcIjtrPSEwO2lmKGYubGFzdCgpJiZ4W2YubGFzdCgpXSlhPWEucmVwbGFjZShuZXcgUmVnRXhwKFwiKC4qKTxcXFxccypcXFxcL1xcXFxzKlwiK2YubGFzdCgpK1wiW14+XSo+XCIsXCJpXCIpLGZ1bmN0aW9uKGEsYil7Yj1iLnJlcGxhY2UoSCxcIiQxXCIpLnJlcGxhY2UoSSxcIiQxXCIpO2QuY2hhcnMmJmQuY2hhcnMocihiKSk7cmV0dXJuXCJcIn0pLGUoXCJcIixmLmxhc3QoKSk7ZWxzZXtpZigwPT09YS5pbmRleE9mKFwiXFx4M2MhLS1cIikpYj1hLmluZGV4T2YoXCItLVwiLDQpLDA8PWImJmEubGFzdEluZGV4T2YoXCItLVxceDNlXCIsYik9PT1iJiYoZC5jb21tZW50JiZkLmNvbW1lbnQoYS5zdWJzdHJpbmcoNCxcbmIpKSxhPWEuc3Vic3RyaW5nKGIrMyksaz0hMSk7ZWxzZSBpZih5LnRlc3QoYSkpe2lmKGI9YS5tYXRjaCh5KSlhPWEucmVwbGFjZShiWzBdLFwiXCIpLGs9ITF9ZWxzZSBpZihKLnRlc3QoYSkpe2lmKGI9YS5tYXRjaCh6KSlhPWEuc3Vic3RyaW5nKGJbMF0ubGVuZ3RoKSxiWzBdLnJlcGxhY2UoeixlKSxrPSExfWVsc2UgSy50ZXN0KGEpJiYoKGI9YS5tYXRjaChBKSk/KGJbNF0mJihhPWEuc3Vic3RyaW5nKGJbMF0ubGVuZ3RoKSxiWzBdLnJlcGxhY2UoQSxjKSksaz0hMSk6KGwrPVwiPFwiLGE9YS5zdWJzdHJpbmcoMSkpKTtrJiYoYj1hLmluZGV4T2YoXCI8XCIpLGwrPTA+Yj9hOmEuc3Vic3RyaW5nKDAsYiksYT0wPmI/XCJcIjphLnN1YnN0cmluZyhiKSxkLmNoYXJzJiZkLmNoYXJzKHIobCkpKX1pZihhPT1tKXRocm93IEwoXCJiYWRwYXJzZVwiLGEpO209YX1lKCl9ZnVuY3Rpb24gcihhKXtpZighYSlyZXR1cm5cIlwiO3ZhciBkPU0uZXhlYyhhKTthPWRbMV07dmFyIGM9ZFszXTtpZihkPWRbMl0pcS5pbm5lckhUTUw9XG5kLnJlcGxhY2UoLzwvZyxcIiZsdDtcIiksZD1cInRleHRDb250ZW50XCJpbiBxP3EudGV4dENvbnRlbnQ6cS5pbm5lclRleHQ7cmV0dXJuIGErZCtjfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGEucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZShOLGZ1bmN0aW9uKGEpe3ZhciBjPWEuY2hhckNvZGVBdCgwKTthPWEuY2hhckNvZGVBdCgxKTtyZXR1cm5cIiYjXCIrKDEwMjQqKGMtNTUyOTYpKyhhLTU2MzIwKSs2NTUzNikrXCI7XCJ9KS5yZXBsYWNlKE8sZnVuY3Rpb24oYSl7cmV0dXJuXCImI1wiK2EuY2hhckNvZGVBdCgwKStcIjtcIn0pLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKX1mdW5jdGlvbiBzKGEsZCl7dmFyIGM9ITEsZT1oLmJpbmQoYSxhLnB1c2gpO3JldHVybntzdGFydDpmdW5jdGlvbihhLGssZil7YT1oLmxvd2VyY2FzZShhKTshYyYmeFthXSYmKGM9YSk7Y3x8ITAhPT1DW2FdfHwoZShcIjxcIiksZShhKSxoLmZvckVhY2goayxmdW5jdGlvbihjLGYpe3ZhciBrPVxuaC5sb3dlcmNhc2UoZiksZz1cImltZ1wiPT09YSYmXCJzcmNcIj09PWt8fFwiYmFja2dyb3VuZFwiPT09azshMCE9PVBba118fCEwPT09RFtrXSYmIWQoYyxnKXx8KGUoXCIgXCIpLGUoZiksZSgnPVwiJyksZShCKGMpKSxlKCdcIicpKX0pLGUoZj9cIi8+XCI6XCI+XCIpKX0sZW5kOmZ1bmN0aW9uKGEpe2E9aC5sb3dlcmNhc2UoYSk7Y3x8ITAhPT1DW2FdfHwoZShcIjwvXCIpLGUoYSksZShcIj5cIikpO2E9PWMmJihjPSExKX0sY2hhcnM6ZnVuY3Rpb24oYSl7Y3x8ZShCKGEpKX19fXZhciBMPWguJCRtaW5FcnIoXCIkc2FuaXRpemVcIiksQT0vXjwoKD86W2EtekEtWl0pW1xcdzotXSopKCg/OlxccytbXFx3Oi1dKyg/Olxccyo9XFxzKig/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFtePlxcc10rKSk/KSopXFxzKihcXC8/KVxccyooPj8pLyx6PS9ePFxcL1xccyooW1xcdzotXSspW14+XSo+LyxHPS8oW1xcdzotXSspKD86XFxzKj1cXHMqKD86KD86XCIoKD86W15cIl0pKilcIil8KD86JygoPzpbXiddKSopJyl8KFtePlxcc10rKSkpPy9nLEs9L148Lyxcbko9L148XFwvLyxIPS9cXHgzYyEtLSguKj8pLS1cXHgzZS9nLHk9LzwhRE9DVFlQRShbXj5dKj8pPi9pLEk9LzwhXFxbQ0RBVEFcXFsoLio/KV1dXFx4M2UvZyxOPS9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2csTz0vKFteXFwjLX58IHwhXSkvZyx3PWcoXCJhcmVhLGJyLGNvbCxocixpbWcsd2JyXCIpO249ZyhcImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHJcIik7cD1nKFwicnAscnRcIik7dmFyIHY9aC5leHRlbmQoe30scCxuKSx0PWguZXh0ZW5kKHt9LG4sZyhcImFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSxoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYXAsbWVudSxuYXYsb2wscHJlLHNjcmlwdCxzZWN0aW9uLHRhYmxlLHVsXCIpKSx1PWguZXh0ZW5kKHt9LHAsZyhcImEsYWJicixhY3JvbnltLGIsYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHEscnVieSxycCxydCxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0dCx1LHZhclwiKSk7XG5uPWcoXCJhbmltYXRlLGFuaW1hdGVDb2xvcixhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGRlZnMsZGVzYyxlbGxpcHNlLGZvbnQtZmFjZSxmb250LWZhY2UtbmFtZSxmb250LWZhY2Utc3JjLGcsZ2x5cGgsaGtlcm4saW1hZ2UsbGluZWFyR3JhZGllbnQsbGluZSxtYXJrZXIsbWV0YWRhdGEsbWlzc2luZy1nbHlwaCxtcGF0aCxwYXRoLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc3RvcCxzdmcsc3dpdGNoLHRleHQsdGl0bGUsdHNwYW4sdXNlXCIpO3ZhciB4PWcoXCJzY3JpcHQsc3R5bGVcIiksQz1oLmV4dGVuZCh7fSx3LHQsdSx2LG4pLEQ9ZyhcImJhY2tncm91bmQsY2l0ZSxocmVmLGxvbmdkZXNjLHNyYyx1c2VtYXAseGxpbms6aHJlZlwiKTtuPWcoXCJhYmJyLGFsaWduLGFsdCxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLGNvbG9yLGNvbHMsY29sc3Bhbixjb21wYWN0LGNvb3JkcyxkaXIsZmFjZSxoZWFkZXJzLGhlaWdodCxocmVmbGFuZyxoc3BhY2UsaXNtYXAsbGFuZyxsYW5ndWFnZSxub2hyZWYsbm93cmFwLHJlbCxyZXYscm93cyxyb3dzcGFuLHJ1bGVzLHNjb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNwYW4sc3RhcnQsc3VtbWFyeSx0YXJnZXQsdGl0bGUsdHlwZSx2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoXCIpO1xucD1nKFwiYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFscGhhYmV0aWMsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlkscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLHN0ZW12LHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbix2aWV3Qm94LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLHpvb21BbmRQYW5cIik7XG52YXIgUD1oLmV4dGVuZCh7fSxELHAsbikscT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpLE09L14oXFxzKikoW1xcc1xcU10qPykoXFxzKikkLztoLm1vZHVsZShcIm5nU2FuaXRpemVcIixbXSkucHJvdmlkZXIoXCIkc2FuaXRpemVcIixmdW5jdGlvbigpe3RoaXMuJGdldD1bXCIkJHNhbml0aXplVXJpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBjPVtdO0YoZCxzKGMsZnVuY3Rpb24oYyxiKXtyZXR1cm4hL151bnNhZmUvLnRlc3QoYShjLGIpKX0pKTtyZXR1cm4gYy5qb2luKFwiXCIpfX1dfSk7aC5tb2R1bGUoXCJuZ1Nhbml0aXplXCIpLmZpbHRlcihcImxpbmt5XCIsW1wiJHNhbml0aXplXCIsZnVuY3Rpb24oYSl7dmFyIGQ9LygoZnRwfGh0dHBzPyk6XFwvXFwvfCh3d3dcXC4pfChtYWlsdG86KT9bQS1aYS16MC05Ll8lKy1dK0ApXFxTKlteXFxzLjssKCl7fTw+XCJcXHUyMDFkXFx1MjAxOV0vLGM9L15tYWlsdG86LztyZXR1cm4gZnVuY3Rpb24oZSxiKXtmdW5jdGlvbiBrKGEpe2EmJmcucHVzaChFKGEpKX1cbmZ1bmN0aW9uIGYoYSxjKXtnLnB1c2goXCI8YSBcIik7aC5pc0RlZmluZWQoYikmJmcucHVzaCgndGFyZ2V0PVwiJyxiLCdcIiAnKTtnLnB1c2goJ2hyZWY9XCInLGEucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKSwnXCI+Jyk7ayhjKTtnLnB1c2goXCI8L2E+XCIpfWlmKCFlKXJldHVybiBlO2Zvcih2YXIgbSxsPWUsZz1bXSxuLHA7bT1sLm1hdGNoKGQpOyluPW1bMF0sbVsyXXx8bVs0XXx8KG49KG1bM10/XCJodHRwOi8vXCI6XCJtYWlsdG86XCIpK24pLHA9bS5pbmRleCxrKGwuc3Vic3RyKDAscCkpLGYobixtWzBdLnJlcGxhY2UoYyxcIlwiKSksbD1sLnN1YnN0cmluZyhwK21bMF0ubGVuZ3RoKTtrKGwpO3JldHVybiBhKGcuam9pbihcIlwiKSl9fV0pfSkod2luZG93LHdpbmRvdy5hbmd1bGFyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItc2FuaXRpemUubWluLmpzLm1hcFxuIiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuXG47IHJlcXVpcmUoXCJEOlxcXFxmYW1vdXMtY2FsZW5kYXJcXFxcZmFtb3VzLWNhbGVuZGFyXFxcXGJvd2VyX2NvbXBvbmVudHNcXFxcYW5ndWxhclxcXFxhbmd1bGFyLm1pbi5qc1wiKTtcbjtfX2Jyb3dzZXJpZnlfc2hpbV9yZXF1aXJlX189cmVxdWlyZTsoZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUsIHJlcXVpcmUpIHtcbi8qKlxuICogU3RhdGUtYmFzZWQgcm91dGluZyBmb3IgQW5ndWxhckpTXG4gKiBAdmVyc2lvbiB2MC4yLjEzXG4gKiBAbGluayBodHRwOi8vYW5ndWxhci11aS5naXRodWIuY29tL1xuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cblwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiZtb2R1bGUuZXhwb3J0cz09PWV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1cInVpLnJvdXRlclwiKSxmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBNKG5ldyhNKGZ1bmN0aW9uKCl7fSx7cHJvdG90eXBlOmF9KSksYil9ZnVuY3Rpb24gZShhKXtyZXR1cm4gTChhcmd1bWVudHMsZnVuY3Rpb24oYil7YiE9PWEmJkwoYixmdW5jdGlvbihiLGMpe2EuaGFzT3duUHJvcGVydHkoYyl8fChhW2NdPWIpfSl9KSxhfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYS5wYXRoKXtpZihhLnBhdGhbZF0hPT1iLnBhdGhbZF0pYnJlYWs7Yy5wdXNoKGEucGF0aFtkXSl9cmV0dXJuIGN9ZnVuY3Rpb24gZyhhKXtpZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXMoYSk7dmFyIGM9W107cmV0dXJuIGIuZm9yRWFjaChhLGZ1bmN0aW9uKGEsYil7Yy5wdXNoKGIpfSksY31mdW5jdGlvbiBoKGEsYil7aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpcmV0dXJuIGEuaW5kZXhPZihiLE51bWJlcihhcmd1bWVudHNbMl0pfHwwKTt2YXIgYz1hLmxlbmd0aD4+PjAsZD1OdW1iZXIoYXJndW1lbnRzWzJdKXx8MDtmb3IoZD0wPmQ/TWF0aC5jZWlsKGQpOk1hdGguZmxvb3IoZCksMD5kJiYoZCs9Yyk7Yz5kO2QrKylpZihkIGluIGEmJmFbZF09PT1iKXJldHVybiBkO3JldHVybi0xfWZ1bmN0aW9uIGkoYSxiLGMsZCl7dmFyIGUsaT1mKGMsZCksaj17fSxrPVtdO2Zvcih2YXIgbCBpbiBpKWlmKGlbbF0ucGFyYW1zJiYoZT1nKGlbbF0ucGFyYW1zKSxlLmxlbmd0aCkpZm9yKHZhciBtIGluIGUpaChrLGVbbV0pPj0wfHwoay5wdXNoKGVbbV0pLGpbZVttXV09YVtlW21dXSk7cmV0dXJuIE0oe30saixiKX1mdW5jdGlvbiBqKGEsYixjKXtpZighYyl7Yz1bXTtmb3IodmFyIGQgaW4gYSljLnB1c2goZCl9Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07aWYoYVtmXSE9YltmXSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBrKGEsYil7dmFyIGM9e307cmV0dXJuIEwoYSxmdW5jdGlvbihhKXtjW2FdPWJbYV19KSxjfWZ1bmN0aW9uIGwoYSl7dmFyIGI9e30sYz1BcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KEFycmF5LnByb3RvdHlwZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO2Zvcih2YXIgZCBpbiBhKS0xPT1oKGMsZCkmJihiW2RdPWFbZF0pO3JldHVybiBifWZ1bmN0aW9uIG0oYSxiKXt2YXIgYz1LKGEpLGQ9Yz9bXTp7fTtyZXR1cm4gTChhLGZ1bmN0aW9uKGEsZSl7YihhLGUpJiYoZFtjP2QubGVuZ3RoOmVdPWEpfSksZH1mdW5jdGlvbiBuKGEsYil7dmFyIGM9SyhhKT9bXTp7fTtyZXR1cm4gTChhLGZ1bmN0aW9uKGEsZCl7Y1tkXT1iKGEsZCl9KSxjfWZ1bmN0aW9uIG8oYSxiKXt2YXIgZD0xLGY9MixpPXt9LGo9W10saz1pLG09TShhLndoZW4oaSkseyQkcHJvbWlzZXM6aSwkJHZhbHVlczppfSk7dGhpcy5zdHVkeT1mdW5jdGlvbihpKXtmdW5jdGlvbiBuKGEsYyl7aWYoc1tjXSE9PWYpe2lmKHIucHVzaChjKSxzW2NdPT09ZCl0aHJvdyByLnNwbGljZSgwLGgocixjKSksbmV3IEVycm9yKFwiQ3ljbGljIGRlcGVuZGVuY3k6IFwiK3Iuam9pbihcIiAtPiBcIikpO2lmKHNbY109ZCxJKGEpKXEucHVzaChjLFtmdW5jdGlvbigpe3JldHVybiBiLmdldChhKX1dLGopO2Vsc2V7dmFyIGU9Yi5hbm5vdGF0ZShhKTtMKGUsZnVuY3Rpb24oYSl7YSE9PWMmJmkuaGFzT3duUHJvcGVydHkoYSkmJm4oaVthXSxhKX0pLHEucHVzaChjLGEsZSl9ci5wb3AoKSxzW2NdPWZ9fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIEooYSkmJmEudGhlbiYmYS4kJHByb21pc2VzfWlmKCFKKGkpKXRocm93IG5ldyBFcnJvcihcIidpbnZvY2FibGVzJyBtdXN0IGJlIGFuIG9iamVjdFwiKTt2YXIgcD1nKGl8fHt9KSxxPVtdLHI9W10scz17fTtyZXR1cm4gTChpLG4pLGk9cj1zPW51bGwsZnVuY3Rpb24oZCxmLGcpe2Z1bmN0aW9uIGgoKXstLXV8fCh2fHxlKHQsZi4kJHZhbHVlcyksci4kJHZhbHVlcz10LHIuJCRwcm9taXNlcz1yLiQkcHJvbWlzZXN8fCEwLGRlbGV0ZSByLiQkaW5oZXJpdGVkVmFsdWVzLG4ucmVzb2x2ZSh0KSl9ZnVuY3Rpb24gaShhKXtyLiQkZmFpbHVyZT1hLG4ucmVqZWN0KGEpfWZ1bmN0aW9uIGooYyxlLGYpe2Z1bmN0aW9uIGooYSl7bC5yZWplY3QoYSksaShhKX1mdW5jdGlvbiBrKCl7aWYoIUcoci4kJGZhaWx1cmUpKXRyeXtsLnJlc29sdmUoYi5pbnZva2UoZSxnLHQpKSxsLnByb21pc2UudGhlbihmdW5jdGlvbihhKXt0W2NdPWEsaCgpfSxqKX1jYXRjaChhKXtqKGEpfX12YXIgbD1hLmRlZmVyKCksbT0wO0woZixmdW5jdGlvbihhKXtzLmhhc093blByb3BlcnR5KGEpJiYhZC5oYXNPd25Qcm9wZXJ0eShhKSYmKG0rKyxzW2FdLnRoZW4oZnVuY3Rpb24oYil7dFthXT1iLC0tbXx8aygpfSxqKSl9KSxtfHxrKCksc1tjXT1sLnByb21pc2V9aWYobyhkKSYmZz09PWMmJihnPWYsZj1kLGQ9bnVsbCksZCl7aWYoIUooZCkpdGhyb3cgbmV3IEVycm9yKFwiJ2xvY2FscycgbXVzdCBiZSBhbiBvYmplY3RcIil9ZWxzZSBkPWs7aWYoZil7aWYoIW8oZikpdGhyb3cgbmV3IEVycm9yKFwiJ3BhcmVudCcgbXVzdCBiZSBhIHByb21pc2UgcmV0dXJuZWQgYnkgJHJlc29sdmUucmVzb2x2ZSgpXCIpfWVsc2UgZj1tO3ZhciBuPWEuZGVmZXIoKSxyPW4ucHJvbWlzZSxzPXIuJCRwcm9taXNlcz17fSx0PU0oe30sZCksdT0xK3EubGVuZ3RoLzMsdj0hMTtpZihHKGYuJCRmYWlsdXJlKSlyZXR1cm4gaShmLiQkZmFpbHVyZSkscjtmLiQkaW5oZXJpdGVkVmFsdWVzJiZlKHQsbChmLiQkaW5oZXJpdGVkVmFsdWVzLHApKSxNKHMsZi4kJHByb21pc2VzKSxmLiQkdmFsdWVzPyh2PWUodCxsKGYuJCR2YWx1ZXMscCkpLHIuJCRpbmhlcml0ZWRWYWx1ZXM9bChmLiQkdmFsdWVzLHApLGgoKSk6KGYuJCRpbmhlcml0ZWRWYWx1ZXMmJihyLiQkaW5oZXJpdGVkVmFsdWVzPWwoZi4kJGluaGVyaXRlZFZhbHVlcyxwKSksZi50aGVuKGgsaSkpO2Zvcih2YXIgdz0wLHg9cS5sZW5ndGg7eD53O3crPTMpZC5oYXNPd25Qcm9wZXJ0eShxW3ddKT9oKCk6aihxW3ddLHFbdysxXSxxW3crMl0pO3JldHVybiByfX0sdGhpcy5yZXNvbHZlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLnN0dWR5KGEpKGIsYyxkKX19ZnVuY3Rpb24gcChhLGIsYyl7dGhpcy5mcm9tQ29uZmlnPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gRyhhLnRlbXBsYXRlKT90aGlzLmZyb21TdHJpbmcoYS50ZW1wbGF0ZSxiKTpHKGEudGVtcGxhdGVVcmwpP3RoaXMuZnJvbVVybChhLnRlbXBsYXRlVXJsLGIpOkcoYS50ZW1wbGF0ZVByb3ZpZGVyKT90aGlzLmZyb21Qcm92aWRlcihhLnRlbXBsYXRlUHJvdmlkZXIsYixjKTpudWxsfSx0aGlzLmZyb21TdHJpbmc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSChhKT9hKGIpOmF9LHRoaXMuZnJvbVVybD1mdW5jdGlvbihjLGQpe3JldHVybiBIKGMpJiYoYz1jKGQpKSxudWxsPT1jP251bGw6YS5nZXQoYyx7Y2FjaGU6YixoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIn19KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmRhdGF9KX0sdGhpcy5mcm9tUHJvdmlkZXI9ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLmludm9rZShhLG51bGwsZHx8e3BhcmFtczpifSl9fWZ1bmN0aW9uIHEoYSxiLGUpe2Z1bmN0aW9uIGYoYixjLGQsZSl7aWYocS5wdXNoKGIpLG9bYl0pcmV0dXJuIG9bYl07aWYoIS9eXFx3KygtK1xcdyspKig/OlxcW1xcXSk/JC8udGVzdChiKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICdcIitiK1wiJyBpbiBwYXR0ZXJuICdcIithK1wiJ1wiKTtpZihwW2JdKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBwYXJhbWV0ZXIgbmFtZSAnXCIrYitcIicgaW4gcGF0dGVybiAnXCIrYStcIidcIik7cmV0dXJuIHBbYl09bmV3IE8uUGFyYW0oYixjLGQsZSkscFtiXX1mdW5jdGlvbiBnKGEsYixjKXt2YXIgZD1bXCJcIixcIlwiXSxlPWEucmVwbGFjZSgvW1xcXFxcXFtcXF1cXF4kKis/LigpfHt9XS9nLFwiXFxcXCQmXCIpO2lmKCFiKXJldHVybiBlO3N3aXRjaChjKXtjYXNlITE6ZD1bXCIoXCIsXCIpXCJdO2JyZWFrO2Nhc2UhMDpkPVtcIj8oXCIsXCIpP1wiXTticmVhaztkZWZhdWx0OmQ9W1wiKFwiK2MrXCJ8XCIsXCIpP1wiXX1yZXR1cm4gZStkWzBdK2IrZFsxXX1mdW5jdGlvbiBoKGMsZSl7dmFyIGYsZyxoLGksajtyZXR1cm4gZj1jWzJdfHxjWzNdLGo9Yi5wYXJhbXNbZl0saD1hLnN1YnN0cmluZyhtLGMuaW5kZXgpLGc9ZT9jWzRdOmNbNF18fChcIipcIj09Y1sxXT9cIi4qXCI6bnVsbCksaT1PLnR5cGUoZ3x8XCJzdHJpbmdcIil8fGQoTy50eXBlKFwic3RyaW5nXCIpLHtwYXR0ZXJuOm5ldyBSZWdFeHAoZyl9KSx7aWQ6ZixyZWdleHA6ZyxzZWdtZW50OmgsdHlwZTppLGNmZzpqfX1iPU0oe3BhcmFtczp7fX0sSihiKT9iOnt9KTt2YXIgaSxqPS8oWzoqXSkoW1xcd1xcW1xcXV0rKXxcXHsoW1xcd1xcW1xcXV0rKSg/OlxcOigoPzpbXnt9XFxcXF0rfFxcXFwufFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSkrKSk/XFx9L2csaz0vKFs6XT8pKFtcXHdcXFtcXF0tXSspfFxceyhbXFx3XFxbXFxdLV0rKSg/OlxcOigoPzpbXnt9XFxcXF0rfFxcXFwufFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSkrKSk/XFx9L2csbD1cIl5cIixtPTAsbj10aGlzLnNlZ21lbnRzPVtdLG89ZT9lLnBhcmFtczp7fSxwPXRoaXMucGFyYW1zPWU/ZS5wYXJhbXMuJCRuZXcoKTpuZXcgTy5QYXJhbVNldCxxPVtdO3RoaXMuc291cmNlPWE7Zm9yKHZhciByLHMsdDsoaT1qLmV4ZWMoYSkpJiYocj1oKGksITEpLCEoci5zZWdtZW50LmluZGV4T2YoXCI/XCIpPj0wKSk7KXM9ZihyLmlkLHIudHlwZSxyLmNmZyxcInBhdGhcIiksbCs9ZyhyLnNlZ21lbnQscy50eXBlLnBhdHRlcm4uc291cmNlLHMuc3F1YXNoKSxuLnB1c2goci5zZWdtZW50KSxtPWoubGFzdEluZGV4O3Q9YS5zdWJzdHJpbmcobSk7dmFyIHU9dC5pbmRleE9mKFwiP1wiKTtpZih1Pj0wKXt2YXIgdj10aGlzLnNvdXJjZVNlYXJjaD10LnN1YnN0cmluZyh1KTtpZih0PXQuc3Vic3RyaW5nKDAsdSksdGhpcy5zb3VyY2VQYXRoPWEuc3Vic3RyaW5nKDAsbSt1KSx2Lmxlbmd0aD4wKWZvcihtPTA7aT1rLmV4ZWModik7KXI9aChpLCEwKSxzPWYoci5pZCxyLnR5cGUsci5jZmcsXCJzZWFyY2hcIiksbT1qLmxhc3RJbmRleH1lbHNlIHRoaXMuc291cmNlUGF0aD1hLHRoaXMuc291cmNlU2VhcmNoPVwiXCI7bCs9Zyh0KSsoYi5zdHJpY3Q9PT0hMT9cIi8/XCI6XCJcIikrXCIkXCIsbi5wdXNoKHQpLHRoaXMucmVnZXhwPW5ldyBSZWdFeHAobCxiLmNhc2VJbnNlbnNpdGl2ZT9cImlcIjpjKSx0aGlzLnByZWZpeD1uWzBdLHRoaXMuJCRwYXJhbU5hbWVzPXF9ZnVuY3Rpb24gcihhKXtNKHRoaXMsYSl9ZnVuY3Rpb24gcygpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIG51bGwhPWE/YS50b1N0cmluZygpLnJlcGxhY2UoL1xcLy9nLFwiJTJGXCIpOmF9ZnVuY3Rpb24gZShhKXtyZXR1cm4gbnVsbCE9YT9hLnRvU3RyaW5nKCkucmVwbGFjZSgvJTJGL2csXCIvXCIpOmF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gdGhpcy5wYXR0ZXJuLnRlc3QoYSl9ZnVuY3Rpb24gaSgpe3JldHVybntzdHJpY3Q6dCxjYXNlSW5zZW5zaXRpdmU6cH19ZnVuY3Rpb24gaihhKXtyZXR1cm4gSChhKXx8SyhhKSYmSChhW2EubGVuZ3RoLTFdKX1mdW5jdGlvbiBrKCl7Zm9yKDt4Lmxlbmd0aDspe3ZhciBhPXguc2hpZnQoKTtpZihhLnBhdHRlcm4pdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBvdmVycmlkZSBhIHR5cGUncyAucGF0dGVybiBhdCBydW50aW1lLlwiKTtiLmV4dGVuZCh2W2EubmFtZV0sby5pbnZva2UoYS5kZWYpKX19ZnVuY3Rpb24gbChhKXtNKHRoaXMsYXx8e30pfU89dGhpczt2YXIgbyxwPSExLHQ9ITAsdT0hMSx2PXt9LHc9ITAseD1bXSx5PXtzdHJpbmc6e2VuY29kZTphLGRlY29kZTplLGlzOmYscGF0dGVybjovW14vXSovfSxcImludFwiOntlbmNvZGU6YSxkZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gRyhhKSYmdGhpcy5kZWNvZGUoYS50b1N0cmluZygpKT09PWF9LHBhdHRlcm46L1xcZCsvfSxib29sOntlbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/MTowfSxkZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIDAhPT1wYXJzZUludChhLDEwKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0hMHx8YT09PSExfSxwYXR0ZXJuOi8wfDEvfSxkYXRlOntlbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXMoYSk/W2EuZ2V0RnVsbFllYXIoKSwoXCIwXCIrKGEuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpLChcIjBcIithLmdldERhdGUoKSkuc2xpY2UoLTIpXS5qb2luKFwiLVwiKTpjfSxkZWNvZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5pcyhhKSlyZXR1cm4gYTt2YXIgYj10aGlzLmNhcHR1cmUuZXhlYyhhKTtyZXR1cm4gYj9uZXcgRGF0ZShiWzFdLGJbMl0tMSxiWzNdKTpjfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIERhdGUmJiFpc05hTihhLnZhbHVlT2YoKSl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzKGEpJiZ0aGlzLmlzKGIpJiZhLnRvSVNPU3RyaW5nKCk9PT1iLnRvSVNPU3RyaW5nKCl9LHBhdHRlcm46L1swLTldezR9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvLGNhcHR1cmU6LyhbMC05XXs0fSktKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pL30sanNvbjp7ZW5jb2RlOmIudG9Kc29uLGRlY29kZTpiLmZyb21Kc29uLGlzOmIuaXNPYmplY3QsZXF1YWxzOmIuZXF1YWxzLHBhdHRlcm46L1teL10qL30sYW55OntlbmNvZGU6Yi5pZGVudGl0eSxkZWNvZGU6Yi5pZGVudGl0eSxpczpiLmlkZW50aXR5LGVxdWFsczpiLmVxdWFscyxwYXR0ZXJuOi8uKi99fTtzLiQkZ2V0RGVmYXVsdFZhbHVlPWZ1bmN0aW9uKGEpe2lmKCFqKGEudmFsdWUpKXJldHVybiBhLnZhbHVlO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO3JldHVybiBvLmludm9rZShhLnZhbHVlKX0sdGhpcy5jYXNlSW5zZW5zaXRpdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIEcoYSkmJihwPWEpLHB9LHRoaXMuc3RyaWN0TW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gRyhhKSYmKHQ9YSksdH0sdGhpcy5kZWZhdWx0U3F1YXNoUG9saWN5PWZ1bmN0aW9uKGEpe2lmKCFHKGEpKXJldHVybiB1O2lmKGEhPT0hMCYmYSE9PSExJiYhSShhKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiK2ErXCIuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgYXJiaXRyYXJ5LXN0cmluZ1wiKTtyZXR1cm4gdT1hLGF9LHRoaXMuY29tcGlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgcShhLE0oaSgpLGIpKX0sdGhpcy5pc01hdGNoZXI9ZnVuY3Rpb24oYSl7aWYoIUooYSkpcmV0dXJuITE7dmFyIGI9ITA7cmV0dXJuIEwocS5wcm90b3R5cGUsZnVuY3Rpb24oYyxkKXtIKGMpJiYoYj1iJiZHKGFbZF0pJiZIKGFbZF0pKX0pLGJ9LHRoaXMudHlwZT1mdW5jdGlvbihhLGIsYyl7aWYoIUcoYikpcmV0dXJuIHZbYV07aWYodi5oYXNPd25Qcm9wZXJ0eShhKSl0aHJvdyBuZXcgRXJyb3IoXCJBIHR5cGUgbmFtZWQgJ1wiK2ErXCInIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZC5cIik7cmV0dXJuIHZbYV09bmV3IHIoTSh7bmFtZTphfSxiKSksYyYmKHgucHVzaCh7bmFtZTphLGRlZjpjfSksd3x8aygpKSx0aGlzfSxMKHksZnVuY3Rpb24oYSxiKXt2W2JdPW5ldyByKE0oe25hbWU6Yn0sYSkpfSksdj1kKHYse30pLHRoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gbz1hLHc9ITEsaygpLEwoeSxmdW5jdGlvbihhLGIpe3ZbYl18fCh2W2JdPW5ldyByKGEpKX0pLHRoaXN9XSx0aGlzLlBhcmFtPWZ1bmN0aW9uKGEsYixkLGUpe2Z1bmN0aW9uIGYoYSl7dmFyIGI9SihhKT9nKGEpOltdLGM9LTE9PT1oKGIsXCJ2YWx1ZVwiKSYmLTE9PT1oKGIsXCJ0eXBlXCIpJiYtMT09PWgoYixcInNxdWFzaFwiKSYmLTE9PT1oKGIsXCJhcnJheVwiKTtyZXR1cm4gYyYmKGE9e3ZhbHVlOmF9KSxhLiQkZm49aihhLnZhbHVlKT9hLnZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEudmFsdWV9LGF9ZnVuY3Rpb24gaShiLGMsZCl7aWYoYi50eXBlJiZjKXRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIithK1wiJyBoYXMgdHdvIHR5cGUgY29uZmlndXJhdGlvbnMuXCIpO3JldHVybiBjP2M6Yi50eXBlP2IudHlwZSBpbnN0YW5jZW9mIHI/Yi50eXBlOm5ldyByKGIudHlwZSk6XCJjb25maWdcIj09PWQ/di5hbnk6di5zdHJpbmd9ZnVuY3Rpb24gaygpe3ZhciBiPXthcnJheTpcInNlYXJjaFwiPT09ZT9cImF1dG9cIjohMX0sYz1hLm1hdGNoKC9cXFtcXF0kLyk/e2FycmF5OiEwfTp7fTtyZXR1cm4gTShiLGMsZCkuYXJyYXl9ZnVuY3Rpb24gbChhLGIpe3ZhciBjPWEuc3F1YXNoO2lmKCFifHxjPT09ITEpcmV0dXJuITE7aWYoIUcoYyl8fG51bGw9PWMpcmV0dXJuIHU7aWYoYz09PSEwfHxJKGMpKXJldHVybiBjO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3F1YXNoIHBvbGljeTogJ1wiK2MrXCInLiBWYWxpZCBwb2xpY2llczogZmFsc2UsIHRydWUsIG9yIGFyYml0cmFyeSBzdHJpbmdcIil9ZnVuY3Rpb24gcChhLGIsZCxlKXt2YXIgZixnLGk9W3tmcm9tOlwiXCIsdG86ZHx8Yj9jOlwiXCJ9LHtmcm9tOm51bGwsdG86ZHx8Yj9jOlwiXCJ9XTtyZXR1cm4gZj1LKGEucmVwbGFjZSk/YS5yZXBsYWNlOltdLEkoZSkmJmYucHVzaCh7ZnJvbTplLHRvOmN9KSxnPW4oZixmdW5jdGlvbihhKXtyZXR1cm4gYS5mcm9tfSksbShpLGZ1bmN0aW9uKGEpe3JldHVybi0xPT09aChnLGEuZnJvbSl9KS5jb25jYXQoZil9ZnVuY3Rpb24gcSgpe2lmKCFvKXRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO3JldHVybiBvLmludm9rZShkLiQkZm4pfWZ1bmN0aW9uIHMoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIuZnJvbT09PWF9fWZ1bmN0aW9uIGMoYSl7dmFyIGM9bihtKHcucmVwbGFjZSxiKGEpKSxmdW5jdGlvbihhKXtyZXR1cm4gYS50b30pO3JldHVybiBjLmxlbmd0aD9jWzBdOmF9cmV0dXJuIGE9YyhhKSxHKGEpP3cudHlwZS5kZWNvZGUoYSk6cSgpfWZ1bmN0aW9uIHQoKXtyZXR1cm5cIntQYXJhbTpcIithK1wiIFwiK2IrXCIgc3F1YXNoOiAnXCIreitcIicgb3B0aW9uYWw6IFwiK3krXCJ9XCJ9dmFyIHc9dGhpcztkPWYoZCksYj1pKGQsYixlKTt2YXIgeD1rKCk7Yj14P2IuJGFzQXJyYXkoeCxcInNlYXJjaFwiPT09ZSk6YixcInN0cmluZ1wiIT09Yi5uYW1lfHx4fHxcInBhdGhcIiE9PWV8fGQudmFsdWUhPT1jfHwoZC52YWx1ZT1cIlwiKTt2YXIgeT1kLnZhbHVlIT09Yyx6PWwoZCx5KSxBPXAoZCx4LHkseik7TSh0aGlzLHtpZDphLHR5cGU6Yixsb2NhdGlvbjplLGFycmF5Ongsc3F1YXNoOnoscmVwbGFjZTpBLGlzT3B0aW9uYWw6eSx2YWx1ZTpzLGR5bmFtaWM6Yyxjb25maWc6ZCx0b1N0cmluZzp0fSl9LGwucHJvdG90eXBlPXskJG5ldzpmdW5jdGlvbigpe3JldHVybiBkKHRoaXMsTShuZXcgbCx7JCRwYXJlbnQ6dGhpc30pKX0sJCRrZXlzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9W10sYz10aGlzLGQ9ZyhsLnByb3RvdHlwZSk7YzspYi5wdXNoKGMpLGM9Yy4kJHBhcmVudDtyZXR1cm4gYi5yZXZlcnNlKCksTChiLGZ1bmN0aW9uKGIpe0woZyhiKSxmdW5jdGlvbihiKXstMT09PWgoYSxiKSYmLTE9PT1oKGQsYikmJmEucHVzaChiKX0pfSksYX0sJCR2YWx1ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz10aGlzO3JldHVybiBMKGMuJCRrZXlzKCksZnVuY3Rpb24oZCl7YltkXT1jW2RdLnZhbHVlKGEmJmFbZF0pfSksYn0sJCRlcXVhbHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMCxkPXRoaXM7cmV0dXJuIEwoZC4kJGtleXMoKSxmdW5jdGlvbihlKXt2YXIgZj1hJiZhW2VdLGc9YiYmYltlXTtkW2VdLnR5cGUuZXF1YWxzKGYsZyl8fChjPSExKX0pLGN9LCQkdmFsaWRhdGVzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPSEwLGY9dGhpcztyZXR1cm4gTCh0aGlzLiQka2V5cygpLGZ1bmN0aW9uKGcpe2Q9ZltnXSxjPWFbZ10sYj0hYyYmZC5pc09wdGlvbmFsLGU9ZSYmKGJ8fCEhZC50eXBlLmlzKGMpKX0pLGV9LCQkcGFyZW50OmN9LHRoaXMuUGFyYW1TZXQ9bH1mdW5jdGlvbiB0KGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj0vXlxcXigoPzpcXFxcW15hLXpBLVowLTldfFteXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dKykqKS8uZXhlYyhhLnNvdXJjZSk7cmV0dXJuIG51bGwhPWI/YlsxXS5yZXBsYWNlKC9cXFxcKC4pL2csXCIkMVwiKTpcIlwifWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYS5yZXBsYWNlKC9cXCQoXFwkfFxcZHsxLDJ9KS8sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYltcIiRcIj09PWM/MDpOdW1iZXIoYyldfSl9ZnVuY3Rpb24gZyhhLGIsYyl7aWYoIWMpcmV0dXJuITE7dmFyIGQ9YS5pbnZva2UoYixiLHskbWF0Y2g6Y30pO3JldHVybiBHKGQpP2Q6ITB9ZnVuY3Rpb24gaChkLGUsZixnKXtmdW5jdGlvbiBoKGEsYixjKXtyZXR1cm5cIi9cIj09PXA/YTpiP3Auc2xpY2UoMCwtMSkrYTpjP3Auc2xpY2UoMSkrYTphfWZ1bmN0aW9uIG0oYSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hKGYsZCk7cmV0dXJuIGI/KEkoYikmJmQucmVwbGFjZSgpLnVybChiKSwhMCk6ITF9aWYoIWF8fCFhLmRlZmF1bHRQcmV2ZW50ZWQpe3ZhciBlPW8mJmQudXJsKCk9PT1vO2lmKG89YyxlKXJldHVybiEwO3ZhciBnLGg9ai5sZW5ndGg7Zm9yKGc9MDtoPmc7ZysrKWlmKGIoaltnXSkpcmV0dXJuO2smJmIoayl9fWZ1bmN0aW9uIG4oKXtyZXR1cm4gaT1pfHxlLiRvbihcIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcIixtKX12YXIgbyxwPWcuYmFzZUhyZWYoKSxxPWQudXJsKCk7cmV0dXJuIGx8fG4oKSx7c3luYzpmdW5jdGlvbigpe20oKX0sbGlzdGVuOmZ1bmN0aW9uKCl7cmV0dXJuIG4oKX0sdXBkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhP3ZvaWQocT1kLnVybCgpKTp2b2lkKGQudXJsKCkhPT1xJiYoZC51cmwocSksZC5yZXBsYWNlKCkpKX0scHVzaDpmdW5jdGlvbihhLGIsZSl7ZC51cmwoYS5mb3JtYXQoYnx8e30pKSxvPWUmJmUuJCRhdm9pZFJlc3luYz9kLnVybCgpOmMsZSYmZS5yZXBsYWNlJiZkLnJlcGxhY2UoKX0saHJlZjpmdW5jdGlvbihjLGUsZil7aWYoIWMudmFsaWRhdGVzKGUpKXJldHVybiBudWxsO3ZhciBnPWEuaHRtbDVNb2RlKCk7Yi5pc09iamVjdChnKSYmKGc9Zy5lbmFibGVkKTt2YXIgaT1jLmZvcm1hdChlKTtpZihmPWZ8fHt9LGd8fG51bGw9PT1pfHwoaT1cIiNcIithLmhhc2hQcmVmaXgoKStpKSxpPWgoaSxnLGYuYWJzb2x1dGUpLCFmLmFic29sdXRlfHwhaSlyZXR1cm4gaTt2YXIgaj0hZyYmaT9cIi9cIjpcIlwiLGs9ZC5wb3J0KCk7cmV0dXJuIGs9ODA9PT1rfHw0NDM9PT1rP1wiXCI6XCI6XCIrayxbZC5wcm90b2NvbCgpLFwiOi8vXCIsZC5ob3N0KCksayxqLGldLmpvaW4oXCJcIil9fX12YXIgaSxqPVtdLGs9bnVsbCxsPSExO3RoaXMucnVsZT1mdW5jdGlvbihhKXtpZighSChhKSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBqLnB1c2goYSksdGhpc30sdGhpcy5vdGhlcndpc2U9ZnVuY3Rpb24oYSl7aWYoSShhKSl7dmFyIGI9YTthPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9fWVsc2UgaWYoIUgoYSkpdGhyb3cgbmV3IEVycm9yKFwiJ3J1bGUnIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gaz1hLHRoaXN9LHRoaXMud2hlbj1mdW5jdGlvbihhLGIpe3ZhciBjLGg9SShiKTtpZihJKGEpJiYoYT1kLmNvbXBpbGUoYSkpLCFoJiYhSChiKSYmIUsoYikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCAnaGFuZGxlcicgaW4gd2hlbigpXCIpO3ZhciBpPXttYXRjaGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGgmJihjPWQuY29tcGlsZShiKSxiPVtcIiRtYXRjaFwiLGZ1bmN0aW9uKGEpe3JldHVybiBjLmZvcm1hdChhKX1dKSxNKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGcoYyxiLGEuZXhlYyhkLnBhdGgoKSxkLnNlYXJjaCgpKSl9LHtwcmVmaXg6SShhLnByZWZpeCk/YS5wcmVmaXg6XCJcIn0pfSxyZWdleDpmdW5jdGlvbihhLGIpe2lmKGEuZ2xvYmFsfHxhLnN0aWNreSl0aHJvdyBuZXcgRXJyb3IoXCJ3aGVuKCkgUmVnRXhwIG11c3Qgbm90IGJlIGdsb2JhbCBvciBzdGlja3lcIik7cmV0dXJuIGgmJihjPWIsYj1bXCIkbWF0Y2hcIixmdW5jdGlvbihhKXtyZXR1cm4gZihjLGEpfV0pLE0oZnVuY3Rpb24oYyxkKXtyZXR1cm4gZyhjLGIsYS5leGVjKGQucGF0aCgpKSl9LHtwcmVmaXg6ZShhKX0pfX0saj17bWF0Y2hlcjpkLmlzTWF0Y2hlcihhKSxyZWdleDphIGluc3RhbmNlb2YgUmVnRXhwfTtmb3IodmFyIGsgaW4gailpZihqW2tdKXJldHVybiB0aGlzLnJ1bGUoaVtrXShhLGIpKTt0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkICd3aGF0JyBpbiB3aGVuKClcIil9LHRoaXMuZGVmZXJJbnRlcmNlcHQ9ZnVuY3Rpb24oYSl7YT09PWMmJihhPSEwKSxsPWF9LHRoaXMuJGdldD1oLGguJGluamVjdD1bXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixcIiRpbmplY3RvclwiLFwiJGJyb3dzZXJcIl19ZnVuY3Rpb24gdShhLGUpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIDA9PT1hLmluZGV4T2YoXCIuXCIpfHwwPT09YS5pbmRleE9mKFwiXlwiKX1mdW5jdGlvbiBsKGEsYil7aWYoIWEpcmV0dXJuIGM7dmFyIGQ9SShhKSxlPWQ/YTphLm5hbWUsZz1mKGUpO2lmKGcpe2lmKCFiKXRocm93IG5ldyBFcnJvcihcIk5vIHJlZmVyZW5jZSBwb2ludCBnaXZlbiBmb3IgcGF0aCAnXCIrZStcIidcIik7Yj1sKGIpO2Zvcih2YXIgaD1lLnNwbGl0KFwiLlwiKSxpPTAsaj1oLmxlbmd0aCxrPWI7aj5pO2krKylpZihcIlwiIT09aFtpXXx8MCE9PWkpe2lmKFwiXlwiIT09aFtpXSlicmVhaztpZighay5wYXJlbnQpdGhyb3cgbmV3IEVycm9yKFwiUGF0aCAnXCIrZStcIicgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIrYi5uYW1lK1wiJ1wiKTtrPWsucGFyZW50fWVsc2Ugaz1iO2g9aC5zbGljZShpKS5qb2luKFwiLlwiKSxlPWsubmFtZSsoay5uYW1lJiZoP1wiLlwiOlwiXCIpK2h9dmFyIG09eVtlXTtyZXR1cm4hbXx8IWQmJihkfHxtIT09YSYmbS5zZWxmIT09YSk/YzptfWZ1bmN0aW9uIG0oYSxiKXt6W2FdfHwoelthXT1bXSkselthXS5wdXNoKGIpfWZ1bmN0aW9uIG8oYSl7Zm9yKHZhciBiPXpbYV18fFtdO2IubGVuZ3RoOylwKGIuc2hpZnQoKSl9ZnVuY3Rpb24gcChiKXtiPWQoYix7c2VsZjpiLHJlc29sdmU6Yi5yZXNvbHZlfHx7fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9fSk7dmFyIGM9Yi5uYW1lO2lmKCFJKGMpfHxjLmluZGV4T2YoXCJAXCIpPj0wKXRocm93IG5ldyBFcnJvcihcIlN0YXRlIG11c3QgaGF2ZSBhIHZhbGlkIG5hbWVcIik7aWYoeS5oYXNPd25Qcm9wZXJ0eShjKSl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSAnXCIrYytcIicnIGlzIGFscmVhZHkgZGVmaW5lZFwiKTt2YXIgZT0tMSE9PWMuaW5kZXhPZihcIi5cIik/Yy5zdWJzdHJpbmcoMCxjLmxhc3RJbmRleE9mKFwiLlwiKSk6SShiLnBhcmVudCk/Yi5wYXJlbnQ6SihiLnBhcmVudCkmJkkoYi5wYXJlbnQubmFtZSk/Yi5wYXJlbnQubmFtZTpcIlwiO2lmKGUmJiF5W2VdKXJldHVybiBtKGUsYi5zZWxmKTtmb3IodmFyIGYgaW4gQilIKEJbZl0pJiYoYltmXT1CW2ZdKGIsQi4kZGVsZWdhdGVzW2ZdKSk7cmV0dXJuIHlbY109YiwhYltBXSYmYi51cmwmJmEud2hlbihiLnVybCxbXCIkbWF0Y2hcIixcIiRzdGF0ZVBhcmFtc1wiLGZ1bmN0aW9uKGEsYyl7eC4kY3VycmVudC5uYXZpZ2FibGU9PWImJmooYSxjKXx8eC50cmFuc2l0aW9uVG8oYixhLHtpbmhlcml0OiEwLGxvY2F0aW9uOiExfSl9XSksbyhjKSxifWZ1bmN0aW9uIHEoYSl7cmV0dXJuIGEuaW5kZXhPZihcIipcIik+LTF9ZnVuY3Rpb24gcihhKXt2YXIgYj1hLnNwbGl0KFwiLlwiKSxjPXguJGN1cnJlbnQubmFtZS5zcGxpdChcIi5cIik7aWYoXCIqKlwiPT09YlswXSYmKGM9Yy5zbGljZShoKGMsYlsxXSkpLGMudW5zaGlmdChcIioqXCIpKSxcIioqXCI9PT1iW2IubGVuZ3RoLTFdJiYoYy5zcGxpY2UoaChjLGJbYi5sZW5ndGgtMl0pKzEsTnVtYmVyLk1BWF9WQUxVRSksYy5wdXNoKFwiKipcIikpLGIubGVuZ3RoIT1jLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspXCIqXCI9PT1iW2RdJiYoY1tkXT1cIipcIik7cmV0dXJuIGMuam9pbihcIlwiKT09PWIuam9pbihcIlwiKX1mdW5jdGlvbiBzKGEsYil7cmV0dXJuIEkoYSkmJiFHKGIpP0JbYV06SChiKSYmSShhKT8oQlthXSYmIUIuJGRlbGVnYXRlc1thXSYmKEIuJGRlbGVnYXRlc1thXT1CW2FdKSxCW2FdPWIsdGhpcyk6dGhpc31mdW5jdGlvbiB0KGEsYil7cmV0dXJuIEooYSk/Yj1hOmIubmFtZT1hLHAoYiksdGhpc31mdW5jdGlvbiB1KGEsZSxmLGgsbSxvLHApe2Z1bmN0aW9uIHMoYixjLGQsZil7dmFyIGc9YS4kYnJvYWRjYXN0KFwiJHN0YXRlTm90Rm91bmRcIixiLGMsZCk7aWYoZy5kZWZhdWx0UHJldmVudGVkKXJldHVybiBwLnVwZGF0ZSgpLEI7aWYoIWcucmV0cnkpcmV0dXJuIG51bGw7aWYoZi4kcmV0cnkpcmV0dXJuIHAudXBkYXRlKCksQzt2YXIgaD14LnRyYW5zaXRpb249ZS53aGVuKGcucmV0cnkpO3JldHVybiBoLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaCE9PXgudHJhbnNpdGlvbj91OihiLm9wdGlvbnMuJHJldHJ5PSEwLHgudHJhbnNpdGlvblRvKGIudG8sYi50b1BhcmFtcyxiLm9wdGlvbnMpKX0sZnVuY3Rpb24oKXtyZXR1cm4gQn0pLHAudXBkYXRlKCksaH1mdW5jdGlvbiB0KGEsYyxkLGcsaSxqKXt2YXIgbD1kP2M6ayhhLnBhcmFtcy4kJGtleXMoKSxjKSxuPXskc3RhdGVQYXJhbXM6bH07aS5yZXNvbHZlPW0ucmVzb2x2ZShhLnJlc29sdmUsbixpLnJlc29sdmUsYSk7dmFyIG89W2kucmVzb2x2ZS50aGVuKGZ1bmN0aW9uKGEpe2kuZ2xvYmFscz1hfSldO3JldHVybiBnJiZvLnB1c2goZyksTChhLnZpZXdzLGZ1bmN0aW9uKGMsZCl7dmFyIGU9Yy5yZXNvbHZlJiZjLnJlc29sdmUhPT1hLnJlc29sdmU/Yy5yZXNvbHZlOnt9O2UuJHRlbXBsYXRlPVtmdW5jdGlvbigpe3JldHVybiBmLmxvYWQoZCx7dmlldzpjLGxvY2FsczpuLHBhcmFtczpsLG5vdGlmeTpqLm5vdGlmeX0pfHxcIlwifV0sby5wdXNoKG0ucmVzb2x2ZShlLG4saS5yZXNvbHZlLGEpLnRoZW4oZnVuY3Rpb24oZil7aWYoSChjLmNvbnRyb2xsZXJQcm92aWRlcil8fEsoYy5jb250cm9sbGVyUHJvdmlkZXIpKXt2YXIgZz1iLmV4dGVuZCh7fSxlLG4pO2YuJCRjb250cm9sbGVyPWguaW52b2tlKGMuY29udHJvbGxlclByb3ZpZGVyLG51bGwsZyl9ZWxzZSBmLiQkY29udHJvbGxlcj1jLmNvbnRyb2xsZXI7Zi4kJHN0YXRlPWEsZi4kJGNvbnRyb2xsZXJBcz1jLmNvbnRyb2xsZXJBcyxpW2RdPWZ9KSl9KSxlLmFsbChvKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KX12YXIgdT1lLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIHN1cGVyc2VkZWRcIikpLHo9ZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBwcmV2ZW50ZWRcIikpLEI9ZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBhYm9ydGVkXCIpKSxDPWUucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gZmFpbGVkXCIpKTtyZXR1cm4gdy5sb2NhbHM9e3Jlc29sdmU6bnVsbCxnbG9iYWxzOnskc3RhdGVQYXJhbXM6e319fSx4PXtwYXJhbXM6e30sY3VycmVudDp3LnNlbGYsJGN1cnJlbnQ6dyx0cmFuc2l0aW9uOm51bGx9LHgucmVsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHgudHJhbnNpdGlvblRvKHguY3VycmVudCxvLHtyZWxvYWQ6ITAsaW5oZXJpdDohMSxub3RpZnk6ITB9KX0seC5nbz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHgudHJhbnNpdGlvblRvKGEsYixNKHtpbmhlcml0OiEwLHJlbGF0aXZlOnguJGN1cnJlbnR9LGMpKX0seC50cmFuc2l0aW9uVG89ZnVuY3Rpb24oYixjLGYpe2M9Y3x8e30sZj1NKHtsb2NhdGlvbjohMCxpbmhlcml0OiExLHJlbGF0aXZlOm51bGwsbm90aWZ5OiEwLHJlbG9hZDohMSwkcmV0cnk6ITF9LGZ8fHt9KTt2YXIgZyxqPXguJGN1cnJlbnQsbT14LnBhcmFtcyxuPWoucGF0aCxxPWwoYixmLnJlbGF0aXZlKTtpZighRyhxKSl7dmFyIHI9e3RvOmIsdG9QYXJhbXM6YyxvcHRpb25zOmZ9LHk9cyhyLGouc2VsZixtLGYpO2lmKHkpcmV0dXJuIHk7aWYoYj1yLnRvLGM9ci50b1BhcmFtcyxmPXIub3B0aW9ucyxxPWwoYixmLnJlbGF0aXZlKSwhRyhxKSl7aWYoIWYucmVsYXRpdmUpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCBzdGF0ZSAnXCIrYitcIidcIik7dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHJlc29sdmUgJ1wiK2IrXCInIGZyb20gc3RhdGUgJ1wiK2YucmVsYXRpdmUrXCInXCIpfX1pZihxW0FdKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB0cmFuc2l0aW9uIHRvIGFic3RyYWN0IHN0YXRlICdcIitiK1wiJ1wiKTtpZihmLmluaGVyaXQmJihjPWkobyxjfHx7fSx4LiRjdXJyZW50LHEpKSwhcS5wYXJhbXMuJCR2YWxpZGF0ZXMoYykpcmV0dXJuIEM7Yz1xLnBhcmFtcy4kJHZhbHVlcyhjKSxiPXE7dmFyIEI9Yi5wYXRoLEQ9MCxFPUJbRF0sRj13LmxvY2FscyxIPVtdO2lmKCFmLnJlbG9hZClmb3IoO0UmJkU9PT1uW0RdJiZFLm93blBhcmFtcy4kJGVxdWFscyhjLG0pOylGPUhbRF09RS5sb2NhbHMsRCsrLEU9QltEXTtpZih2KGIsaixGLGYpKXJldHVybiBiLnNlbGYucmVsb2FkT25TZWFyY2ghPT0hMSYmcC51cGRhdGUoKSx4LnRyYW5zaXRpb249bnVsbCxlLndoZW4oeC5jdXJyZW50KTtpZihjPWsoYi5wYXJhbXMuJCRrZXlzKCksY3x8e30pLGYubm90aWZ5JiZhLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VTdGFydFwiLGIuc2VsZixjLGouc2VsZixtKS5kZWZhdWx0UHJldmVudGVkKXJldHVybiBwLnVwZGF0ZSgpLHo7Zm9yKHZhciBJPWUud2hlbihGKSxKPUQ7SjxCLmxlbmd0aDtKKyssRT1CW0pdKUY9SFtKXT1kKEYpLEk9dChFLGMsRT09PWIsSSxGLGYpO3ZhciBLPXgudHJhbnNpdGlvbj1JLnRoZW4oZnVuY3Rpb24oKXt2YXIgZCxlLGc7aWYoeC50cmFuc2l0aW9uIT09SylyZXR1cm4gdTtmb3IoZD1uLmxlbmd0aC0xO2Q+PUQ7ZC0tKWc9bltkXSxnLnNlbGYub25FeGl0JiZoLmludm9rZShnLnNlbGYub25FeGl0LGcuc2VsZixnLmxvY2Fscy5nbG9iYWxzKSxnLmxvY2Fscz1udWxsO2ZvcihkPUQ7ZDxCLmxlbmd0aDtkKyspZT1CW2RdLGUubG9jYWxzPUhbZF0sZS5zZWxmLm9uRW50ZXImJmguaW52b2tlKGUuc2VsZi5vbkVudGVyLGUuc2VsZixlLmxvY2Fscy5nbG9iYWxzKTtyZXR1cm4geC50cmFuc2l0aW9uIT09Sz91Oih4LiRjdXJyZW50PWIseC5jdXJyZW50PWIuc2VsZix4LnBhcmFtcz1jLE4oeC5wYXJhbXMsbykseC50cmFuc2l0aW9uPW51bGwsZi5sb2NhdGlvbiYmYi5uYXZpZ2FibGUmJnAucHVzaChiLm5hdmlnYWJsZS51cmwsYi5uYXZpZ2FibGUubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6XCJyZXBsYWNlXCI9PT1mLmxvY2F0aW9ufSksZi5ub3RpZnkmJmEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixiLnNlbGYsYyxqLnNlbGYsbSkscC51cGRhdGUoITApLHguY3VycmVudCl9LGZ1bmN0aW9uKGQpe3JldHVybiB4LnRyYW5zaXRpb24hPT1LP3U6KHgudHJhbnNpdGlvbj1udWxsLGc9YS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlRXJyb3JcIixiLnNlbGYsYyxqLnNlbGYsbSxkKSxnLmRlZmF1bHRQcmV2ZW50ZWR8fHAudXBkYXRlKCksZS5yZWplY3QoZCkpfSk7cmV0dXJuIEt9LHguaXM9ZnVuY3Rpb24oYSxiLGQpe2Q9TSh7cmVsYXRpdmU6eC4kY3VycmVudH0sZHx8e30pO3ZhciBlPWwoYSxkLnJlbGF0aXZlKTtyZXR1cm4gRyhlKT94LiRjdXJyZW50IT09ZT8hMTpiP2ooZS5wYXJhbXMuJCR2YWx1ZXMoYiksbyk6ITA6Y30seC5pbmNsdWRlcz1mdW5jdGlvbihhLGIsZCl7aWYoZD1NKHtyZWxhdGl2ZTp4LiRjdXJyZW50fSxkfHx7fSksSShhKSYmcShhKSl7aWYoIXIoYSkpcmV0dXJuITE7YT14LiRjdXJyZW50Lm5hbWV9dmFyIGU9bChhLGQucmVsYXRpdmUpO3JldHVybiBHKGUpP0coeC4kY3VycmVudC5pbmNsdWRlc1tlLm5hbWVdKT9iP2ooZS5wYXJhbXMuJCR2YWx1ZXMoYiksbyxnKGIpKTohMDohMTpjfSx4LmhyZWY9ZnVuY3Rpb24oYSxiLGQpe2Q9TSh7bG9zc3k6ITAsaW5oZXJpdDohMCxhYnNvbHV0ZTohMSxyZWxhdGl2ZTp4LiRjdXJyZW50fSxkfHx7fSk7dmFyIGU9bChhLGQucmVsYXRpdmUpO2lmKCFHKGUpKXJldHVybiBudWxsO2QuaW5oZXJpdCYmKGI9aShvLGJ8fHt9LHguJGN1cnJlbnQsZSkpO3ZhciBmPWUmJmQubG9zc3k/ZS5uYXZpZ2FibGU6ZTtyZXR1cm4gZiYmZi51cmwhPT1jJiZudWxsIT09Zi51cmw/cC5ocmVmKGYudXJsLGsoZS5wYXJhbXMuJCRrZXlzKCksYnx8e30pLHthYnNvbHV0ZTpkLmFic29sdXRlfSk6bnVsbH0seC5nZXQ9ZnVuY3Rpb24oYSxiKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbihnKHkpLGZ1bmN0aW9uKGEpe3JldHVybiB5W2FdLnNlbGZ9KTt2YXIgYz1sKGEsYnx8eC4kY3VycmVudCk7cmV0dXJuIGMmJmMuc2VsZj9jLnNlbGY6bnVsbH0seH1mdW5jdGlvbiB2KGEsYixjLGQpe3JldHVybiBhIT09Ynx8KGMhPT1iLmxvY2Fsc3x8ZC5yZWxvYWQpJiZhLnNlbGYucmVsb2FkT25TZWFyY2ghPT0hMT92b2lkIDA6ITB9dmFyIHcseCx5PXt9LHo9e30sQT1cImFic3RyYWN0XCIsQj17cGFyZW50OmZ1bmN0aW9uKGEpe2lmKEcoYS5wYXJlbnQpJiZhLnBhcmVudClyZXR1cm4gbChhLnBhcmVudCk7dmFyIGI9L14oLispXFwuW14uXSskLy5leGVjKGEubmFtZSk7cmV0dXJuIGI/bChiWzFdKTp3fSxkYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudCYmYS5wYXJlbnQuZGF0YSYmKGEuZGF0YT1hLnNlbGYuZGF0YT1NKHt9LGEucGFyZW50LmRhdGEsYS5kYXRhKSksYS5kYXRhfSx1cmw6ZnVuY3Rpb24oYSl7dmFyIGI9YS51cmwsYz17cGFyYW1zOmEucGFyYW1zfHx7fX07aWYoSShiKSlyZXR1cm5cIl5cIj09Yi5jaGFyQXQoMCk/ZS5jb21waWxlKGIuc3Vic3RyaW5nKDEpLGMpOihhLnBhcmVudC5uYXZpZ2FibGV8fHcpLnVybC5jb25jYXQoYixjKTtpZighYnx8ZS5pc01hdGNoZXIoYikpcmV0dXJuIGI7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1cmwgJ1wiK2IrXCInIGluIHN0YXRlICdcIithK1wiJ1wiKX0sbmF2aWdhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnVybD9hOmEucGFyZW50P2EucGFyZW50Lm5hdmlnYWJsZTpudWxsfSxvd25QYXJhbXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS51cmwmJmEudXJsLnBhcmFtc3x8bmV3IE8uUGFyYW1TZXQ7cmV0dXJuIEwoYS5wYXJhbXN8fHt9LGZ1bmN0aW9uKGEsYyl7YltjXXx8KGJbY109bmV3IE8uUGFyYW0oYyxudWxsLGEsXCJjb25maWdcIikpfSksYn0scGFyYW1zOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudCYmYS5wYXJlbnQucGFyYW1zP00oYS5wYXJlbnQucGFyYW1zLiQkbmV3KCksYS5vd25QYXJhbXMpOm5ldyBPLlBhcmFtU2V0fSx2aWV3czpmdW5jdGlvbihhKXt2YXIgYj17fTtyZXR1cm4gTChHKGEudmlld3MpP2Eudmlld3M6e1wiXCI6YX0sZnVuY3Rpb24oYyxkKXtkLmluZGV4T2YoXCJAXCIpPDAmJihkKz1cIkBcIithLnBhcmVudC5uYW1lKSxiW2RdPWN9KSxifSxwYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudD9hLnBhcmVudC5wYXRoLmNvbmNhdChhKTpbXX0saW5jbHVkZXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ/TSh7fSxhLnBhcmVudC5pbmNsdWRlcyk6e307cmV0dXJuIGJbYS5uYW1lXT0hMCxifSwkZGVsZWdhdGVzOnt9fTt3PXAoe25hbWU6XCJcIix1cmw6XCJeXCIsdmlld3M6bnVsbCxcImFic3RyYWN0XCI6ITB9KSx3Lm5hdmlnYWJsZT1udWxsLHRoaXMuZGVjb3JhdG9yPXMsdGhpcy5zdGF0ZT10LHRoaXMuJGdldD11LHUuJGluamVjdD1bXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJHZpZXdcIixcIiRpbmplY3RvclwiLFwiJHJlc29sdmVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJHVybFJvdXRlclwiLFwiJGxvY2F0aW9uXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlcIl19ZnVuY3Rpb24gdigpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm57bG9hZDpmdW5jdGlvbihjLGQpe3ZhciBlLGY9e3RlbXBsYXRlOm51bGwsY29udHJvbGxlcjpudWxsLHZpZXc6bnVsbCxsb2NhbHM6bnVsbCxub3RpZnk6ITAsYXN5bmM6ITAscGFyYW1zOnt9fTtyZXR1cm4gZD1NKGYsZCksZC52aWV3JiYoZT1iLmZyb21Db25maWcoZC52aWV3LGQucGFyYW1zLGQubG9jYWxzKSksZSYmZC5ub3RpZnkmJmEuJGJyb2FkY2FzdChcIiR2aWV3Q29udGVudExvYWRpbmdcIixkKSxlfX19dGhpcy4kZ2V0PWEsYS4kaW5qZWN0PVtcIiRyb290U2NvcGVcIixcIiR0ZW1wbGF0ZUZhY3RvcnlcIl19ZnVuY3Rpb24gdygpe3ZhciBhPSExO3RoaXMudXNlQW5jaG9yU2Nyb2xsPWZ1bmN0aW9uKCl7YT0hMH0sdGhpcy4kZ2V0PVtcIiRhbmNob3JTY3JvbGxcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYixjKXtyZXR1cm4gYT9iOmZ1bmN0aW9uKGEpe2MoZnVuY3Rpb24oKXthWzBdLnNjcm9sbEludG9WaWV3KCl9LDAsITEpfX1dfWZ1bmN0aW9uIHgoYSxjLGQsZSl7ZnVuY3Rpb24gZigpe3JldHVybiBjLmhhcz9mdW5jdGlvbihhKXtyZXR1cm4gYy5oYXMoYSk/Yy5nZXQoYSk6bnVsbH06ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBjLmdldChhKX1jYXRjaChiKXtyZXR1cm4gbnVsbH19fWZ1bmN0aW9uIGcoYSxiKXt2YXIgYz1mdW5jdGlvbigpe3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7Yi5hZnRlcihhKSxjKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7YS5yZW1vdmUoKSxiKCl9fX07aWYoailyZXR1cm57ZW50ZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWouZW50ZXIoYSxudWxsLGIsYyk7ZCYmZC50aGVuJiZkLnRoZW4oYyl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9ai5sZWF2ZShhLGIpO2MmJmMudGhlbiYmYy50aGVuKGIpfX07aWYoaSl7dmFyIGQ9aSYmaShiLGEpO3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7ZC5lbnRlcihhLG51bGwsYiksYygpfSxsZWF2ZTpmdW5jdGlvbihhLGIpe2QubGVhdmUoYSksYigpfX19cmV0dXJuIGMoKX12YXIgaD1mKCksaT1oKFwiJGFuaW1hdG9yXCIpLGo9aChcIiRhbmltYXRlXCIpLGs9e3Jlc3RyaWN0OlwiRUNBXCIsdGVybWluYWw6ITAscHJpb3JpdHk6NDAwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIsY29tcGlsZTpmdW5jdGlvbihjLGYsaCl7cmV0dXJuIGZ1bmN0aW9uKGMsZixpKXtmdW5jdGlvbiBqKCl7bCYmKGwucmVtb3ZlKCksbD1udWxsKSxuJiYobi4kZGVzdHJveSgpLG49bnVsbCksbSYmKHIubGVhdmUobSxmdW5jdGlvbigpe2w9bnVsbH0pLGw9bSxtPW51bGwpfWZ1bmN0aW9uIGsoZyl7dmFyIGssbD16KGMsaSxmLGUpLHM9bCYmYS4kY3VycmVudCYmYS4kY3VycmVudC5sb2NhbHNbbF07aWYoZ3x8cyE9PW8pe2s9Yy4kbmV3KCksbz1hLiRjdXJyZW50LmxvY2Fsc1tsXTt2YXIgdD1oKGssZnVuY3Rpb24oYSl7ci5lbnRlcihhLGYsZnVuY3Rpb24oKXtuJiZuLiRlbWl0KFwiJHZpZXdDb250ZW50QW5pbWF0aW9uRW5kZWRcIiksKGIuaXNEZWZpbmVkKHEpJiYhcXx8Yy4kZXZhbChxKSkmJmQoYSl9KSxqKCl9KTttPXQsbj1rLG4uJGVtaXQoXCIkdmlld0NvbnRlbnRMb2FkZWRcIiksbi4kZXZhbChwKX19dmFyIGwsbSxuLG8scD1pLm9ubG9hZHx8XCJcIixxPWkuYXV0b3Njcm9sbCxyPWcoaSxjKTtjLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixmdW5jdGlvbigpe2soITEpfSksYy4kb24oXCIkdmlld0NvbnRlbnRMb2FkaW5nXCIsZnVuY3Rpb24oKXtrKCExKX0pLGsoITApfX19O3JldHVybiBrfWZ1bmN0aW9uIHkoYSxiLGMsZCl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6LTQwMCxjb21waWxlOmZ1bmN0aW9uKGUpe3ZhciBmPWUuaHRtbCgpO3JldHVybiBmdW5jdGlvbihlLGcsaCl7dmFyIGk9Yy4kY3VycmVudCxqPXooZSxoLGcsZCksaz1pJiZpLmxvY2Fsc1tqXTtpZihrKXtnLmRhdGEoXCIkdWlWaWV3XCIse25hbWU6aixzdGF0ZTprLiQkc3RhdGV9KSxnLmh0bWwoay4kdGVtcGxhdGU/ay4kdGVtcGxhdGU6Zik7dmFyIGw9YShnLmNvbnRlbnRzKCkpO2lmKGsuJCRjb250cm9sbGVyKXtrLiRzY29wZT1lO3ZhciBtPWIoay4kJGNvbnRyb2xsZXIsayk7ay4kJGNvbnRyb2xsZXJBcyYmKGVbay4kJGNvbnRyb2xsZXJBc109bSksZy5kYXRhKFwiJG5nQ29udHJvbGxlckNvbnRyb2xsZXJcIixtKSxnLmNoaWxkcmVuKCkuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsbSl9bChlKX19fX19ZnVuY3Rpb24geihhLGIsYyxkKXt2YXIgZT1kKGIudWlWaWV3fHxiLm5hbWV8fFwiXCIpKGEpLGY9Yy5pbmhlcml0ZWREYXRhKFwiJHVpVmlld1wiKTtyZXR1cm4gZS5pbmRleE9mKFwiQFwiKT49MD9lOmUrXCJAXCIrKGY/Zi5zdGF0ZS5uYW1lOlwiXCIpfWZ1bmN0aW9uIEEoYSxiKXt2YXIgYyxkPWEubWF0Y2goL15cXHMqKHtbXn1dKn0pXFxzKiQvKTtpZihkJiYoYT1iK1wiKFwiK2RbMV0rXCIpXCIpLGM9YS5yZXBsYWNlKC9cXG4vZyxcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pLCFjfHw0IT09Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiK2ErXCInXCIpO3JldHVybntzdGF0ZTpjWzFdLHBhcmFtRXhwcjpjWzNdfHxudWxsfX1mdW5jdGlvbiBCKGEpe3ZhciBiPWEucGFyZW50KCkuaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIik7cmV0dXJuIGImJmIuc3RhdGUmJmIuc3RhdGUubmFtZT9iLnN0YXRlOnZvaWQgMH1mdW5jdGlvbiBDKGEsYyl7dmFyIGQ9W1wibG9jYXRpb25cIixcImluaGVyaXRcIixcInJlbG9hZFwiXTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpbXCI/XnVpU3JlZkFjdGl2ZVwiLFwiP151aVNyZWZBY3RpdmVFcVwiXSxsaW5rOmZ1bmN0aW9uKGUsZixnLGgpe3ZhciBpPUEoZy51aVNyZWYsYS5jdXJyZW50Lm5hbWUpLGo9bnVsbCxrPUIoZil8fGEuJGN1cnJlbnQsbD1udWxsLG09XCJBXCI9PT1mLnByb3AoXCJ0YWdOYW1lXCIpLG49XCJGT1JNXCI9PT1mWzBdLm5vZGVOYW1lLG89bj9cImFjdGlvblwiOlwiaHJlZlwiLHA9ITAscT17cmVsYXRpdmU6ayxpbmhlcml0OiEwfSxyPWUuJGV2YWwoZy51aVNyZWZPcHRzKXx8e307Yi5mb3JFYWNoKGQsZnVuY3Rpb24oYSl7YSBpbiByJiYocVthXT1yW2FdKX0pO3ZhciBzPWZ1bmN0aW9uKGMpe2lmKGMmJihqPWIuY29weShjKSkscCl7bD1hLmhyZWYoaS5zdGF0ZSxqLHEpO3ZhciBkPWhbMV18fGhbMF07cmV0dXJuIGQmJmQuJCRzZXRTdGF0ZUluZm8oaS5zdGF0ZSxqKSxudWxsPT09bD8ocD0hMSwhMSk6dm9pZCBnLiRzZXQobyxsKX19O2kucGFyYW1FeHByJiYoZS4kd2F0Y2goaS5wYXJhbUV4cHIsZnVuY3Rpb24oYSl7YSE9PWomJnMoYSl9LCEwKSxqPWIuY29weShlLiRldmFsKGkucGFyYW1FeHByKSkpLHMoKSxufHxmLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBkPWIud2hpY2h8fGIuYnV0dG9uO2lmKCEoZD4xfHxiLmN0cmxLZXl8fGIubWV0YUtleXx8Yi5zaGlmdEtleXx8Zi5hdHRyKFwidGFyZ2V0XCIpKSl7dmFyIGU9YyhmdW5jdGlvbigpe2EuZ28oaS5zdGF0ZSxqLHEpfSk7Yi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBnPW0mJiFsPzE6MDtiLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7Zy0tPD0wJiZjLmNhbmNlbChlKX19fSl9fX1mdW5jdGlvbiBEKGEsYixjKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixcIiRlbGVtZW50XCIsXCIkYXR0cnNcIixmdW5jdGlvbihiLGQsZSl7ZnVuY3Rpb24gZigpe2coKT9kLmFkZENsYXNzKGopOmQucmVtb3ZlQ2xhc3Moail9ZnVuY3Rpb24gZygpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLnVpU3JlZkFjdGl2ZUVxP2gmJmEuaXMoaC5uYW1lLGkpOmgmJmEuaW5jbHVkZXMoaC5uYW1lLGkpfXZhciBoLGksajtqPWMoZS51aVNyZWZBY3RpdmVFcXx8ZS51aVNyZWZBY3RpdmV8fFwiXCIsITEpKGIpLHRoaXMuJCRzZXRTdGF0ZUluZm89ZnVuY3Rpb24oYixjKXtoPWEuZ2V0KGIsQihkKSksaT1jLGYoKX0sYi4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIsZil9XX19ZnVuY3Rpb24gRShhKXt2YXIgYj1mdW5jdGlvbihiKXtyZXR1cm4gYS5pcyhiKX07cmV0dXJuIGIuJHN0YXRlZnVsPSEwLGJ9ZnVuY3Rpb24gRihhKXt2YXIgYj1mdW5jdGlvbihiKXtyZXR1cm4gYS5pbmNsdWRlcyhiKX07cmV0dXJuIGIuJHN0YXRlZnVsPSEwLGJ9dmFyIEc9Yi5pc0RlZmluZWQsSD1iLmlzRnVuY3Rpb24sST1iLmlzU3RyaW5nLEo9Yi5pc09iamVjdCxLPWIuaXNBcnJheSxMPWIuZm9yRWFjaCxNPWIuZXh0ZW5kLE49Yi5jb3B5O2IubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIixbXCJuZ1wiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIucm91dGVyXCIsW1widWkucm91dGVyLnV0aWxcIl0pLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIsW1widWkucm91dGVyLnJvdXRlclwiLFwidWkucm91dGVyLnV0aWxcIl0pLGIubW9kdWxlKFwidWkucm91dGVyXCIsW1widWkucm91dGVyLnN0YXRlXCJdKSxiLm1vZHVsZShcInVpLnJvdXRlci5jb21wYXRcIixbXCJ1aS5yb3V0ZXJcIl0pLG8uJGluamVjdD1bXCIkcVwiLFwiJGluamVjdG9yXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikuc2VydmljZShcIiRyZXNvbHZlXCIsbykscC4kaW5qZWN0PVtcIiRodHRwXCIsXCIkdGVtcGxhdGVDYWNoZVwiLFwiJGluamVjdG9yXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikuc2VydmljZShcIiR0ZW1wbGF0ZUZhY3RvcnlcIixwKTt2YXIgTztxLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y2FzZUluc2Vuc2l0aXZlOk8uY2FzZUluc2Vuc2l0aXZlKCksc3RyaWN0Ok8uc3RyaWN0TW9kZSgpLHNxdWFzaDpPLmRlZmF1bHRTcXVhc2hQb2xpY3koKX07cmV0dXJuIG5ldyBxKHRoaXMuc291cmNlUGF0aCthK3RoaXMuc291cmNlU2VhcmNoLE0oYyxiKSx0aGlzKX0scS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2V9LHEucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXFxcLS8sXCItXCIpfXZhciBkPWIoYSkuc3BsaXQoLy0oPyFcXFxcKS8pLGU9bihkLGIpO3JldHVybiBuKGUsYykucmV2ZXJzZSgpfXZhciBkPXRoaXMucmVnZXhwLmV4ZWMoYSk7aWYoIWQpcmV0dXJuIG51bGw7Yj1ifHx7fTt2YXIgZSxmLGcsaD10aGlzLnBhcmFtZXRlcnMoKSxpPWgubGVuZ3RoLGo9dGhpcy5zZWdtZW50cy5sZW5ndGgtMSxrPXt9O2lmKGohPT1kLmxlbmd0aC0xKXRocm93IG5ldyBFcnJvcihcIlVuYmFsYW5jZWQgY2FwdHVyZSBncm91cCBpbiByb3V0ZSAnXCIrdGhpcy5zb3VyY2UrXCInXCIpO2ZvcihlPTA7aj5lO2UrKyl7Zz1oW2VdO3ZhciBsPXRoaXMucGFyYW1zW2ddLG09ZFtlKzFdO2ZvcihmPTA7ZjxsLnJlcGxhY2U7ZisrKWwucmVwbGFjZVtmXS5mcm9tPT09bSYmKG09bC5yZXBsYWNlW2ZdLnRvKTttJiZsLmFycmF5PT09ITAmJihtPWMobSkpLGtbZ109bC52YWx1ZShtKX1mb3IoO2k+ZTtlKyspZz1oW2VdLGtbZ109dGhpcy5wYXJhbXNbZ10udmFsdWUoYltnXSk7cmV0dXJuIGt9LHEucHJvdG90eXBlLnBhcmFtZXRlcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIEcoYSk/dGhpcy5wYXJhbXNbYV18fG51bGw6dGhpcy4kJHBhcmFtTmFtZXN9LHEucHJvdG90eXBlLnZhbGlkYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYXJhbXMuJCR2YWxpZGF0ZXMoYSl9LHEucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiJTVDJVwiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pfWE9YXx8e307dmFyIGM9dGhpcy5zZWdtZW50cyxkPXRoaXMucGFyYW1ldGVycygpLGU9dGhpcy5wYXJhbXM7aWYoIXRoaXMudmFsaWRhdGVzKGEpKXJldHVybiBudWxsO3ZhciBmLGc9ITEsaD1jLmxlbmd0aC0xLGk9ZC5sZW5ndGgsaj1jWzBdO2ZvcihmPTA7aT5mO2YrKyl7dmFyIGs9aD5mLGw9ZFtmXSxtPWVbbF0sbz1tLnZhbHVlKGFbbF0pLHA9bS5pc09wdGlvbmFsJiZtLnR5cGUuZXF1YWxzKG0udmFsdWUoKSxvKSxxPXA/bS5zcXVhc2g6ITEscj1tLnR5cGUuZW5jb2RlKG8pO2lmKGspe3ZhciBzPWNbZisxXTtpZihxPT09ITEpbnVsbCE9ciYmKGorPUsocik/bihyLGIpLmpvaW4oXCItXCIpOmVuY29kZVVSSUNvbXBvbmVudChyKSksais9cztlbHNlIGlmKHE9PT0hMCl7dmFyIHQ9ai5tYXRjaCgvXFwvJC8pPy9cXC8/KC4qKS86LyguKikvO2orPXMubWF0Y2godClbMV19ZWxzZSBJKHEpJiYoais9cStzKX1lbHNle2lmKG51bGw9PXJ8fHAmJnEhPT0hMSljb250aW51ZTtLKHIpfHwocj1bcl0pLHI9bihyLGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIiZcIitsK1wiPVwiKSxqKz0oZz9cIiZcIjpcIj9cIikrKGwrXCI9XCIrciksZz0hMH19cmV0dXJuIGp9LHIucHJvdG90eXBlLmlzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHIucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhKXtyZXR1cm4gYX0sci5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxyLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yn0sci5wcm90b3R5cGUuJHN1YlBhdHRlcm49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhdHRlcm4udG9TdHJpbmcoKTtyZXR1cm4gYS5zdWJzdHIoMSxhLmxlbmd0aC0yKX0sci5wcm90b3R5cGUucGF0dGVybj0vLiovLHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJ7VHlwZTpcIit0aGlzLm5hbWUrXCJ9XCJ9LHIucHJvdG90eXBlLiRhc0FycmF5PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhLGIpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuIEsoYSk/YTpHKGEpP1thXTpbXX1mdW5jdGlvbiBmKGEpe3N3aXRjaChhLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBjO2Nhc2UgMTpyZXR1cm5cImF1dG9cIj09PWI/YVswXTphO2RlZmF1bHQ6cmV0dXJuIGF9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIWF9ZnVuY3Rpb24gaChhLGIpe3JldHVybiBmdW5jdGlvbihjKXtjPWUoYyk7dmFyIGQ9bihjLGEpO3JldHVybiBiPT09ITA/MD09PW0oZCxnKS5sZW5ndGg6ZihkKX19ZnVuY3Rpb24gaShhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZD1lKGIpLGY9ZShjKTtpZihkLmxlbmd0aCE9PWYubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZz0wO2c8ZC5sZW5ndGg7ZysrKWlmKCFhKGRbZ10sZltnXSkpcmV0dXJuITE7cmV0dXJuITB9fXRoaXMuZW5jb2RlPWgoZChhLFwiZW5jb2RlXCIpKSx0aGlzLmRlY29kZT1oKGQoYSxcImRlY29kZVwiKSksdGhpcy5pcz1oKGQoYSxcImlzXCIpLCEwKSx0aGlzLmVxdWFscz1pKGQoYSxcImVxdWFsc1wiKSksdGhpcy5wYXR0ZXJuPWEucGF0dGVybix0aGlzLiRhcnJheU1vZGU9Yn1pZighYSlyZXR1cm4gdGhpcztpZihcImF1dG9cIj09PWEmJiFiKXRocm93IG5ldyBFcnJvcihcIidhdXRvJyBhcnJheSBtb2RlIGlzIGZvciBxdWVyeSBwYXJhbWV0ZXJzIG9ubHlcIik7cmV0dXJuIG5ldyBkKHRoaXMsYSl9LGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikucHJvdmlkZXIoXCIkdXJsTWF0Y2hlckZhY3RvcnlcIixzKSxiLm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIpLnJ1bihbXCIkdXJsTWF0Y2hlckZhY3RvcnlcIixmdW5jdGlvbigpe31dKSx0LiRpbmplY3Q9W1wiJGxvY2F0aW9uUHJvdmlkZXJcIixcIiR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnJvdXRlclwiKS5wcm92aWRlcihcIiR1cmxSb3V0ZXJcIix0KSx1LiRpbmplY3Q9W1wiJHVybFJvdXRlclByb3ZpZGVyXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlclwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS52YWx1ZShcIiRzdGF0ZVBhcmFtc1wiLHt9KS5wcm92aWRlcihcIiRzdGF0ZVwiLHUpLHYuJGluamVjdD1bXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5wcm92aWRlcihcIiR2aWV3XCIsdiksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkdWlWaWV3U2Nyb2xsXCIsdykseC4kaW5qZWN0PVtcIiRzdGF0ZVwiLFwiJGluamVjdG9yXCIsXCIkdWlWaWV3U2Nyb2xsXCIsXCIkaW50ZXJwb2xhdGVcIl0seS4kaW5qZWN0PVtcIiRjb21waWxlXCIsXCIkY29udHJvbGxlclwiLFwiJHN0YXRlXCIsXCIkaW50ZXJwb2xhdGVcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlWaWV3XCIseCksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlWaWV3XCIseSksQy4kaW5qZWN0PVtcIiRzdGF0ZVwiLFwiJHRpbWVvdXRcIl0sRC4kaW5qZWN0PVtcIiRzdGF0ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkaW50ZXJwb2xhdGVcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlTcmVmXCIsQykuZGlyZWN0aXZlKFwidWlTcmVmQWN0aXZlXCIsRCkuZGlyZWN0aXZlKFwidWlTcmVmQWN0aXZlRXFcIixEKSxFLiRpbmplY3Q9W1wiJHN0YXRlXCJdLEYuJGluamVjdD1bXCIkc3RhdGVcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZmlsdGVyKFwiaXNTdGF0ZVwiLEUpLmZpbHRlcihcImluY2x1ZGVkQnlTdGF0ZVwiLEYpfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xufSkuY2FsbChnbG9iYWwsIG1vZHVsZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG47X19icm93c2VyaWZ5X3NoaW1fcmVxdWlyZV9fPXJlcXVpcmU7KGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZXhwb3J0cywgcmVxdWlyZSwgZGVmaW5lLCBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXykge1xuLypcbiBBbmd1bGFySlMgdjEuMy42XG4gKGMpIDIwMTAtMjAxNCBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24oVSxYLHUpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBBKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50c1swXSxjO2M9XCJbXCIrKGI/YitcIjpcIjpcIlwiKSthK1wiXSBodHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS4zLjYvXCIrKGI/YitcIi9cIjpcIlwiKSthO2ZvcihhPTE7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyl7Yz1jKygxPT1hP1wiP1wiOlwiJlwiKStcInBcIisoYS0xKStcIj1cIjt2YXIgZD1lbmNvZGVVUklDb21wb25lbnQsZTtlPWFyZ3VtZW50c1thXTtlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZS50b1N0cmluZygpLnJlcGxhY2UoLyBcXHtbXFxzXFxTXSokLyxcIlwiKTpcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOlwic3RyaW5nXCIhPXR5cGVvZiBlP0pTT04uc3RyaW5naWZ5KGUpOmU7Yys9ZChlKX1yZXR1cm4gRXJyb3IoYyl9fWZ1bmN0aW9uIFJhKGIpe2lmKG51bGw9PWJ8fFNhKGIpKXJldHVybiExO3ZhciBhPWIubGVuZ3RoO3JldHVybiBiLm5vZGVUeXBlPT09XG5uYSYmYT8hMDp6KGIpfHx4KGIpfHwwPT09YXx8XCJudW1iZXJcIj09PXR5cGVvZiBhJiYwPGEmJmEtMSBpbiBifWZ1bmN0aW9uIHIoYixhLGMpe3ZhciBkLGU7aWYoYilpZihCKGIpKWZvcihkIGluIGIpXCJwcm90b3R5cGVcIj09ZHx8XCJsZW5ndGhcIj09ZHx8XCJuYW1lXCI9PWR8fGIuaGFzT3duUHJvcGVydHkmJiFiLmhhc093blByb3BlcnR5KGQpfHxhLmNhbGwoYyxiW2RdLGQsYik7ZWxzZSBpZih4KGIpfHxSYShiKSl7dmFyIGY9XCJvYmplY3RcIiE9PXR5cGVvZiBiO2Q9MDtmb3IoZT1iLmxlbmd0aDtkPGU7ZCsrKShmfHxkIGluIGIpJiZhLmNhbGwoYyxiW2RdLGQsYil9ZWxzZSBpZihiLmZvckVhY2gmJmIuZm9yRWFjaCE9PXIpYi5mb3JFYWNoKGEsYyxiKTtlbHNlIGZvcihkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmYS5jYWxsKGMsYltkXSxkLGIpO3JldHVybiBifWZ1bmN0aW9uIENkKGIsYSxjKXtmb3IodmFyIGQ9T2JqZWN0LmtleXMoYikuc29ydCgpLGU9MDtlPGQubGVuZ3RoO2UrKylhLmNhbGwoYyxcbmJbZFtlXV0sZFtlXSk7cmV0dXJuIGR9ZnVuY3Rpb24ga2MoYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7YihjLGEpfX1mdW5jdGlvbiBEZCgpe3JldHVybisra2J9ZnVuY3Rpb24gbGMoYixhKXthP2IuJCRoYXNoS2V5PWE6ZGVsZXRlIGIuJCRoYXNoS2V5fWZ1bmN0aW9uIEcoYil7Zm9yKHZhciBhPWIuJCRoYXNoS2V5LGM9MSxkPWFyZ3VtZW50cy5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9YXJndW1lbnRzW2NdO2lmKGUpZm9yKHZhciBmPU9iamVjdC5rZXlzKGUpLGc9MCxoPWYubGVuZ3RoO2c8aDtnKyspe3ZhciBrPWZbZ107YltrXT1lW2tdfX1sYyhiLGEpO3JldHVybiBifWZ1bmN0aW9uICQoYil7cmV0dXJuIHBhcnNlSW50KGIsMTApfWZ1bmN0aW9uIEgoKXt9ZnVuY3Rpb24gb2EoYil7cmV0dXJuIGJ9ZnVuY3Rpb24gY2EoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJ9fWZ1bmN0aW9uIEMoYil7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBifWZ1bmN0aW9uIHkoYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PVxudHlwZW9mIGJ9ZnVuY3Rpb24gTyhiKXtyZXR1cm4gbnVsbCE9PWImJlwib2JqZWN0XCI9PT10eXBlb2YgYn1mdW5jdGlvbiB6KGIpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYn1mdW5jdGlvbiBZKGIpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgYn1mdW5jdGlvbiBwYShiKXtyZXR1cm5cIltvYmplY3QgRGF0ZV1cIj09PUphLmNhbGwoYil9ZnVuY3Rpb24gQihiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYn1mdW5jdGlvbiBsYihiKXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09SmEuY2FsbChiKX1mdW5jdGlvbiBTYShiKXtyZXR1cm4gYiYmYi53aW5kb3c9PT1ifWZ1bmN0aW9uIFRhKGIpe3JldHVybiBiJiZiLiRldmFsQXN5bmMmJmIuJHdhdGNofWZ1bmN0aW9uIFVhKGIpe3JldHVyblwiYm9vbGVhblwiPT09dHlwZW9mIGJ9ZnVuY3Rpb24gbWMoYil7cmV0dXJuISghYnx8IShiLm5vZGVOYW1lfHxiLnByb3AmJmIuYXR0ciYmYi5maW5kKSl9ZnVuY3Rpb24gRWQoYil7dmFyIGE9e307XG5iPWIuc3BsaXQoXCIsXCIpO3ZhciBjO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspYVtiW2NdXT0hMDtyZXR1cm4gYX1mdW5jdGlvbiB1YShiKXtyZXR1cm4gUShiLm5vZGVOYW1lfHxiWzBdJiZiWzBdLm5vZGVOYW1lKX1mdW5jdGlvbiBWYShiLGEpe3ZhciBjPWIuaW5kZXhPZihhKTswPD1jJiZiLnNwbGljZShjLDEpO3JldHVybiBhfWZ1bmN0aW9uIERhKGIsYSxjLGQpe2lmKFNhKGIpfHxUYShiKSl0aHJvdyBXYShcImNwd3NcIik7aWYoYSl7aWYoYj09PWEpdGhyb3cgV2EoXCJjcGlcIik7Yz1jfHxbXTtkPWR8fFtdO2lmKE8oYikpe3ZhciBlPWMuaW5kZXhPZihiKTtpZigtMSE9PWUpcmV0dXJuIGRbZV07Yy5wdXNoKGIpO2QucHVzaChhKX1pZih4KGIpKWZvcih2YXIgZj1hLmxlbmd0aD0wO2Y8Yi5sZW5ndGg7ZisrKWU9RGEoYltmXSxudWxsLGMsZCksTyhiW2ZdKSYmKGMucHVzaChiW2ZdKSxkLnB1c2goZSkpLGEucHVzaChlKTtlbHNle3ZhciBnPWEuJCRoYXNoS2V5O3goYSk/YS5sZW5ndGg9XG4wOnIoYSxmdW5jdGlvbihiLGMpe2RlbGV0ZSBhW2NdfSk7Zm9yKGYgaW4gYiliLmhhc093blByb3BlcnR5KGYpJiYoZT1EYShiW2ZdLG51bGwsYyxkKSxPKGJbZl0pJiYoYy5wdXNoKGJbZl0pLGQucHVzaChlKSksYVtmXT1lKTtsYyhhLGcpfX1lbHNlIGlmKGE9Yil4KGIpP2E9RGEoYixbXSxjLGQpOnBhKGIpP2E9bmV3IERhdGUoYi5nZXRUaW1lKCkpOmxiKGIpPyhhPW5ldyBSZWdFeHAoYi5zb3VyY2UsYi50b1N0cmluZygpLm1hdGNoKC9bXlxcL10qJC8pWzBdKSxhLmxhc3RJbmRleD1iLmxhc3RJbmRleCk6TyhiKSYmKGU9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpLGE9RGEoYixlLGMsZCkpO3JldHVybiBhfWZ1bmN0aW9uIHFhKGIsYSl7aWYoeChiKSl7YT1hfHxbXTtmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYVtjXT1iW2NdfWVsc2UgaWYoTyhiKSlmb3IoYyBpbiBhPWF8fHt9LGIpaWYoXCIkXCIhPT1jLmNoYXJBdCgwKXx8XCIkXCIhPT1jLmNoYXJBdCgxKSlhW2NdPVxuYltjXTtyZXR1cm4gYXx8Yn1mdW5jdGlvbiBnYShiLGEpe2lmKGI9PT1hKXJldHVybiEwO2lmKG51bGw9PT1ifHxudWxsPT09YSlyZXR1cm4hMTtpZihiIT09YiYmYSE9PWEpcmV0dXJuITA7dmFyIGM9dHlwZW9mIGIsZDtpZihjPT10eXBlb2YgYSYmXCJvYmplY3RcIj09YylpZih4KGIpKXtpZigheChhKSlyZXR1cm4hMTtpZigoYz1iLmxlbmd0aCk9PWEubGVuZ3RoKXtmb3IoZD0wO2Q8YztkKyspaWYoIWdhKGJbZF0sYVtkXSkpcmV0dXJuITE7cmV0dXJuITB9fWVsc2V7aWYocGEoYikpcmV0dXJuIHBhKGEpP2dhKGIuZ2V0VGltZSgpLGEuZ2V0VGltZSgpKTohMTtpZihsYihiKSYmbGIoYSkpcmV0dXJuIGIudG9TdHJpbmcoKT09YS50b1N0cmluZygpO2lmKFRhKGIpfHxUYShhKXx8U2EoYil8fFNhKGEpfHx4KGEpKXJldHVybiExO2M9e307Zm9yKGQgaW4gYilpZihcIiRcIiE9PWQuY2hhckF0KDApJiYhQihiW2RdKSl7aWYoIWdhKGJbZF0sYVtkXSkpcmV0dXJuITE7Y1tkXT0hMH1mb3IoZCBpbiBhKWlmKCFjLmhhc093blByb3BlcnR5KGQpJiZcblwiJFwiIT09ZC5jaGFyQXQoMCkmJmFbZF0hPT11JiYhQihhW2RdKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBYYShiLGEsYyl7cmV0dXJuIGIuY29uY2F0KFlhLmNhbGwoYSxjKSl9ZnVuY3Rpb24gbmMoYixhKXt2YXIgYz0yPGFyZ3VtZW50cy5sZW5ndGg/WWEuY2FsbChhcmd1bWVudHMsMik6W107cmV0dXJuIUIoYSl8fGEgaW5zdGFuY2VvZiBSZWdFeHA/YTpjLmxlbmd0aD9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2EuYXBwbHkoYixYYShjLGFyZ3VtZW50cywwKSk6YS5hcHBseShiLGMpfTpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2EuYXBwbHkoYixhcmd1bWVudHMpOmEuY2FsbChiKX19ZnVuY3Rpb24gRmQoYixhKXt2YXIgYz1hO1wic3RyaW5nXCI9PT10eXBlb2YgYiYmXCIkXCI9PT1iLmNoYXJBdCgwKSYmXCIkXCI9PT1iLmNoYXJBdCgxKT9jPXU6U2EoYSk/Yz1cIiRXSU5ET1dcIjphJiZYPT09YT9jPVwiJERPQ1VNRU5UXCI6VGEoYSkmJlxuKGM9XCIkU0NPUEVcIik7cmV0dXJuIGN9ZnVuY3Rpb24gWmEoYixhKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGIpcmV0dXJuIHU7WShhKXx8KGE9YT8yOm51bGwpO3JldHVybiBKU09OLnN0cmluZ2lmeShiLEZkLGEpfWZ1bmN0aW9uIG9jKGIpe3JldHVybiB6KGIpP0pTT04ucGFyc2UoYik6Yn1mdW5jdGlvbiB2YShiKXtiPUQoYikuY2xvbmUoKTt0cnl7Yi5lbXB0eSgpfWNhdGNoKGEpe312YXIgYz1EKFwiPGRpdj5cIikuYXBwZW5kKGIpLmh0bWwoKTt0cnl7cmV0dXJuIGJbMF0ubm9kZVR5cGU9PT1tYj9RKGMpOmMubWF0Y2goL14oPFtePl0rPikvKVsxXS5yZXBsYWNlKC9ePChbXFx3XFwtXSspLyxmdW5jdGlvbihhLGIpe3JldHVyblwiPFwiK1EoYil9KX1jYXRjaChkKXtyZXR1cm4gUShjKX19ZnVuY3Rpb24gcGMoYil7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9Y2F0Y2goYSl7fX1mdW5jdGlvbiBxYyhiKXt2YXIgYT17fSxjLGQ7cigoYnx8XCJcIikuc3BsaXQoXCImXCIpLGZ1bmN0aW9uKGIpe2ImJlxuKGM9Yi5yZXBsYWNlKC9cXCsvZyxcIiUyMFwiKS5zcGxpdChcIj1cIiksZD1wYyhjWzBdKSx5KGQpJiYoYj15KGNbMV0pP3BjKGNbMV0pOiEwLHJjLmNhbGwoYSxkKT94KGFbZF0pP2FbZF0ucHVzaChiKTphW2RdPVthW2RdLGJdOmFbZF09YikpfSk7cmV0dXJuIGF9ZnVuY3Rpb24gTmIoYil7dmFyIGE9W107cihiLGZ1bmN0aW9uKGIsZCl7eChiKT9yKGIsZnVuY3Rpb24oYil7YS5wdXNoKEVhKGQsITApKyghMD09PWI/XCJcIjpcIj1cIitFYShiLCEwKSkpfSk6YS5wdXNoKEVhKGQsITApKyghMD09PWI/XCJcIjpcIj1cIitFYShiLCEwKSkpfSk7cmV0dXJuIGEubGVuZ3RoP2Euam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBuYihiKXtyZXR1cm4gRWEoYiwhMCkucmVwbGFjZSgvJTI2L2dpLFwiJlwiKS5yZXBsYWNlKC8lM0QvZ2ksXCI9XCIpLnJlcGxhY2UoLyUyQi9naSxcIitcIil9ZnVuY3Rpb24gRWEoYixhKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyU0MC9naSxcIkBcIikucmVwbGFjZSgvJTNBL2dpLFxuXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUzQi9naSxcIjtcIikucmVwbGFjZSgvJTIwL2csYT9cIiUyMFwiOlwiK1wiKX1mdW5jdGlvbiBHZChiLGEpe3ZhciBjLGQsZT1vYi5sZW5ndGg7Yj1EKGIpO2ZvcihkPTA7ZDxlOysrZClpZihjPW9iW2RdK2EseihjPWIuYXR0cihjKSkpcmV0dXJuIGM7cmV0dXJuIG51bGx9ZnVuY3Rpb24gSGQoYixhKXt2YXIgYyxkLGU9e307cihvYixmdW5jdGlvbihhKXthKz1cImFwcFwiOyFjJiZiLmhhc0F0dHJpYnV0ZSYmYi5oYXNBdHRyaWJ1dGUoYSkmJihjPWIsZD1iLmdldEF0dHJpYnV0ZShhKSl9KTtyKG9iLGZ1bmN0aW9uKGEpe2ErPVwiYXBwXCI7dmFyIGU7IWMmJihlPWIucXVlcnlTZWxlY3RvcihcIltcIithLnJlcGxhY2UoXCI6XCIsXCJcXFxcOlwiKStcIl1cIikpJiYoYz1lLGQ9ZS5nZXRBdHRyaWJ1dGUoYSkpfSk7YyYmKGUuc3RyaWN0RGk9bnVsbCE9PUdkKGMsXCJzdHJpY3QtZGlcIiksYShjLGQ/W2RdOltdLGUpKX1mdW5jdGlvbiBzYyhiLFxuYSxjKXtPKGMpfHwoYz17fSk7Yz1HKHtzdHJpY3REaTohMX0sYyk7dmFyIGQ9ZnVuY3Rpb24oKXtiPUQoYik7aWYoYi5pbmplY3RvcigpKXt2YXIgZD1iWzBdPT09WD9cImRvY3VtZW50XCI6dmEoYik7dGhyb3cgV2EoXCJidHN0cnBkXCIsZC5yZXBsYWNlKC88LyxcIiZsdDtcIikucmVwbGFjZSgvPi8sXCImZ3Q7XCIpKTt9YT1hfHxbXTthLnVuc2hpZnQoW1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXthLnZhbHVlKFwiJHJvb3RFbGVtZW50XCIsYil9XSk7Yy5kZWJ1Z0luZm9FbmFibGVkJiZhLnB1c2goW1wiJGNvbXBpbGVQcm92aWRlclwiLGZ1bmN0aW9uKGEpe2EuZGVidWdJbmZvRW5hYmxlZCghMCl9XSk7YS51bnNoaWZ0KFwibmdcIik7ZD1PYihhLGMuc3RyaWN0RGkpO2QuaW52b2tlKFtcIiRyb290U2NvcGVcIixcIiRyb290RWxlbWVudFwiLFwiJGNvbXBpbGVcIixcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEsYixjLGQpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7Yi5kYXRhKFwiJGluamVjdG9yXCIsZCk7YyhiKShhKX0pfV0pO3JldHVybiBkfSxcbmU9L15OR19FTkFCTEVfREVCVUdfSU5GTyEvLGY9L15OR19ERUZFUl9CT09UU1RSQVAhLztVJiZlLnRlc3QoVS5uYW1lKSYmKGMuZGVidWdJbmZvRW5hYmxlZD0hMCxVLm5hbWU9VS5uYW1lLnJlcGxhY2UoZSxcIlwiKSk7aWYoVSYmIWYudGVzdChVLm5hbWUpKXJldHVybiBkKCk7VS5uYW1lPVUubmFtZS5yZXBsYWNlKGYsXCJcIik7aGEucmVzdW1lQm9vdHN0cmFwPWZ1bmN0aW9uKGIpe3IoYixmdW5jdGlvbihiKXthLnB1c2goYil9KTtkKCl9fWZ1bmN0aW9uIElkKCl7VS5uYW1lPVwiTkdfRU5BQkxFX0RFQlVHX0lORk8hXCIrVS5uYW1lO1UubG9jYXRpb24ucmVsb2FkKCl9ZnVuY3Rpb24gSmQoYil7cmV0dXJuIGhhLmVsZW1lbnQoYikuaW5qZWN0b3IoKS5nZXQoXCIkJHRlc3RhYmlsaXR5XCIpfWZ1bmN0aW9uIFBiKGIsYSl7YT1hfHxcIl9cIjtyZXR1cm4gYi5yZXBsYWNlKEtkLGZ1bmN0aW9uKGIsZCl7cmV0dXJuKGQ/YTpcIlwiKStiLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBMZCgpe3ZhciBiO1xudGN8fCgocmE9VS5qUXVlcnkpJiZyYS5mbi5vbj8oRD1yYSxHKHJhLmZuLHtzY29wZTpLYS5zY29wZSxpc29sYXRlU2NvcGU6S2EuaXNvbGF0ZVNjb3BlLGNvbnRyb2xsZXI6S2EuY29udHJvbGxlcixpbmplY3RvcjpLYS5pbmplY3Rvcixpbmhlcml0ZWREYXRhOkthLmluaGVyaXRlZERhdGF9KSxiPXJhLmNsZWFuRGF0YSxyYS5jbGVhbkRhdGE9ZnVuY3Rpb24oYSl7dmFyIGM7aWYoUWIpUWI9ITE7ZWxzZSBmb3IodmFyIGQ9MCxlO251bGwhPShlPWFbZF0pO2QrKykoYz1yYS5fZGF0YShlLFwiZXZlbnRzXCIpKSYmYy4kZGVzdHJveSYmcmEoZSkudHJpZ2dlckhhbmRsZXIoXCIkZGVzdHJveVwiKTtiKGEpfSk6RD1SLGhhLmVsZW1lbnQ9RCx0Yz0hMCl9ZnVuY3Rpb24gUmIoYixhLGMpe2lmKCFiKXRocm93IFdhKFwiYXJlcVwiLGF8fFwiP1wiLGN8fFwicmVxdWlyZWRcIik7cmV0dXJuIGJ9ZnVuY3Rpb24gcGIoYixhLGMpe2MmJngoYikmJihiPWJbYi5sZW5ndGgtMV0pO1JiKEIoYiksYSxcIm5vdCBhIGZ1bmN0aW9uLCBnb3QgXCIrXG4oYiYmXCJvYmplY3RcIj09PXR5cGVvZiBiP2IuY29uc3RydWN0b3IubmFtZXx8XCJPYmplY3RcIjp0eXBlb2YgYikpO3JldHVybiBifWZ1bmN0aW9uIExhKGIsYSl7aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09Yil0aHJvdyBXYShcImJhZG5hbWVcIixhKTt9ZnVuY3Rpb24gdWMoYixhLGMpe2lmKCFhKXJldHVybiBiO2E9YS5zcGxpdChcIi5cIik7Zm9yKHZhciBkLGU9YixmPWEubGVuZ3RoLGc9MDtnPGY7ZysrKWQ9YVtnXSxiJiYoYj0oZT1iKVtkXSk7cmV0dXJuIWMmJkIoYik/bmMoZSxiKTpifWZ1bmN0aW9uIHFiKGIpe3ZhciBhPWJbMF07Yj1iW2IubGVuZ3RoLTFdO3ZhciBjPVthXTtkb3thPWEubmV4dFNpYmxpbmc7aWYoIWEpYnJlYWs7Yy5wdXNoKGEpfXdoaWxlKGEhPT1iKTtyZXR1cm4gRChjKX1mdW5jdGlvbiBpYSgpe3JldHVybiBPYmplY3QuY3JlYXRlKG51bGwpfWZ1bmN0aW9uIE1kKGIpe2Z1bmN0aW9uIGEoYSxiLGMpe3JldHVybiBhW2JdfHwoYVtiXT1jKCkpfXZhciBjPUEoXCIkaW5qZWN0b3JcIiksXG5kPUEoXCJuZ1wiKTtiPWEoYixcImFuZ3VsYXJcIixPYmplY3QpO2IuJCRtaW5FcnI9Yi4kJG1pbkVycnx8QTtyZXR1cm4gYShiLFwibW9kdWxlXCIsZnVuY3Rpb24oKXt2YXIgYj17fTtyZXR1cm4gZnVuY3Rpb24oZixnLGgpe2lmKFwiaGFzT3duUHJvcGVydHlcIj09PWYpdGhyb3cgZChcImJhZG5hbWVcIixcIm1vZHVsZVwiKTtnJiZiLmhhc093blByb3BlcnR5KGYpJiYoYltmXT1udWxsKTtyZXR1cm4gYShiLGYsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMsZCxlLGYpe2Z8fChmPWIpO3JldHVybiBmdW5jdGlvbigpe2ZbZXx8XCJwdXNoXCJdKFtjLGQsYXJndW1lbnRzXSk7cmV0dXJuIHR9fWlmKCFnKXRocm93IGMoXCJub21vZFwiLGYpO3ZhciBiPVtdLGQ9W10sZT1bXSxxPWEoXCIkaW5qZWN0b3JcIixcImludm9rZVwiLFwicHVzaFwiLGQpLHQ9e19pbnZva2VRdWV1ZTpiLF9jb25maWdCbG9ja3M6ZCxfcnVuQmxvY2tzOmUscmVxdWlyZXM6ZyxuYW1lOmYscHJvdmlkZXI6YShcIiRwcm92aWRlXCIsXCJwcm92aWRlclwiKSxmYWN0b3J5OmEoXCIkcHJvdmlkZVwiLFxuXCJmYWN0b3J5XCIpLHNlcnZpY2U6YShcIiRwcm92aWRlXCIsXCJzZXJ2aWNlXCIpLHZhbHVlOmEoXCIkcHJvdmlkZVwiLFwidmFsdWVcIiksY29uc3RhbnQ6YShcIiRwcm92aWRlXCIsXCJjb25zdGFudFwiLFwidW5zaGlmdFwiKSxhbmltYXRpb246YShcIiRhbmltYXRlUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGZpbHRlcjphKFwiJGZpbHRlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxjb250cm9sbGVyOmEoXCIkY29udHJvbGxlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxkaXJlY3RpdmU6YShcIiRjb21waWxlUHJvdmlkZXJcIixcImRpcmVjdGl2ZVwiKSxjb25maWc6cSxydW46ZnVuY3Rpb24oYSl7ZS5wdXNoKGEpO3JldHVybiB0aGlzfX07aCYmcShoKTtyZXR1cm4gdH0pfX0pfWZ1bmN0aW9uIE5kKGIpe0coYix7Ym9vdHN0cmFwOnNjLGNvcHk6RGEsZXh0ZW5kOkcsZXF1YWxzOmdhLGVsZW1lbnQ6RCxmb3JFYWNoOnIsaW5qZWN0b3I6T2Isbm9vcDpILGJpbmQ6bmMsdG9Kc29uOlphLGZyb21Kc29uOm9jLGlkZW50aXR5Om9hLGlzVW5kZWZpbmVkOkMsXG5pc0RlZmluZWQ6eSxpc1N0cmluZzp6LGlzRnVuY3Rpb246Qixpc09iamVjdDpPLGlzTnVtYmVyOlksaXNFbGVtZW50Om1jLGlzQXJyYXk6eCx2ZXJzaW9uOk9kLGlzRGF0ZTpwYSxsb3dlcmNhc2U6USx1cHBlcmNhc2U6cmIsY2FsbGJhY2tzOntjb3VudGVyOjB9LGdldFRlc3RhYmlsaXR5OkpkLCQkbWluRXJyOkEsJCRjc3A6JGEscmVsb2FkV2l0aERlYnVnSW5mbzpJZH0pO2FiPU1kKFUpO3RyeXthYihcIm5nTG9jYWxlXCIpfWNhdGNoKGEpe2FiKFwibmdMb2NhbGVcIixbXSkucHJvdmlkZXIoXCIkbG9jYWxlXCIsUGQpfWFiKFwibmdcIixbXCJuZ0xvY2FsZVwiXSxbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGEpe2EucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6UWR9KTthLnByb3ZpZGVyKFwiJGNvbXBpbGVcIix2YykuZGlyZWN0aXZlKHthOlJkLGlucHV0OndjLHRleHRhcmVhOndjLGZvcm06U2Qsc2NyaXB0OlRkLHNlbGVjdDpVZCxzdHlsZTpWZCxvcHRpb246V2QsbmdCaW5kOlhkLG5nQmluZEh0bWw6WWQsbmdCaW5kVGVtcGxhdGU6WmQsXG5uZ0NsYXNzOiRkLG5nQ2xhc3NFdmVuOmFlLG5nQ2xhc3NPZGQ6YmUsbmdDbG9hazpjZSxuZ0NvbnRyb2xsZXI6ZGUsbmdGb3JtOmVlLG5nSGlkZTpmZSxuZ0lmOmdlLG5nSW5jbHVkZTpoZSxuZ0luaXQ6aWUsbmdOb25CaW5kYWJsZTpqZSxuZ1BsdXJhbGl6ZTprZSxuZ1JlcGVhdDpsZSxuZ1Nob3c6bWUsbmdTdHlsZTpuZSxuZ1N3aXRjaDpvZSxuZ1N3aXRjaFdoZW46cGUsbmdTd2l0Y2hEZWZhdWx0OnFlLG5nT3B0aW9uczpyZSxuZ1RyYW5zY2x1ZGU6c2UsbmdNb2RlbDp0ZSxuZ0xpc3Q6dWUsbmdDaGFuZ2U6dmUscGF0dGVybjp4YyxuZ1BhdHRlcm46eGMscmVxdWlyZWQ6eWMsbmdSZXF1aXJlZDp5YyxtaW5sZW5ndGg6emMsbmdNaW5sZW5ndGg6emMsbWF4bGVuZ3RoOkFjLG5nTWF4bGVuZ3RoOkFjLG5nVmFsdWU6d2UsbmdNb2RlbE9wdGlvbnM6eGV9KS5kaXJlY3RpdmUoe25nSW5jbHVkZTp5ZX0pLmRpcmVjdGl2ZShzYikuZGlyZWN0aXZlKEJjKTthLnByb3ZpZGVyKHskYW5jaG9yU2Nyb2xsOnplLFxuJGFuaW1hdGU6QWUsJGJyb3dzZXI6QmUsJGNhY2hlRmFjdG9yeTpDZSwkY29udHJvbGxlcjpEZSwkZG9jdW1lbnQ6RWUsJGV4Y2VwdGlvbkhhbmRsZXI6RmUsJGZpbHRlcjpDYywkaW50ZXJwb2xhdGU6R2UsJGludGVydmFsOkhlLCRodHRwOkllLCRodHRwQmFja2VuZDpKZSwkbG9jYXRpb246S2UsJGxvZzpMZSwkcGFyc2U6TWUsJHJvb3RTY29wZTpOZSwkcTpPZSwkJHE6UGUsJHNjZTpRZSwkc2NlRGVsZWdhdGU6UmUsJHNuaWZmZXI6U2UsJHRlbXBsYXRlQ2FjaGU6VGUsJHRlbXBsYXRlUmVxdWVzdDpVZSwkJHRlc3RhYmlsaXR5OlZlLCR0aW1lb3V0OldlLCR3aW5kb3c6WGUsJCRyQUY6WWUsJCRhc3luY0NhbGxiYWNrOlplLCQkanFMaXRlOiRlfSl9XSl9ZnVuY3Rpb24gYmIoYil7cmV0dXJuIGIucmVwbGFjZShhZixmdW5jdGlvbihhLGIsZCxlKXtyZXR1cm4gZT9kLnRvVXBwZXJDYXNlKCk6ZH0pLnJlcGxhY2UoYmYsXCJNb3okMVwiKX1mdW5jdGlvbiBEYyhiKXtiPWIubm9kZVR5cGU7XG5yZXR1cm4gYj09PW5hfHwhYnx8OT09PWJ9ZnVuY3Rpb24gRWMoYixhKXt2YXIgYyxkLGU9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZj1bXTtpZihTYi50ZXN0KGIpKXtjPWN8fGUuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtkPShjZi5leGVjKGIpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKTtkPWphW2RdfHxqYS5fZGVmYXVsdDtjLmlubmVySFRNTD1kWzFdK2IucmVwbGFjZShkZixcIjwkMT48LyQyPlwiKStkWzJdO2ZvcihkPWRbMF07ZC0tOyljPWMubGFzdENoaWxkO2Y9WGEoZixjLmNoaWxkTm9kZXMpO2M9ZS5maXJzdENoaWxkO2MudGV4dENvbnRlbnQ9XCJcIn1lbHNlIGYucHVzaChhLmNyZWF0ZVRleHROb2RlKGIpKTtlLnRleHRDb250ZW50PVwiXCI7ZS5pbm5lckhUTUw9XCJcIjtyKGYsZnVuY3Rpb24oYSl7ZS5hcHBlbmRDaGlsZChhKX0pO3JldHVybiBlfWZ1bmN0aW9uIFIoYil7aWYoYiBpbnN0YW5jZW9mIFIpcmV0dXJuIGI7dmFyIGE7eihiKSYmKGI9UChiKSxcbmE9ITApO2lmKCEodGhpcyBpbnN0YW5jZW9mIFIpKXtpZihhJiZcIjxcIiE9Yi5jaGFyQXQoMCkpdGhyb3cgVGIoXCJub3NlbFwiKTtyZXR1cm4gbmV3IFIoYil9aWYoYSl7YT1YO3ZhciBjO2I9KGM9ZWYuZXhlYyhiKSk/W2EuY3JlYXRlRWxlbWVudChjWzFdKV06KGM9RWMoYixhKSk/Yy5jaGlsZE5vZGVzOltdfUZjKHRoaXMsYil9ZnVuY3Rpb24gVWIoYil7cmV0dXJuIGIuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiB0YihiLGEpe2F8fHViKGIpO2lmKGIucXVlcnlTZWxlY3RvckFsbClmb3IodmFyIGM9Yi5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXViKGNbZF0pfWZ1bmN0aW9uIEdjKGIsYSxjLGQpe2lmKHkoZCkpdGhyb3cgVGIoXCJvZmZhcmdzXCIpO3ZhciBlPShkPXZiKGIpKSYmZC5ldmVudHMsZj1kJiZkLmhhbmRsZTtpZihmKWlmKGEpcihhLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtpZih5KGMpKXt2YXIgZD1lW2FdO1ZhKGR8fFtdLGMpO2lmKGQmJjA8XG5kLmxlbmd0aClyZXR1cm59Yi5yZW1vdmVFdmVudExpc3RlbmVyKGEsZiwhMSk7ZGVsZXRlIGVbYV19KTtlbHNlIGZvcihhIGluIGUpXCIkZGVzdHJveVwiIT09YSYmYi5yZW1vdmVFdmVudExpc3RlbmVyKGEsZiwhMSksZGVsZXRlIGVbYV19ZnVuY3Rpb24gdWIoYixhKXt2YXIgYz1iLm5nMzM5LGQ9YyYmd2JbY107ZCYmKGE/ZGVsZXRlIGQuZGF0YVthXTooZC5oYW5kbGUmJihkLmV2ZW50cy4kZGVzdHJveSYmZC5oYW5kbGUoe30sXCIkZGVzdHJveVwiKSxHYyhiKSksZGVsZXRlIHdiW2NdLGIubmczMzk9dSkpfWZ1bmN0aW9uIHZiKGIsYSl7dmFyIGM9Yi5uZzMzOSxjPWMmJndiW2NdO2EmJiFjJiYoYi5uZzMzOT1jPSsrZmYsYz13YltjXT17ZXZlbnRzOnt9LGRhdGE6e30saGFuZGxlOnV9KTtyZXR1cm4gY31mdW5jdGlvbiBWYihiLGEsYyl7aWYoRGMoYikpe3ZhciBkPXkoYyksZT0hZCYmYSYmIU8oYSksZj0hYTtiPShiPXZiKGIsIWUpKSYmYi5kYXRhO2lmKGQpYlthXT1jO2Vsc2V7aWYoZilyZXR1cm4gYjtcbmlmKGUpcmV0dXJuIGImJmJbYV07RyhiLGEpfX19ZnVuY3Rpb24geGIoYixhKXtyZXR1cm4gYi5nZXRBdHRyaWJ1dGU/LTE8KFwiIFwiKyhiLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikuaW5kZXhPZihcIiBcIithK1wiIFwiKTohMX1mdW5jdGlvbiB5YihiLGEpe2EmJmIuc2V0QXR0cmlidXRlJiZyKGEuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2Iuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixQKChcIiBcIisoYi5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csXCIgXCIpLnJlcGxhY2UoXCIgXCIrUChhKStcIiBcIixcIiBcIikpKX0pfWZ1bmN0aW9uIHpiKGIsYSl7aWYoYSYmYi5zZXRBdHRyaWJ1dGUpe3ZhciBjPShcIiBcIisoYi5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csXCIgXCIpO3IoYS5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7YT1QKGEpOy0xPT09Yy5pbmRleE9mKFwiIFwiK2ErXCIgXCIpJiZcbihjKz1hK1wiIFwiKX0pO2Iuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixQKGMpKX19ZnVuY3Rpb24gRmMoYixhKXtpZihhKWlmKGEubm9kZVR5cGUpYltiLmxlbmd0aCsrXT1hO2Vsc2V7dmFyIGM9YS5sZW5ndGg7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBjJiZhLndpbmRvdyE9PWEpe2lmKGMpZm9yKHZhciBkPTA7ZDxjO2QrKyliW2IubGVuZ3RoKytdPWFbZF19ZWxzZSBiW2IubGVuZ3RoKytdPWF9fWZ1bmN0aW9uIEhjKGIsYSl7cmV0dXJuIEFiKGIsXCIkXCIrKGF8fFwibmdDb250cm9sbGVyXCIpK1wiQ29udHJvbGxlclwiKX1mdW5jdGlvbiBBYihiLGEsYyl7OT09Yi5ub2RlVHlwZSYmKGI9Yi5kb2N1bWVudEVsZW1lbnQpO2ZvcihhPXgoYSk/YTpbYV07Yjspe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpZigoYz1ELmRhdGEoYixhW2RdKSkhPT11KXJldHVybiBjO2I9Yi5wYXJlbnROb2RlfHwxMT09PWIubm9kZVR5cGUmJmIuaG9zdH19ZnVuY3Rpb24gSWMoYil7Zm9yKHRiKGIsITApO2IuZmlyc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpfVxuZnVuY3Rpb24gSmMoYixhKXthfHx0YihiKTt2YXIgYz1iLnBhcmVudE5vZGU7YyYmYy5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiBnZihiLGEpe2E9YXx8VTtpZihcImNvbXBsZXRlXCI9PT1hLmRvY3VtZW50LnJlYWR5U3RhdGUpYS5zZXRUaW1lb3V0KGIpO2Vsc2UgRChhKS5vbihcImxvYWRcIixiKX1mdW5jdGlvbiBLYyhiLGEpe3ZhciBjPUJiW2EudG9Mb3dlckNhc2UoKV07cmV0dXJuIGMmJkxjW3VhKGIpXSYmY31mdW5jdGlvbiBoZihiLGEpe3ZhciBjPWIubm9kZU5hbWU7cmV0dXJuKFwiSU5QVVRcIj09PWN8fFwiVEVYVEFSRUFcIj09PWMpJiZNY1thXX1mdW5jdGlvbiBqZihiLGEpe3ZhciBjPWZ1bmN0aW9uKGMsZSl7Yy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0UHJldmVudGVkfTt2YXIgZj1hW2V8fGMudHlwZV0sZz1mP2YubGVuZ3RoOjA7aWYoZyl7aWYoQyhjLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkpe3ZhciBoPWMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuYy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtjLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMDtjLnN0b3BQcm9wYWdhdGlvbiYmYy5zdG9wUHJvcGFnYXRpb24oKTtoJiZoLmNhbGwoYyl9fWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMD09PWMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkfTsxPGcmJihmPXFhKGYpKTtmb3IodmFyIGs9MDtrPGc7aysrKWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKXx8ZltrXS5jYWxsKGIsYyl9fTtjLmVsZW09YjtyZXR1cm4gY31mdW5jdGlvbiAkZSgpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBHKFIse2hhc0NsYXNzOmZ1bmN0aW9uKGIsYSl7Yi5hdHRyJiYoYj1iWzBdKTtyZXR1cm4geGIoYixhKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYixhKXtiLmF0dHImJihiPWJbMF0pO3JldHVybiB6YihiLGEpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihiLGEpe2IuYXR0ciYmXG4oYj1iWzBdKTtyZXR1cm4geWIoYixhKX19KX19ZnVuY3Rpb24gTWEoYixhKXt2YXIgYz1iJiZiLiQkaGFzaEtleTtpZihjKXJldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBjJiYoYz1iLiQkaGFzaEtleSgpKSxjO2M9dHlwZW9mIGI7cmV0dXJuIGM9XCJmdW5jdGlvblwiPT1jfHxcIm9iamVjdFwiPT1jJiZudWxsIT09Yj9iLiQkaGFzaEtleT1jK1wiOlwiKyhhfHxEZCkoKTpjK1wiOlwiK2J9ZnVuY3Rpb24gY2IoYixhKXtpZihhKXt2YXIgYz0wO3RoaXMubmV4dFVpZD1mdW5jdGlvbigpe3JldHVybisrY319cihiLHRoaXMucHV0LHRoaXMpfWZ1bmN0aW9uIGtmKGIpe3JldHVybihiPWIudG9TdHJpbmcoKS5yZXBsYWNlKE5jLFwiXCIpLm1hdGNoKE9jKSk/XCJmdW5jdGlvbihcIisoYlsxXXx8XCJcIikucmVwbGFjZSgvW1xcc1xcclxcbl0rLyxcIiBcIikrXCIpXCI6XCJmblwifWZ1bmN0aW9uIFdiKGIsYSxjKXt2YXIgZDtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYil7aWYoIShkPWIuJGluamVjdCkpe2Q9W107aWYoYi5sZW5ndGgpe2lmKGEpdGhyb3cgeihjKSYmXG5jfHwoYz1iLm5hbWV8fGtmKGIpKSxGYShcInN0cmljdGRpXCIsYyk7YT1iLnRvU3RyaW5nKCkucmVwbGFjZShOYyxcIlwiKTthPWEubWF0Y2goT2MpO3IoYVsxXS5zcGxpdChsZiksZnVuY3Rpb24oYSl7YS5yZXBsYWNlKG1mLGZ1bmN0aW9uKGEsYixjKXtkLnB1c2goYyl9KX0pfWIuJGluamVjdD1kfX1lbHNlIHgoYik/KGE9Yi5sZW5ndGgtMSxwYihiW2FdLFwiZm5cIiksZD1iLnNsaWNlKDAsYSkpOnBiKGIsXCJmblwiLCEwKTtyZXR1cm4gZH1mdW5jdGlvbiBPYihiLGEpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7aWYoTyhiKSlyKGIsa2MoYSkpO2Vsc2UgcmV0dXJuIGEoYixjKX19ZnVuY3Rpb24gZChhLGIpe0xhKGEsXCJzZXJ2aWNlXCIpO2lmKEIoYil8fHgoYikpYj1xLmluc3RhbnRpYXRlKGIpO2lmKCFiLiRnZXQpdGhyb3cgRmEoXCJwZ2V0XCIsYSk7cmV0dXJuIHBbYStcIlByb3ZpZGVyXCJdPWJ9ZnVuY3Rpb24gZShhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXMuaW52b2tlKGIsXG50aGlzKTtpZihDKGMpKXRocm93IEZhKFwidW5kZWZcIixhKTtyZXR1cm4gY319ZnVuY3Rpb24gZihhLGIsYyl7cmV0dXJuIGQoYSx7JGdldDohMSE9PWM/ZShhLGIpOmJ9KX1mdW5jdGlvbiBnKGEpe3ZhciBiPVtdLGM7cihhLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYSl7dmFyIGIsYztiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGU9YVtiXSxmPXEuZ2V0KGVbMF0pO2ZbZVsxXV0uYXBwbHkoZixlWzJdKX19aWYoIW0uZ2V0KGEpKXttLnB1dChhLCEwKTt0cnl7eihhKT8oYz1hYihhKSxiPWIuY29uY2F0KGcoYy5yZXF1aXJlcykpLmNvbmNhdChjLl9ydW5CbG9ja3MpLGQoYy5faW52b2tlUXVldWUpLGQoYy5fY29uZmlnQmxvY2tzKSk6QihhKT9iLnB1c2gocS5pbnZva2UoYSkpOngoYSk/Yi5wdXNoKHEuaW52b2tlKGEpKTpwYihhLFwibW9kdWxlXCIpfWNhdGNoKGUpe3Rocm93IHgoYSkmJihhPWFbYS5sZW5ndGgtMV0pLGUubWVzc2FnZSYmZS5zdGFjayYmLTE9PWUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpJiZcbihlPWUubWVzc2FnZStcIlxcblwiK2Uuc3RhY2spLEZhKFwibW9kdWxlcnJcIixhLGUuc3RhY2t8fGUubWVzc2FnZXx8ZSk7fX19KTtyZXR1cm4gYn1mdW5jdGlvbiBoKGIsYyl7ZnVuY3Rpb24gZChhLGUpe2lmKGIuaGFzT3duUHJvcGVydHkoYSkpe2lmKGJbYV09PT1rKXRocm93IEZhKFwiY2RlcFwiLGErXCIgPC0gXCIrbC5qb2luKFwiIDwtIFwiKSk7cmV0dXJuIGJbYV19dHJ5e3JldHVybiBsLnVuc2hpZnQoYSksYlthXT1rLGJbYV09YyhhLGUpfWNhdGNoKGYpe3Rocm93IGJbYV09PT1rJiZkZWxldGUgYlthXSxmO31maW5hbGx5e2wuc2hpZnQoKX19ZnVuY3Rpb24gZShiLGMsZixnKXtcInN0cmluZ1wiPT09dHlwZW9mIGYmJihnPWYsZj1udWxsKTt2YXIgaD1bXSxrPVdiKGIsYSxnKSxsLHEscztxPTA7Zm9yKGw9ay5sZW5ndGg7cTxsO3ErKyl7cz1rW3FdO2lmKFwic3RyaW5nXCIhPT10eXBlb2Ygcyl0aHJvdyBGYShcIml0a25cIixzKTtoLnB1c2goZiYmZi5oYXNPd25Qcm9wZXJ0eShzKT9mW3NdOmQocyxnKSl9eChiKSYmXG4oYj1iW2xdKTtyZXR1cm4gYi5hcHBseShjLGgpfXJldHVybntpbnZva2U6ZSxpbnN0YW50aWF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9T2JqZWN0LmNyZWF0ZSgoeChhKT9hW2EubGVuZ3RoLTFdOmEpLnByb3RvdHlwZSk7YT1lKGEsZCxiLGMpO3JldHVybiBPKGEpfHxCKGEpP2E6ZH0sZ2V0OmQsYW5ub3RhdGU6V2IsaGFzOmZ1bmN0aW9uKGEpe3JldHVybiBwLmhhc093blByb3BlcnR5KGErXCJQcm92aWRlclwiKXx8Yi5oYXNPd25Qcm9wZXJ0eShhKX19fWE9ITA9PT1hO3ZhciBrPXt9LGw9W10sbT1uZXcgY2IoW10sITApLHA9eyRwcm92aWRlOntwcm92aWRlcjpjKGQpLGZhY3Rvcnk6YyhmKSxzZXJ2aWNlOmMoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLFtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLmluc3RhbnRpYXRlKGIpfV0pfSksdmFsdWU6YyhmdW5jdGlvbihhLGIpe3JldHVybiBmKGEsY2EoYiksITEpfSksY29uc3RhbnQ6YyhmdW5jdGlvbihhLGIpe0xhKGEsXG5cImNvbnN0YW50XCIpO3BbYV09Yjt0W2FdPWJ9KSxkZWNvcmF0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1xLmdldChhK1wiUHJvdmlkZXJcIiksZD1jLiRnZXQ7Yy4kZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9cy5pbnZva2UoZCxjKTtyZXR1cm4gcy5pbnZva2UoYixudWxsLHskZGVsZWdhdGU6YX0pfX19fSxxPXAuJGluamVjdG9yPWgocCxmdW5jdGlvbihhLGIpe2hhLmlzU3RyaW5nKGIpJiZsLnB1c2goYik7dGhyb3cgRmEoXCJ1bnByXCIsbC5qb2luKFwiIDwtIFwiKSk7fSksdD17fSxzPXQuJGluamVjdG9yPWgodCxmdW5jdGlvbihhLGIpe3ZhciBjPXEuZ2V0KGErXCJQcm92aWRlclwiLGIpO3JldHVybiBzLmludm9rZShjLiRnZXQsYyx1LGEpfSk7cihnKGIpLGZ1bmN0aW9uKGEpe3MuaW52b2tlKGF8fEgpfSk7cmV0dXJuIHN9ZnVuY3Rpb24gemUoKXt2YXIgYj0hMDt0aGlzLmRpc2FibGVBdXRvU2Nyb2xsaW5nPWZ1bmN0aW9uKCl7Yj0hMX07dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRsb2NhdGlvblwiLFxuXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oYSxjLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9bnVsbDtBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGEsZnVuY3Rpb24oYSl7aWYoXCJhXCI9PT11YShhKSlyZXR1cm4gYj1hLCEwfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZihiKXtpZihiKXtiLnNjcm9sbEludG9WaWV3KCk7dmFyIGM7Yz1nLnlPZmZzZXQ7QihjKT9jPWMoKTptYyhjKT8oYz1jWzBdLGM9XCJmaXhlZFwiIT09YS5nZXRDb21wdXRlZFN0eWxlKGMpLnBvc2l0aW9uPzA6Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pOlkoYyl8fChjPTApO2MmJihiPWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLGEuc2Nyb2xsQnkoMCxiLWMpKX1lbHNlIGEuc2Nyb2xsVG8oMCwwKX1mdW5jdGlvbiBnKCl7dmFyIGE9Yy5oYXNoKCksYjthPyhiPWguZ2V0RWxlbWVudEJ5SWQoYSkpP2YoYik6KGI9ZShoLmdldEVsZW1lbnRzQnlOYW1lKGEpKSk/ZihiKTpcInRvcFwiPT09YSYmZihudWxsKTpmKG51bGwpfVxudmFyIGg9YS5kb2N1bWVudDtiJiZkLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBjLmhhc2goKX0sZnVuY3Rpb24oYSxiKXthPT09YiYmXCJcIj09PWF8fGdmKGZ1bmN0aW9uKCl7ZC4kZXZhbEFzeW5jKGcpfSl9KTtyZXR1cm4gZ31dfWZ1bmN0aW9uIFplKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGIsYSl7cmV0dXJuIGIuc3VwcG9ydGVkP2Z1bmN0aW9uKGEpe3JldHVybiBiKGEpfTpmdW5jdGlvbihiKXtyZXR1cm4gYShiLDAsITEpfX1dfWZ1bmN0aW9uIG5mKGIsYSxjLGQpe2Z1bmN0aW9uIGUoYSl7dHJ5e2EuYXBwbHkobnVsbCxZYS5jYWxsKGFyZ3VtZW50cywxKSl9ZmluYWxseXtpZih2LS0sMD09PXYpZm9yKDt3Lmxlbmd0aDspdHJ5e3cucG9wKCkoKX1jYXRjaChiKXtjLmVycm9yKGIpfX19ZnVuY3Rpb24gZihhLGIpeyhmdW5jdGlvbiBBYSgpe3IoSyxmdW5jdGlvbihhKXthKCl9KTtFPWIoQWEsYSl9KSgpfWZ1bmN0aW9uIGcoKXtoKCk7aygpfWZ1bmN0aW9uIGgoKXtKPVxuYi5oaXN0b3J5LnN0YXRlO0o9QyhKKT9udWxsOko7Z2EoSixTKSYmKEo9Uyk7Uz1KfWZ1bmN0aW9uIGsoKXtpZihGIT09bS51cmwoKXx8TCE9PUopRj1tLnVybCgpLEw9SixyKFcsZnVuY3Rpb24oYSl7YShtLnVybCgpLEopfSl9ZnVuY3Rpb24gbChhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXtyZXR1cm4gYX19dmFyIG09dGhpcyxwPWFbMF0scT1iLmxvY2F0aW9uLHQ9Yi5oaXN0b3J5LHM9Yi5zZXRUaW1lb3V0LE49Yi5jbGVhclRpbWVvdXQsbj17fTttLmlzTW9jaz0hMTt2YXIgdj0wLHc9W107bS4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0PWU7bS4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7disrfTttLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM9ZnVuY3Rpb24oYSl7cihLLGZ1bmN0aW9uKGEpe2EoKX0pOzA9PT12P2EoKTp3LnB1c2goYSl9O3ZhciBLPVtdLEU7bS5hZGRQb2xsRm49ZnVuY3Rpb24oYSl7QyhFKSYmXG5mKDEwMCxzKTtLLnB1c2goYSk7cmV0dXJuIGF9O3ZhciBKLEwsRj1xLmhyZWYsZGE9YS5maW5kKFwiYmFzZVwiKSxJPW51bGw7aCgpO0w9SjttLnVybD1mdW5jdGlvbihhLGMsZSl7QyhlKSYmKGU9bnVsbCk7cSE9PWIubG9jYXRpb24mJihxPWIubG9jYXRpb24pO3QhPT1iLmhpc3RvcnkmJih0PWIuaGlzdG9yeSk7aWYoYSl7dmFyIGY9TD09PWU7aWYoRj09PWEmJighZC5oaXN0b3J5fHxmKSlyZXR1cm4gbTt2YXIgZz1GJiZHYShGKT09PUdhKGEpO0Y9YTtMPWU7IWQuaGlzdG9yeXx8ZyYmZj8oZ3x8KEk9YSksYz9xLnJlcGxhY2UoYSk6Zz8oYz1xLGU9YS5pbmRleE9mKFwiI1wiKSxhPS0xPT09ZT9cIlwiOmEuc3Vic3RyKGUrMSksYy5oYXNoPWEpOnEuaHJlZj1hKToodFtjP1wicmVwbGFjZVN0YXRlXCI6XCJwdXNoU3RhdGVcIl0oZSxcIlwiLGEpLGgoKSxMPUopO3JldHVybiBtfXJldHVybiBJfHxxLmhyZWYucmVwbGFjZSgvJTI3L2csXCInXCIpfTttLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIEp9O3ZhciBXPVxuW10sYmE9ITEsUz1udWxsO20ub25VcmxDaGFuZ2U9ZnVuY3Rpb24oYSl7aWYoIWJhKXtpZihkLmhpc3RvcnkpRChiKS5vbihcInBvcHN0YXRlXCIsZyk7RChiKS5vbihcImhhc2hjaGFuZ2VcIixnKTtiYT0hMH1XLnB1c2goYSk7cmV0dXJuIGF9O20uJCRjaGVja1VybENoYW5nZT1rO20uYmFzZUhyZWY9ZnVuY3Rpb24oKXt2YXIgYT1kYS5hdHRyKFwiaHJlZlwiKTtyZXR1cm4gYT9hLnJlcGxhY2UoL14oaHR0cHM/XFw6KT9cXC9cXC9bXlxcL10qLyxcIlwiKTpcIlwifTt2YXIgYWE9e30seT1cIlwiLGVhPW0uYmFzZUhyZWYoKTttLmNvb2tpZXM9ZnVuY3Rpb24oYSxiKXt2YXIgZCxlLGYsZztpZihhKWI9PT11P3AuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChhKStcIj07cGF0aD1cIitlYStcIjtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UXCI6eihiKSYmKGQ9KHAuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoYikrXCI7cGF0aD1cIitlYSkubGVuZ3RoK1xuMSw0MDk2PGQmJmMud2FybihcIkNvb2tpZSAnXCIrYStcIicgcG9zc2libHkgbm90IHNldCBvciBvdmVyZmxvd2VkIGJlY2F1c2UgaXQgd2FzIHRvbyBsYXJnZSAoXCIrZCtcIiA+IDQwOTYgYnl0ZXMpIVwiKSk7ZWxzZXtpZihwLmNvb2tpZSE9PXkpZm9yKHk9cC5jb29raWUsZD15LnNwbGl0KFwiOyBcIiksYWE9e30sZj0wO2Y8ZC5sZW5ndGg7ZisrKWU9ZFtmXSxnPWUuaW5kZXhPZihcIj1cIiksMDxnJiYoYT1sKGUuc3Vic3RyaW5nKDAsZykpLGFhW2FdPT09dSYmKGFhW2FdPWwoZS5zdWJzdHJpbmcoZysxKSkpKTtyZXR1cm4gYWF9fTttLmRlZmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM7disrO2M9cyhmdW5jdGlvbigpe2RlbGV0ZSBuW2NdO2UoYSl9LGJ8fDApO25bY109ITA7cmV0dXJuIGN9O20uZGVmZXIuY2FuY2VsPWZ1bmN0aW9uKGEpe3JldHVybiBuW2FdPyhkZWxldGUgblthXSxOKGEpLGUoSCksITApOiExfX1mdW5jdGlvbiBCZSgpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkbG9nXCIsXCIkc25pZmZlclwiLFxuXCIkZG9jdW1lbnRcIixmdW5jdGlvbihiLGEsYyxkKXtyZXR1cm4gbmV3IG5mKGIsZCxhLGMpfV19ZnVuY3Rpb24gQ2UoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCl7ZnVuY3Rpb24gZShhKXthIT1wJiYocT9xPT1hJiYocT1hLm4pOnE9YSxmKGEubixhLnApLGYoYSxwKSxwPWEscC5uPW51bGwpfWZ1bmN0aW9uIGYoYSxiKXthIT1iJiYoYSYmKGEucD1iKSxiJiYoYi5uPWEpKX1pZihiIGluIGEpdGhyb3cgQShcIiRjYWNoZUZhY3RvcnlcIikoXCJpaWRcIixiKTt2YXIgZz0wLGg9Ryh7fSxkLHtpZDpifSksaz17fSxsPWQmJmQuY2FwYWNpdHl8fE51bWJlci5NQVhfVkFMVUUsbT17fSxwPW51bGwscT1udWxsO3JldHVybiBhW2JdPXtwdXQ6ZnVuY3Rpb24oYSxiKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBjPW1bYV18fChtW2FdPXtrZXk6YX0pO2UoYyl9aWYoIUMoYikpcmV0dXJuIGEgaW4ga3x8ZysrLGtbYV09YixnPmwmJnRoaXMucmVtb3ZlKHEua2V5KSxifSxnZXQ6ZnVuY3Rpb24oYSl7aWYobDxcbk51bWJlci5NQVhfVkFMVUUpe3ZhciBiPW1bYV07aWYoIWIpcmV0dXJuO2UoYil9cmV0dXJuIGtbYV19LHJlbW92ZTpmdW5jdGlvbihhKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBiPW1bYV07aWYoIWIpcmV0dXJuO2I9PXAmJihwPWIucCk7Yj09cSYmKHE9Yi5uKTtmKGIubixiLnApO2RlbGV0ZSBtW2FdfWRlbGV0ZSBrW2FdO2ctLX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7az17fTtnPTA7bT17fTtwPXE9bnVsbH0sZGVzdHJveTpmdW5jdGlvbigpe209aD1rPW51bGw7ZGVsZXRlIGFbYl19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gRyh7fSxoLHtzaXplOmd9KX19fXZhciBhPXt9O2IuaW5mbz1mdW5jdGlvbigpe3ZhciBiPXt9O3IoYSxmdW5jdGlvbihhLGUpe2JbZV09YS5pbmZvKCl9KTtyZXR1cm4gYn07Yi5nZXQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFbYl19O3JldHVybiBifX1mdW5jdGlvbiBUZSgpe3RoaXMuJGdldD1bXCIkY2FjaGVGYWN0b3J5XCIsZnVuY3Rpb24oYil7cmV0dXJuIGIoXCJ0ZW1wbGF0ZXNcIil9XX1cbmZ1bmN0aW9uIHZjKGIsYSl7ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPS9eXFxzKihbQCZdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLyxkPXt9O3IoYSxmdW5jdGlvbihhLGUpe3ZhciBmPWEubWF0Y2goYyk7aWYoIWYpdGhyb3cga2EoXCJpc2NwXCIsYixlLGEpO2RbZV09e21vZGU6ZlsxXVswXSxjb2xsZWN0aW9uOlwiKlwiPT09ZlsyXSxvcHRpb25hbDpcIj9cIj09PWZbM10sYXR0ck5hbWU6Zls0XXx8ZX19KTtyZXR1cm4gZH12YXIgZD17fSxlPS9eXFxzKmRpcmVjdGl2ZVxcOlxccyooW1xcd1xcLV0rKVxccysoLiopJC8sZj0vKChbXFx3XFwtXSspKD86XFw6KFteO10rKSk/Oz8pLyxnPUVkKFwibmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldFwiKSxoPS9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy8saz0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO3RoaXMuZGlyZWN0aXZlPWZ1bmN0aW9uIHAoYSxlKXtMYShhLFwiZGlyZWN0aXZlXCIpO3ooYSk/KFJiKGUsXCJkaXJlY3RpdmVGYWN0b3J5XCIpLGQuaGFzT3duUHJvcGVydHkoYSl8fFxuKGRbYV09W10sYi5mYWN0b3J5KGErXCJEaXJlY3RpdmVcIixbXCIkaW5qZWN0b3JcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYixlKXt2YXIgZj1bXTtyKGRbYV0sZnVuY3Rpb24oZCxnKXt0cnl7dmFyIGg9Yi5pbnZva2UoZCk7QihoKT9oPXtjb21waWxlOmNhKGgpfTohaC5jb21waWxlJiZoLmxpbmsmJihoLmNvbXBpbGU9Y2EoaC5saW5rKSk7aC5wcmlvcml0eT1oLnByaW9yaXR5fHwwO2guaW5kZXg9ZztoLm5hbWU9aC5uYW1lfHxhO2gucmVxdWlyZT1oLnJlcXVpcmV8fGguY29udHJvbGxlciYmaC5uYW1lO2gucmVzdHJpY3Q9aC5yZXN0cmljdHx8XCJFQVwiO08oaC5zY29wZSkmJihoLiQkaXNvbGF0ZUJpbmRpbmdzPWMoaC5zY29wZSxoLm5hbWUpKTtmLnB1c2goaCl9Y2F0Y2goayl7ZShrKX19KTtyZXR1cm4gZn1dKSksZFthXS5wdXNoKGUpKTpyKGEsa2MocCkpO3JldHVybiB0aGlzfTt0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGIpe3JldHVybiB5KGIpP1xuKGEuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYiksdGhpcyk6YS5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpfTt0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4geShiKT8oYS5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYiksdGhpcyk6YS5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dmFyIGw9ITA7dGhpcy5kZWJ1Z0luZm9FbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiB5KGEpPyhsPWEsdGhpcyk6bH07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLFwiJGludGVycG9sYXRlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJHBhcnNlXCIsXCIkY29udHJvbGxlclwiLFwiJHJvb3RTY29wZVwiLFwiJGRvY3VtZW50XCIsXCIkc2NlXCIsXCIkYW5pbWF0ZVwiLFwiJCRzYW5pdGl6ZVVyaVwiLGZ1bmN0aW9uKGEsYixjLHMsTixuLHYsdyxLLEUsSil7ZnVuY3Rpb24gTChhLGIpe3RyeXthLmFkZENsYXNzKGIpfWNhdGNoKGMpe319XG5mdW5jdGlvbiBGKGEsYixjLGQsZSl7YSBpbnN0YW5jZW9mIER8fChhPUQoYSkpO3IoYSxmdW5jdGlvbihiLGMpe2Iubm9kZVR5cGU9PW1iJiZiLm5vZGVWYWx1ZS5tYXRjaCgvXFxTKy8pJiYoYVtjXT1EKGIpLndyYXAoXCI8c3Bhbj48L3NwYW4+XCIpLnBhcmVudCgpWzBdKX0pO3ZhciBmPWRhKGEsYixhLGMsZCxlKTtGLiQkYWRkU2NvcGVDbGFzcyhhKTt2YXIgZz1udWxsO3JldHVybiBmdW5jdGlvbihiLGMsZCl7UmIoYixcInNjb3BlXCIpO2Q9ZHx8e307dmFyIGU9ZC5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixoPWQudHJhbnNjbHVkZUNvbnRyb2xsZXJzO2Q9ZC5mdXR1cmVQYXJlbnRFbGVtZW50O2UmJmUuJCRib3VuZFRyYW5zY2x1ZGUmJihlPWUuJCRib3VuZFRyYW5zY2x1ZGUpO2d8fChnPShkPWQmJmRbMF0pP1wiZm9yZWlnbm9iamVjdFwiIT09dWEoZCkmJmQudG9TdHJpbmcoKS5tYXRjaCgvU1ZHLyk/XCJzdmdcIjpcImh0bWxcIjpcImh0bWxcIik7ZD1cImh0bWxcIiE9PWc/RChVKGcsRChcIjxkaXY+XCIpLmFwcGVuZChhKS5odG1sKCkpKTpcbmM/S2EuY2xvbmUuY2FsbChhKTphO2lmKGgpZm9yKHZhciBrIGluIGgpZC5kYXRhKFwiJFwiK2srXCJDb250cm9sbGVyXCIsaFtrXS5pbnN0YW5jZSk7Ri4kJGFkZFNjb3BlSW5mbyhkLGIpO2MmJmMoZCxiKTtmJiZmKGIsZCxkLGUpO3JldHVybiBkfX1mdW5jdGlvbiBkYShhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZyhhLGMsZCxlKXt2YXIgZixrLGwscSxzLG4sdztpZihwKWZvcih3PUFycmF5KGMubGVuZ3RoKSxxPTA7cTxoLmxlbmd0aDtxKz0zKWY9aFtxXSx3W2ZdPWNbZl07ZWxzZSB3PWM7cT0wO2ZvcihzPWgubGVuZ3RoO3E8czspaz13W2hbcSsrXV0sYz1oW3ErK10sZj1oW3ErK10sYz8oYy5zY29wZT8obD1hLiRuZXcoKSxGLiQkYWRkU2NvcGVJbmZvKEQoayksbCkpOmw9YSxuPWMudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/SShhLGMudHJhbnNjbHVkZSxlLGMuZWxlbWVudFRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KTohYy50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQmJmU/ZTohZSYmYj9JKGEsXG5iKTpudWxsLGMoZixsLGssZCxuKSk6ZiYmZihhLGsuY2hpbGROb2Rlcyx1LGUpfWZvcih2YXIgaD1bXSxrLGwscSxzLHAsbj0wO248YS5sZW5ndGg7bisrKXtrPW5ldyBWO2w9VyhhW25dLFtdLGssMD09PW4/ZDp1LGUpOyhmPWwubGVuZ3RoP2FhKGwsYVtuXSxrLGIsYyxudWxsLFtdLFtdLGYpOm51bGwpJiZmLnNjb3BlJiZGLiQkYWRkU2NvcGVDbGFzcyhrLiQkZWxlbWVudCk7az1mJiZmLnRlcm1pbmFsfHwhKHE9YVtuXS5jaGlsZE5vZGVzKXx8IXEubGVuZ3RoP251bGw6ZGEocSxmPyhmLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhZi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZmLnRyYW5zY2x1ZGU6Yik7aWYoZnx8ayloLnB1c2gobixmLGspLHM9ITAscD1wfHxmO2Y9bnVsbH1yZXR1cm4gcz9nOm51bGx9ZnVuY3Rpb24gSShhLGIsYyxkKXtyZXR1cm4gZnVuY3Rpb24oZCxlLGYsZyxoKXtkfHwoZD1hLiRuZXcoITEsaCksZC4kJHRyYW5zY2x1ZGVkPSEwKTtyZXR1cm4gYihkLGUsXG57cGFyZW50Qm91bmRUcmFuc2NsdWRlRm46Yyx0cmFuc2NsdWRlQ29udHJvbGxlcnM6ZixmdXR1cmVQYXJlbnRFbGVtZW50Omd9KX19ZnVuY3Rpb24gVyhiLGMsZyxoLGspe3ZhciBsPWcuJGF0dHIscTtzd2l0Y2goYi5ub2RlVHlwZSl7Y2FzZSBuYTplYShjLHdhKHVhKGIpKSxcIkVcIixoLGspO2Zvcih2YXIgcyxuLHcsTj1iLmF0dHJpYnV0ZXMsSz0wLHQ9TiYmTi5sZW5ndGg7Szx0O0srKyl7dmFyIEo9ITEsdj0hMTtzPU5bS107cT1zLm5hbWU7cz1QKHMudmFsdWUpO249d2EocSk7aWYodz1IYS50ZXN0KG4pKXE9UGIobi5zdWJzdHIoNiksXCItXCIpO3ZhciBMPW4ucmVwbGFjZSgvKFN0YXJ0fEVuZCkkLyxcIlwiKSxFO2E6e3ZhciBGPUw7aWYoZC5oYXNPd25Qcm9wZXJ0eShGKSl7RT12b2lkIDA7Zm9yKHZhciBGPWEuZ2V0KEYrXCJEaXJlY3RpdmVcIiksVz0wLHI9Ri5sZW5ndGg7VzxyO1crKylpZihFPUZbV10sRS5tdWx0aUVsZW1lbnQpe0U9ITA7YnJlYWsgYX19RT0hMX1FJiZuPT09TCtcIlN0YXJ0XCImJlxuKEo9cSx2PXEuc3Vic3RyKDAscS5sZW5ndGgtNSkrXCJlbmRcIixxPXEuc3Vic3RyKDAscS5sZW5ndGgtNikpO249d2EocS50b0xvd2VyQ2FzZSgpKTtsW25dPXE7aWYod3x8IWcuaGFzT3duUHJvcGVydHkobikpZ1tuXT1zLEtjKGIsbikmJihnW25dPSEwKTtSKGIsYyxzLG4sdyk7ZWEoYyxuLFwiQVwiLGgsayxKLHYpfWI9Yi5jbGFzc05hbWU7aWYoeihiKSYmXCJcIiE9PWIpZm9yKDtxPWYuZXhlYyhiKTspbj13YShxWzJdKSxlYShjLG4sXCJDXCIsaCxrKSYmKGdbbl09UChxWzNdKSksYj1iLnN1YnN0cihxLmluZGV4K3FbMF0ubGVuZ3RoKTticmVhaztjYXNlIG1iOlQoYyxiLm5vZGVWYWx1ZSk7YnJlYWs7Y2FzZSA4OnRyeXtpZihxPWUuZXhlYyhiLm5vZGVWYWx1ZSkpbj13YShxWzFdKSxlYShjLG4sXCJNXCIsaCxrKSYmKGdbbl09UChxWzJdKSl9Y2F0Y2goZGEpe319Yy5zb3J0KEEpO3JldHVybiBjfWZ1bmN0aW9uIGJhKGEsYixjKXt2YXIgZD1bXSxlPTA7aWYoYiYmYS5oYXNBdHRyaWJ1dGUmJlxuYS5oYXNBdHRyaWJ1dGUoYikpe2Rve2lmKCFhKXRocm93IGthKFwidXRlcmRpclwiLGIsYyk7YS5ub2RlVHlwZT09bmEmJihhLmhhc0F0dHJpYnV0ZShiKSYmZSsrLGEuaGFzQXR0cmlidXRlKGMpJiZlLS0pO2QucHVzaChhKTthPWEubmV4dFNpYmxpbmd9d2hpbGUoMDxlKX1lbHNlIGQucHVzaChhKTtyZXR1cm4gRChkKX1mdW5jdGlvbiBTKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCxlLGYsZyxoKXtlPWJhKGVbMF0sYixjKTtyZXR1cm4gYShkLGUsZixnLGgpfX1mdW5jdGlvbiBhYShhLGQsZSxmLGcsayxsLHMscCl7ZnVuY3Rpb24gdyhhLGIsYyxkKXtpZihhKXtjJiYoYT1TKGEsYyxkKSk7YS5yZXF1aXJlPU0ucmVxdWlyZTthLmRpcmVjdGl2ZU5hbWU9ZmE7aWYoST09PU18fE0uJCRpc29sYXRlU2NvcGUpYT1ZKGEse2lzb2xhdGVTY29wZTohMH0pO2wucHVzaChhKX1pZihiKXtjJiYoYj1TKGIsYyxkKSk7Yi5yZXF1aXJlPU0ucmVxdWlyZTtiLmRpcmVjdGl2ZU5hbWU9ZmE7aWYoST09PVxuTXx8TS4kJGlzb2xhdGVTY29wZSliPVkoYix7aXNvbGF0ZVNjb3BlOiEwfSk7cy5wdXNoKGIpfX1mdW5jdGlvbiBLKGEsYixjLGQpe3ZhciBlLGY9XCJkYXRhXCIsZz0hMSxrPWMsbDtpZih6KGIpKXtsPWIubWF0Y2goaCk7Yj1iLnN1YnN0cmluZyhsWzBdLmxlbmd0aCk7bFszXSYmKGxbMV0/bFszXT1udWxsOmxbMV09bFszXSk7XCJeXCI9PT1sWzFdP2Y9XCJpbmhlcml0ZWREYXRhXCI6XCJeXlwiPT09bFsxXSYmKGY9XCJpbmhlcml0ZWREYXRhXCIsaz1jLnBhcmVudCgpKTtcIj9cIj09PWxbMl0mJihnPSEwKTtlPW51bGw7ZCYmXCJkYXRhXCI9PT1mJiYoZT1kW2JdKSYmKGU9ZS5pbnN0YW5jZSk7ZT1lfHxrW2ZdKFwiJFwiK2IrXCJDb250cm9sbGVyXCIpO2lmKCFlJiYhZyl0aHJvdyBrYShcImN0cmVxXCIsYixhKTtyZXR1cm4gZXx8bnVsbH14KGIpJiYoZT1bXSxyKGIsZnVuY3Rpb24oYil7ZS5wdXNoKEsoYSxiLGMsZCkpfSkpO3JldHVybiBlfWZ1bmN0aW9uIEooYSxjLGYsZyxoKXtmdW5jdGlvbiBrKGEsYixjKXt2YXIgZDtcblRhKGEpfHwoYz1iLGI9YSxhPXUpO3lhJiYoZD1MKTtjfHwoYz15YT9XLnBhcmVudCgpOlcpO3JldHVybiBoKGEsYixkLGMsWGIpfXZhciBwLHcsdCx2LEwsZGIsVyxTO2Q9PT1mPyhTPWUsVz1lLiQkZWxlbWVudCk6KFc9RChmKSxTPW5ldyBWKFcsZSkpO0kmJih2PWMuJG5ldyghMCkpO2gmJihkYj1rLGRiLiQkYm91bmRUcmFuc2NsdWRlPWgpO0UmJihkYT17fSxMPXt9LHIoRSxmdW5jdGlvbihhKXt2YXIgYj17JHNjb3BlOmE9PT1JfHxhLiQkaXNvbGF0ZVNjb3BlP3Y6YywkZWxlbWVudDpXLCRhdHRyczpTLCR0cmFuc2NsdWRlOmRifTt0PWEuY29udHJvbGxlcjtcIkBcIj09dCYmKHQ9U1thLm5hbWVdKTtiPW4odCxiLCEwLGEuY29udHJvbGxlckFzKTtMW2EubmFtZV09Yjt5YXx8Vy5kYXRhKFwiJFwiK2EubmFtZStcIkNvbnRyb2xsZXJcIixiLmluc3RhbmNlKTtkYVthLm5hbWVdPWJ9KSk7aWYoSSl7Ri4kJGFkZFNjb3BlSW5mbyhXLHYsITAsIShhYSYmKGFhPT09SXx8YWE9PT1JLiQkb3JpZ2luYWxEaXJlY3RpdmUpKSk7XG5GLiQkYWRkU2NvcGVDbGFzcyhXLCEwKTtnPWRhJiZkYVtJLm5hbWVdO3ZhciBiYT12O2cmJmcuaWRlbnRpZmllciYmITA9PT1JLmJpbmRUb0NvbnRyb2xsZXImJihiYT1nLmluc3RhbmNlKTtyKHYuJCRpc29sYXRlQmluZGluZ3M9SS4kJGlzb2xhdGVCaW5kaW5ncyxmdW5jdGlvbihhLGQpe3ZhciBlPWEuYXR0ck5hbWUsZj1hLm9wdGlvbmFsLGcsaCxrLGw7c3dpdGNoKGEubW9kZSl7Y2FzZSBcIkBcIjpTLiRvYnNlcnZlKGUsZnVuY3Rpb24oYSl7YmFbZF09YX0pO1MuJCRvYnNlcnZlcnNbZV0uJCRzY29wZT1jO1NbZV0mJihiYVtkXT1iKFNbZV0pKGMpKTticmVhaztjYXNlIFwiPVwiOmlmKGYmJiFTW2VdKWJyZWFrO2g9TihTW2VdKTtsPWgubGl0ZXJhbD9nYTpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Ynx8YSE9PWEmJmIhPT1ifTtrPWguYXNzaWdufHxmdW5jdGlvbigpe2c9YmFbZF09aChjKTt0aHJvdyBrYShcIm5vbmFzc2lnblwiLFNbZV0sSS5uYW1lKTt9O2c9YmFbZF09aChjKTtmPWZ1bmN0aW9uKGEpe2woYSxcbmJhW2RdKXx8KGwoYSxnKT9rKGMsYT1iYVtkXSk6YmFbZF09YSk7cmV0dXJuIGc9YX07Zi4kc3RhdGVmdWw9ITA7Zj1hLmNvbGxlY3Rpb24/Yy4kd2F0Y2hDb2xsZWN0aW9uKFNbZV0sZik6Yy4kd2F0Y2goTihTW2VdLGYpLG51bGwsaC5saXRlcmFsKTt2LiRvbihcIiRkZXN0cm95XCIsZik7YnJlYWs7Y2FzZSBcIiZcIjpoPU4oU1tlXSksYmFbZF09ZnVuY3Rpb24oYSl7cmV0dXJuIGgoYyxhKX19fSl9ZGEmJihyKGRhLGZ1bmN0aW9uKGEpe2EoKX0pLGRhPW51bGwpO2c9MDtmb3IocD1sLmxlbmd0aDtnPHA7ZysrKXc9bFtnXSxaKHcsdy5pc29sYXRlU2NvcGU/djpjLFcsUyx3LnJlcXVpcmUmJksody5kaXJlY3RpdmVOYW1lLHcucmVxdWlyZSxXLEwpLGRiKTt2YXIgWGI9YztJJiYoSS50ZW1wbGF0ZXx8bnVsbD09PUkudGVtcGxhdGVVcmwpJiYoWGI9dik7YSYmYShYYixmLmNoaWxkTm9kZXMsdSxoKTtmb3IoZz1zLmxlbmd0aC0xOzA8PWc7Zy0tKXc9c1tnXSxaKHcsdy5pc29sYXRlU2NvcGU/XG52OmMsVyxTLHcucmVxdWlyZSYmSyh3LmRpcmVjdGl2ZU5hbWUsdy5yZXF1aXJlLFcsTCksZGIpfXA9cHx8e307Zm9yKHZhciB2PS1OdW1iZXIuTUFYX1ZBTFVFLEwsRT1wLmNvbnRyb2xsZXJEaXJlY3RpdmVzLGRhLEk9cC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsYWE9cC50ZW1wbGF0ZURpcmVjdGl2ZSxlYT1wLm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsSD0hMSxHPSExLHlhPXAuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsVD1lLiQkZWxlbWVudD1EKGQpLE0sZmEsQSxIYT1mLFEseGE9MCxSPWEubGVuZ3RoO3hhPFI7eGErKyl7TT1hW3hhXTt2YXIgQ2I9TS4kJHN0YXJ0LCQ9TS4kJGVuZDtDYiYmKFQ9YmEoZCxDYiwkKSk7QT11O2lmKHY+TS5wcmlvcml0eSlicmVhaztpZihBPU0uc2NvcGUpTS50ZW1wbGF0ZVVybHx8KE8oQSk/KEFhKFwibmV3L2lzb2xhdGVkIHNjb3BlXCIsSXx8TCxNLFQpLEk9TSk6QWEoXCJuZXcvaXNvbGF0ZWQgc2NvcGVcIixJLE0sVCkpLEw9THx8XG5NO2ZhPU0ubmFtZTshTS50ZW1wbGF0ZVVybCYmTS5jb250cm9sbGVyJiYoQT1NLmNvbnRyb2xsZXIsRT1FfHx7fSxBYShcIidcIitmYStcIicgY29udHJvbGxlclwiLEVbZmFdLE0sVCksRVtmYV09TSk7aWYoQT1NLnRyYW5zY2x1ZGUpSD0hMCxNLiQkdGxifHwoQWEoXCJ0cmFuc2NsdXNpb25cIixlYSxNLFQpLGVhPU0pLFwiZWxlbWVudFwiPT1BPyh5YT0hMCx2PU0ucHJpb3JpdHksQT1ULFQ9ZS4kJGVsZW1lbnQ9RChYLmNyZWF0ZUNvbW1lbnQoXCIgXCIrZmErXCI6IFwiK2VbZmFdK1wiIFwiKSksZD1UWzBdLERiKGcsWWEuY2FsbChBLDApLGQpLEhhPUYoQSxmLHYsayYmay5uYW1lLHtub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOmVhfSkpOihBPUQoVWIoZCkpLmNvbnRlbnRzKCksVC5lbXB0eSgpLEhhPUYoQSxmKSk7aWYoTS50ZW1wbGF0ZSlpZihHPSEwLEFhKFwidGVtcGxhdGVcIixhYSxNLFQpLGFhPU0sQT1CKE0udGVtcGxhdGUpP00udGVtcGxhdGUoVCxlKTpNLnRlbXBsYXRlLEE9UGMoQSksTS5yZXBsYWNlKXtrPVxuTTtBPVNiLnRlc3QoQSk/UWMoVShNLnRlbXBsYXRlTmFtZXNwYWNlLFAoQSkpKTpbXTtkPUFbMF07aWYoMSE9QS5sZW5ndGh8fGQubm9kZVR5cGUhPT1uYSl0aHJvdyBrYShcInRwbHJ0XCIsZmEsXCJcIik7RGIoZyxULGQpO1I9eyRhdHRyOnt9fTtBPVcoZCxbXSxSKTt2YXIgcGY9YS5zcGxpY2UoeGErMSxhLmxlbmd0aC0oeGErMSkpO0kmJnkoQSk7YT1hLmNvbmNhdChBKS5jb25jYXQocGYpO0MoZSxSKTtSPWEubGVuZ3RofWVsc2UgVC5odG1sKEEpO2lmKE0udGVtcGxhdGVVcmwpRz0hMCxBYShcInRlbXBsYXRlXCIsYWEsTSxUKSxhYT1NLE0ucmVwbGFjZSYmKGs9TSksSj1vZihhLnNwbGljZSh4YSxhLmxlbmd0aC14YSksVCxlLGcsSCYmSGEsbCxzLHtjb250cm9sbGVyRGlyZWN0aXZlczpFLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZTpJLHRlbXBsYXRlRGlyZWN0aXZlOmFhLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6ZWF9KSxSPWEubGVuZ3RoO2Vsc2UgaWYoTS5jb21waWxlKXRyeXtRPVxuTS5jb21waWxlKFQsZSxIYSksQihRKT93KG51bGwsUSxDYiwkKTpRJiZ3KFEucHJlLFEucG9zdCxDYiwkKX1jYXRjaChjYSl7YyhjYSx2YShUKSl9TS50ZXJtaW5hbCYmKEoudGVybWluYWw9ITAsdj1NYXRoLm1heCh2LE0ucHJpb3JpdHkpKX1KLnNjb3BlPUwmJiEwPT09TC5zY29wZTtKLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PUg7Si5lbGVtZW50VHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9eWE7Si50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQ9RztKLnRyYW5zY2x1ZGU9SGE7cC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZT15YTtyZXR1cm4gSn1mdW5jdGlvbiB5KGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YixlO2U9RyhPYmplY3QuY3JlYXRlKGFbYl0pLHskJGlzb2xhdGVTY29wZTohMH0pO2FbZF09ZX19ZnVuY3Rpb24gZWEoYixlLGYsZyxoLGssbCl7aWYoZT09PWgpcmV0dXJuIG51bGw7aD1udWxsO2lmKGQuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBxO1xuZT1hLmdldChlK1wiRGlyZWN0aXZlXCIpO2Zvcih2YXIgcz0wLG49ZS5sZW5ndGg7czxuO3MrKyl0cnl7aWYocT1lW3NdLChnPT09dXx8Zz5xLnByaW9yaXR5KSYmLTEhPXEucmVzdHJpY3QuaW5kZXhPZihmKSl7aWYoayl7dmFyIHc9eyQkc3RhcnQ6aywkJGVuZDpsfTtxPUcoT2JqZWN0LmNyZWF0ZShxKSx3KX1iLnB1c2gocSk7aD1xfX1jYXRjaChOKXtjKE4pfX1yZXR1cm4gaH1mdW5jdGlvbiBDKGEsYil7dmFyIGM9Yi4kYXR0cixkPWEuJGF0dHIsZT1hLiQkZWxlbWVudDtyKGEsZnVuY3Rpb24oZCxlKXtcIiRcIiE9ZS5jaGFyQXQoMCkmJihiW2VdJiZiW2VdIT09ZCYmKGQrPShcInN0eWxlXCI9PT1lP1wiO1wiOlwiIFwiKStiW2VdKSxhLiRzZXQoZSxkLCEwLGNbZV0pKX0pO3IoYixmdW5jdGlvbihiLGYpe1wiY2xhc3NcIj09Zj8oTChlLGIpLGFbXCJjbGFzc1wiXT0oYVtcImNsYXNzXCJdP2FbXCJjbGFzc1wiXStcIiBcIjpcIlwiKStiKTpcInN0eWxlXCI9PWY/KGUuYXR0cihcInN0eWxlXCIsZS5hdHRyKFwic3R5bGVcIikrXCI7XCIrXG5iKSxhLnN0eWxlPShhLnN0eWxlP2Euc3R5bGUrXCI7XCI6XCJcIikrYik6XCIkXCI9PWYuY2hhckF0KDApfHxhLmhhc093blByb3BlcnR5KGYpfHwoYVtmXT1iLGRbZl09Y1tmXSl9KX1mdW5jdGlvbiBvZihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPVtdLGwscSxwPWJbMF0sbj1hLnNoaWZ0KCksdz1HKHt9LG4se3RlbXBsYXRlVXJsOm51bGwsdHJhbnNjbHVkZTpudWxsLHJlcGxhY2U6bnVsbCwkJG9yaWdpbmFsRGlyZWN0aXZlOm59KSxOPUIobi50ZW1wbGF0ZVVybCk/bi50ZW1wbGF0ZVVybChiLGMpOm4udGVtcGxhdGVVcmwsdD1uLnRlbXBsYXRlTmFtZXNwYWNlO2IuZW1wdHkoKTtzKEsuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKE4pKS50aGVuKGZ1bmN0aW9uKHMpe3ZhciBLLHY7cz1QYyhzKTtpZihuLnJlcGxhY2Upe3M9U2IudGVzdChzKT9RYyhVKHQsUChzKSkpOltdO0s9c1swXTtpZigxIT1zLmxlbmd0aHx8Sy5ub2RlVHlwZSE9PW5hKXRocm93IGthKFwidHBscnRcIixuLm5hbWUsTik7cz17JGF0dHI6e319O1xuRGIoZCxiLEspO3ZhciBKPVcoSyxbXSxzKTtPKG4uc2NvcGUpJiZ5KEopO2E9Si5jb25jYXQoYSk7QyhjLHMpfWVsc2UgSz1wLGIuaHRtbChzKTthLnVuc2hpZnQodyk7bD1hYShhLEssYyxlLGIsbixmLGcsaCk7cihkLGZ1bmN0aW9uKGEsYyl7YT09SyYmKGRbY109YlswXSl9KTtmb3IocT1kYShiWzBdLmNoaWxkTm9kZXMsZSk7ay5sZW5ndGg7KXtzPWsuc2hpZnQoKTt2PWsuc2hpZnQoKTt2YXIgRT1rLnNoaWZ0KCksRj1rLnNoaWZ0KCksSj1iWzBdO2lmKCFzLiQkZGVzdHJveWVkKXtpZih2IT09cCl7dmFyIFM9di5jbGFzc05hbWU7aC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSYmbi5yZXBsYWNlfHwoSj1VYihLKSk7RGIoRSxEKHYpLEopO0woRChKKSxTKX12PWwudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/SShzLGwudHJhbnNjbHVkZSxGKTpGO2wocSxzLEosZCx2KX19az1udWxsfSk7cmV0dXJuIGZ1bmN0aW9uKGEsYixjLGQsZSl7YT1lO2IuJCRkZXN0cm95ZWR8fChrP1xuay5wdXNoKGIsYyxkLGEpOihsLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoYT1JKGIsbC50cmFuc2NsdWRlLGUpKSxsKHEsYixjLGQsYSkpKX19ZnVuY3Rpb24gQShhLGIpe3ZhciBjPWIucHJpb3JpdHktYS5wcmlvcml0eTtyZXR1cm4gMCE9PWM/YzphLm5hbWUhPT1iLm5hbWU/YS5uYW1lPGIubmFtZT8tMToxOmEuaW5kZXgtYi5pbmRleH1mdW5jdGlvbiBBYShhLGIsYyxkKXtpZihiKXRocm93IGthKFwibXVsdGlkaXJcIixiLm5hbWUsYy5uYW1lLGEsdmEoZCkpO31mdW5jdGlvbiBUKGEsYyl7dmFyIGQ9YihjLCEwKTtkJiZhLnB1c2goe3ByaW9yaXR5OjAsY29tcGlsZTpmdW5jdGlvbihhKXthPWEucGFyZW50KCk7dmFyIGI9ISFhLmxlbmd0aDtiJiZGLiQkYWRkQmluZGluZ0NsYXNzKGEpO3JldHVybiBmdW5jdGlvbihhLGMpe3ZhciBlPWMucGFyZW50KCk7Ynx8Ri4kJGFkZEJpbmRpbmdDbGFzcyhlKTtGLiQkYWRkQmluZGluZ0luZm8oZSxkLmV4cHJlc3Npb25zKTthLiR3YXRjaChkLFxuZnVuY3Rpb24oYSl7Y1swXS5ub2RlVmFsdWU9YX0pfX19KX1mdW5jdGlvbiBVKGEsYil7YT1RKGF8fFwiaHRtbFwiKTtzd2l0Y2goYSl7Y2FzZSBcInN2Z1wiOmNhc2UgXCJtYXRoXCI6dmFyIGM9WC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuaW5uZXJIVE1MPVwiPFwiK2ErXCI+XCIrYitcIjwvXCIrYStcIj5cIjtyZXR1cm4gYy5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7ZGVmYXVsdDpyZXR1cm4gYn19ZnVuY3Rpb24geGEoYSxiKXtpZihcInNyY2RvY1wiPT1iKXJldHVybiBLLkhUTUw7dmFyIGM9dWEoYSk7aWYoXCJ4bGlua0hyZWZcIj09Ynx8XCJmb3JtXCI9PWMmJlwiYWN0aW9uXCI9PWJ8fFwiaW1nXCIhPWMmJihcInNyY1wiPT1ifHxcIm5nU3JjXCI9PWIpKXJldHVybiBLLlJFU09VUkNFX1VSTH1mdW5jdGlvbiBSKGEsYyxkLGUsZil7dmFyIGg9YihkLCEwKTtpZihoKXtpZihcIm11bHRpcGxlXCI9PT1lJiZcInNlbGVjdFwiPT09dWEoYSkpdGhyb3cga2EoXCJzZWxtdWx0aVwiLHZhKGEpKTtjLnB1c2goe3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihjLFxuZCxsKXtkPWwuJCRvYnNlcnZlcnN8fChsLiQkb2JzZXJ2ZXJzPXt9KTtpZihrLnRlc3QoZSkpdGhyb3cga2EoXCJub2RvbWV2ZW50c1wiKTtsW2VdJiYoaD1iKGxbZV0sITAseGEoYSxlKSxnW2VdfHxmKSkmJihsW2VdPWgoYyksKGRbZV18fChkW2VdPVtdKSkuJCRpbnRlcj0hMCwobC4kJG9ic2VydmVycyYmbC4kJG9ic2VydmVyc1tlXS4kJHNjb3BlfHxjKS4kd2F0Y2goaCxmdW5jdGlvbihhLGIpe1wiY2xhc3NcIj09PWUmJmEhPWI/bC4kdXBkYXRlQ2xhc3MoYSxiKTpsLiRzZXQoZSxhKX0pKX19fX0pfX1mdW5jdGlvbiBEYihhLGIsYyl7dmFyIGQ9YlswXSxlPWIubGVuZ3RoLGY9ZC5wYXJlbnROb2RlLGcsaDtpZihhKWZvcihnPTAsaD1hLmxlbmd0aDtnPGg7ZysrKWlmKGFbZ109PWQpe2FbZysrXT1jO2g9ZytlLTE7Zm9yKHZhciBrPWEubGVuZ3RoO2c8aztnKyssaCsrKWg8az9hW2ddPWFbaF06ZGVsZXRlIGFbZ107YS5sZW5ndGgtPWUtMTthLmNvbnRleHQ9PT1kJiYoYS5jb250ZXh0PVxuYyk7YnJlYWt9ZiYmZi5yZXBsYWNlQ2hpbGQoYyxkKTthPVguY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuYXBwZW5kQ2hpbGQoZCk7RChjKS5kYXRhKEQoZCkuZGF0YSgpKTtyYT8oUWI9ITAscmEuY2xlYW5EYXRhKFtkXSkpOmRlbGV0ZSBELmNhY2hlW2RbRC5leHBhbmRvXV07ZD0xO2ZvcihlPWIubGVuZ3RoO2Q8ZTtkKyspZj1iW2RdLEQoZikucmVtb3ZlKCksYS5hcHBlbmRDaGlsZChmKSxkZWxldGUgYltkXTtiWzBdPWM7Yi5sZW5ndGg9MX1mdW5jdGlvbiBZKGEsYil7cmV0dXJuIEcoZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEsYil9ZnVuY3Rpb24gWihhLGIsZCxlLGYsZyl7dHJ5e2EoYixkLGUsZixnKX1jYXRjaChoKXtjKGgsdmEoZCkpfX12YXIgVj1mdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPU9iamVjdC5rZXlzKGIpLGQsZSxmO2Q9MDtmb3IoZT1jLmxlbmd0aDtkPGU7ZCsrKWY9Y1tkXSx0aGlzW2ZdPWJbZl19ZWxzZSB0aGlzLiRhdHRyPVxue307dGhpcy4kJGVsZW1lbnQ9YX07Vi5wcm90b3R5cGU9eyRub3JtYWxpemU6d2EsJGFkZENsYXNzOmZ1bmN0aW9uKGEpe2EmJjA8YS5sZW5ndGgmJkUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsYSl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihhKXthJiYwPGEubGVuZ3RoJiZFLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LGEpfSwkdXBkYXRlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1SYyhhLGIpO2MmJmMubGVuZ3RoJiZFLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LGMpOyhjPVJjKGIsYSkpJiZjLmxlbmd0aCYmRS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxjKX0sJHNldDpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj10aGlzLiQkZWxlbWVudFswXSxnPUtjKGYsYSksaD1oZihmLGEpLGY9YTtnPyh0aGlzLiQkZWxlbWVudC5wcm9wKGEsYiksZT1nKTpoJiYodGhpc1toXT1iLGY9aCk7dGhpc1thXT1iO2U/dGhpcy4kYXR0clthXT1lOihlPXRoaXMuJGF0dHJbYV0pfHwodGhpcy4kYXR0clthXT1cbmU9UGIoYSxcIi1cIikpO2c9dWEodGhpcy4kJGVsZW1lbnQpO2lmKFwiYVwiPT09ZyYmXCJocmVmXCI9PT1hfHxcImltZ1wiPT09ZyYmXCJzcmNcIj09PWEpdGhpc1thXT1iPUooYixcInNyY1wiPT09YSk7ZWxzZSBpZihcImltZ1wiPT09ZyYmXCJzcmNzZXRcIj09PWEpe2Zvcih2YXIgZz1cIlwiLGg9UChiKSxrPS8oXFxzK1xcZCt4XFxzKix8XFxzK1xcZCt3XFxzKix8XFxzKyx8LFxccyspLyxrPS9cXHMvLnRlc3QoaCk/azovKCwpLyxoPWguc3BsaXQoayksaz1NYXRoLmZsb29yKGgubGVuZ3RoLzIpLGw9MDtsPGs7bCsrKXZhciBxPTIqbCxnPWcrSihQKGhbcV0pLCEwKSxnPWcrKFwiIFwiK1AoaFtxKzFdKSk7aD1QKGhbMipsXSkuc3BsaXQoL1xccy8pO2crPUooUChoWzBdKSwhMCk7Mj09PWgubGVuZ3RoJiYoZys9XCIgXCIrUChoWzFdKSk7dGhpc1thXT1iPWd9ITEhPT1kJiYobnVsbD09PWJ8fGI9PT11P3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoZSk6dGhpcy4kJGVsZW1lbnQuYXR0cihlLGIpKTsoYT10aGlzLiQkb2JzZXJ2ZXJzKSYmXG5yKGFbZl0sZnVuY3Rpb24oYSl7dHJ5e2EoYil9Y2F0Y2goZCl7YyhkKX19KX0sJG9ic2VydmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy4kJG9ic2VydmVyc3x8KGMuJCRvYnNlcnZlcnM9aWEoKSksZT1kW2FdfHwoZFthXT1bXSk7ZS5wdXNoKGIpO3YuJGV2YWxBc3luYyhmdW5jdGlvbigpeyFlLiQkaW50ZXImJmMuaGFzT3duUHJvcGVydHkoYSkmJmIoY1thXSl9KTtyZXR1cm4gZnVuY3Rpb24oKXtWYShlLGIpfX19O3ZhciB5YT1iLnN0YXJ0U3ltYm9sKCksZmE9Yi5lbmRTeW1ib2woKSxQYz1cInt7XCI9PXlhfHxcIn19XCI9PWZhP29hOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xce1xcey9nLHlhKS5yZXBsYWNlKC99fS9nLGZhKX0sSGE9L15uZ0F0dHJbQS1aXS87Ri4kJGFkZEJpbmRpbmdJbmZvPWw/ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRhdGEoXCIkYmluZGluZ1wiKXx8W107eChiKT9jPWMuY29uY2F0KGIpOmMucHVzaChiKTthLmRhdGEoXCIkYmluZGluZ1wiLGMpfTpIO1xuRi4kJGFkZEJpbmRpbmdDbGFzcz1sP2Z1bmN0aW9uKGEpe0woYSxcIm5nLWJpbmRpbmdcIil9Okg7Ri4kJGFkZFNjb3BlSW5mbz1sP2Z1bmN0aW9uKGEsYixjLGQpe2EuZGF0YShjP2Q/XCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZVwiOlwiJGlzb2xhdGVTY29wZVwiOlwiJHNjb3BlXCIsYil9Okg7Ri4kJGFkZFNjb3BlQ2xhc3M9bD9mdW5jdGlvbihhLGIpe0woYSxiP1wibmctaXNvbGF0ZS1zY29wZVwiOlwibmctc2NvcGVcIil9Okg7cmV0dXJuIEZ9XX1mdW5jdGlvbiB3YShiKXtyZXR1cm4gYmIoYi5yZXBsYWNlKHFmLFwiXCIpKX1mdW5jdGlvbiBSYyhiLGEpe3ZhciBjPVwiXCIsZD1iLnNwbGl0KC9cXHMrLyksZT1hLnNwbGl0KC9cXHMrLyksZj0wO2E6Zm9yKDtmPGQubGVuZ3RoO2YrKyl7Zm9yKHZhciBnPWRbZl0saD0wO2g8ZS5sZW5ndGg7aCsrKWlmKGc9PWVbaF0pY29udGludWUgYTtjKz0oMDxjLmxlbmd0aD9cIiBcIjpcIlwiKStnfXJldHVybiBjfWZ1bmN0aW9uIFFjKGIpe2I9RChiKTt2YXIgYT1iLmxlbmd0aDtcbmlmKDE+PWEpcmV0dXJuIGI7Zm9yKDthLS07KTg9PT1iW2FdLm5vZGVUeXBlJiZyZi5jYWxsKGIsYSwxKTtyZXR1cm4gYn1mdW5jdGlvbiBEZSgpe3ZhciBiPXt9LGE9ITEsYz0vXihcXFMrKShcXHMrYXNcXHMrKFxcdyspKT8kLzt0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKGEsYyl7TGEoYSxcImNvbnRyb2xsZXJcIik7TyhhKT9HKGIsYSk6YlthXT1jfTt0aGlzLmFsbG93R2xvYmFscz1mdW5jdGlvbigpe2E9ITB9O3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcIiR3aW5kb3dcIixmdW5jdGlvbihkLGUpe2Z1bmN0aW9uIGYoYSxiLGMsZCl7aWYoIWF8fCFPKGEuJHNjb3BlKSl0aHJvdyBBKFwiJGNvbnRyb2xsZXJcIikoXCJub3NjcFwiLGQsYik7YS4kc2NvcGVbYl09Y31yZXR1cm4gZnVuY3Rpb24oZyxoLGssbCl7dmFyIG0scCxxO2s9ITA9PT1rO2wmJnoobCkmJihxPWwpO3ooZykmJihsPWcubWF0Y2goYykscD1sWzFdLHE9cXx8bFszXSxnPWIuaGFzT3duUHJvcGVydHkocCk/YltwXTp1YyhoLiRzY29wZSxwLFxuITApfHwoYT91YyhlLHAsITApOnUpLHBiKGcscCwhMCkpO2lmKGspcmV0dXJuIGs9KHgoZyk/Z1tnLmxlbmd0aC0xXTpnKS5wcm90b3R5cGUsbT1PYmplY3QuY3JlYXRlKGspLHEmJmYoaCxxLG0scHx8Zy5uYW1lKSxHKGZ1bmN0aW9uKCl7ZC5pbnZva2UoZyxtLGgscCk7cmV0dXJuIG19LHtpbnN0YW5jZTptLGlkZW50aWZpZXI6cX0pO209ZC5pbnN0YW50aWF0ZShnLGgscCk7cSYmZihoLHEsbSxwfHxnLm5hbWUpO3JldHVybiBtfX1dfWZ1bmN0aW9uIEVlKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihiKXtyZXR1cm4gRChiLmRvY3VtZW50KX1dfWZ1bmN0aW9uIEZlKCl7dGhpcy4kZ2V0PVtcIiRsb2dcIixmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYSxjKXtiLmVycm9yLmFwcGx5KGIsYXJndW1lbnRzKX19XX1mdW5jdGlvbiBZYihiLGEpe2lmKHooYikpe2I9Yi5yZXBsYWNlKHNmLFwiXCIpO3ZhciBjPWEoXCJDb250ZW50LVR5cGVcIik7aWYoYyYmMD09PWMuaW5kZXhPZihTYykmJlxuYi50cmltKCl8fHRmLnRlc3QoYikmJnVmLnRlc3QoYikpYj1vYyhiKX1yZXR1cm4gYn1mdW5jdGlvbiBUYyhiKXt2YXIgYT1pYSgpLGMsZCxlO2lmKCFiKXJldHVybiBhO3IoYi5zcGxpdChcIlxcblwiKSxmdW5jdGlvbihiKXtlPWIuaW5kZXhPZihcIjpcIik7Yz1RKFAoYi5zdWJzdHIoMCxlKSkpO2Q9UChiLnN1YnN0cihlKzEpKTtjJiYoYVtjXT1hW2NdP2FbY10rXCIsIFwiK2Q6ZCl9KTtyZXR1cm4gYX1mdW5jdGlvbiBVYyhiKXt2YXIgYT1PKGIpP2I6dTtyZXR1cm4gZnVuY3Rpb24oYyl7YXx8KGE9VGMoYikpO3JldHVybiBjPyhjPWFbUShjKV0sdm9pZCAwPT09YyYmKGM9bnVsbCksYyk6YX19ZnVuY3Rpb24gVmMoYixhLGMpe2lmKEIoYykpcmV0dXJuIGMoYixhKTtyKGMsZnVuY3Rpb24oYyl7Yj1jKGIsYSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBJZSgpe3ZhciBiPXRoaXMuZGVmYXVsdHM9e3RyYW5zZm9ybVJlc3BvbnNlOltZYl0sdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oYSl7cmV0dXJuIE8oYSkmJlxuXCJbb2JqZWN0IEZpbGVdXCIhPT1KYS5jYWxsKGEpJiZcIltvYmplY3QgQmxvYl1cIiE9PUphLmNhbGwoYSk/WmEoYSk6YX1dLGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9LHBvc3Q6cWEoWmIpLHB1dDpxYShaYikscGF0Y2g6cWEoWmIpfSx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwifSxhPSExO3RoaXMudXNlQXBwbHlBc3luYz1mdW5jdGlvbihiKXtyZXR1cm4geShiKT8oYT0hIWIsdGhpcyk6YX07dmFyIGM9dGhpcy5pbnRlcmNlcHRvcnM9W107dGhpcy4kZ2V0PVtcIiRodHRwQmFja2VuZFwiLFwiJGJyb3dzZXJcIixcIiRjYWNoZUZhY3RvcnlcIixcIiRyb290U2NvcGVcIixcIiRxXCIsXCIkaW5qZWN0b3JcIixmdW5jdGlvbihkLGUsZixnLGgsayl7ZnVuY3Rpb24gbChhKXtmdW5jdGlvbiBjKGEpe3ZhciBiPUcoe30sYSk7Yi5kYXRhPWEuZGF0YT9WYyhhLmRhdGEsYS5oZWFkZXJzLGQudHJhbnNmb3JtUmVzcG9uc2UpOlxuYS5kYXRhO2E9YS5zdGF0dXM7cmV0dXJuIDIwMDw9YSYmMzAwPmE/YjpoLnJlamVjdChiKX12YXIgZD17bWV0aG9kOlwiZ2V0XCIsdHJhbnNmb3JtUmVxdWVzdDpiLnRyYW5zZm9ybVJlcXVlc3QsdHJhbnNmb3JtUmVzcG9uc2U6Yi50cmFuc2Zvcm1SZXNwb25zZX0sZT1mdW5jdGlvbihhKXt2YXIgYz1iLmhlYWRlcnMsZD1HKHt9LGEuaGVhZGVycyksZSxmLGM9Ryh7fSxjLmNvbW1vbixjW1EoYS5tZXRob2QpXSk7YTpmb3IoZSBpbiBjKXthPVEoZSk7Zm9yKGYgaW4gZClpZihRKGYpPT09YSljb250aW51ZSBhO2RbZV09Y1tlXX0oZnVuY3Rpb24oYSl7dmFyIGI7cihhLGZ1bmN0aW9uKGMsZCl7QihjKSYmKGI9YygpLG51bGwhPWI/YVtkXT1iOmRlbGV0ZSBhW2RdKX0pfSkoZCk7cmV0dXJuIGR9KGEpO2lmKCFoYS5pc09iamVjdChhKSl0aHJvdyBBKFwiJGh0dHBcIikoXCJiYWRyZXFcIixhKTtHKGQsYSk7ZC5oZWFkZXJzPWU7ZC5tZXRob2Q9cmIoZC5tZXRob2QpO3ZhciBmPVtmdW5jdGlvbihhKXtlPVxuYS5oZWFkZXJzO3ZhciBkPVZjKGEuZGF0YSxVYyhlKSxhLnRyYW5zZm9ybVJlcXVlc3QpO0MoZCkmJnIoZSxmdW5jdGlvbihhLGIpe1wiY29udGVudC10eXBlXCI9PT1RKGIpJiZkZWxldGUgZVtiXX0pO0MoYS53aXRoQ3JlZGVudGlhbHMpJiYhQyhiLndpdGhDcmVkZW50aWFscykmJihhLndpdGhDcmVkZW50aWFscz1iLndpdGhDcmVkZW50aWFscyk7cmV0dXJuIG0oYSxkLGUpLnRoZW4oYyxjKX0sdV0sZz1oLndoZW4oZCk7Zm9yKHIodCxmdW5jdGlvbihhKXsoYS5yZXF1ZXN0fHxhLnJlcXVlc3RFcnJvcikmJmYudW5zaGlmdChhLnJlcXVlc3QsYS5yZXF1ZXN0RXJyb3IpOyhhLnJlc3BvbnNlfHxhLnJlc3BvbnNlRXJyb3IpJiZmLnB1c2goYS5yZXNwb25zZSxhLnJlc3BvbnNlRXJyb3IpfSk7Zi5sZW5ndGg7KXthPWYuc2hpZnQoKTt2YXIgaz1mLnNoaWZ0KCksZz1nLnRoZW4oYSxrKX1nLnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7Zy50aGVuKGZ1bmN0aW9uKGIpe2EoYi5kYXRhLGIuc3RhdHVzLFxuYi5oZWFkZXJzLGQpfSk7cmV0dXJuIGd9O2cuZXJyb3I9ZnVuY3Rpb24oYSl7Zy50aGVuKG51bGwsZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGQpfSk7cmV0dXJuIGd9O3JldHVybiBnfWZ1bmN0aW9uIG0oYyxmLGspe2Z1bmN0aW9uIG0oYixjLGQsZSl7ZnVuY3Rpb24gZigpe3coYyxiLGQsZSl9RiYmKDIwMDw9YiYmMzAwPmI/Ri5wdXQoSSxbYixjLFRjKGQpLGVdKTpGLnJlbW92ZShJKSk7YT9nLiRhcHBseUFzeW5jKGYpOihmKCksZy4kJHBoYXNlfHxnLiRhcHBseSgpKX1mdW5jdGlvbiB3KGEsYixkLGUpe2I9TWF0aC5tYXgoYiwwKTsoMjAwPD1iJiYzMDA+Yj9KLnJlc29sdmU6Si5yZWplY3QpKHtkYXRhOmEsc3RhdHVzOmIsaGVhZGVyczpVYyhkKSxjb25maWc6YyxzdGF0dXNUZXh0OmV9KX1mdW5jdGlvbiB0KGEpe3coYS5kYXRhLGEuc3RhdHVzLHFhKGEuaGVhZGVycygpKSxhLnN0YXR1c1RleHQpfWZ1bmN0aW9uIEUoKXt2YXIgYT1sLnBlbmRpbmdSZXF1ZXN0cy5pbmRleE9mKGMpO1xuLTEhPT1hJiZsLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoYSwxKX12YXIgSj1oLmRlZmVyKCksTD1KLnByb21pc2UsRixyLEk9cChjLnVybCxjLnBhcmFtcyk7bC5wZW5kaW5nUmVxdWVzdHMucHVzaChjKTtMLnRoZW4oRSxFKTshYy5jYWNoZSYmIWIuY2FjaGV8fCExPT09Yy5jYWNoZXx8XCJHRVRcIiE9PWMubWV0aG9kJiZcIkpTT05QXCIhPT1jLm1ldGhvZHx8KEY9TyhjLmNhY2hlKT9jLmNhY2hlOk8oYi5jYWNoZSk/Yi5jYWNoZTpxKTtGJiYocj1GLmdldChJKSx5KHIpP3ImJkIoci50aGVuKT9yLnRoZW4odCx0KTp4KHIpP3coclsxXSxyWzBdLHFhKHJbMl0pLHJbM10pOncociwyMDAse30sXCJPS1wiKTpGLnB1dChJLEwpKTtDKHIpJiYoKHI9V2MoYy51cmwpP2UuY29va2llcygpW2MueHNyZkNvb2tpZU5hbWV8fGIueHNyZkNvb2tpZU5hbWVdOnUpJiYoa1tjLnhzcmZIZWFkZXJOYW1lfHxiLnhzcmZIZWFkZXJOYW1lXT1yKSxkKGMubWV0aG9kLEksZixtLGssYy50aW1lb3V0LGMud2l0aENyZWRlbnRpYWxzLFxuYy5yZXNwb25zZVR5cGUpKTtyZXR1cm4gTH1mdW5jdGlvbiBwKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9W107Q2QoYixmdW5jdGlvbihhLGIpe251bGw9PT1hfHxDKGEpfHwoeChhKXx8KGE9W2FdKSxyKGEsZnVuY3Rpb24oYSl7TyhhKSYmKGE9cGEoYSk/YS50b0lTT1N0cmluZygpOlphKGEpKTtjLnB1c2goRWEoYikrXCI9XCIrRWEoYSkpfSkpfSk7MDxjLmxlbmd0aCYmKGErPSgtMT09YS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrYy5qb2luKFwiJlwiKSk7cmV0dXJuIGF9dmFyIHE9ZihcIiRodHRwXCIpLHQ9W107cihjLGZ1bmN0aW9uKGEpe3QudW5zaGlmdCh6KGEpP2suZ2V0KGEpOmsuaW52b2tlKGEpKX0pO2wucGVuZGluZ1JlcXVlc3RzPVtdOyhmdW5jdGlvbihhKXtyKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtsW2FdPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGwoRyhjfHx7fSx7bWV0aG9kOmEsdXJsOmJ9KSl9fSl9KShcImdldFwiLFwiZGVsZXRlXCIsXCJoZWFkXCIsXCJqc29ucFwiKTsoZnVuY3Rpb24oYSl7cihhcmd1bWVudHMsXG5mdW5jdGlvbihhKXtsW2FdPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gbChHKGR8fHt9LHttZXRob2Q6YSx1cmw6YixkYXRhOmN9KSl9fSl9KShcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIik7bC5kZWZhdWx0cz1iO3JldHVybiBsfV19ZnVuY3Rpb24gdmYoKXtyZXR1cm4gbmV3IFUuWE1MSHR0cFJlcXVlc3R9ZnVuY3Rpb24gSmUoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gd2YoYix2ZixiLmRlZmVyLGEuYW5ndWxhci5jYWxsYmFja3MsY1swXSl9XX1mdW5jdGlvbiB3ZihiLGEsYyxkLGUpe2Z1bmN0aW9uIGYoYSxiLGMpe3ZhciBmPWUuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxtPW51bGw7Zi50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7Zi5zcmM9YTtmLmFzeW5jPSEwO209ZnVuY3Rpb24oYSl7Zi5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLG0sITEpO2YucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsbSwhMSk7XG5lLmJvZHkucmVtb3ZlQ2hpbGQoZik7Zj1udWxsO3ZhciBnPS0xLHQ9XCJ1bmtub3duXCI7YSYmKFwibG9hZFwiIT09YS50eXBlfHxkW2JdLmNhbGxlZHx8KGE9e3R5cGU6XCJlcnJvclwifSksdD1hLnR5cGUsZz1cImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCk7YyYmYyhnLHQpfTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbSwhMSk7Zi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixtLCExKTtlLmJvZHkuYXBwZW5kQ2hpbGQoZik7cmV0dXJuIG19cmV0dXJuIGZ1bmN0aW9uKGUsaCxrLGwsbSxwLHEsdCl7ZnVuY3Rpb24gcygpe3YmJnYoKTt3JiZ3LmFib3J0KCl9ZnVuY3Rpb24gTihhLGQsZSxmLGcpe0UhPT11JiZjLmNhbmNlbChFKTt2PXc9bnVsbDthKGQsZSxmLGcpO2IuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChIKX1iLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTtoPWh8fGIudXJsKCk7aWYoXCJqc29ucFwiPT1RKGUpKXt2YXIgbj1cIl9cIisoZC5jb3VudGVyKyspLnRvU3RyaW5nKDM2KTtcbmRbbl09ZnVuY3Rpb24oYSl7ZFtuXS5kYXRhPWE7ZFtuXS5jYWxsZWQ9ITB9O3ZhciB2PWYoaC5yZXBsYWNlKFwiSlNPTl9DQUxMQkFDS1wiLFwiYW5ndWxhci5jYWxsYmFja3MuXCIrbiksbixmdW5jdGlvbihhLGIpe04obCxhLGRbbl0uZGF0YSxcIlwiLGIpO2Rbbl09SH0pfWVsc2V7dmFyIHc9YSgpO3cub3BlbihlLGgsITApO3IobSxmdW5jdGlvbihhLGIpe3koYSkmJncuc2V0UmVxdWVzdEhlYWRlcihiLGEpfSk7dy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT13LnN0YXR1c1RleHR8fFwiXCIsYj1cInJlc3BvbnNlXCJpbiB3P3cucmVzcG9uc2U6dy5yZXNwb25zZVRleHQsYz0xMjIzPT09dy5zdGF0dXM/MjA0Oncuc3RhdHVzOzA9PT1jJiYoYz1iPzIwMDpcImZpbGVcIj09QmEoaCkucHJvdG9jb2w/NDA0OjApO04obCxjLGIsdy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxhKX07ZT1mdW5jdGlvbigpe04obCwtMSxudWxsLG51bGwsXCJcIil9O3cub25lcnJvcj1lO3cub25hYm9ydD1lO3EmJih3LndpdGhDcmVkZW50aWFscz1cbiEwKTtpZih0KXRyeXt3LnJlc3BvbnNlVHlwZT10fWNhdGNoKEspe2lmKFwianNvblwiIT09dCl0aHJvdyBLO313LnNlbmQoa3x8bnVsbCl9aWYoMDxwKXZhciBFPWMocyxwKTtlbHNlIHAmJkIocC50aGVuKSYmcC50aGVuKHMpfX1mdW5jdGlvbiBHZSgpe3ZhciBiPVwie3tcIixhPVwifX1cIjt0aGlzLnN0YXJ0U3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy5lbmRTeW1ib2w9ZnVuY3Rpb24oYil7cmV0dXJuIGI/KGE9Yix0aGlzKTphfTt0aGlzLiRnZXQ9W1wiJHBhcnNlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHNjZVwiLGZ1bmN0aW9uKGMsZCxlKXtmdW5jdGlvbiBmKGEpe3JldHVyblwiXFxcXFxcXFxcXFxcXCIrYX1mdW5jdGlvbiBnKGYsZyx0LHMpe2Z1bmN0aW9uIE4oYyl7cmV0dXJuIGMucmVwbGFjZShsLGIpLnJlcGxhY2UobSxhKX1mdW5jdGlvbiBuKGEpe3RyeXt2YXIgYj1hO2E9dD9lLmdldFRydXN0ZWQodCxiKTplLnZhbHVlT2YoYik7dmFyIGM7aWYocyYmIXkoYSkpYz1cbmE7ZWxzZSBpZihudWxsPT1hKWM9XCJcIjtlbHNle3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcInN0cmluZ1wiOmJyZWFrO2Nhc2UgXCJudW1iZXJcIjphPVwiXCIrYTticmVhaztkZWZhdWx0OmE9WmEoYSl9Yz1hfXJldHVybiBjfWNhdGNoKGcpe2M9JGIoXCJpbnRlcnJcIixmLGcudG9TdHJpbmcoKSksZChjKX19cz0hIXM7Zm9yKHZhciB2LHcsSz0wLEU9W10sSj1bXSxMPWYubGVuZ3RoLEY9W10scj1bXTtLPEw7KWlmKC0xIT0odj1mLmluZGV4T2YoYixLKSkmJi0xIT0odz1mLmluZGV4T2YoYSx2K2gpKSlLIT09diYmRi5wdXNoKE4oZi5zdWJzdHJpbmcoSyx2KSkpLEs9Zi5zdWJzdHJpbmcoditoLHcpLEUucHVzaChLKSxKLnB1c2goYyhLLG4pKSxLPXcrayxyLnB1c2goRi5sZW5ndGgpLEYucHVzaChcIlwiKTtlbHNle0shPT1MJiZGLnB1c2goTihmLnN1YnN0cmluZyhLKSkpO2JyZWFrfWlmKHQmJjE8Ri5sZW5ndGgpdGhyb3cgJGIoXCJub2NvbmNhdFwiLGYpO2lmKCFnfHxFLmxlbmd0aCl7dmFyIEk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVxuMCxjPUUubGVuZ3RoO2I8YztiKyspe2lmKHMmJkMoYVtiXSkpcmV0dXJuO0ZbcltiXV09YVtiXX1yZXR1cm4gRi5qb2luKFwiXCIpfTtyZXR1cm4gRyhmdW5jdGlvbihhKXt2YXIgYj0wLGM9RS5sZW5ndGgsZT1BcnJheShjKTt0cnl7Zm9yKDtiPGM7YisrKWVbYl09SltiXShhKTtyZXR1cm4gSShlKX1jYXRjaChnKXthPSRiKFwiaW50ZXJyXCIsZixnLnRvU3RyaW5nKCkpLGQoYSl9fSx7ZXhwOmYsZXhwcmVzc2lvbnM6RSwkJHdhdGNoRGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhLiR3YXRjaEdyb3VwKEosZnVuY3Rpb24oYyxlKXt2YXIgZj1JKGMpO0IoYikmJmIuY2FsbCh0aGlzLGYsYyE9PWU/ZDpmLGEpO2Q9Zn0sYyl9fSl9fXZhciBoPWIubGVuZ3RoLGs9YS5sZW5ndGgsbD1uZXcgUmVnRXhwKGIucmVwbGFjZSgvLi9nLGYpLFwiZ1wiKSxtPW5ldyBSZWdFeHAoYS5yZXBsYWNlKC8uL2csZiksXCJnXCIpO2cuc3RhcnRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gYn07Zy5lbmRTeW1ib2w9XG5mdW5jdGlvbigpe3JldHVybiBhfTtyZXR1cm4gZ31dfWZ1bmN0aW9uIEhlKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRxXCIsXCIkJHFcIixmdW5jdGlvbihiLGEsYyxkKXtmdW5jdGlvbiBlKGUsaCxrLGwpe3ZhciBtPWEuc2V0SW50ZXJ2YWwscD1hLmNsZWFySW50ZXJ2YWwscT0wLHQ9eShsKSYmIWwscz0odD9kOmMpLmRlZmVyKCksTj1zLnByb21pc2U7az15KGspP2s6MDtOLnRoZW4obnVsbCxudWxsLGUpO04uJCRpbnRlcnZhbElkPW0oZnVuY3Rpb24oKXtzLm5vdGlmeShxKyspOzA8ayYmcT49ayYmKHMucmVzb2x2ZShxKSxwKE4uJCRpbnRlcnZhbElkKSxkZWxldGUgZltOLiQkaW50ZXJ2YWxJZF0pO3R8fGIuJGFwcGx5KCl9LGgpO2ZbTi4kJGludGVydmFsSWRdPXM7cmV0dXJuIE59dmFyIGY9e307ZS5jYW5jZWw9ZnVuY3Rpb24oYil7cmV0dXJuIGImJmIuJCRpbnRlcnZhbElkIGluIGY/KGZbYi4kJGludGVydmFsSWRdLnJlamVjdChcImNhbmNlbGVkXCIpLGEuY2xlYXJJbnRlcnZhbChiLiQkaW50ZXJ2YWxJZCksXG5kZWxldGUgZltiLiQkaW50ZXJ2YWxJZF0sITApOiExfTtyZXR1cm4gZX1dfWZ1bmN0aW9uIFBkKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2lkOlwiZW4tdXNcIixOVU1CRVJfRk9STUFUUzp7REVDSU1BTF9TRVA6XCIuXCIsR1JPVVBfU0VQOlwiLFwiLFBBVFRFUk5TOlt7bWluSW50OjEsbWluRnJhYzowLG1heEZyYWM6Myxwb3NQcmU6XCJcIixwb3NTdWY6XCJcIixuZWdQcmU6XCItXCIsbmVnU3VmOlwiXCIsZ1NpemU6MyxsZ1NpemU6M30se21pbkludDoxLG1pbkZyYWM6MixtYXhGcmFjOjIscG9zUHJlOlwiXFx1MDBhNFwiLHBvc1N1ZjpcIlwiLG5lZ1ByZTpcIihcXHUwMGE0XCIsbmVnU3VmOlwiKVwiLGdTaXplOjMsbGdTaXplOjN9XSxDVVJSRU5DWV9TWU06XCIkXCJ9LERBVEVUSU1FX0ZPUk1BVFM6e01PTlRIOlwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKSxTSE9SVE1PTlRIOlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIiksXG5EQVk6XCJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheVwiLnNwbGl0KFwiIFwiKSxTSE9SVERBWTpcIlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdFwiLnNwbGl0KFwiIFwiKSxBTVBNUzpbXCJBTVwiLFwiUE1cIl0sbWVkaXVtOlwiTU1NIGQsIHkgaDptbTpzcyBhXCIsXCJzaG9ydFwiOlwiTS9kL3l5IGg6bW0gYVwiLGZ1bGxEYXRlOlwiRUVFRSwgTU1NTSBkLCB5XCIsbG9uZ0RhdGU6XCJNTU1NIGQsIHlcIixtZWRpdW1EYXRlOlwiTU1NIGQsIHlcIixzaG9ydERhdGU6XCJNL2QveXlcIixtZWRpdW1UaW1lOlwiaDptbTpzcyBhXCIsc2hvcnRUaW1lOlwiaDptbSBhXCJ9LHBsdXJhbENhdDpmdW5jdGlvbihiKXtyZXR1cm4gMT09PWI/XCJvbmVcIjpcIm90aGVyXCJ9fX19ZnVuY3Rpb24gYWMoYil7Yj1iLnNwbGl0KFwiL1wiKTtmb3IodmFyIGE9Yi5sZW5ndGg7YS0tOyliW2FdPW5iKGJbYV0pO3JldHVybiBiLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIFhjKGIsYSl7dmFyIGM9QmEoYik7YS4kJHByb3RvY29sPVxuYy5wcm90b2NvbDthLiQkaG9zdD1jLmhvc3RuYW1lO2EuJCRwb3J0PSQoYy5wb3J0KXx8eGZbYy5wcm90b2NvbF18fG51bGx9ZnVuY3Rpb24gWWMoYixhKXt2YXIgYz1cIi9cIiE9PWIuY2hhckF0KDApO2MmJihiPVwiL1wiK2IpO3ZhciBkPUJhKGIpO2EuJCRwYXRoPWRlY29kZVVSSUNvbXBvbmVudChjJiZcIi9cIj09PWQucGF0aG5hbWUuY2hhckF0KDApP2QucGF0aG5hbWUuc3Vic3RyaW5nKDEpOmQucGF0aG5hbWUpO2EuJCRzZWFyY2g9cWMoZC5zZWFyY2gpO2EuJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpO2EuJCRwYXRoJiZcIi9cIiE9YS4kJHBhdGguY2hhckF0KDApJiYoYS4kJHBhdGg9XCIvXCIrYS4kJHBhdGgpfWZ1bmN0aW9uIHphKGIsYSl7aWYoMD09PWEuaW5kZXhPZihiKSlyZXR1cm4gYS5zdWJzdHIoYi5sZW5ndGgpfWZ1bmN0aW9uIEdhKGIpe3ZhciBhPWIuaW5kZXhPZihcIiNcIik7cmV0dXJuLTE9PWE/YjpiLnN1YnN0cigwLGEpfWZ1bmN0aW9uIFpjKGIpe3JldHVybiBiLnJlcGxhY2UoLygjLispfCMkLyxcblwiJDFcIil9ZnVuY3Rpb24gYmMoYil7cmV0dXJuIGIuc3Vic3RyKDAsR2EoYikubGFzdEluZGV4T2YoXCIvXCIpKzEpfWZ1bmN0aW9uIGNjKGIsYSl7dGhpcy4kJGh0bWw1PSEwO2E9YXx8XCJcIjt2YXIgYz1iYyhiKTtYYyhiLHRoaXMpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihhKXt2YXIgYj16YShjLGEpO2lmKCF6KGIpKXRocm93IEViKFwiaXB0aHByZnhcIixhLGMpO1ljKGIsdGhpcyk7dGhpcy4kJHBhdGh8fCh0aGlzLiQkcGF0aD1cIi9cIik7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYT1OYih0aGlzLiQkc2VhcmNoKSxiPXRoaXMuJCRoYXNoP1wiI1wiK25iKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9YWModGhpcy4kJHBhdGgpKyhhP1wiP1wiK2E6XCJcIikrYjt0aGlzLiQkYWJzVXJsPWMrdGhpcy4kJHVybC5zdWJzdHIoMSl9O3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oZCxlKXtpZihlJiZcIiNcIj09PWVbMF0pcmV0dXJuIHRoaXMuaGFzaChlLnNsaWNlKDEpKSxcbiEwO3ZhciBmLGc7KGY9emEoYixkKSkhPT11PyhnPWYsZz0oZj16YShhLGYpKSE9PXU/YysoemEoXCIvXCIsZil8fGYpOmIrZyk6KGY9emEoYyxkKSkhPT11P2c9YytmOmM9PWQrXCIvXCImJihnPWMpO2cmJnRoaXMuJCRwYXJzZShnKTtyZXR1cm4hIWd9fWZ1bmN0aW9uIGRjKGIsYSl7dmFyIGM9YmMoYik7WGMoYix0aGlzKTt0aGlzLiQkcGFyc2U9ZnVuY3Rpb24oZCl7ZD16YShiLGQpfHx6YShjLGQpO3ZhciBlO1wiI1wiPT09ZC5jaGFyQXQoMCk/KGU9emEoYSxkKSxDKGUpJiYoZT1kKSk6ZT10aGlzLiQkaHRtbDU/ZDpcIlwiO1ljKGUsdGhpcyk7ZD10aGlzLiQkcGF0aDt2YXIgZj0vXlxcL1tBLVpdOihcXC8uKikvOzA9PT1lLmluZGV4T2YoYikmJihlPWUucmVwbGFjZShiLFwiXCIpKTtmLmV4ZWMoZSl8fChkPShlPWYuZXhlYyhkKSk/ZVsxXTpkKTt0aGlzLiQkcGF0aD1kO3RoaXMuJCRjb21wb3NlKCl9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGM9TmIodGhpcy4kJHNlYXJjaCksZT10aGlzLiQkaGFzaD9cblwiI1wiK25iKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9YWModGhpcy4kJHBhdGgpKyhjP1wiP1wiK2M6XCJcIikrZTt0aGlzLiQkYWJzVXJsPWIrKHRoaXMuJCR1cmw/YSt0aGlzLiQkdXJsOlwiXCIpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIEdhKGIpPT1HYShhKT8odGhpcy4kJHBhcnNlKGEpLCEwKTohMX19ZnVuY3Rpb24gJGMoYixhKXt0aGlzLiQkaHRtbDU9ITA7ZGMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBjPWJjKGIpO3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oZCxlKXtpZihlJiZcIiNcIj09PWVbMF0pcmV0dXJuIHRoaXMuaGFzaChlLnNsaWNlKDEpKSwhMDt2YXIgZixnO2I9PUdhKGQpP2Y9ZDooZz16YShjLGQpKT9mPWIrYStnOmM9PT1kK1wiL1wiJiYoZj1jKTtmJiZ0aGlzLiQkcGFyc2UoZik7cmV0dXJuISFmfTt0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBjPU5iKHRoaXMuJCRzZWFyY2gpLGU9dGhpcy4kJGhhc2g/XCIjXCIrbmIodGhpcy4kJGhhc2gpOlxuXCJcIjt0aGlzLiQkdXJsPWFjKHRoaXMuJCRwYXRoKSsoYz9cIj9cIitjOlwiXCIpK2U7dGhpcy4kJGFic1VybD1iK2ErdGhpcy4kJHVybH19ZnVuY3Rpb24gRmIoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYl19fWZ1bmN0aW9uIGFkKGIsYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKEMoYykpcmV0dXJuIHRoaXNbYl07dGhpc1tiXT1hKGMpO3RoaXMuJCRjb21wb3NlKCk7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIEtlKCl7dmFyIGI9XCJcIixhPXtlbmFibGVkOiExLHJlcXVpcmVCYXNlOiEwLHJld3JpdGVMaW5rczohMH07dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKGEpe3JldHVybiB5KGEpPyhiPWEsdGhpcyk6Yn07dGhpcy5odG1sNU1vZGU9ZnVuY3Rpb24oYil7cmV0dXJuIFVhKGIpPyhhLmVuYWJsZWQ9Yix0aGlzKTpPKGIpPyhVYShiLmVuYWJsZWQpJiYoYS5lbmFibGVkPWIuZW5hYmxlZCksVWEoYi5yZXF1aXJlQmFzZSkmJihhLnJlcXVpcmVCYXNlPWIucmVxdWlyZUJhc2UpLFVhKGIucmV3cml0ZUxpbmtzKSYmXG4oYS5yZXdyaXRlTGlua3M9Yi5yZXdyaXRlTGlua3MpLHRoaXMpOmF9O3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRyb290RWxlbWVudFwiLGZ1bmN0aW9uKGMsZCxlLGYpe2Z1bmN0aW9uIGcoYSxiLGMpe3ZhciBlPWsudXJsKCksZj1rLiQkc3RhdGU7dHJ5e2QudXJsKGEsYixjKSxrLiQkc3RhdGU9ZC5zdGF0ZSgpfWNhdGNoKGcpe3Rocm93IGsudXJsKGUpLGsuJCRzdGF0ZT1mLGc7fX1mdW5jdGlvbiBoKGEsYil7Yy4kYnJvYWRjYXN0KFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLGsuYWJzVXJsKCksYSxrLiQkc3RhdGUsYil9dmFyIGssbDtsPWQuYmFzZUhyZWYoKTt2YXIgbT1kLnVybCgpLHA7aWYoYS5lbmFibGVkKXtpZighbCYmYS5yZXF1aXJlQmFzZSl0aHJvdyBFYihcIm5vYmFzZVwiKTtwPW0uc3Vic3RyaW5nKDAsbS5pbmRleE9mKFwiL1wiLG0uaW5kZXhPZihcIi8vXCIpKzIpKSsobHx8XCIvXCIpO2w9ZS5oaXN0b3J5P2NjOiRjfWVsc2UgcD1HYShtKSxcbmw9ZGM7az1uZXcgbChwLFwiI1wiK2IpO2suJCRwYXJzZUxpbmtVcmwobSxtKTtrLiQkc3RhdGU9ZC5zdGF0ZSgpO3ZhciBxPS9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7Zi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYil7aWYoYS5yZXdyaXRlTGlua3MmJiFiLmN0cmxLZXkmJiFiLm1ldGFLZXkmJjIhPWIud2hpY2gpe2Zvcih2YXIgZT1EKGIudGFyZ2V0KTtcImFcIiE9PXVhKGVbMF0pOylpZihlWzBdPT09ZlswXXx8IShlPWUucGFyZW50KCkpWzBdKXJldHVybjt2YXIgZz1lLnByb3AoXCJocmVmXCIpLGg9ZS5hdHRyKFwiaHJlZlwiKXx8ZS5hdHRyKFwieGxpbms6aHJlZlwiKTtPKGcpJiZcIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1nLnRvU3RyaW5nKCkmJihnPUJhKGcuYW5pbVZhbCkuaHJlZik7cS50ZXN0KGcpfHwhZ3x8ZS5hdHRyKFwidGFyZ2V0XCIpfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhay4kJHBhcnNlTGlua1VybChnLGgpfHwoYi5wcmV2ZW50RGVmYXVsdCgpLGsuYWJzVXJsKCkhPVxuZC51cmwoKSYmKGMuJGFwcGx5KCksVS5hbmd1bGFyW1wiZmYtNjg0MjA4LXByZXZlbnREZWZhdWx0XCJdPSEwKSl9fSk7ay5hYnNVcmwoKSE9bSYmZC51cmwoay5hYnNVcmwoKSwhMCk7dmFyIHQ9ITA7ZC5vblVybENoYW5nZShmdW5jdGlvbihhLGIpe2MuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBkPWsuYWJzVXJsKCksZT1rLiQkc3RhdGUsZjtrLiQkcGFyc2UoYSk7ay4kJHN0YXRlPWI7Zj1jLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGEsZCxiLGUpLmRlZmF1bHRQcmV2ZW50ZWQ7ay5hYnNVcmwoKT09PWEmJihmPyhrLiQkcGFyc2UoZCksay4kJHN0YXRlPWUsZyhkLCExLGUpKToodD0hMSxoKGQsZSkpKX0pO2MuJCRwaGFzZXx8Yy4kZGlnZXN0KCl9KTtjLiR3YXRjaChmdW5jdGlvbigpe3ZhciBhPVpjKGQudXJsKCkpLGI9WmMoay5hYnNVcmwoKSksZj1kLnN0YXRlKCksbD1rLiQkcmVwbGFjZSxxPWEhPT1ifHxrLiQkaHRtbDUmJmUuaGlzdG9yeSYmZiE9PWsuJCRzdGF0ZTtcbmlmKHR8fHEpdD0hMSxjLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgYj1rLmFic1VybCgpLGQ9Yy4kYnJvYWRjYXN0KFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIixiLGEsay4kJHN0YXRlLGYpLmRlZmF1bHRQcmV2ZW50ZWQ7ay5hYnNVcmwoKT09PWImJihkPyhrLiQkcGFyc2UoYSksay4kJHN0YXRlPWYpOihxJiZnKGIsbCxmPT09ay4kJHN0YXRlP251bGw6ay4kJHN0YXRlKSxoKGEsZikpKX0pO2suJCRyZXBsYWNlPSExfSk7cmV0dXJuIGt9XX1mdW5jdGlvbiBMZSgpe3ZhciBiPSEwLGE9dGhpczt0aGlzLmRlYnVnRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4geShhKT8oYj1hLHRoaXMpOmJ9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZChhKXthIGluc3RhbmNlb2YgRXJyb3ImJihhLnN0YWNrP2E9YS5tZXNzYWdlJiYtMT09PWEuc3RhY2suaW5kZXhPZihhLm1lc3NhZ2UpP1wiRXJyb3I6IFwiK2EubWVzc2FnZStcIlxcblwiK2Euc3RhY2s6YS5zdGFjazphLnNvdXJjZVVSTCYmXG4oYT1hLm1lc3NhZ2UrXCJcXG5cIithLnNvdXJjZVVSTCtcIjpcIithLmxpbmUpKTtyZXR1cm4gYX1mdW5jdGlvbiBlKGEpe3ZhciBiPWMuY29uc29sZXx8e30sZT1iW2FdfHxiLmxvZ3x8SDthPSExO3RyeXthPSEhZS5hcHBseX1jYXRjaChrKXt9cmV0dXJuIGE/ZnVuY3Rpb24oKXt2YXIgYT1bXTtyKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthLnB1c2goZChiKSl9KTtyZXR1cm4gZS5hcHBseShiLGEpfTpmdW5jdGlvbihhLGIpe2UoYSxudWxsPT1iP1wiXCI6Yil9fXJldHVybntsb2c6ZShcImxvZ1wiKSxpbmZvOmUoXCJpbmZvXCIpLHdhcm46ZShcIndhcm5cIiksZXJyb3I6ZShcImVycm9yXCIpLGRlYnVnOmZ1bmN0aW9uKCl7dmFyIGM9ZShcImRlYnVnXCIpO3JldHVybiBmdW5jdGlvbigpe2ImJmMuYXBwbHkoYSxhcmd1bWVudHMpfX0oKX19XX1mdW5jdGlvbiBzYShiLGEpe2lmKFwiX19kZWZpbmVHZXR0ZXJfX1wiPT09Ynx8XCJfX2RlZmluZVNldHRlcl9fXCI9PT1ifHxcIl9fbG9va3VwR2V0dGVyX19cIj09PWJ8fFwiX19sb29rdXBTZXR0ZXJfX1wiPT09XG5ifHxcIl9fcHJvdG9fX1wiPT09Yil0aHJvdyBsYShcImlzZWNmbGRcIixhKTtyZXR1cm4gYn1mdW5jdGlvbiB0YShiLGEpe2lmKGIpe2lmKGIuY29uc3RydWN0b3I9PT1iKXRocm93IGxhKFwiaXNlY2ZuXCIsYSk7aWYoYi53aW5kb3c9PT1iKXRocm93IGxhKFwiaXNlY3dpbmRvd1wiLGEpO2lmKGIuY2hpbGRyZW4mJihiLm5vZGVOYW1lfHxiLnByb3AmJmIuYXR0ciYmYi5maW5kKSl0aHJvdyBsYShcImlzZWNkb21cIixhKTtpZihiPT09T2JqZWN0KXRocm93IGxhKFwiaXNlY29ialwiLGEpO31yZXR1cm4gYn1mdW5jdGlvbiBlYyhiKXtyZXR1cm4gYi5jb25zdGFudH1mdW5jdGlvbiBOYShiLGEsYyxkKXt0YShiLGQpO2E9YS5zcGxpdChcIi5cIik7Zm9yKHZhciBlLGY9MDsxPGEubGVuZ3RoO2YrKyl7ZT1zYShhLnNoaWZ0KCksZCk7dmFyIGc9dGEoYltlXSxkKTtnfHwoZz17fSxiW2VdPWcpO2I9Z31lPXNhKGEuc2hpZnQoKSxkKTt0YShiW2VdLGQpO3JldHVybiBiW2VdPWN9ZnVuY3Rpb24gT2EoYil7cmV0dXJuXCJjb25zdHJ1Y3RvclwiPT1cbmJ9ZnVuY3Rpb24gYmQoYixhLGMsZCxlLGYsZyl7c2EoYixmKTtzYShhLGYpO3NhKGMsZik7c2EoZCxmKTtzYShlLGYpO3ZhciBoPWZ1bmN0aW9uKGEpe3JldHVybiB0YShhLGYpfSxrPWd8fE9hKGIpP2g6b2EsbD1nfHxPYShhKT9oOm9hLG09Z3x8T2EoYyk/aDpvYSxwPWd8fE9hKGQpP2g6b2EscT1nfHxPYShlKT9oOm9hO3JldHVybiBmdW5jdGlvbihmLGcpe3ZhciBoPWcmJmcuaGFzT3duUHJvcGVydHkoYik/ZzpmO2lmKG51bGw9PWgpcmV0dXJuIGg7aD1rKGhbYl0pO2lmKCFhKXJldHVybiBoO2lmKG51bGw9PWgpcmV0dXJuIHU7aD1sKGhbYV0pO2lmKCFjKXJldHVybiBoO2lmKG51bGw9PWgpcmV0dXJuIHU7aD1tKGhbY10pO2lmKCFkKXJldHVybiBoO2lmKG51bGw9PWgpcmV0dXJuIHU7aD1wKGhbZF0pO3JldHVybiBlP251bGw9PWg/dTpoPXEoaFtlXSk6aH19ZnVuY3Rpb24geWYoYixhKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm4gYihjLGQsdGEsYSl9fWZ1bmN0aW9uIGNkKGIsXG5hLGMpe3ZhciBkPWEuZXhwZW5zaXZlQ2hlY2tzLGU9ZD96ZjpBZixmPWVbYl07aWYoZilyZXR1cm4gZjt2YXIgZz1iLnNwbGl0KFwiLlwiKSxoPWcubGVuZ3RoO2lmKGEuY3NwKWY9Nj5oP2JkKGdbMF0sZ1sxXSxnWzJdLGdbM10sZ1s0XSxjLGQpOmZ1bmN0aW9uKGEsYil7dmFyIGU9MCxmO2RvIGY9YmQoZ1tlKytdLGdbZSsrXSxnW2UrK10sZ1tlKytdLGdbZSsrXSxjLGQpKGEsYiksYj11LGE9Zjt3aGlsZShlPGgpO3JldHVybiBmfTtlbHNle3ZhciBrPVwiXCI7ZCYmKGsrPVwicyA9IGVzbyhzLCBmZSk7XFxubCA9IGVzbyhsLCBmZSk7XFxuXCIpO3ZhciBsPWQ7cihnLGZ1bmN0aW9uKGEsYil7c2EoYSxjKTt2YXIgZT0oYj9cInNcIjonKChsJiZsLmhhc093blByb3BlcnR5KFwiJythKydcIikpP2w6cyknKStcIi5cIithO2lmKGR8fE9hKGEpKWU9XCJlc28oXCIrZStcIiwgZmUpXCIsbD0hMDtrKz1cImlmKHMgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcXG5zPVwiK2UrXCI7XFxuXCJ9KTtrKz1cInJldHVybiBzO1wiO2E9bmV3IEZ1bmN0aW9uKFwic1wiLFxuXCJsXCIsXCJlc29cIixcImZlXCIsayk7YS50b1N0cmluZz1jYShrKTtsJiYoYT15ZihhLGMpKTtmPWF9Zi5zaGFyZWRHZXR0ZXI9ITA7Zi5hc3NpZ249ZnVuY3Rpb24oYSxjKXtyZXR1cm4gTmEoYSxiLGMsYil9O3JldHVybiBlW2JdPWZ9ZnVuY3Rpb24gZmMoYil7cmV0dXJuIEIoYi52YWx1ZU9mKT9iLnZhbHVlT2YoKTpCZi5jYWxsKGIpfWZ1bmN0aW9uIE1lKCl7dmFyIGI9aWEoKSxhPWlhKCk7dGhpcy4kZ2V0PVtcIiRmaWx0ZXJcIixcIiRzbmlmZmVyXCIsZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPWE7YS5zaGFyZWRHZXR0ZXImJihiPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYixjKX0sYi5saXRlcmFsPWEubGl0ZXJhbCxiLmNvbnN0YW50PWEuY29uc3RhbnQsYi5hc3NpZ249YS5hc3NpZ24pO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPWFbY107ZS5jb25zdGFudHx8KGUuaW5wdXRzP2YoZS5pbnB1dHMsYik6LTE9PT1cbmIuaW5kZXhPZihlKSYmYi5wdXNoKGUpKX1yZXR1cm4gYn1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIG51bGw9PWF8fG51bGw9PWI/YT09PWI6XCJvYmplY3RcIj09PXR5cGVvZiBhJiYoYT1mYyhhKSxcIm9iamVjdFwiPT09dHlwZW9mIGEpPyExOmE9PT1ifHxhIT09YSYmYiE9PWJ9ZnVuY3Rpb24gaChhLGIsYyxkKXt2YXIgZT1kLiQkaW5wdXRzfHwoZC4kJGlucHV0cz1mKGQuaW5wdXRzLFtdKSksaDtpZigxPT09ZS5sZW5ndGgpe3ZhciBrPWcsZT1lWzBdO3JldHVybiBhLiR3YXRjaChmdW5jdGlvbihhKXt2YXIgYj1lKGEpO2coYixrKXx8KGg9ZChhKSxrPWImJmZjKGIpKTtyZXR1cm4gaH0sYixjKX1mb3IodmFyIGw9W10scT0wLHA9ZS5sZW5ndGg7cTxwO3ErKylsW3FdPWc7cmV0dXJuIGEuJHdhdGNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0hMSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKXt2YXIgaz1lW2NdKGEpO2lmKGJ8fChiPSFnKGssbFtjXSkpKWxbY109ayYmZmMoayl9YiYmKGg9ZChhKSk7XG5yZXR1cm4gaH0sYixjKX1mdW5jdGlvbiBrKGEsYixjLGQpe3ZhciBlLGY7cmV0dXJuIGU9YS4kd2F0Y2goZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSl9LGZ1bmN0aW9uKGEsYyxkKXtmPWE7QihiKSYmYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7eShhKSYmZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXt5KGYpJiZlKCl9KX0sYyl9ZnVuY3Rpb24gbChhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPSEwO3IoYSxmdW5jdGlvbihhKXt5KGEpfHwoYj0hMSl9KTtyZXR1cm4gYn12YXIgZixnO3JldHVybiBmPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zz1hO0IoYikmJmIuY2FsbCh0aGlzLGEsYyxkKTtlKGEpJiZkLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2UoZykmJmYoKX0pfSxjKX1mdW5jdGlvbiBtKGEsYixjLGQpe3ZhciBlO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7QihiKSYmXG5iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlKCl9LGMpfWZ1bmN0aW9uIHAoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1hLiQkd2F0Y2hEZWxlZ2F0ZSxjPWMhPT1sJiZjIT09az9mdW5jdGlvbihjLGQpe3ZhciBlPWEoYyxkKTtyZXR1cm4gYihlLGMsZCl9OmZ1bmN0aW9uKGMsZCl7dmFyIGU9YShjLGQpLGY9YihlLGMsZCk7cmV0dXJuIHkoZSk/ZjplfTthLiQkd2F0Y2hEZWxlZ2F0ZSYmYS4kJHdhdGNoRGVsZWdhdGUhPT1oP2MuJCR3YXRjaERlbGVnYXRlPWEuJCR3YXRjaERlbGVnYXRlOmIuJHN0YXRlZnVsfHwoYy4kJHdhdGNoRGVsZWdhdGU9aCxjLmlucHV0cz1bYV0pO3JldHVybiBjfXZhciBxPXtjc3A6ZC5jc3AsZXhwZW5zaXZlQ2hlY2tzOiExfSx0PXtjc3A6ZC5jc3AsZXhwZW5zaXZlQ2hlY2tzOiEwfTtyZXR1cm4gZnVuY3Rpb24oZCxmLGcpe3ZhciB2LHcsSztzd2l0Y2godHlwZW9mIGQpe2Nhc2UgXCJzdHJpbmdcIjpLPWQ9ZC50cmltKCk7dmFyIEU9Zz9hOmI7dj1FW0tdO1xudnx8KFwiOlwiPT09ZC5jaGFyQXQoMCkmJlwiOlwiPT09ZC5jaGFyQXQoMSkmJih3PSEwLGQ9ZC5zdWJzdHJpbmcoMikpLGc9Zz90OnEsdj1uZXcgZ2MoZyksdj0obmV3IGViKHYsYyxnKSkucGFyc2UoZCksdi5jb25zdGFudD92LiQkd2F0Y2hEZWxlZ2F0ZT1tOnc/KHY9ZSh2KSx2LiQkd2F0Y2hEZWxlZ2F0ZT12LmxpdGVyYWw/bDprKTp2LmlucHV0cyYmKHYuJCR3YXRjaERlbGVnYXRlPWgpLEVbS109dik7cmV0dXJuIHAodixmKTtjYXNlIFwiZnVuY3Rpb25cIjpyZXR1cm4gcChkLGYpO2RlZmF1bHQ6cmV0dXJuIHAoSCxmKX19fV19ZnVuY3Rpb24gT2UoKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbihiLGEpe3JldHVybiBkZChmdW5jdGlvbihhKXtiLiRldmFsQXN5bmMoYSl9LGEpfV19ZnVuY3Rpb24gUGUoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYixhKXtyZXR1cm4gZGQoZnVuY3Rpb24oYSl7Yi5kZWZlcihhKX0sXG5hKX1dfWZ1bmN0aW9uIGRkKGIsYSl7ZnVuY3Rpb24gYyhhLGIsYyl7ZnVuY3Rpb24gZChiKXtyZXR1cm4gZnVuY3Rpb24oYyl7ZXx8KGU9ITAsYi5jYWxsKGEsYykpfX12YXIgZT0hMTtyZXR1cm5bZChiKSxkKGMpXX1mdW5jdGlvbiBkKCl7dGhpcy4kJHN0YXRlPXtzdGF0dXM6MH19ZnVuY3Rpb24gZShhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiLmNhbGwoYSxjKX19ZnVuY3Rpb24gZihjKXshYy5wcm9jZXNzU2NoZWR1bGVkJiZjLnBlbmRpbmcmJihjLnByb2Nlc3NTY2hlZHVsZWQ9ITAsYihmdW5jdGlvbigpe3ZhciBiLGQsZTtlPWMucGVuZGluZztjLnByb2Nlc3NTY2hlZHVsZWQ9ITE7Yy5wZW5kaW5nPXU7Zm9yKHZhciBmPTAsZz1lLmxlbmd0aDtmPGc7KytmKXtkPWVbZl1bMF07Yj1lW2ZdW2Muc3RhdHVzXTt0cnl7QihiKT9kLnJlc29sdmUoYihjLnZhbHVlKSk6MT09PWMuc3RhdHVzP2QucmVzb2x2ZShjLnZhbHVlKTpkLnJlamVjdChjLnZhbHVlKX1jYXRjaChoKXtkLnJlamVjdChoKSxcbmEoaCl9fX0pKX1mdW5jdGlvbiBnKCl7dGhpcy5wcm9taXNlPW5ldyBkO3RoaXMucmVzb2x2ZT1lKHRoaXMsdGhpcy5yZXNvbHZlKTt0aGlzLnJlamVjdD1lKHRoaXMsdGhpcy5yZWplY3QpO3RoaXMubm90aWZ5PWUodGhpcyx0aGlzLm5vdGlmeSl9dmFyIGg9QShcIiRxXCIsVHlwZUVycm9yKTtkLnByb3RvdHlwZT17dGhlbjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IGc7dGhpcy4kJHN0YXRlLnBlbmRpbmc9dGhpcy4kJHN0YXRlLnBlbmRpbmd8fFtdO3RoaXMuJCRzdGF0ZS5wZW5kaW5nLnB1c2goW2QsYSxiLGNdKTswPHRoaXMuJCRzdGF0ZS5zdGF0dXMmJmYodGhpcy4kJHN0YXRlKTtyZXR1cm4gZC5wcm9taXNlfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGEpfSxcImZpbmFsbHlcIjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGwoYiwhMCxhKX0sZnVuY3Rpb24oYil7cmV0dXJuIGwoYiwhMSxhKX0sYil9fTtcbmcucHJvdG90eXBlPXtyZXNvbHZlOmZ1bmN0aW9uKGEpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1c3x8KGE9PT10aGlzLnByb21pc2U/dGhpcy4kJHJlamVjdChoKFwicWN5Y2xlXCIsYSkpOnRoaXMuJCRyZXNvbHZlKGEpKX0sJCRyZXNvbHZlOmZ1bmN0aW9uKGIpe3ZhciBkLGU7ZT1jKHRoaXMsdGhpcy4kJHJlc29sdmUsdGhpcy4kJHJlamVjdCk7dHJ5e2lmKE8oYil8fEIoYikpZD1iJiZiLnRoZW47QihkKT8odGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPS0xLGQuY2FsbChiLGVbMF0sZVsxXSx0aGlzLm5vdGlmeSkpOih0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZT1iLHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0xLGYodGhpcy5wcm9taXNlLiQkc3RhdGUpKX1jYXRjaChnKXtlWzFdKGcpLGEoZyl9fSxyZWplY3Q6ZnVuY3Rpb24oYSl7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzfHx0aGlzLiQkcmVqZWN0KGEpfSwkJHJlamVjdDpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZT1cbmE7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPTI7Zih0aGlzLnByb21pc2UuJCRzdGF0ZSl9LG5vdGlmeTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLnByb21pc2UuJCRzdGF0ZS5wZW5kaW5nOzA+PXRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyYmZCYmZC5sZW5ndGgmJmIoZnVuY3Rpb24oKXtmb3IodmFyIGIsZSxmPTAsZz1kLmxlbmd0aDtmPGc7ZisrKXtlPWRbZl1bMF07Yj1kW2ZdWzNdO3RyeXtlLm5vdGlmeShCKGIpP2IoYyk6Yyl9Y2F0Y2goaCl7YShoKX19fSl9fTt2YXIgaz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBnO2I/Yy5yZXNvbHZlKGEpOmMucmVqZWN0KGEpO3JldHVybiBjLnByb21pc2V9LGw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7dHJ5e0IoYykmJihkPWMoKSl9Y2F0Y2goZSl7cmV0dXJuIGsoZSwhMSl9cmV0dXJuIGQmJkIoZC50aGVuKT9kLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gayhhLGIpfSxmdW5jdGlvbihhKXtyZXR1cm4gayhhLCExKX0pOlxuayhhLGIpfSxtPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBnO2UucmVzb2x2ZShhKTtyZXR1cm4gZS5wcm9taXNlLnRoZW4oYixjLGQpfSxwPWZ1bmN0aW9uIHQoYSl7aWYoIUIoYSkpdGhyb3cgaChcIm5vcnNsdnJcIixhKTtpZighKHRoaXMgaW5zdGFuY2VvZiB0KSlyZXR1cm4gbmV3IHQoYSk7dmFyIGI9bmV3IGc7YShmdW5jdGlvbihhKXtiLnJlc29sdmUoYSl9LGZ1bmN0aW9uKGEpe2IucmVqZWN0KGEpfSk7cmV0dXJuIGIucHJvbWlzZX07cC5kZWZlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgZ307cC5yZWplY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGc7Yi5yZWplY3QoYSk7cmV0dXJuIGIucHJvbWlzZX07cC53aGVuPW07cC5hbGw9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGcsYz0wLGQ9eChhKT9bXTp7fTtyKGEsZnVuY3Rpb24oYSxlKXtjKys7bShhKS50aGVuKGZ1bmN0aW9uKGEpe2QuaGFzT3duUHJvcGVydHkoZSl8fChkW2VdPWEsLS1jfHxiLnJlc29sdmUoZCkpfSxmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGUpfHxcbmIucmVqZWN0KGEpfSl9KTswPT09YyYmYi5yZXNvbHZlKGQpO3JldHVybiBiLnByb21pc2V9O3JldHVybiBwfWZ1bmN0aW9uIFllKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYixhKXt2YXIgYz1iLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8Yi53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGIubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lLGQ9Yi5jYW5jZWxBbmltYXRpb25GcmFtZXx8Yi53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8Yi5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8Yi53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZT0hIWMsZj1lP2Z1bmN0aW9uKGEpe3ZhciBiPWMoYSk7cmV0dXJuIGZ1bmN0aW9uKCl7ZChiKX19OmZ1bmN0aW9uKGIpe3ZhciBjPWEoYiwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7YS5jYW5jZWwoYyl9fTtmLnN1cHBvcnRlZD1lO3JldHVybiBmfV19ZnVuY3Rpb24gTmUoKXt2YXIgYj0xMCxcbmE9QShcIiRyb290U2NvcGVcIiksYz1udWxsLGQ9bnVsbDt0aGlzLmRpZ2VzdFR0bD1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoJiYoYj1hKTtyZXR1cm4gYn07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRwYXJzZVwiLFwiJGJyb3dzZXJcIixmdW5jdGlvbihlLGYsZyxoKXtmdW5jdGlvbiBrKCl7dGhpcy4kaWQ9KytrYjt0aGlzLiQkcGhhc2U9dGhpcy4kcGFyZW50PXRoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXMuJHJvb3Q9dGhpczt0aGlzLiQkZGVzdHJveWVkPSExO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9e307dGhpcy4kJGlzb2xhdGVCaW5kaW5ncz1udWxsfWZ1bmN0aW9uIGwoYil7aWYocy4kJHBoYXNlKXRocm93IGEoXCJpbnByb2dcIixzLiQkcGhhc2UpO3MuJCRwaGFzZT1ifWZ1bmN0aW9uIG0oYSxcbmIsYyl7ZG8gYS4kJGxpc3RlbmVyQ291bnRbY10tPWIsMD09PWEuJCRsaXN0ZW5lckNvdW50W2NdJiZkZWxldGUgYS4kJGxpc3RlbmVyQ291bnRbY107d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIHAoKXt9ZnVuY3Rpb24gcSgpe2Zvcig7di5sZW5ndGg7KXRyeXt2LnNoaWZ0KCkoKX1jYXRjaChhKXtmKGEpfWQ9bnVsbH1mdW5jdGlvbiB0KCl7bnVsbD09PWQmJihkPWguZGVmZXIoZnVuY3Rpb24oKXtzLiRhcHBseShxKX0pKX1rLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aywkbmV3OmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2QuJCRkZXN0cm95ZWQ9ITB9dmFyIGQ7Yj1ifHx0aGlzO2E/KGQ9bmV3IGssZC4kcm9vdD10aGlzLiRyb290KToodGhpcy4kJENoaWxkU2NvcGV8fCh0aGlzLiQkQ2hpbGRTY29wZT1mdW5jdGlvbigpe3RoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kJGxpc3RlbmVycz1cbnt9O3RoaXMuJCRsaXN0ZW5lckNvdW50PXt9O3RoaXMuJGlkPSsra2I7dGhpcy4kJENoaWxkU2NvcGU9bnVsbH0sdGhpcy4kJENoaWxkU2NvcGUucHJvdG90eXBlPXRoaXMpLGQ9bmV3IHRoaXMuJCRDaGlsZFNjb3BlKTtkLiRwYXJlbnQ9YjtkLiQkcHJldlNpYmxpbmc9Yi4kJGNoaWxkVGFpbDtiLiQkY2hpbGRIZWFkPyhiLiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmc9ZCxiLiQkY2hpbGRUYWlsPWQpOmIuJCRjaGlsZEhlYWQ9Yi4kJGNoaWxkVGFpbD1kOyhhfHxiIT10aGlzKSYmZC4kb24oXCIkZGVzdHJveVwiLGMpO3JldHVybiBkfSwkd2F0Y2g6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWcoYSk7aWYoZS4kJHdhdGNoRGVsZWdhdGUpcmV0dXJuIGUuJCR3YXRjaERlbGVnYXRlKHRoaXMsYixkLGUpO3ZhciBmPXRoaXMuJCR3YXRjaGVycyxoPXtmbjpiLGxhc3Q6cCxnZXQ6ZSxleHA6YSxlcTohIWR9O2M9bnVsbDtCKGIpfHwoaC5mbj1IKTtmfHwoZj10aGlzLiQkd2F0Y2hlcnM9W10pO2YudW5zaGlmdChoKTtcbnJldHVybiBmdW5jdGlvbigpe1ZhKGYsaCk7Yz1udWxsfX0sJHdhdGNoR3JvdXA6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aD0hMTtrPyhrPSExLGIoZSxlLGcpKTpiKGUsZCxnKX12YXIgZD1BcnJheShhLmxlbmd0aCksZT1BcnJheShhLmxlbmd0aCksZj1bXSxnPXRoaXMsaD0hMSxrPSEwO2lmKCFhLmxlbmd0aCl7dmFyIGw9ITA7Zy4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7bCYmYihlLGUsZyl9KTtyZXR1cm4gZnVuY3Rpb24oKXtsPSExfX1pZigxPT09YS5sZW5ndGgpcmV0dXJuIHRoaXMuJHdhdGNoKGFbMF0sZnVuY3Rpb24oYSxjLGYpe2VbMF09YTtkWzBdPWM7YihlLGE9PT1jP2U6ZCxmKX0pO3IoYSxmdW5jdGlvbihhLGIpe3ZhciBrPWcuJHdhdGNoKGEsZnVuY3Rpb24oYSxmKXtlW2JdPWE7ZFtiXT1mO2h8fChoPSEwLGcuJGV2YWxBc3luYyhjKSl9KTtmLnB1c2goayl9KTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IoO2YubGVuZ3RoOylmLnNoaWZ0KCkoKX19LCR3YXRjaENvbGxlY3Rpb246ZnVuY3Rpb24oYSxcbmIpe2Z1bmN0aW9uIGMoYSl7ZT1hO3ZhciBiLGQsZyxoO2lmKCFDKGUpKXtpZihPKGUpKWlmKFJhKGUpKWZvcihmIT09cCYmKGY9cCx0PWYubGVuZ3RoPTAsbCsrKSxhPWUubGVuZ3RoLHQhPT1hJiYobCsrLGYubGVuZ3RoPXQ9YSksYj0wO2I8YTtiKyspaD1mW2JdLGc9ZVtiXSxkPWghPT1oJiZnIT09ZyxkfHxoPT09Z3x8KGwrKyxmW2JdPWcpO2Vsc2V7ZiE9PW0mJihmPW09e30sdD0wLGwrKyk7YT0wO2ZvcihiIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShiKSYmKGErKyxnPWVbYl0saD1mW2JdLGIgaW4gZj8oZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKSk6KHQrKyxmW2JdPWcsbCsrKSk7aWYodD5hKWZvcihiIGluIGwrKyxmKWUuaGFzT3duUHJvcGVydHkoYil8fCh0LS0sZGVsZXRlIGZbYl0pfWVsc2UgZiE9PWUmJihmPWUsbCsrKTtyZXR1cm4gbH19Yy4kc3RhdGVmdWw9ITA7dmFyIGQ9dGhpcyxlLGYsaCxrPTE8Yi5sZW5ndGgsbD0wLHE9ZyhhLGMpLHA9W10sbT1cbnt9LG49ITAsdD0wO3JldHVybiB0aGlzLiR3YXRjaChxLGZ1bmN0aW9uKCl7bj8obj0hMSxiKGUsZSxkKSk6YihlLGgsZCk7aWYoaylpZihPKGUpKWlmKFJhKGUpKXtoPUFycmF5KGUubGVuZ3RoKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKyloW2FdPWVbYV19ZWxzZSBmb3IoYSBpbiBoPXt9LGUpcmMuY2FsbChlLGEpJiYoaFthXT1lW2FdKTtlbHNlIGg9ZX0pfSwkZGlnZXN0OmZ1bmN0aW9uKCl7dmFyIGUsZyxrLG0sdCx2LHI9YixJLHU9W10seSxTO2woXCIkZGlnZXN0XCIpO2guJCRjaGVja1VybENoYW5nZSgpO3RoaXM9PT1zJiZudWxsIT09ZCYmKGguZGVmZXIuY2FuY2VsKGQpLHEoKSk7Yz1udWxsO2Rve3Y9ITE7Zm9yKEk9dGhpcztOLmxlbmd0aDspe3RyeXtTPU4uc2hpZnQoKSxTLnNjb3BlLiRldmFsKFMuZXhwcmVzc2lvbil9Y2F0Y2goQSl7ZihBKX1jPW51bGx9YTpkb3tpZihtPUkuJCR3YXRjaGVycylmb3IodD1tLmxlbmd0aDt0LS07KXRyeXtpZihlPW1bdF0paWYoKGc9XG5lLmdldChJKSkhPT0oaz1lLmxhc3QpJiYhKGUuZXE/Z2EoZyxrKTpcIm51bWJlclwiPT09dHlwZW9mIGcmJlwibnVtYmVyXCI9PT10eXBlb2YgayYmaXNOYU4oZykmJmlzTmFOKGspKSl2PSEwLGM9ZSxlLmxhc3Q9ZS5lcT9EYShnLG51bGwpOmcsZS5mbihnLGs9PT1wP2c6ayxJKSw1PnImJih5PTQtcix1W3ldfHwodVt5XT1bXSksdVt5XS5wdXNoKHttc2c6QihlLmV4cCk/XCJmbjogXCIrKGUuZXhwLm5hbWV8fGUuZXhwLnRvU3RyaW5nKCkpOmUuZXhwLG5ld1ZhbDpnLG9sZFZhbDprfSkpO2Vsc2UgaWYoZT09PWMpe3Y9ITE7YnJlYWsgYX19Y2F0Y2goRCl7ZihEKX1pZighKG09SS4kJGNoaWxkSGVhZHx8SSE9PXRoaXMmJkkuJCRuZXh0U2libGluZykpZm9yKDtJIT09dGhpcyYmIShtPUkuJCRuZXh0U2libGluZyk7KUk9SS4kcGFyZW50fXdoaWxlKEk9bSk7aWYoKHZ8fE4ubGVuZ3RoKSYmIXItLSl0aHJvdyBzLiQkcGhhc2U9bnVsbCxhKFwiaW5mZGlnXCIsYix1KTt9d2hpbGUodnx8Ti5sZW5ndGgpO1xuZm9yKHMuJCRwaGFzZT1udWxsO24ubGVuZ3RoOyl0cnl7bi5zaGlmdCgpKCl9Y2F0Y2goZWEpe2YoZWEpfX0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIGE9dGhpcy4kcGFyZW50O3RoaXMuJGJyb2FkY2FzdChcIiRkZXN0cm95XCIpO3RoaXMuJCRkZXN0cm95ZWQ9ITA7aWYodGhpcyE9PXMpe2Zvcih2YXIgYiBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCltKHRoaXMsdGhpcy4kJGxpc3RlbmVyQ291bnRbYl0sYik7YS4kJGNoaWxkSGVhZD09dGhpcyYmKGEuJCRjaGlsZEhlYWQ9dGhpcy4kJG5leHRTaWJsaW5nKTthLiQkY2hpbGRUYWlsPT10aGlzJiYoYS4kJGNoaWxkVGFpbD10aGlzLiQkcHJldlNpYmxpbmcpO3RoaXMuJCRwcmV2U2libGluZyYmKHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nPXRoaXMuJCRuZXh0U2libGluZyk7dGhpcy4kJG5leHRTaWJsaW5nJiYodGhpcy4kJG5leHRTaWJsaW5nLiQkcHJldlNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nKTtcbnRoaXMuJGRlc3Ryb3k9dGhpcy4kZGlnZXN0PXRoaXMuJGFwcGx5PXRoaXMuJGV2YWxBc3luYz10aGlzLiRhcHBseUFzeW5jPUg7dGhpcy4kb249dGhpcy4kd2F0Y2g9dGhpcy4kd2F0Y2hHcm91cD1mdW5jdGlvbigpe3JldHVybiBIfTt0aGlzLiQkbGlzdGVuZXJzPXt9O3RoaXMuJHBhcmVudD10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD10aGlzLiRyb290PXRoaXMuJCR3YXRjaGVycz1udWxsfX19LCRldmFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYSkodGhpcyxiKX0sJGV2YWxBc3luYzpmdW5jdGlvbihhKXtzLiQkcGhhc2V8fE4ubGVuZ3RofHxoLmRlZmVyKGZ1bmN0aW9uKCl7Ti5sZW5ndGgmJnMuJGRpZ2VzdCgpfSk7Ti5wdXNoKHtzY29wZTp0aGlzLGV4cHJlc3Npb246YX0pfSwkJHBvc3REaWdlc3Q6ZnVuY3Rpb24oYSl7bi5wdXNoKGEpfSwkYXBwbHk6ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBsKFwiJGFwcGx5XCIpLFxudGhpcy4kZXZhbChhKX1jYXRjaChiKXtmKGIpfWZpbmFsbHl7cy4kJHBoYXNlPW51bGw7dHJ5e3MuJGRpZ2VzdCgpfWNhdGNoKGMpe3Rocm93IGYoYyksYzt9fX0sJGFwcGx5QXN5bmM6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2MuJGV2YWwoYSl9dmFyIGM9dGhpczthJiZ2LnB1c2goYik7dCgpfSwkb246ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQkbGlzdGVuZXJzW2FdO2N8fCh0aGlzLiQkbGlzdGVuZXJzW2FdPWM9W10pO2MucHVzaChiKTt2YXIgZD10aGlzO2RvIGQuJCRsaXN0ZW5lckNvdW50W2FdfHwoZC4kJGxpc3RlbmVyQ291bnRbYV09MCksZC4kJGxpc3RlbmVyQ291bnRbYV0rKzt3aGlsZShkPWQuJHBhcmVudCk7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmluZGV4T2YoYik7LTEhPT1kJiYoY1tkXT1udWxsLG0oZSwxLGEpKX19LCRlbWl0OmZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZCxlPXRoaXMsZz0hMSxoPXtuYW1lOmEsdGFyZ2V0U2NvcGU6ZSxcbnN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe2c9ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7aC5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfSxrPVhhKFtoXSxhcmd1bWVudHMsMSksbCxxO2Rve2Q9ZS4kJGxpc3RlbmVyc1thXXx8YztoLmN1cnJlbnRTY29wZT1lO2w9MDtmb3IocT1kLmxlbmd0aDtsPHE7bCsrKWlmKGRbbF0pdHJ5e2RbbF0uYXBwbHkobnVsbCxrKX1jYXRjaChtKXtmKG0pfWVsc2UgZC5zcGxpY2UobCwxKSxsLS0scS0tO2lmKGcpcmV0dXJuIGguY3VycmVudFNjb3BlPW51bGwsaDtlPWUuJHBhcmVudH13aGlsZShlKTtoLmN1cnJlbnRTY29wZT1udWxsO3JldHVybiBofSwkYnJvYWRjYXN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXRoaXMsZT17bmFtZTphLHRhcmdldFNjb3BlOnRoaXMscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtlLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9O2lmKCF0aGlzLiQkbGlzdGVuZXJDb3VudFthXSlyZXR1cm4gZTtcbmZvcih2YXIgZz1YYShbZV0sYXJndW1lbnRzLDEpLGgsaztjPWQ7KXtlLmN1cnJlbnRTY29wZT1jO2Q9Yy4kJGxpc3RlbmVyc1thXXx8W107aD0wO2ZvcihrPWQubGVuZ3RoO2g8aztoKyspaWYoZFtoXSl0cnl7ZFtoXS5hcHBseShudWxsLGcpfWNhdGNoKGwpe2YobCl9ZWxzZSBkLnNwbGljZShoLDEpLGgtLSxrLS07aWYoIShkPWMuJCRsaXN0ZW5lckNvdW50W2FdJiZjLiQkY2hpbGRIZWFkfHxjIT09dGhpcyYmYy4kJG5leHRTaWJsaW5nKSlmb3IoO2MhPT10aGlzJiYhKGQ9Yy4kJG5leHRTaWJsaW5nKTspYz1jLiRwYXJlbnR9ZS5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gZX19O3ZhciBzPW5ldyBrLE49cy4kJGFzeW5jUXVldWU9W10sbj1zLiQkcG9zdERpZ2VzdFF1ZXVlPVtdLHY9cy4kJGFwcGx5QXN5bmNRdWV1ZT1bXTtyZXR1cm4gc31dfWZ1bmN0aW9uIFFkKCl7dmFyIGI9L15cXHMqKGh0dHBzP3xmdHB8bWFpbHRvfHRlbHxmaWxlKTovLGE9L15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcbnRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSk/KGI9YSx0aGlzKTpifTt0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4geShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPWQ/YTpiLGY7Zj1CYShjKS5ocmVmO3JldHVyblwiXCI9PT1mfHxmLm1hdGNoKGUpP2M6XCJ1bnNhZmU6XCIrZn19fWZ1bmN0aW9uIENmKGIpe2lmKFwic2VsZlwiPT09YilyZXR1cm4gYjtpZih6KGIpKXtpZigtMTxiLmluZGV4T2YoXCIqKipcIikpdGhyb3cgQ2EoXCJpd2NhcmRcIixiKTtiPWVkKGIpLnJlcGxhY2UoXCJcXFxcKlxcXFwqXCIsXCIuKlwiKS5yZXBsYWNlKFwiXFxcXCpcIixcIlteOi8uPyY7XSpcIik7cmV0dXJuIG5ldyBSZWdFeHAoXCJeXCIrYitcIiRcIil9aWYobGIoYikpcmV0dXJuIG5ldyBSZWdFeHAoXCJeXCIrYi5zb3VyY2UrXCIkXCIpO3Rocm93IENhKFwiaW1hdGNoZXJcIik7fWZ1bmN0aW9uIGZkKGIpe3ZhciBhPVxuW107eShiKSYmcihiLGZ1bmN0aW9uKGIpe2EucHVzaChDZihiKSl9KTtyZXR1cm4gYX1mdW5jdGlvbiBSZSgpe3RoaXMuU0NFX0NPTlRFWFRTPW1hO3ZhciBiPVtcInNlbGZcIl0sYT1bXTt0aGlzLnJlc291cmNlVXJsV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe2FyZ3VtZW50cy5sZW5ndGgmJihiPWZkKGEpKTtyZXR1cm4gYn07dGhpcy5yZXNvdXJjZVVybEJsYWNrbGlzdD1mdW5jdGlvbihiKXthcmd1bWVudHMubGVuZ3RoJiYoYT1mZChiKSk7cmV0dXJuIGF9O3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuXCJzZWxmXCI9PT1hP1djKGIpOiEhYS5leGVjKGIuaHJlZil9ZnVuY3Rpb24gZShhKXt2YXIgYj1mdW5jdGlvbihhKXt0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fTthJiYoYi5wcm90b3R5cGU9bmV3IGEpO2IucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpfTtcbmIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpfTtyZXR1cm4gYn12YXIgZj1mdW5jdGlvbihhKXt0aHJvdyBDYShcInVuc2FmZVwiKTt9O2MuaGFzKFwiJHNhbml0aXplXCIpJiYoZj1jLmdldChcIiRzYW5pdGl6ZVwiKSk7dmFyIGc9ZSgpLGg9e307aFttYS5IVE1MXT1lKGcpO2hbbWEuQ1NTXT1lKGcpO2hbbWEuVVJMXT1lKGcpO2hbbWEuSlNdPWUoZyk7aFttYS5SRVNPVVJDRV9VUkxdPWUoaFttYS5VUkxdKTtyZXR1cm57dHJ1c3RBczpmdW5jdGlvbihhLGIpe3ZhciBjPWguaGFzT3duUHJvcGVydHkoYSk/aFthXTpudWxsO2lmKCFjKXRocm93IENhKFwiaWNvbnRleHRcIixhLGIpO2lmKG51bGw9PT1ifHxiPT09dXx8XCJcIj09PWIpcmV0dXJuIGI7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBiKXRocm93IENhKFwiaXR5cGVcIixhKTtyZXR1cm4gbmV3IGMoYil9LGdldFRydXN0ZWQ6ZnVuY3Rpb24oYyxlKXtpZihudWxsPT09XG5lfHxlPT09dXx8XCJcIj09PWUpcmV0dXJuIGU7dmFyIGc9aC5oYXNPd25Qcm9wZXJ0eShjKT9oW2NdOm51bGw7aWYoZyYmZSBpbnN0YW5jZW9mIGcpcmV0dXJuIGUuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtpZihjPT09bWEuUkVTT1VSQ0VfVVJMKXt2YXIgZz1CYShlLnRvU3RyaW5nKCkpLHAscSx0PSExO3A9MDtmb3IocT1iLmxlbmd0aDtwPHE7cCsrKWlmKGQoYltwXSxnKSl7dD0hMDticmVha31pZih0KWZvcihwPTAscT1hLmxlbmd0aDtwPHE7cCsrKWlmKGQoYVtwXSxnKSl7dD0hMTticmVha31pZih0KXJldHVybiBlO3Rocm93IENhKFwiaW5zZWN1cmxcIixlLnRvU3RyaW5nKCkpO31pZihjPT09bWEuSFRNTClyZXR1cm4gZihlKTt0aHJvdyBDYShcInVuc2FmZVwiKTt9LHZhbHVlT2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBnP2EuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTphfX19XX1mdW5jdGlvbiBRZSgpe3ZhciBiPSEwO3RoaXMuZW5hYmxlZD1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoJiZcbihiPSEhYSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1bXCIkcGFyc2VcIixcIiRzY2VEZWxlZ2F0ZVwiLGZ1bmN0aW9uKGEsYyl7aWYoYiYmOD5QYSl0aHJvdyBDYShcImllcXVpcmtzXCIpO3ZhciBkPXFhKG1hKTtkLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBifTtkLnRydXN0QXM9Yy50cnVzdEFzO2QuZ2V0VHJ1c3RlZD1jLmdldFRydXN0ZWQ7ZC52YWx1ZU9mPWMudmFsdWVPZjtifHwoZC50cnVzdEFzPWQuZ2V0VHJ1c3RlZD1mdW5jdGlvbihhLGIpe3JldHVybiBifSxkLnZhbHVlT2Y9b2EpO2QucGFyc2VBcz1mdW5jdGlvbihiLGMpe3ZhciBlPWEoYyk7cmV0dXJuIGUubGl0ZXJhbCYmZS5jb25zdGFudD9lOmEoYyxmdW5jdGlvbihhKXtyZXR1cm4gZC5nZXRUcnVzdGVkKGIsYSl9KX07dmFyIGU9ZC5wYXJzZUFzLGY9ZC5nZXRUcnVzdGVkLGc9ZC50cnVzdEFzO3IobWEsZnVuY3Rpb24oYSxiKXt2YXIgYz1RKGIpO2RbYmIoXCJwYXJzZV9hc19cIitjKV09ZnVuY3Rpb24oYil7cmV0dXJuIGUoYSxcbmIpfTtkW2JiKFwiZ2V0X3RydXN0ZWRfXCIrYyldPWZ1bmN0aW9uKGIpe3JldHVybiBmKGEsYil9O2RbYmIoXCJ0cnVzdF9hc19cIitjKV09ZnVuY3Rpb24oYil7cmV0dXJuIGcoYSxiKX19KTtyZXR1cm4gZH1dfWZ1bmN0aW9uIFNlKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGIsYSl7dmFyIGM9e30sZD0kKCgvYW5kcm9pZCAoXFxkKykvLmV4ZWMoUSgoYi5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpKXx8W10pWzFdKSxlPS9Cb3hlZS9pLnRlc3QoKGIubmF2aWdhdG9yfHx7fSkudXNlckFnZW50KSxmPWFbMF18fHt9LGcsaD0vXihNb3p8d2Via2l0fG1zKSg/PVtBLVpdKS8saz1mLmJvZHkmJmYuYm9keS5zdHlsZSxsPSExLG09ITE7aWYoayl7Zm9yKHZhciBwIGluIGspaWYobD1oLmV4ZWMocCkpe2c9bFswXTtnPWcuc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKStnLnN1YnN0cigxKTticmVha31nfHwoZz1cIldlYmtpdE9wYWNpdHlcImluIGsmJlwid2Via2l0XCIpO1xubD0hIShcInRyYW5zaXRpb25cImluIGt8fGcrXCJUcmFuc2l0aW9uXCJpbiBrKTttPSEhKFwiYW5pbWF0aW9uXCJpbiBrfHxnK1wiQW5pbWF0aW9uXCJpbiBrKTshZHx8bCYmbXx8KGw9eihmLmJvZHkuc3R5bGUud2Via2l0VHJhbnNpdGlvbiksbT16KGYuYm9keS5zdHlsZS53ZWJraXRBbmltYXRpb24pKX1yZXR1cm57aGlzdG9yeTohKCFiLmhpc3Rvcnl8fCFiLmhpc3RvcnkucHVzaFN0YXRlfHw0PmR8fGUpLGhhc0V2ZW50OmZ1bmN0aW9uKGEpe2lmKFwiaW5wdXRcIj09PWEmJjExPj1QYSlyZXR1cm4hMTtpZihDKGNbYV0pKXt2YXIgYj1mLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Y1thXT1cIm9uXCIrYSBpbiBifXJldHVybiBjW2FdfSxjc3A6JGEoKSx2ZW5kb3JQcmVmaXg6Zyx0cmFuc2l0aW9uczpsLGFuaW1hdGlvbnM6bSxhbmRyb2lkOmR9fV19ZnVuY3Rpb24gVWUoKXt0aGlzLiRnZXQ9W1wiJHRlbXBsYXRlQ2FjaGVcIixcIiRodHRwXCIsXCIkcVwiLGZ1bmN0aW9uKGIsYSxjKXtmdW5jdGlvbiBkKGUsZil7ZC50b3RhbFBlbmRpbmdSZXF1ZXN0cysrO1xudmFyIGc9YS5kZWZhdWx0cyYmYS5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTt4KGcpP2c9Zy5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1ZYn0pOmc9PT1ZYiYmKGc9bnVsbCk7cmV0dXJuIGEuZ2V0KGUse2NhY2hlOmIsdHJhbnNmb3JtUmVzcG9uc2U6Z30pLnRoZW4oZnVuY3Rpb24oYSl7ZC50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tO3JldHVybiBhLmRhdGF9LGZ1bmN0aW9uKGEpe2QudG90YWxQZW5kaW5nUmVxdWVzdHMtLTtpZighZil0aHJvdyBrYShcInRwbG9hZFwiLGUpO3JldHVybiBjLnJlamVjdChhKX0pfWQudG90YWxQZW5kaW5nUmVxdWVzdHM9MDtyZXR1cm4gZH1dfWZ1bmN0aW9uIFZlKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkbG9jYXRpb25cIixmdW5jdGlvbihiLGEsYyl7cmV0dXJue2ZpbmRCaW5kaW5nczpmdW5jdGlvbihhLGIsYyl7YT1hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuZy1iaW5kaW5nXCIpO3ZhciBnPVtdO3IoYSxmdW5jdGlvbihhKXt2YXIgZD1cbmhhLmVsZW1lbnQoYSkuZGF0YShcIiRiaW5kaW5nXCIpO2QmJnIoZCxmdW5jdGlvbihkKXtjPyhuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrZWQoYikrXCIoXFxcXHN8XFxcXHx8JClcIikpLnRlc3QoZCkmJmcucHVzaChhKTotMSE9ZC5pbmRleE9mKGIpJiZnLnB1c2goYSl9KX0pO3JldHVybiBnfSxmaW5kTW9kZWxzOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGc9W1wibmctXCIsXCJkYXRhLW5nLVwiLFwibmdcXFxcOlwiXSxoPTA7aDxnLmxlbmd0aDsrK2gpe3ZhciBrPWEucXVlcnlTZWxlY3RvckFsbChcIltcIitnW2hdK1wibW9kZWxcIisoYz9cIj1cIjpcIio9XCIpKydcIicrYisnXCJdJyk7aWYoay5sZW5ndGgpcmV0dXJuIGt9fSxnZXRMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiBjLnVybCgpfSxzZXRMb2NhdGlvbjpmdW5jdGlvbihhKXthIT09Yy51cmwoKSYmKGMudXJsKGEpLGIuJGRpZ2VzdCgpKX0sd2hlblN0YWJsZTpmdW5jdGlvbihiKXthLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoYil9fX1dfWZ1bmN0aW9uIFdlKCl7dGhpcy4kZ2V0PVxuW1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRxXCIsXCIkJHFcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYixhLGMsZCxlKXtmdW5jdGlvbiBmKGYsayxsKXt2YXIgbT15KGwpJiYhbCxwPShtP2Q6YykuZGVmZXIoKSxxPXAucHJvbWlzZTtrPWEuZGVmZXIoZnVuY3Rpb24oKXt0cnl7cC5yZXNvbHZlKGYoKSl9Y2F0Y2goYSl7cC5yZWplY3QoYSksZShhKX1maW5hbGx5e2RlbGV0ZSBnW3EuJCR0aW1lb3V0SWRdfW18fGIuJGFwcGx5KCl9LGspO3EuJCR0aW1lb3V0SWQ9aztnW2tdPXA7cmV0dXJuIHF9dmFyIGc9e307Zi5jYW5jZWw9ZnVuY3Rpb24oYil7cmV0dXJuIGImJmIuJCR0aW1lb3V0SWQgaW4gZz8oZ1tiLiQkdGltZW91dElkXS5yZWplY3QoXCJjYW5jZWxlZFwiKSxkZWxldGUgZ1tiLiQkdGltZW91dElkXSxhLmRlZmVyLmNhbmNlbChiLiQkdGltZW91dElkKSk6ITF9O3JldHVybiBmfV19ZnVuY3Rpb24gQmEoYil7UGEmJihaLnNldEF0dHJpYnV0ZShcImhyZWZcIixiKSxiPVouaHJlZik7XG5aLnNldEF0dHJpYnV0ZShcImhyZWZcIixiKTtyZXR1cm57aHJlZjpaLmhyZWYscHJvdG9jb2w6Wi5wcm90b2NvbD9aLnByb3RvY29sLnJlcGxhY2UoLzokLyxcIlwiKTpcIlwiLGhvc3Q6Wi5ob3N0LHNlYXJjaDpaLnNlYXJjaD9aLnNlYXJjaC5yZXBsYWNlKC9eXFw/LyxcIlwiKTpcIlwiLGhhc2g6Wi5oYXNoP1ouaGFzaC5yZXBsYWNlKC9eIy8sXCJcIik6XCJcIixob3N0bmFtZTpaLmhvc3RuYW1lLHBvcnQ6Wi5wb3J0LHBhdGhuYW1lOlwiL1wiPT09Wi5wYXRobmFtZS5jaGFyQXQoMCk/Wi5wYXRobmFtZTpcIi9cIitaLnBhdGhuYW1lfX1mdW5jdGlvbiBXYyhiKXtiPXooYik/QmEoYik6YjtyZXR1cm4gYi5wcm90b2NvbD09PWdkLnByb3RvY29sJiZiLmhvc3Q9PT1nZC5ob3N0fWZ1bmN0aW9uIFhlKCl7dGhpcy4kZ2V0PWNhKFUpfWZ1bmN0aW9uIENjKGIpe2Z1bmN0aW9uIGEoYyxkKXtpZihPKGMpKXt2YXIgZT17fTtyKGMsZnVuY3Rpb24oYixjKXtlW2NdPWEoYyxiKX0pO3JldHVybiBlfXJldHVybiBiLmZhY3RvcnkoYytcblwiRmlsdGVyXCIsZCl9dGhpcy5yZWdpc3Rlcj1hO3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZ2V0KGIrXCJGaWx0ZXJcIil9fV07YShcImN1cnJlbmN5XCIsaGQpO2EoXCJkYXRlXCIsaWQpO2EoXCJmaWx0ZXJcIixEZik7YShcImpzb25cIixFZik7YShcImxpbWl0VG9cIixGZik7YShcImxvd2VyY2FzZVwiLEdmKTthKFwibnVtYmVyXCIsamQpO2EoXCJvcmRlckJ5XCIsa2QpO2EoXCJ1cHBlcmNhc2VcIixIZil9ZnVuY3Rpb24gRGYoKXtyZXR1cm4gZnVuY3Rpb24oYixhLGMpe2lmKCF4KGIpKXJldHVybiBiO3ZhciBkO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcImZ1bmN0aW9uXCI6YnJlYWs7Y2FzZSBcImJvb2xlYW5cIjpjYXNlIFwibnVtYmVyXCI6Y2FzZSBcInN0cmluZ1wiOmQ9ITA7Y2FzZSBcIm9iamVjdFwiOmE9SWYoYSxjLGQpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGJ9cmV0dXJuIGIuZmlsdGVyKGEpfX1mdW5jdGlvbiBJZihiLGEsYyl7ITA9PT1hP2E9Z2E6QihhKXx8XG4oYT1mdW5jdGlvbihhLGIpe2lmKE8oYSl8fE8oYikpcmV0dXJuITE7YT1RKFwiXCIrYSk7Yj1RKFwiXCIrYik7cmV0dXJuLTEhPT1hLmluZGV4T2YoYil9KTtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGZiKGQsYixhLGMpfX1mdW5jdGlvbiBmYihiLGEsYyxkKXt2YXIgZT10eXBlb2YgYixmPXR5cGVvZiBhO2lmKFwic3RyaW5nXCI9PT1mJiZcIiFcIj09PWEuY2hhckF0KDApKXJldHVybiFmYihiLGEuc3Vic3RyaW5nKDEpLGMsZCk7aWYoXCJhcnJheVwiPT09ZSlyZXR1cm4gYi5zb21lKGZ1bmN0aW9uKGIpe3JldHVybiBmYihiLGEsYyxkKX0pO3N3aXRjaChlKXtjYXNlIFwib2JqZWN0XCI6dmFyIGc7aWYoZCl7Zm9yKGcgaW4gYilpZihcIiRcIiE9PWcuY2hhckF0KDApJiZmYihiW2ddLGEsYykpcmV0dXJuITA7cmV0dXJuITF9aWYoXCJvYmplY3RcIj09PWYpe2ZvcihnIGluIGEpaWYoZT1hW2ddLCFCKGUpJiYoZj1cIiRcIj09PWcsIWZiKGY/YjpiW2ddLGUsYyxmKSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIGMoYixcbmEpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuIGMoYixhKX19ZnVuY3Rpb24gaGQoYil7dmFyIGE9Yi5OVU1CRVJfRk9STUFUUztyZXR1cm4gZnVuY3Rpb24oYixkLGUpe0MoZCkmJihkPWEuQ1VSUkVOQ1lfU1lNKTtDKGUpJiYoZT1hLlBBVFRFUk5TWzFdLm1heEZyYWMpO3JldHVybiBudWxsPT1iP2I6bGQoYixhLlBBVFRFUk5TWzFdLGEuR1JPVVBfU0VQLGEuREVDSU1BTF9TRVAsZSkucmVwbGFjZSgvXFx1MDBBNC9nLGQpfX1mdW5jdGlvbiBqZChiKXt2YXIgYT1iLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihiLGQpe3JldHVybiBudWxsPT1iP2I6bGQoYixhLlBBVFRFUk5TWzBdLGEuR1JPVVBfU0VQLGEuREVDSU1BTF9TRVAsZCl9fWZ1bmN0aW9uIGxkKGIsYSxjLGQsZSl7aWYoIWlzRmluaXRlKGIpfHxPKGIpKXJldHVyblwiXCI7dmFyIGY9MD5iO2I9TWF0aC5hYnMoYik7dmFyIGc9YitcIlwiLGg9XCJcIixrPVtdLGw9ITE7aWYoLTEhPT1nLmluZGV4T2YoXCJlXCIpKXt2YXIgbT1cbmcubWF0Y2goLyhbXFxkXFwuXSspZSgtPykoXFxkKykvKTttJiZcIi1cIj09bVsyXSYmbVszXT5lKzE/Yj0wOihoPWcsbD0hMCl9aWYobCkwPGUmJjE+YiYmKGg9Yi50b0ZpeGVkKGUpLGI9cGFyc2VGbG9hdChoKSk7ZWxzZXtnPShnLnNwbGl0KG1kKVsxXXx8XCJcIikubGVuZ3RoO0MoZSkmJihlPU1hdGgubWluKE1hdGgubWF4KGEubWluRnJhYyxnKSxhLm1heEZyYWMpKTtiPSsoTWF0aC5yb3VuZCgrKGIudG9TdHJpbmcoKStcImVcIitlKSkudG9TdHJpbmcoKStcImVcIistZSk7dmFyIGc9KFwiXCIrYikuc3BsaXQobWQpLGw9Z1swXSxnPWdbMV18fFwiXCIscD0wLHE9YS5sZ1NpemUsdD1hLmdTaXplO2lmKGwubGVuZ3RoPj1xK3QpZm9yKHA9bC5sZW5ndGgtcSxtPTA7bTxwO20rKykwPT09KHAtbSkldCYmMCE9PW0mJihoKz1jKSxoKz1sLmNoYXJBdChtKTtmb3IobT1wO208bC5sZW5ndGg7bSsrKTA9PT0obC5sZW5ndGgtbSklcSYmMCE9PW0mJihoKz1jKSxoKz1sLmNoYXJBdChtKTtmb3IoO2cubGVuZ3RoPFxuZTspZys9XCIwXCI7ZSYmXCIwXCIhPT1lJiYoaCs9ZCtnLnN1YnN0cigwLGUpKX0wPT09YiYmKGY9ITEpO2sucHVzaChmP2EubmVnUHJlOmEucG9zUHJlLGgsZj9hLm5lZ1N1ZjphLnBvc1N1Zik7cmV0dXJuIGsuam9pbihcIlwiKX1mdW5jdGlvbiBHYihiLGEsYyl7dmFyIGQ9XCJcIjswPmImJihkPVwiLVwiLGI9LWIpO2ZvcihiPVwiXCIrYjtiLmxlbmd0aDxhOyliPVwiMFwiK2I7YyYmKGI9Yi5zdWJzdHIoYi5sZW5ndGgtYSkpO3JldHVybiBkK2J9ZnVuY3Rpb24gVihiLGEsYyxkKXtjPWN8fDA7cmV0dXJuIGZ1bmN0aW9uKGUpe2U9ZVtcImdldFwiK2JdKCk7aWYoMDxjfHxlPi1jKWUrPWM7MD09PWUmJi0xMj09YyYmKGU9MTIpO3JldHVybiBHYihlLGEsZCl9fWZ1bmN0aW9uIEhiKGIsYSl7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9Y1tcImdldFwiK2JdKCksZj1yYihhP1wiU0hPUlRcIitiOmIpO3JldHVybiBkW2ZdW2VdfX1mdW5jdGlvbiBuZChiKXt2YXIgYT0obmV3IERhdGUoYiwwLDEpKS5nZXREYXkoKTtcbnJldHVybiBuZXcgRGF0ZShiLDAsKDQ+PWE/NToxMiktYSl9ZnVuY3Rpb24gb2QoYil7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPW5kKGEuZ2V0RnVsbFllYXIoKSk7YT0rbmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLGEuZ2V0TW9udGgoKSxhLmdldERhdGUoKSsoNC1hLmdldERheSgpKSktK2M7YT0xK01hdGgucm91bmQoYS82MDQ4RTUpO3JldHVybiBHYihhLGIpfX1mdW5jdGlvbiBpZChiKXtmdW5jdGlvbiBhKGEpe3ZhciBiO2lmKGI9YS5tYXRjaChjKSl7YT1uZXcgRGF0ZSgwKTt2YXIgZj0wLGc9MCxoPWJbOF0/YS5zZXRVVENGdWxsWWVhcjphLnNldEZ1bGxZZWFyLGs9Yls4XT9hLnNldFVUQ0hvdXJzOmEuc2V0SG91cnM7Yls5XSYmKGY9JChiWzldK2JbMTBdKSxnPSQoYls5XStiWzExXSkpO2guY2FsbChhLCQoYlsxXSksJChiWzJdKS0xLCQoYlszXSkpO2Y9JChiWzRdfHwwKS1mO2c9JChiWzVdfHwwKS1nO2g9JChiWzZdfHwwKTtiPU1hdGgucm91bmQoMUUzKnBhcnNlRmxvYXQoXCIwLlwiK1xuKGJbN118fDApKSk7ay5jYWxsKGEsZixnLGgsYil9cmV0dXJuIGF9dmFyIGM9L14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87cmV0dXJuIGZ1bmN0aW9uKGMsZSxmKXt2YXIgZz1cIlwiLGg9W10sayxsO2U9ZXx8XCJtZWRpdW1EYXRlXCI7ZT1iLkRBVEVUSU1FX0ZPUk1BVFNbZV18fGU7eihjKSYmKGM9SmYudGVzdChjKT8kKGMpOmEoYykpO1koYykmJihjPW5ldyBEYXRlKGMpKTtpZighcGEoYykpcmV0dXJuIGM7Zm9yKDtlOykobD1LZi5leGVjKGUpKT8oaD1YYShoLGwsMSksZT1oLnBvcCgpKTooaC5wdXNoKGUpLGU9bnVsbCk7ZiYmXCJVVENcIj09PWYmJihjPW5ldyBEYXRlKGMuZ2V0VGltZSgpKSxjLnNldE1pbnV0ZXMoYy5nZXRNaW51dGVzKCkrYy5nZXRUaW1lem9uZU9mZnNldCgpKSk7cihoLGZ1bmN0aW9uKGEpe2s9TGZbYV07Zys9az9rKGMsYi5EQVRFVElNRV9GT1JNQVRTKTpcbmEucmVwbGFjZSgvKF4nfCckKS9nLFwiXCIpLnJlcGxhY2UoLycnL2csXCInXCIpfSk7cmV0dXJuIGd9fWZ1bmN0aW9uIEVmKCl7cmV0dXJuIGZ1bmN0aW9uKGIsYSl7QyhhKSYmKGE9Mik7cmV0dXJuIFphKGIsYSl9fWZ1bmN0aW9uIEZmKCl7cmV0dXJuIGZ1bmN0aW9uKGIsYSl7WShiKSYmKGI9Yi50b1N0cmluZygpKTtpZigheChiKSYmIXooYikpcmV0dXJuIGI7YT1JbmZpbml0eT09PU1hdGguYWJzKE51bWJlcihhKSk/TnVtYmVyKGEpOiQoYSk7aWYoeihiKSlyZXR1cm4gYT8wPD1hP2Iuc2xpY2UoMCxhKTpiLnNsaWNlKGEsYi5sZW5ndGgpOlwiXCI7dmFyIGM9W10sZCxlO2E+Yi5sZW5ndGg/YT1iLmxlbmd0aDphPC1iLmxlbmd0aCYmKGE9LWIubGVuZ3RoKTswPGE/KGQ9MCxlPWEpOihkPWIubGVuZ3RoK2EsZT1iLmxlbmd0aCk7Zm9yKDtkPGU7ZCsrKWMucHVzaChiW2RdKTtyZXR1cm4gY319ZnVuY3Rpb24ga2QoYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyxkKXtmdW5jdGlvbiBlKGEsYil7cmV0dXJuIGI/XG5mdW5jdGlvbihiLGMpe3JldHVybiBhKGMsYil9OmF9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPXR5cGVvZiBhLGQ9dHlwZW9mIGI7cmV0dXJuIGM9PT1kJiZcIm9iamVjdFwiPT09YyYmKGM9dHlwZW9mKGEudmFsdWVPZj9hPWEudmFsdWVPZigpOmEpLGQ9dHlwZW9mKGIudmFsdWVPZj9iPWIudmFsdWVPZigpOmIpLGM9PT1kJiZcIm9iamVjdFwiPT09YyYmKGM9dHlwZW9mKGEudG9TdHJpbmc/YT1hLnRvU3RyaW5nKCk6YSksZD10eXBlb2YoYi50b1N0cmluZz9iPWIudG9TdHJpbmcoKTpiKSxjPT09ZCYmYT09PWJ8fFwib2JqZWN0XCI9PT1jKSk/MDpjPT09ZD8oXCJzdHJpbmdcIj09PWMmJihhPWEudG9Mb3dlckNhc2UoKSxiPWIudG9Mb3dlckNhc2UoKSksYT09PWI/MDphPGI/LTE6MSk6YzxkPy0xOjF9aWYoIVJhKGEpKXJldHVybiBhO2M9eChjKT9jOltjXTswPT09Yy5sZW5ndGgmJihjPVtcIitcIl0pO2M9Yy5tYXAoZnVuY3Rpb24oYSl7dmFyIGM9ITEsZD1hfHxvYTtpZih6KGEpKXtpZihcIitcIj09YS5jaGFyQXQoMCl8fFxuXCItXCI9PWEuY2hhckF0KDApKWM9XCItXCI9PWEuY2hhckF0KDApLGE9YS5zdWJzdHJpbmcoMSk7aWYoXCJcIj09PWEpcmV0dXJuIGUoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLGIpfSxjKTtkPWIoYSk7aWYoZC5jb25zdGFudCl7dmFyIGw9ZCgpO3JldHVybiBlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYVtsXSxiW2xdKX0sYyl9fXJldHVybiBlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoZChhKSxkKGIpKX0sYyl9KTtyZXR1cm4gWWEuY2FsbChhKS5zb3J0KGUoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXShhLGIpO2lmKDAhPT1lKXJldHVybiBlfXJldHVybiAwfSxkKSl9fWZ1bmN0aW9uIElhKGIpe0IoYikmJihiPXtsaW5rOmJ9KTtiLnJlc3RyaWN0PWIucmVzdHJpY3R8fFwiQUNcIjtyZXR1cm4gY2EoYil9ZnVuY3Rpb24gcGQoYixhLGMsZCxlKXt2YXIgZj10aGlzLGc9W10saD1mLiQkcGFyZW50Rm9ybT1iLnBhcmVudCgpLmNvbnRyb2xsZXIoXCJmb3JtXCIpfHxcbkliO2YuJGVycm9yPXt9O2YuJCRzdWNjZXNzPXt9O2YuJHBlbmRpbmc9dTtmLiRuYW1lPWUoYS5uYW1lfHxhLm5nRm9ybXx8XCJcIikoYyk7Zi4kZGlydHk9ITE7Zi4kcHJpc3RpbmU9ITA7Zi4kdmFsaWQ9ITA7Zi4kaW52YWxpZD0hMTtmLiRzdWJtaXR0ZWQ9ITE7aC4kYWRkQ29udHJvbChmKTtmLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe3IoZyxmdW5jdGlvbihhKXthLiRyb2xsYmFja1ZpZXdWYWx1ZSgpfSl9O2YuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3IoZyxmdW5jdGlvbihhKXthLiRjb21taXRWaWV3VmFsdWUoKX0pfTtmLiRhZGRDb250cm9sPWZ1bmN0aW9uKGEpe0xhKGEuJG5hbWUsXCJpbnB1dFwiKTtnLnB1c2goYSk7YS4kbmFtZSYmKGZbYS4kbmFtZV09YSl9O2YuJCRyZW5hbWVDb250cm9sPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS4kbmFtZTtmW2NdPT09YSYmZGVsZXRlIGZbY107ZltiXT1hO2EuJG5hbWU9Yn07Zi4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihhKXthLiRuYW1lJiZcbmZbYS4kbmFtZV09PT1hJiZkZWxldGUgZlthLiRuYW1lXTtyKGYuJHBlbmRpbmcsZnVuY3Rpb24oYixjKXtmLiRzZXRWYWxpZGl0eShjLG51bGwsYSl9KTtyKGYuJGVycm9yLGZ1bmN0aW9uKGIsYyl7Zi4kc2V0VmFsaWRpdHkoYyxudWxsLGEpfSk7VmEoZyxhKX07cWQoe2N0cmw6dGhpcywkZWxlbWVudDpiLHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YVtiXTtkPy0xPT09ZC5pbmRleE9mKGMpJiZkLnB1c2goYyk6YVtiXT1bY119LHVuc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO2QmJihWYShkLGMpLDA9PT1kLmxlbmd0aCYmZGVsZXRlIGFbYl0pfSxwYXJlbnRGb3JtOmgsJGFuaW1hdGU6ZH0pO2YuJHNldERpcnR5PWZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyhiLFFhKTtkLmFkZENsYXNzKGIsSmIpO2YuJGRpcnR5PSEwO2YuJHByaXN0aW5lPSExO2guJHNldERpcnR5KCl9O2YuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7ZC5zZXRDbGFzcyhiLFFhLEpiK1wiIG5nLXN1Ym1pdHRlZFwiKTtcbmYuJGRpcnR5PSExO2YuJHByaXN0aW5lPSEwO2YuJHN1Ym1pdHRlZD0hMTtyKGcsZnVuY3Rpb24oYSl7YS4kc2V0UHJpc3RpbmUoKX0pfTtmLiRzZXRVbnRvdWNoZWQ9ZnVuY3Rpb24oKXtyKGcsZnVuY3Rpb24oYSl7YS4kc2V0VW50b3VjaGVkKCl9KX07Zi4kc2V0U3VibWl0dGVkPWZ1bmN0aW9uKCl7ZC5hZGRDbGFzcyhiLFwibmctc3VibWl0dGVkXCIpO2YuJHN1Ym1pdHRlZD0hMDtoLiRzZXRTdWJtaXR0ZWQoKX19ZnVuY3Rpb24gaGMoYil7Yi4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBiLiRpc0VtcHR5KGEpP2E6YS50b1N0cmluZygpfSl9ZnVuY3Rpb24gZ2IoYixhLGMsZCxlLGYpe3ZhciBnPVEoYVswXS50eXBlKTtpZighZS5hbmRyb2lkKXt2YXIgaD0hMTthLm9uKFwiY29tcG9zaXRpb25zdGFydFwiLGZ1bmN0aW9uKGEpe2g9ITB9KTthLm9uKFwiY29tcG9zaXRpb25lbmRcIixmdW5jdGlvbigpe2g9ITE7aygpfSl9dmFyIGs9ZnVuY3Rpb24oYil7bCYmKGYuZGVmZXIuY2FuY2VsKGwpLFxubD1udWxsKTtpZighaCl7dmFyIGU9YS52YWwoKTtiPWImJmIudHlwZTtcInBhc3N3b3JkXCI9PT1nfHxjLm5nVHJpbSYmXCJmYWxzZVwiPT09Yy5uZ1RyaW18fChlPVAoZSkpOyhkLiR2aWV3VmFsdWUhPT1lfHxcIlwiPT09ZSYmZC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpJiZkLiRzZXRWaWV3VmFsdWUoZSxiKX19O2lmKGUuaGFzRXZlbnQoXCJpbnB1dFwiKSlhLm9uKFwiaW5wdXRcIixrKTtlbHNle3ZhciBsLG09ZnVuY3Rpb24oYSxiLGMpe2x8fChsPWYuZGVmZXIoZnVuY3Rpb24oKXtsPW51bGw7YiYmYi52YWx1ZT09PWN8fGsoYSl9KSl9O2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5rZXlDb2RlOzkxPT09Ynx8MTU8YiYmMTk+Ynx8Mzc8PWImJjQwPj1ifHxtKGEsdGhpcyx0aGlzLnZhbHVlKX0pO2lmKGUuaGFzRXZlbnQoXCJwYXN0ZVwiKSlhLm9uKFwicGFzdGUgY3V0XCIsbSl9YS5vbihcImNoYW5nZVwiLGspO2QuJHJlbmRlcj1mdW5jdGlvbigpe2EudmFsKGQuJGlzRW1wdHkoZC4kdmlld1ZhbHVlKT9cblwiXCI6ZC4kdmlld1ZhbHVlKX19ZnVuY3Rpb24gS2IoYixhKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZSxmO2lmKHBhKGMpKXJldHVybiBjO2lmKHooYykpeydcIic9PWMuY2hhckF0KDApJiYnXCInPT1jLmNoYXJBdChjLmxlbmd0aC0xKSYmKGM9Yy5zdWJzdHJpbmcoMSxjLmxlbmd0aC0xKSk7aWYoTWYudGVzdChjKSlyZXR1cm4gbmV3IERhdGUoYyk7Yi5sYXN0SW5kZXg9MDtpZihlPWIuZXhlYyhjKSlyZXR1cm4gZS5zaGlmdCgpLGY9ZD97eXl5eTpkLmdldEZ1bGxZZWFyKCksTU06ZC5nZXRNb250aCgpKzEsZGQ6ZC5nZXREYXRlKCksSEg6ZC5nZXRIb3VycygpLG1tOmQuZ2V0TWludXRlcygpLHNzOmQuZ2V0U2Vjb25kcygpLHNzczpkLmdldE1pbGxpc2Vjb25kcygpLzFFM306e3l5eXk6MTk3MCxNTToxLGRkOjEsSEg6MCxtbTowLHNzOjAsc3NzOjB9LHIoZSxmdW5jdGlvbihiLGMpe2M8YS5sZW5ndGgmJihmW2FbY11dPStiKX0pLG5ldyBEYXRlKGYueXl5eSxmLk1NLTEsZi5kZCxcbmYuSEgsZi5tbSxmLnNzfHwwLDFFMypmLnNzc3x8MCl9cmV0dXJuIE5hTn19ZnVuY3Rpb24gaGIoYixhLGMsZCl7cmV0dXJuIGZ1bmN0aW9uKGUsZixnLGgsayxsLG0pe2Z1bmN0aW9uIHAoYSl7cmV0dXJuIGEmJiEoYS5nZXRUaW1lJiZhLmdldFRpbWUoKSE9PWEuZ2V0VGltZSgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiB5KGEpP3BhKGEpP2E6YyhhKTp1fXJkKGUsZixnLGgpO2diKGUsZixnLGgsayxsKTt2YXIgdD1oJiZoLiRvcHRpb25zJiZoLiRvcHRpb25zLnRpbWV6b25lLHM7aC4kJHBhcnNlck5hbWU9YjtoLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYil7cmV0dXJuIGguJGlzRW1wdHkoYik/bnVsbDphLnRlc3QoYik/KGI9YyhiLHMpLFwiVVRDXCI9PT10JiZiLnNldE1pbnV0ZXMoYi5nZXRNaW51dGVzKCktYi5nZXRUaW1lem9uZU9mZnNldCgpKSxiKTp1fSk7aC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKGEmJiFwYShhKSl0aHJvdyBMYihcImRhdGVmbXRcIixhKTtpZihwKGEpKXtpZigocz1cbmEpJiZcIlVUQ1wiPT09dCl7dmFyIGI9NkU0KnMuZ2V0VGltZXpvbmVPZmZzZXQoKTtzPW5ldyBEYXRlKHMuZ2V0VGltZSgpK2IpfXJldHVybiBtKFwiZGF0ZVwiKShhLGQsdCl9cz1udWxsO3JldHVyblwiXCJ9KTtpZih5KGcubWluKXx8Zy5uZ01pbil7dmFyIHI7aC4kdmFsaWRhdG9ycy5taW49ZnVuY3Rpb24oYSl7cmV0dXJuIXAoYSl8fEMocil8fGMoYSk+PXJ9O2cuJG9ic2VydmUoXCJtaW5cIixmdW5jdGlvbihhKXtyPXEoYSk7aC4kdmFsaWRhdGUoKX0pfWlmKHkoZy5tYXgpfHxnLm5nTWF4KXt2YXIgbjtoLiR2YWxpZGF0b3JzLm1heD1mdW5jdGlvbihhKXtyZXR1cm4hcChhKXx8QyhuKXx8YyhhKTw9bn07Zy4kb2JzZXJ2ZShcIm1heFwiLGZ1bmN0aW9uKGEpe249cShhKTtoLiR2YWxpZGF0ZSgpfSl9fX1mdW5jdGlvbiByZChiLGEsYyxkKXsoZC4kJGhhc05hdGl2ZVZhbGlkYXRvcnM9TyhhWzBdLnZhbGlkaXR5KSkmJmQuJHBhcnNlcnMucHVzaChmdW5jdGlvbihiKXt2YXIgYz1hLnByb3AoXCJ2YWxpZGl0eVwiKXx8XG57fTtyZXR1cm4gYy5iYWRJbnB1dCYmIWMudHlwZU1pc21hdGNoP3U6Yn0pfWZ1bmN0aW9uIHNkKGIsYSxjLGQsZSl7aWYoeShkKSl7Yj1iKGQpO2lmKCFiLmNvbnN0YW50KXRocm93IEEoXCJuZ01vZGVsXCIpKFwiY29uc3RleHByXCIsYyxkKTtyZXR1cm4gYihhKX1yZXR1cm4gZX1mdW5jdGlvbiBxZChiKXtmdW5jdGlvbiBhKGEsYil7YiYmIWZbYV0/KGwuYWRkQ2xhc3MoZSxhKSxmW2FdPSEwKTohYiYmZlthXSYmKGwucmVtb3ZlQ2xhc3MoZSxhKSxmW2FdPSExKX1mdW5jdGlvbiBjKGIsYyl7Yj1iP1wiLVwiK1BiKGIsXCItXCIpOlwiXCI7YShpYitiLCEwPT09Yyk7YSh0ZCtiLCExPT09Yyl9dmFyIGQ9Yi5jdHJsLGU9Yi4kZWxlbWVudCxmPXt9LGc9Yi5zZXQsaD1iLnVuc2V0LGs9Yi5wYXJlbnRGb3JtLGw9Yi4kYW5pbWF0ZTtmW3RkXT0hKGZbaWJdPWUuaGFzQ2xhc3MoaWIpKTtkLiRzZXRWYWxpZGl0eT1mdW5jdGlvbihiLGUsZil7ZT09PXU/KGQuJHBlbmRpbmd8fChkLiRwZW5kaW5nPXt9KSxnKGQuJHBlbmRpbmcsXG5iLGYpKTooZC4kcGVuZGluZyYmaChkLiRwZW5kaW5nLGIsZiksdWQoZC4kcGVuZGluZykmJihkLiRwZW5kaW5nPXUpKTtVYShlKT9lPyhoKGQuJGVycm9yLGIsZiksZyhkLiQkc3VjY2VzcyxiLGYpKTooZyhkLiRlcnJvcixiLGYpLGgoZC4kJHN1Y2Nlc3MsYixmKSk6KGgoZC4kZXJyb3IsYixmKSxoKGQuJCRzdWNjZXNzLGIsZikpO2QuJHBlbmRpbmc/KGEodmQsITApLGQuJHZhbGlkPWQuJGludmFsaWQ9dSxjKFwiXCIsbnVsbCkpOihhKHZkLCExKSxkLiR2YWxpZD11ZChkLiRlcnJvciksZC4kaW52YWxpZD0hZC4kdmFsaWQsYyhcIlwiLGQuJHZhbGlkKSk7ZT1kLiRwZW5kaW5nJiZkLiRwZW5kaW5nW2JdP3U6ZC4kZXJyb3JbYl0/ITE6ZC4kJHN1Y2Nlc3NbYl0/ITA6bnVsbDtjKGIsZSk7ay4kc2V0VmFsaWRpdHkoYixlLGQpfX1mdW5jdGlvbiB1ZChiKXtpZihiKWZvcih2YXIgYSBpbiBiKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGljKGIsYSl7Yj1cIm5nQ2xhc3NcIitiO3JldHVybltcIiRhbmltYXRlXCIsXG5mdW5jdGlvbihjKXtmdW5jdGlvbiBkKGEsYil7dmFyIGM9W10sZD0wO2E6Zm9yKDtkPGEubGVuZ3RoO2QrKyl7Zm9yKHZhciBlPWFbZF0sbT0wO208Yi5sZW5ndGg7bSsrKWlmKGU9PWJbbV0pY29udGludWUgYTtjLnB1c2goZSl9cmV0dXJuIGN9ZnVuY3Rpb24gZShhKXtpZigheChhKSl7aWYoeihhKSlyZXR1cm4gYS5zcGxpdChcIiBcIik7aWYoTyhhKSl7dmFyIGI9W107cihhLGZ1bmN0aW9uKGEsYyl7YSYmKGI9Yi5jb25jYXQoYy5zcGxpdChcIiBcIikpKX0pO3JldHVybiBifX1yZXR1cm4gYX1yZXR1cm57cmVzdHJpY3Q6XCJBQ1wiLGxpbms6ZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSxiKXt2YXIgYz1nLmRhdGEoXCIkY2xhc3NDb3VudHNcIil8fHt9LGQ9W107cihhLGZ1bmN0aW9uKGEpe2lmKDA8Ynx8Y1thXSljW2FdPShjW2FdfHwwKStiLGNbYV09PT0rKDA8YikmJmQucHVzaChhKX0pO2cuZGF0YShcIiRjbGFzc0NvdW50c1wiLGMpO3JldHVybiBkLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIGwoYil7aWYoITA9PT1cbmF8fGYuJGluZGV4JTI9PT1hKXt2YXIgbD1lKGJ8fFtdKTtpZighbSl7dmFyIHQ9ayhsLDEpO2guJGFkZENsYXNzKHQpfWVsc2UgaWYoIWdhKGIsbSkpe3ZhciBzPWUobSksdD1kKGwscyksbD1kKHMsbCksdD1rKHQsMSksbD1rKGwsLTEpO3QmJnQubGVuZ3RoJiZjLmFkZENsYXNzKGcsdCk7bCYmbC5sZW5ndGgmJmMucmVtb3ZlQ2xhc3MoZyxsKX19bT1xYShiKX12YXIgbTtmLiR3YXRjaChoW2JdLGwsITApO2guJG9ic2VydmUoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe2woZi4kZXZhbChoW2JdKSl9KTtcIm5nQ2xhc3NcIiE9PWImJmYuJHdhdGNoKFwiJGluZGV4XCIsZnVuY3Rpb24oYyxkKXt2YXIgZz1jJjE7aWYoZyE9PShkJjEpKXt2YXIgbD1lKGYuJGV2YWwoaFtiXSkpO2c9PT1hPyhnPWsobCwxKSxoLiRhZGRDbGFzcyhnKSk6KGc9ayhsLC0xKSxoLiRyZW1vdmVDbGFzcyhnKSl9fSl9fX1dfXZhciBOZj0vXlxcLyguKylcXC8oW2Etel0qKSQvLFE9ZnVuY3Rpb24oYil7cmV0dXJuIHooYik/Yi50b0xvd2VyQ2FzZSgpOlxuYn0scmM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxyYj1mdW5jdGlvbihiKXtyZXR1cm4geihiKT9iLnRvVXBwZXJDYXNlKCk6Yn0sUGEsRCxyYSxZYT1bXS5zbGljZSxyZj1bXS5zcGxpY2UsT2Y9W10ucHVzaCxKYT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFdhPUEoXCJuZ1wiKSxoYT1VLmFuZ3VsYXJ8fChVLmFuZ3VsYXI9e30pLGFiLGtiPTA7UGE9WC5kb2N1bWVudE1vZGU7SC4kaW5qZWN0PVtdO29hLiRpbmplY3Q9W107dmFyIHg9QXJyYXkuaXNBcnJheSxQPWZ1bmN0aW9uKGIpe3JldHVybiB6KGIpP2IudHJpbSgpOmJ9LGVkPWZ1bmN0aW9uKGIpe3JldHVybiBiLnJlcGxhY2UoLyhbLSgpXFxbXFxde30rPyouJFxcXnwsOiM8IVxcXFxdKS9nLFwiXFxcXCQxXCIpLnJlcGxhY2UoL1xceDA4L2csXCJcXFxceDA4XCIpfSwkYT1mdW5jdGlvbigpe2lmKHkoJGEuaXNBY3RpdmVfKSlyZXR1cm4gJGEuaXNBY3RpdmVfO3ZhciBiPSEoIVgucXVlcnlTZWxlY3RvcihcIltuZy1jc3BdXCIpJiYhWC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbmctY3NwXVwiKSk7XG5pZighYil0cnl7bmV3IEZ1bmN0aW9uKFwiXCIpfWNhdGNoKGEpe2I9ITB9cmV0dXJuICRhLmlzQWN0aXZlXz1ifSxvYj1bXCJuZy1cIixcImRhdGEtbmctXCIsXCJuZzpcIixcIngtbmctXCJdLEtkPS9bQS1aXS9nLHRjPSExLFFiLG5hPTEsbWI9MyxPZD17ZnVsbDpcIjEuMy42XCIsbWFqb3I6MSxtaW5vcjozLGRvdDo2LGNvZGVOYW1lOlwicm9ib2Z1bmt5LWRhbmNlYmxhc3RlclwifTtSLmV4cGFuZG89XCJuZzMzOVwiO3ZhciB3Yj1SLmNhY2hlPXt9LGZmPTE7Ui5fZGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5jYWNoZVtiW3RoaXMuZXhwYW5kb11dfHx7fX07dmFyIGFmPS8oW1xcOlxcLVxcX10rKC4pKS9nLGJmPS9ebW96KFtBLVpdKS8sUGY9e21vdXNlbGVhdmU6XCJtb3VzZW91dFwiLG1vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIn0sVGI9QShcImpxTGl0ZVwiKSxlZj0vXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sU2I9Lzx8JiM/XFx3KzsvLGNmPS88KFtcXHc6XSspLyxkZj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksXG5qYT17b3B0aW9uOlsxLCc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O2phLm9wdGdyb3VwPWphLm9wdGlvbjtqYS50Ym9keT1qYS50Zm9vdD1qYS5jb2xncm91cD1qYS5jYXB0aW9uPWphLnRoZWFkO2phLnRoPWphLnRkO3ZhciBLYT1SLnByb3RvdHlwZT17cmVhZHk6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYSgpe2N8fChjPSEwLGIoKSl9dmFyIGM9ITE7XCJjb21wbGV0ZVwiPT09WC5yZWFkeVN0YXRlP3NldFRpbWVvdXQoYSk6KHRoaXMub24oXCJET01Db250ZW50TG9hZGVkXCIsYSksUihVKS5vbihcImxvYWRcIixhKSl9LFxudG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYj1bXTtyKHRoaXMsZnVuY3Rpb24oYSl7Yi5wdXNoKFwiXCIrYSl9KTtyZXR1cm5cIltcIitiLmpvaW4oXCIsIFwiKStcIl1cIn0sZXE6ZnVuY3Rpb24oYil7cmV0dXJuIDA8PWI/RCh0aGlzW2JdKTpEKHRoaXNbdGhpcy5sZW5ndGgrYl0pfSxsZW5ndGg6MCxwdXNoOk9mLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSxCYj17fTtyKFwibXVsdGlwbGUgc2VsZWN0ZWQgY2hlY2tlZCBkaXNhYmxlZCByZWFkT25seSByZXF1aXJlZCBvcGVuXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe0JiW1EoYildPWJ9KTt2YXIgTGM9e307cihcImlucHV0IHNlbGVjdCBvcHRpb24gdGV4dGFyZWEgYnV0dG9uIGZvcm0gZGV0YWlsc1wiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihiKXtMY1tiXT0hMH0pO3ZhciBNYz17bmdNaW5sZW5ndGg6XCJtaW5sZW5ndGhcIixuZ01heGxlbmd0aDpcIm1heGxlbmd0aFwiLG5nTWluOlwibWluXCIsbmdNYXg6XCJtYXhcIixuZ1BhdHRlcm46XCJwYXR0ZXJuXCJ9O1xucih7ZGF0YTpWYixyZW1vdmVEYXRhOnVifSxmdW5jdGlvbihiLGEpe1JbYV09Yn0pO3Ioe2RhdGE6VmIsaW5oZXJpdGVkRGF0YTpBYixzY29wZTpmdW5jdGlvbihiKXtyZXR1cm4gRC5kYXRhKGIsXCIkc2NvcGVcIil8fEFiKGIucGFyZW50Tm9kZXx8YixbXCIkaXNvbGF0ZVNjb3BlXCIsXCIkc2NvcGVcIl0pfSxpc29sYXRlU2NvcGU6ZnVuY3Rpb24oYil7cmV0dXJuIEQuZGF0YShiLFwiJGlzb2xhdGVTY29wZVwiKXx8RC5kYXRhKGIsXCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZVwiKX0sY29udHJvbGxlcjpIYyxpbmplY3RvcjpmdW5jdGlvbihiKXtyZXR1cm4gQWIoYixcIiRpbmplY3RvclwiKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihiLGEpe2IucmVtb3ZlQXR0cmlidXRlKGEpfSxoYXNDbGFzczp4Yixjc3M6ZnVuY3Rpb24oYixhLGMpe2E9YmIoYSk7aWYoeShjKSliLnN0eWxlW2FdPWM7ZWxzZSByZXR1cm4gYi5zdHlsZVthXX0sYXR0cjpmdW5jdGlvbihiLGEsYyl7dmFyIGQ9UShhKTtpZihCYltkXSlpZih5KGMpKWM/XG4oYlthXT0hMCxiLnNldEF0dHJpYnV0ZShhLGQpKTooYlthXT0hMSxiLnJlbW92ZUF0dHJpYnV0ZShkKSk7ZWxzZSByZXR1cm4gYlthXXx8KGIuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYSl8fEgpLnNwZWNpZmllZD9kOnU7ZWxzZSBpZih5KGMpKWIuc2V0QXR0cmlidXRlKGEsYyk7ZWxzZSBpZihiLmdldEF0dHJpYnV0ZSlyZXR1cm4gYj1iLmdldEF0dHJpYnV0ZShhLDIpLG51bGw9PT1iP3U6Yn0scHJvcDpmdW5jdGlvbihiLGEsYyl7aWYoeShjKSliW2FdPWM7ZWxzZSByZXR1cm4gYlthXX0sdGV4dDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiKXtpZihDKGIpKXt2YXIgZD1hLm5vZGVUeXBlO3JldHVybiBkPT09bmF8fGQ9PT1tYj9hLnRleHRDb250ZW50OlwiXCJ9YS50ZXh0Q29udGVudD1ifWIuJGR2PVwiXCI7cmV0dXJuIGJ9KCksdmFsOmZ1bmN0aW9uKGIsYSl7aWYoQyhhKSl7aWYoYi5tdWx0aXBsZSYmXCJzZWxlY3RcIj09PXVhKGIpKXt2YXIgYz1bXTtyKGIub3B0aW9ucyxmdW5jdGlvbihhKXthLnNlbGVjdGVkJiZcbmMucHVzaChhLnZhbHVlfHxhLnRleHQpfSk7cmV0dXJuIDA9PT1jLmxlbmd0aD9udWxsOmN9cmV0dXJuIGIudmFsdWV9Yi52YWx1ZT1hfSxodG1sOmZ1bmN0aW9uKGIsYSl7aWYoQyhhKSlyZXR1cm4gYi5pbm5lckhUTUw7dGIoYiwhMCk7Yi5pbm5lckhUTUw9YX0sZW1wdHk6SWN9LGZ1bmN0aW9uKGIsYSl7Ui5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSxkKXt2YXIgZSxmLGc9dGhpcy5sZW5ndGg7aWYoYiE9PUljJiYoMj09Yi5sZW5ndGgmJmIhPT14YiYmYiE9PUhjP2E6ZCk9PT11KXtpZihPKGEpKXtmb3IoZT0wO2U8ZztlKyspaWYoYj09PVZiKWIodGhpc1tlXSxhKTtlbHNlIGZvcihmIGluIGEpYih0aGlzW2VdLGYsYVtmXSk7cmV0dXJuIHRoaXN9ZT1iLiRkdjtnPWU9PT11P01hdGgubWluKGcsMSk6Zztmb3IoZj0wO2Y8ZztmKyspe3ZhciBoPWIodGhpc1tmXSxhLGQpO2U9ZT9lK2g6aH1yZXR1cm4gZX1mb3IoZT0wO2U8ZztlKyspYih0aGlzW2VdLGEsZCk7cmV0dXJuIHRoaXN9fSk7XG5yKHtyZW1vdmVEYXRhOnViLG9uOmZ1bmN0aW9uIGEoYyxkLGUsZil7aWYoeShmKSl0aHJvdyBUYihcIm9uYXJnc1wiKTtpZihEYyhjKSl7dmFyIGc9dmIoYywhMCk7Zj1nLmV2ZW50czt2YXIgaD1nLmhhbmRsZTtofHwoaD1nLmhhbmRsZT1qZihjLGYpKTtmb3IodmFyIGc9MDw9ZC5pbmRleE9mKFwiIFwiKT9kLnNwbGl0KFwiIFwiKTpbZF0saz1nLmxlbmd0aDtrLS07KXtkPWdba107dmFyIGw9ZltkXTtsfHwoZltkXT1bXSxcIm1vdXNlZW50ZXJcIj09PWR8fFwibW91c2VsZWF2ZVwiPT09ZD9hKGMsUGZbZF0sZnVuY3Rpb24oYSl7dmFyIGM9YS5yZWxhdGVkVGFyZ2V0O2MmJihjPT09dGhpc3x8dGhpcy5jb250YWlucyhjKSl8fGgoYSxkKX0pOlwiJGRlc3Ryb3lcIiE9PWQmJmMuYWRkRXZlbnRMaXN0ZW5lcihkLGgsITEpLGw9ZltkXSk7bC5wdXNoKGUpfX19LG9mZjpHYyxvbmU6ZnVuY3Rpb24oYSxjLGQpe2E9RChhKTthLm9uKGMsZnVuY3Rpb24gZigpe2Eub2ZmKGMsZCk7YS5vZmYoYyxmKX0pO2Eub24oYyxcbmQpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhLGMpe3ZhciBkLGU9YS5wYXJlbnROb2RlO3RiKGEpO3IobmV3IFIoYyksZnVuY3Rpb24oYyl7ZD9lLmluc2VydEJlZm9yZShjLGQubmV4dFNpYmxpbmcpOmUucmVwbGFjZUNoaWxkKGMsYSk7ZD1jfSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3ZhciBjPVtdO3IoYS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGEpe2Eubm9kZVR5cGU9PT1uYSYmYy5wdXNoKGEpfSk7cmV0dXJuIGN9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8YS5jaGlsZE5vZGVzfHxbXX0sYXBwZW5kOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5ub2RlVHlwZTtpZihkPT09bmF8fDExPT09ZCl7Yz1uZXcgUihjKTtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5hcHBlbmRDaGlsZChjW2RdKX19LHByZXBlbmQ6ZnVuY3Rpb24oYSxjKXtpZihhLm5vZGVUeXBlPT09bmEpe3ZhciBkPWEuZmlyc3RDaGlsZDtyKG5ldyBSKGMpLGZ1bmN0aW9uKGMpe2EuaW5zZXJ0QmVmb3JlKGMsXG5kKX0pfX0sd3JhcDpmdW5jdGlvbihhLGMpe2M9RChjKS5lcSgwKS5jbG9uZSgpWzBdO3ZhciBkPWEucGFyZW50Tm9kZTtkJiZkLnJlcGxhY2VDaGlsZChjLGEpO2MuYXBwZW5kQ2hpbGQoYSl9LHJlbW92ZTpKYyxkZXRhY2g6ZnVuY3Rpb24oYSl7SmMoYSwhMCl9LGFmdGVyOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YSxlPWEucGFyZW50Tm9kZTtjPW5ldyBSKGMpO2Zvcih2YXIgZj0wLGc9Yy5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9Y1tmXTtlLmluc2VydEJlZm9yZShoLGQubmV4dFNpYmxpbmcpO2Q9aH19LGFkZENsYXNzOnpiLHJlbW92ZUNsYXNzOnliLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYyxkKXtjJiZyKGMuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGMpe3ZhciBmPWQ7QyhmKSYmKGY9IXhiKGEsYykpOyhmP3piOnliKShhLGMpfSl9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4oYT1hLnBhcmVudE5vZGUpJiYxMSE9PWEubm9kZVR5cGU/YTpudWxsfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5leHRFbGVtZW50U2libGluZ30sXG5maW5kOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShjKTpbXX0sY2xvbmU6VWIsdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGYsZz1jLnR5cGV8fGMsaD12YihhKTtpZihoPShoPWgmJmguZXZlbnRzKSYmaFtnXSllPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0saXNEZWZhdWx0UHJldmVudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITA9PT10aGlzLmRlZmF1bHRQcmV2ZW50ZWR9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPSEwfSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9LHN0b3BQcm9wYWdhdGlvbjpILHR5cGU6Zyx0YXJnZXQ6YX0sYy50eXBlJiYoZT1HKGUsXG5jKSksYz1xYShoKSxmPWQ/W2VdLmNvbmNhdChkKTpbZV0scihjLGZ1bmN0aW9uKGMpe2UuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKXx8Yy5hcHBseShhLGYpfSl9fSxmdW5jdGlvbihhLGMpe1IucHJvdG90eXBlW2NdPWZ1bmN0aW9uKGMsZSxmKXtmb3IodmFyIGcsaD0wLGs9dGhpcy5sZW5ndGg7aDxrO2grKylDKGcpPyhnPWEodGhpc1toXSxjLGUsZikseShnKSYmKGc9RChnKSkpOkZjKGcsYSh0aGlzW2hdLGMsZSxmKSk7cmV0dXJuIHkoZyk/Zzp0aGlzfTtSLnByb3RvdHlwZS5iaW5kPVIucHJvdG90eXBlLm9uO1IucHJvdG90eXBlLnVuYmluZD1SLnByb3RvdHlwZS5vZmZ9KTtjYi5wcm90b3R5cGU9e3B1dDpmdW5jdGlvbihhLGMpe3RoaXNbTWEoYSx0aGlzLm5leHRVaWQpXT1jfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbTWEoYSx0aGlzLm5leHRVaWQpXX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXNbYT1NYShhLHRoaXMubmV4dFVpZCldO2RlbGV0ZSB0aGlzW2FdO1xucmV0dXJuIGN9fTt2YXIgT2M9L15mdW5jdGlvblxccypbXlxcKF0qXFwoXFxzKihbXlxcKV0qKVxcKS9tLGxmPS8sLyxtZj0vXlxccyooXz8pKFxcUys/KVxcMVxccyokLyxOYz0vKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvbWcsRmE9QShcIiRpbmplY3RvclwiKTtPYi4kJGFubm90YXRlPVdiO3ZhciBRZj1BKFwiJGFuaW1hdGVcIiksQWU9W1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXt0aGlzLiQkc2VsZWN0b3JzPXt9O3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oYyxkKXt2YXIgZT1jK1wiLWFuaW1hdGlvblwiO2lmKGMmJlwiLlwiIT1jLmNoYXJBdCgwKSl0aHJvdyBRZihcIm5vdGNzZWxcIixjKTt0aGlzLiQkc2VsZWN0b3JzW2Muc3Vic3RyKDEpXT1lO2EuZmFjdG9yeShlLGQpfTt0aGlzLmNsYXNzTmFtZUZpbHRlcj1mdW5jdGlvbihhKXsxPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI9YSBpbnN0YW5jZW9mIFJlZ0V4cD9hOm51bGwpO3JldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyfTtcbnRoaXMuJGdldD1bXCIkJHFcIixcIiQkYXN5bmNDYWxsYmFja1wiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGEsZCxlKXtmdW5jdGlvbiBmKGQpe3ZhciBmLGc9YS5kZWZlcigpO2cucHJvbWlzZS4kJGNhbmNlbEZuPWZ1bmN0aW9uKCl7ZiYmZigpfTtlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2Y9ZChmdW5jdGlvbigpe2cucmVzb2x2ZSgpfSl9KTtyZXR1cm4gZy5wcm9taXNlfWZ1bmN0aW9uIGcoYSxjKXt2YXIgZD1bXSxlPVtdLGY9aWEoKTtyKChhLmF0dHIoXCJjbGFzc1wiKXx8XCJcIikuc3BsaXQoL1xccysvKSxmdW5jdGlvbihhKXtmW2FdPSEwfSk7cihjLGZ1bmN0aW9uKGEsYyl7dmFyIGc9ZltjXTshMT09PWEmJmc/ZS5wdXNoKGMpOiEwIT09YXx8Z3x8ZC5wdXNoKGMpfSk7cmV0dXJuIDA8ZC5sZW5ndGgrZS5sZW5ndGgmJltkLmxlbmd0aD9kOm51bGwsZS5sZW5ndGg/ZTpudWxsXX1mdW5jdGlvbiBoKGEsYyxkKXtmb3IodmFyIGU9MCxmPWMubGVuZ3RoO2U8ZjsrK2UpYVtjW2VdXT1kfWZ1bmN0aW9uIGsoKXttfHxcbihtPWEuZGVmZXIoKSxkKGZ1bmN0aW9uKCl7bS5yZXNvbHZlKCk7bT1udWxsfSkpO3JldHVybiBtLnByb21pc2V9ZnVuY3Rpb24gbChhLGMpe2lmKGhhLmlzT2JqZWN0KGMpKXt2YXIgZD1HKGMuZnJvbXx8e30sYy50b3x8e30pO2EuY3NzKGQpfX12YXIgbTtyZXR1cm57YW5pbWF0ZTpmdW5jdGlvbihhLGMsZCl7bChhLHtmcm9tOmMsdG86ZH0pO3JldHVybiBrKCl9LGVudGVyOmZ1bmN0aW9uKGEsYyxkLGUpe2woYSxlKTtkP2QuYWZ0ZXIoYSk6Yy5wcmVwZW5kKGEpO3JldHVybiBrKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYyl7YS5yZW1vdmUoKTtyZXR1cm4gaygpfSxtb3ZlOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiB0aGlzLmVudGVyKGEsYyxkLGUpfSxhZGRDbGFzczpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuc2V0Q2xhc3MoYSxjLFtdLGQpfSwkJGFkZENsYXNzSW1tZWRpYXRlbHk6ZnVuY3Rpb24oYSxjLGQpe2E9RChhKTtjPXooYyk/Yzp4KGMpP2Muam9pbihcIiBcIik6XCJcIjtcbnIoYSxmdW5jdGlvbihhKXt6YihhLGMpfSk7bChhLGQpO3JldHVybiBrKCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5zZXRDbGFzcyhhLFtdLGMsZCl9LCQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseTpmdW5jdGlvbihhLGMsZCl7YT1EKGEpO2M9eihjKT9jOngoYyk/Yy5qb2luKFwiIFwiKTpcIlwiO3IoYSxmdW5jdGlvbihhKXt5YihhLGMpfSk7bChhLGQpO3JldHVybiBrKCl9LHNldENsYXNzOmZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBrPXRoaXMsbD0hMTthPUQoYSk7dmFyIG09YS5kYXRhKFwiJCRhbmltYXRlQ2xhc3Nlc1wiKTttP2UmJm0ub3B0aW9ucyYmKG0ub3B0aW9ucz1oYS5leHRlbmQobS5vcHRpb25zfHx7fSxlKSk6KG09e2NsYXNzZXM6e30sb3B0aW9uczplfSxsPSEwKTtlPW0uY2xhc3NlcztjPXgoYyk/YzpjLnNwbGl0KFwiIFwiKTtkPXgoZCk/ZDpkLnNwbGl0KFwiIFwiKTtoKGUsYywhMCk7aChlLGQsITEpO2wmJihtLnByb21pc2U9ZihmdW5jdGlvbihjKXt2YXIgZD1cbmEuZGF0YShcIiQkYW5pbWF0ZUNsYXNzZXNcIik7YS5yZW1vdmVEYXRhKFwiJCRhbmltYXRlQ2xhc3Nlc1wiKTtpZihkKXt2YXIgZT1nKGEsZC5jbGFzc2VzKTtlJiZrLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShhLGVbMF0sZVsxXSxkLm9wdGlvbnMpfWMoKX0pLGEuZGF0YShcIiQkYW5pbWF0ZUNsYXNzZXNcIixtKSk7cmV0dXJuIG0ucHJvbWlzZX0sJCRzZXRDbGFzc0ltbWVkaWF0ZWx5OmZ1bmN0aW9uKGEsYyxkLGUpe2MmJnRoaXMuJCRhZGRDbGFzc0ltbWVkaWF0ZWx5KGEsYyk7ZCYmdGhpcy4kJHJlbW92ZUNsYXNzSW1tZWRpYXRlbHkoYSxkKTtsKGEsZSk7cmV0dXJuIGsoKX0sZW5hYmxlZDpILGNhbmNlbDpIfX1dfV0sa2E9QShcIiRjb21waWxlXCIpO3ZjLiRpbmplY3Q9W1wiJHByb3ZpZGVcIixcIiQkc2FuaXRpemVVcmlQcm92aWRlclwiXTt2YXIgcWY9L14oKD86eHxkYXRhKVtcXDpcXC1fXSkvaSxTYz1cImFwcGxpY2F0aW9uL2pzb25cIixaYj17XCJDb250ZW50LVR5cGVcIjpTYytcIjtjaGFyc2V0PXV0Zi04XCJ9LFxudGY9L15cXHMqKFxcW3xcXHtbXlxce10pLyx1Zj0vW1xcfVxcXV1cXHMqJC8sc2Y9L15cXClcXF1cXH0nLD9cXG4vLCRiPUEoXCIkaW50ZXJwb2xhdGVcIiksUmY9L14oW15cXD8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8seGY9e2h0dHA6ODAsaHR0cHM6NDQzLGZ0cDoyMX0sRWI9QShcIiRsb2NhdGlvblwiKSxTZj17JCRodG1sNTohMSwkJHJlcGxhY2U6ITEsYWJzVXJsOkZiKFwiJCRhYnNVcmxcIiksdXJsOmZ1bmN0aW9uKGEpe2lmKEMoYSkpcmV0dXJuIHRoaXMuJCR1cmw7dmFyIGM9UmYuZXhlYyhhKTsoY1sxXXx8XCJcIj09PWEpJiZ0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KGNbMV0pKTsoY1syXXx8Y1sxXXx8XCJcIj09PWEpJiZ0aGlzLnNlYXJjaChjWzNdfHxcIlwiKTt0aGlzLmhhc2goY1s1XXx8XCJcIik7cmV0dXJuIHRoaXN9LHByb3RvY29sOkZiKFwiJCRwcm90b2NvbFwiKSxob3N0OkZiKFwiJCRob3N0XCIpLHBvcnQ6RmIoXCIkJHBvcnRcIikscGF0aDphZChcIiQkcGF0aFwiLGZ1bmN0aW9uKGEpe2E9bnVsbCE9PWE/XG5hLnRvU3RyaW5nKCk6XCJcIjtyZXR1cm5cIi9cIj09YS5jaGFyQXQoMCk/YTpcIi9cIithfSksc2VhcmNoOmZ1bmN0aW9uKGEsYyl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoeihhKXx8WShhKSlhPWEudG9TdHJpbmcoKSx0aGlzLiQkc2VhcmNoPXFjKGEpO2Vsc2UgaWYoTyhhKSlhPURhKGEse30pLHIoYSxmdW5jdGlvbihjLGUpe251bGw9PWMmJmRlbGV0ZSBhW2VdfSksdGhpcy4kJHNlYXJjaD1hO2Vsc2UgdGhyb3cgRWIoXCJpc3JjaGFyZ1wiKTticmVhaztkZWZhdWx0OkMoYyl8fG51bGw9PT1jP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW2FdOnRoaXMuJCRzZWFyY2hbYV09Y310aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfSxoYXNoOmFkKFwiJCRoYXNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hP2EudG9TdHJpbmcoKTpcIlwifSkscmVwbGFjZTpmdW5jdGlvbigpe3RoaXMuJCRyZXBsYWNlPSEwO3JldHVybiB0aGlzfX07XG5yKFskYyxkYyxjY10sZnVuY3Rpb24oYSl7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTZik7YS5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oYyl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuJCRzdGF0ZTtpZihhIT09Y2N8fCF0aGlzLiQkaHRtbDUpdGhyb3cgRWIoXCJub3N0YXRlXCIpO3RoaXMuJCRzdGF0ZT1DKGMpP251bGw6YztyZXR1cm4gdGhpc319KTt2YXIgbGE9QShcIiRwYXJzZVwiKSxUZj1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxVZj1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksVmY9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsTWI9aWEoKTtyKHtcIm51bGxcIjpmdW5jdGlvbigpe3JldHVybiBudWxsfSxcInRydWVcIjpmdW5jdGlvbigpe3JldHVybiEwfSxcImZhbHNlXCI6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdW5kZWZpbmVkOmZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oYSxjKXthLmNvbnN0YW50PWEubGl0ZXJhbD1hLnNoYXJlZEdldHRlcj0hMDtNYltjXT1hfSk7TWJbXCJ0aGlzXCJdPVxuZnVuY3Rpb24oYSl7cmV0dXJuIGF9O01iW1widGhpc1wiXS5zaGFyZWRHZXR0ZXI9ITA7dmFyIGpiPUcoaWEoKSx7XCIrXCI6ZnVuY3Rpb24oYSxjLGQsZSl7ZD1kKGEsYyk7ZT1lKGEsYyk7cmV0dXJuIHkoZCk/eShlKT9kK2U6ZDp5KGUpP2U6dX0sXCItXCI6ZnVuY3Rpb24oYSxjLGQsZSl7ZD1kKGEsYyk7ZT1lKGEsYyk7cmV0dXJuKHkoZCk/ZDowKS0oeShlKT9lOjApfSxcIipcIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpKmUoYSxjKX0sXCIvXCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKS9lKGEsYyl9LFwiJVwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyklZShhLGMpfSxcIj09PVwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk9PT1lKGEsYyl9LFwiIT09XCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKSE9PWUoYSxjKX0sXCI9PVwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk9PWUoYSxjKX0sXCIhPVwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsXG5jKSE9ZShhLGMpfSxcIjxcIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpPGUoYSxjKX0sXCI+XCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKT5lKGEsYyl9LFwiPD1cIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpPD1lKGEsYyl9LFwiPj1cIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpPj1lKGEsYyl9LFwiJiZcIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpJiZlKGEsYyl9LFwifHxcIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpfHxlKGEsYyl9LFwiIVwiOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZChhLGMpfSxcIj1cIjohMCxcInxcIjohMH0pLFdmPXtuOlwiXFxuXCIsZjpcIlxcZlwiLHI6XCJcXHJcIix0OlwiXFx0XCIsdjpcIlxcdlwiLFwiJ1wiOlwiJ1wiLCdcIic6J1wiJ30sZ2M9ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPWF9O2djLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Z2MsbGV4OmZ1bmN0aW9uKGEpe3RoaXMudGV4dD1hO3RoaXMuaW5kZXg9MDtmb3IodGhpcy50b2tlbnM9XG5bXTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KWlmKGE9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSwnXCInPT09YXx8XCInXCI9PT1hKXRoaXMucmVhZFN0cmluZyhhKTtlbHNlIGlmKHRoaXMuaXNOdW1iZXIoYSl8fFwiLlwiPT09YSYmdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpdGhpcy5yZWFkTnVtYmVyKCk7ZWxzZSBpZih0aGlzLmlzSWRlbnQoYSkpdGhpcy5yZWFkSWRlbnQoKTtlbHNlIGlmKHRoaXMuaXMoYSxcIigpe31bXS4sOzo/XCIpKXRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDphfSksdGhpcy5pbmRleCsrO2Vsc2UgaWYodGhpcy5pc1doaXRlc3BhY2UoYSkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGM9YSt0aGlzLnBlZWsoKSxkPWMrdGhpcy5wZWVrKDIpLGU9amJbY10sZj1qYltkXTtqYlthXXx8ZXx8Zj8oYT1mP2Q6ZT9jOmEsdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmEsb3BlcmF0b3I6ITB9KSx0aGlzLmluZGV4Kz1cbmEubGVuZ3RoKTp0aGlzLnRocm93RXJyb3IoXCJVbmV4cGVjdGVkIG5leHQgY2hhcmFjdGVyIFwiLHRoaXMuaW5kZXgsdGhpcy5pbmRleCsxKX1yZXR1cm4gdGhpcy50b2tlbnN9LGlzOmZ1bmN0aW9uKGEsYyl7cmV0dXJuLTEhPT1jLmluZGV4T2YoYSl9LHBlZWs6ZnVuY3Rpb24oYSl7YT1hfHwxO3JldHVybiB0aGlzLmluZGV4K2E8dGhpcy50ZXh0Lmxlbmd0aD90aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgrYSk6ITF9LGlzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVyblwiMFwiPD1hJiZcIjlcIj49YSYmXCJzdHJpbmdcIj09PXR5cGVvZiBhfSxpc1doaXRlc3BhY2U6ZnVuY3Rpb24oYSl7cmV0dXJuXCIgXCI9PT1hfHxcIlxcclwiPT09YXx8XCJcXHRcIj09PWF8fFwiXFxuXCI9PT1hfHxcIlxcdlwiPT09YXx8XCJcXHUwMGEwXCI9PT1hfSxpc0lkZW50OmZ1bmN0aW9uKGEpe3JldHVyblwiYVwiPD1hJiZcInpcIj49YXx8XCJBXCI8PWEmJlwiWlwiPj1hfHxcIl9cIj09PWF8fFwiJFwiPT09YX0saXNFeHBPcGVyYXRvcjpmdW5jdGlvbihhKXtyZXR1cm5cIi1cIj09PVxuYXx8XCIrXCI9PT1hfHx0aGlzLmlzTnVtYmVyKGEpfSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEsYyxkKXtkPWR8fHRoaXMuaW5kZXg7Yz15KGMpP1wicyBcIitjK1wiLVwiK3RoaXMuaW5kZXgrXCIgW1wiK3RoaXMudGV4dC5zdWJzdHJpbmcoYyxkKStcIl1cIjpcIiBcIitkO3Rocm93IGxhKFwibGV4ZXJyXCIsYSxjLHRoaXMudGV4dCk7fSxyZWFkTnVtYmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVwiXCIsYz10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBkPVEodGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSk7aWYoXCIuXCI9PWR8fHRoaXMuaXNOdW1iZXIoZCkpYSs9ZDtlbHNle3ZhciBlPXRoaXMucGVlaygpO2lmKFwiZVwiPT1kJiZ0aGlzLmlzRXhwT3BlcmF0b3IoZSkpYSs9ZDtlbHNlIGlmKHRoaXMuaXNFeHBPcGVyYXRvcihkKSYmZSYmdGhpcy5pc051bWJlcihlKSYmXCJlXCI9PWEuY2hhckF0KGEubGVuZ3RoLTEpKWErPWQ7ZWxzZSBpZighdGhpcy5pc0V4cE9wZXJhdG9yKGQpfHxcbmUmJnRoaXMuaXNOdW1iZXIoZSl8fFwiZVwiIT1hLmNoYXJBdChhLmxlbmd0aC0xKSlicmVhaztlbHNlIHRoaXMudGhyb3dFcnJvcihcIkludmFsaWQgZXhwb25lbnRcIil9dGhpcy5pbmRleCsrfXRoaXMudG9rZW5zLnB1c2goe2luZGV4OmMsdGV4dDphLGNvbnN0YW50OiEwLHZhbHVlOk51bWJlcihhKX0pfSxyZWFkSWRlbnQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5pbmRleDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgYz10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO2lmKCF0aGlzLmlzSWRlbnQoYykmJiF0aGlzLmlzTnVtYmVyKGMpKWJyZWFrO3RoaXMuaW5kZXgrK310aGlzLnRva2Vucy5wdXNoKHtpbmRleDphLHRleHQ6dGhpcy50ZXh0LnNsaWNlKGEsdGhpcy5pbmRleCksaWRlbnRpZmllcjohMH0pfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaW5kZXg7dGhpcy5pbmRleCsrO2Zvcih2YXIgZD1cIlwiLGU9YSxmPSExO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBnPVxudGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxlPWUrZztpZihmKVwidVwiPT09Zz8oZj10aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXgrMSx0aGlzLmluZGV4KzUpLGYubWF0Y2goL1tcXGRhLWZdezR9L2kpfHx0aGlzLnRocm93RXJyb3IoXCJJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdVwiK2YrXCJdXCIpLHRoaXMuaW5kZXgrPTQsZCs9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChmLDE2KSkpOmQrPVdmW2ddfHxnLGY9ITE7ZWxzZSBpZihcIlxcXFxcIj09PWcpZj0hMDtlbHNle2lmKGc9PT1hKXt0aGlzLmluZGV4Kys7dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yyx0ZXh0OmUsY29uc3RhbnQ6ITAsdmFsdWU6ZH0pO3JldHVybn1kKz1nfXRoaXMuaW5kZXgrK310aGlzLnRocm93RXJyb3IoXCJVbnRlcm1pbmF0ZWQgcXVvdGVcIixjKX19O3ZhciBlYj1mdW5jdGlvbihhLGMsZCl7dGhpcy5sZXhlcj1hO3RoaXMuJGZpbHRlcj1jO3RoaXMub3B0aW9ucz1kfTtlYi5aRVJPPUcoZnVuY3Rpb24oKXtyZXR1cm4gMH0sXG57c2hhcmVkR2V0dGVyOiEwLGNvbnN0YW50OiEwfSk7ZWIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjplYixwYXJzZTpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLnRva2Vucz10aGlzLmxleGVyLmxleChhKTthPXRoaXMuc3RhdGVtZW50cygpOzAhPT10aGlzLnRva2Vucy5sZW5ndGgmJnRoaXMudGhyb3dFcnJvcihcImlzIGFuIHVuZXhwZWN0ZWQgdG9rZW5cIix0aGlzLnRva2Vuc1swXSk7YS5saXRlcmFsPSEhYS5saXRlcmFsO2EuY29uc3RhbnQ9ISFhLmNvbnN0YW50O3JldHVybiBhfSxwcmltYXJ5OmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5leHBlY3QoXCIoXCIpPyhhPXRoaXMuZmlsdGVyQ2hhaW4oKSx0aGlzLmNvbnN1bWUoXCIpXCIpKTp0aGlzLmV4cGVjdChcIltcIik/YT10aGlzLmFycmF5RGVjbGFyYXRpb24oKTp0aGlzLmV4cGVjdChcIntcIik/YT10aGlzLm9iamVjdCgpOnRoaXMucGVlaygpLmlkZW50aWZpZXI/YT10aGlzLmlkZW50aWZpZXIoKTp0aGlzLnBlZWsoKS5jb25zdGFudD9hPVxudGhpcy5jb25zdGFudCgpOnRoaXMudGhyb3dFcnJvcihcIm5vdCBhIHByaW1hcnkgZXhwcmVzc2lvblwiLHRoaXMucGVlaygpKTtmb3IodmFyIGMsZDtjPXRoaXMuZXhwZWN0KFwiKFwiLFwiW1wiLFwiLlwiKTspXCIoXCI9PT1jLnRleHQ/KGE9dGhpcy5mdW5jdGlvbkNhbGwoYSxkKSxkPW51bGwpOlwiW1wiPT09Yy50ZXh0PyhkPWEsYT10aGlzLm9iamVjdEluZGV4KGEpKTpcIi5cIj09PWMudGV4dD8oZD1hLGE9dGhpcy5maWVsZEFjY2VzcyhhKSk6dGhpcy50aHJvd0Vycm9yKFwiSU1QT1NTSUJMRVwiKTtyZXR1cm4gYX0sdGhyb3dFcnJvcjpmdW5jdGlvbihhLGMpe3Rocm93IGxhKFwic3ludGF4XCIsYy50ZXh0LGEsYy5pbmRleCsxLHRoaXMudGV4dCx0aGlzLnRleHQuc3Vic3RyaW5nKGMuaW5kZXgpKTt9LHBlZWtUb2tlbjpmdW5jdGlvbigpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgbGEoXCJ1ZW9lXCIsdGhpcy50ZXh0KTtyZXR1cm4gdGhpcy50b2tlbnNbMF19LHBlZWs6ZnVuY3Rpb24oYSxjLGQsXG5lKXtyZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCxhLGMsZCxlKX0scGVla0FoZWFkOmZ1bmN0aW9uKGEsYyxkLGUsZil7aWYodGhpcy50b2tlbnMubGVuZ3RoPmEpe2E9dGhpcy50b2tlbnNbYV07dmFyIGc9YS50ZXh0O2lmKGc9PT1jfHxnPT09ZHx8Zz09PWV8fGc9PT1mfHwhKGN8fGR8fGV8fGYpKXJldHVybiBhfXJldHVybiExfSxleHBlY3Q6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuKGE9dGhpcy5wZWVrKGEsYyxkLGUpKT8odGhpcy50b2tlbnMuc2hpZnQoKSxhKTohMX0sY29uc3VtZTpmdW5jdGlvbihhKXtpZigwPT09dGhpcy50b2tlbnMubGVuZ3RoKXRocm93IGxhKFwidWVvZVwiLHRoaXMudGV4dCk7dmFyIGM9dGhpcy5leHBlY3QoYSk7Y3x8dGhpcy50aHJvd0Vycm9yKFwiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFtcIithK1wiXVwiLHRoaXMucGVlaygpKTtyZXR1cm4gY30sdW5hcnlGbjpmdW5jdGlvbihhLGMpe3ZhciBkPWpiW2FdO3JldHVybiBHKGZ1bmN0aW9uKGEsZil7cmV0dXJuIGQoYSxcbmYsYyl9LHtjb25zdGFudDpjLmNvbnN0YW50LGlucHV0czpbY119KX0sYmluYXJ5Rm46ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGY9amJbY107cmV0dXJuIEcoZnVuY3Rpb24oYyxlKXtyZXR1cm4gZihjLGUsYSxkKX0se2NvbnN0YW50OmEuY29uc3RhbnQmJmQuY29uc3RhbnQsaW5wdXRzOiFlJiZbYSxkXX0pfSxpZGVudGlmaWVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuY29uc3VtZSgpLnRleHQ7dGhpcy5wZWVrKFwiLlwiKSYmdGhpcy5wZWVrQWhlYWQoMSkuaWRlbnRpZmllciYmIXRoaXMucGVla0FoZWFkKDIsXCIoXCIpOylhKz10aGlzLmNvbnN1bWUoKS50ZXh0K3RoaXMuY29uc3VtZSgpLnRleHQ7cmV0dXJuIE1iW2FdfHxjZChhLHRoaXMub3B0aW9ucyx0aGlzLnRleHQpfSxjb25zdGFudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3VtZSgpLnZhbHVlO3JldHVybiBHKGZ1bmN0aW9uKCl7cmV0dXJuIGF9LHtjb25zdGFudDohMCxsaXRlcmFsOiEwfSl9LHN0YXRlbWVudHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XG5bXTs7KWlmKDA8dGhpcy50b2tlbnMubGVuZ3RoJiYhdGhpcy5wZWVrKFwifVwiLFwiKVwiLFwiO1wiLFwiXVwiKSYmYS5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSksIXRoaXMuZXhwZWN0KFwiO1wiKSlyZXR1cm4gMT09PWEubGVuZ3RoP2FbMF06ZnVuY3Rpb24oYyxkKXtmb3IodmFyIGUsZj0wLGc9YS5sZW5ndGg7ZjxnO2YrKyllPWFbZl0oYyxkKTtyZXR1cm4gZX19LGZpbHRlckNoYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZXhwcmVzc2lvbigpO3RoaXMuZXhwZWN0KFwifFwiKTspYT10aGlzLmZpbHRlcihhKTtyZXR1cm4gYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuJGZpbHRlcih0aGlzLmNvbnN1bWUoKS50ZXh0KSxkLGU7aWYodGhpcy5wZWVrKFwiOlwiKSlmb3IoZD1bXSxlPVtdO3RoaXMuZXhwZWN0KFwiOlwiKTspZC5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTt2YXIgZj1bYV0uY29uY2F0KGR8fFtdKTtyZXR1cm4gRyhmdW5jdGlvbihmLGgpe3ZhciBrPWEoZixoKTtpZihlKXtlWzBdPVxuaztmb3Ioaz1kLmxlbmd0aDtrLS07KWVbaysxXT1kW2tdKGYsaCk7cmV0dXJuIGMuYXBwbHkodSxlKX1yZXR1cm4gYyhrKX0se2NvbnN0YW50OiFjLiRzdGF0ZWZ1bCYmZi5ldmVyeShlYyksaW5wdXRzOiFjLiRzdGF0ZWZ1bCYmZn0pfSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZXJuYXJ5KCksYyxkO3JldHVybihkPXRoaXMuZXhwZWN0KFwiPVwiKSk/KGEuYXNzaWdufHx0aGlzLnRocm93RXJyb3IoXCJpbXBsaWVzIGFzc2lnbm1lbnQgYnV0IFtcIit0aGlzLnRleHQuc3Vic3RyaW5nKDAsZC5pbmRleCkrXCJdIGNhbiBub3QgYmUgYXNzaWduZWQgdG9cIixkKSxjPXRoaXMudGVybmFyeSgpLEcoZnVuY3Rpb24oZCxmKXtyZXR1cm4gYS5hc3NpZ24oZCxjKGQsZiksZil9LHtpbnB1dHM6W2EsY119KSk6YX0sdGVybmFyeTpmdW5jdGlvbigpe3ZhciBhPXRoaXMubG9naWNhbE9SKCksYztpZih0aGlzLmV4cGVjdChcIj9cIikmJlxuKGM9dGhpcy5hc3NpZ25tZW50KCksdGhpcy5jb25zdW1lKFwiOlwiKSkpe3ZhciBkPXRoaXMuYXNzaWdubWVudCgpO3JldHVybiBHKGZ1bmN0aW9uKGUsZil7cmV0dXJuIGEoZSxmKT9jKGUsZik6ZChlLGYpfSx7Y29uc3RhbnQ6YS5jb25zdGFudCYmYy5jb25zdGFudCYmZC5jb25zdGFudH0pfXJldHVybiBhfSxsb2dpY2FsT1I6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sb2dpY2FsQU5EKCksYztjPXRoaXMuZXhwZWN0KFwifHxcIik7KWE9dGhpcy5iaW5hcnlGbihhLGMudGV4dCx0aGlzLmxvZ2ljYWxBTkQoKSwhMCk7cmV0dXJuIGF9LGxvZ2ljYWxBTkQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5lcXVhbGl0eSgpLGM7Yz10aGlzLmV4cGVjdChcIiYmXCIpOylhPXRoaXMuYmluYXJ5Rm4oYSxjLnRleHQsdGhpcy5lcXVhbGl0eSgpLCEwKTtyZXR1cm4gYX0sZXF1YWxpdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5yZWxhdGlvbmFsKCksYztjPXRoaXMuZXhwZWN0KFwiPT1cIixcIiE9XCIsXG5cIj09PVwiLFwiIT09XCIpOylhPXRoaXMuYmluYXJ5Rm4oYSxjLnRleHQsdGhpcy5yZWxhdGlvbmFsKCkpO3JldHVybiBhfSxyZWxhdGlvbmFsOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuYWRkaXRpdmUoKSxjO2M9dGhpcy5leHBlY3QoXCI8XCIsXCI+XCIsXCI8PVwiLFwiPj1cIik7KWE9dGhpcy5iaW5hcnlGbihhLGMudGV4dCx0aGlzLmFkZGl0aXZlKCkpO3JldHVybiBhfSxhZGRpdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm11bHRpcGxpY2F0aXZlKCksYztjPXRoaXMuZXhwZWN0KFwiK1wiLFwiLVwiKTspYT10aGlzLmJpbmFyeUZuKGEsYy50ZXh0LHRoaXMubXVsdGlwbGljYXRpdmUoKSk7cmV0dXJuIGF9LG11bHRpcGxpY2F0aXZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudW5hcnkoKSxjO2M9dGhpcy5leHBlY3QoXCIqXCIsXCIvXCIsXCIlXCIpOylhPXRoaXMuYmluYXJ5Rm4oYSxjLnRleHQsdGhpcy51bmFyeSgpKTtyZXR1cm4gYX0sdW5hcnk6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gdGhpcy5leHBlY3QoXCIrXCIpP1xudGhpcy5wcmltYXJ5KCk6KGE9dGhpcy5leHBlY3QoXCItXCIpKT90aGlzLmJpbmFyeUZuKGViLlpFUk8sYS50ZXh0LHRoaXMudW5hcnkoKSk6KGE9dGhpcy5leHBlY3QoXCIhXCIpKT90aGlzLnVuYXJ5Rm4oYS50ZXh0LHRoaXMudW5hcnkoKSk6dGhpcy5wcmltYXJ5KCl9LGZpZWxkQWNjZXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMudGV4dCxkPXRoaXMuY29uc3VtZSgpLnRleHQsZT1jZChkLHRoaXMub3B0aW9ucyxjKTtyZXR1cm4gRyhmdW5jdGlvbihjLGQsaCl7cmV0dXJuIGUoaHx8YShjLGQpKX0se2Fzc2lnbjpmdW5jdGlvbihlLGcsaCl7KGg9YShlLGgpKXx8YS5hc3NpZ24oZSxoPXt9KTtyZXR1cm4gTmEoaCxkLGcsYyl9fSl9LG9iamVjdEluZGV4OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMudGV4dCxkPXRoaXMuZXhwcmVzc2lvbigpO3RoaXMuY29uc3VtZShcIl1cIik7cmV0dXJuIEcoZnVuY3Rpb24oZSxmKXt2YXIgZz1hKGUsZiksaD1kKGUsZik7c2EoaCxjKTtyZXR1cm4gZz90YShnW2hdLFxuYyk6dX0se2Fzc2lnbjpmdW5jdGlvbihlLGYsZyl7dmFyIGg9c2EoZChlLGcpLGMpOyhnPXRhKGEoZSxnKSxjKSl8fGEuYXNzaWduKGUsZz17fSk7cmV0dXJuIGdbaF09Zn19KX0sZnVuY3Rpb25DYWxsOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9W107aWYoXCIpXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2RvIGQucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKX10aGlzLmNvbnN1bWUoXCIpXCIpO3ZhciBlPXRoaXMudGV4dCxmPWQubGVuZ3RoP1tdOm51bGw7cmV0dXJuIGZ1bmN0aW9uKGcsaCl7dmFyIGs9Yz9jKGcsaCk6eShjKT91OmcsbD1hKGcsaCxrKXx8SDtpZihmKWZvcih2YXIgbT1kLmxlbmd0aDttLS07KWZbbV09dGEoZFttXShnLGgpLGUpO3RhKGssZSk7aWYobCl7aWYobC5jb25zdHJ1Y3Rvcj09PWwpdGhyb3cgbGEoXCJpc2VjZm5cIixlKTtpZihsPT09VGZ8fGw9PT1VZnx8bD09PVZmKXRocm93IGxhKFwiaXNlY2ZmXCIsZSk7fWs9bC5hcHBseT9sLmFwcGx5KGssXG5mKTpsKGZbMF0sZlsxXSxmWzJdLGZbM10sZls0XSk7cmV0dXJuIHRhKGssZSl9fSxhcnJheURlY2xhcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9W107aWYoXCJdXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2Rve2lmKHRoaXMucGVlayhcIl1cIikpYnJlYWs7YS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKX13aGlsZSh0aGlzLmV4cGVjdChcIixcIikpfXRoaXMuY29uc3VtZShcIl1cIik7cmV0dXJuIEcoZnVuY3Rpb24oYyxkKXtmb3IodmFyIGU9W10sZj0wLGc9YS5sZW5ndGg7ZjxnO2YrKyllLnB1c2goYVtmXShjLGQpKTtyZXR1cm4gZX0se2xpdGVyYWw6ITAsY29uc3RhbnQ6YS5ldmVyeShlYyksaW5wdXRzOmF9KX0sb2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9W10sYz1bXTtpZihcIn1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwifVwiKSlicmVhazt2YXIgZD10aGlzLmNvbnN1bWUoKTtkLmNvbnN0YW50P2EucHVzaChkLnZhbHVlKTpkLmlkZW50aWZpZXI/YS5wdXNoKGQudGV4dCk6XG50aGlzLnRocm93RXJyb3IoXCJpbnZhbGlkIGtleVwiLGQpO3RoaXMuY29uc3VtZShcIjpcIik7Yy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKX13aGlsZSh0aGlzLmV4cGVjdChcIixcIikpfXRoaXMuY29uc3VtZShcIn1cIik7cmV0dXJuIEcoZnVuY3Rpb24oZCxmKXtmb3IodmFyIGc9e30saD0wLGs9Yy5sZW5ndGg7aDxrO2grKylnW2FbaF1dPWNbaF0oZCxmKTtyZXR1cm4gZ30se2xpdGVyYWw6ITAsY29uc3RhbnQ6Yy5ldmVyeShlYyksaW5wdXRzOmN9KX19O3ZhciBBZj1pYSgpLHpmPWlhKCksQmY9T2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mLENhPUEoXCIkc2NlXCIpLG1hPXtIVE1MOlwiaHRtbFwiLENTUzpcImNzc1wiLFVSTDpcInVybFwiLFJFU09VUkNFX1VSTDpcInJlc291cmNlVXJsXCIsSlM6XCJqc1wifSxrYT1BKFwiJGNvbXBpbGVcIiksWj1YLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLGdkPUJhKFUubG9jYXRpb24uaHJlZik7Q2MuJGluamVjdD1bXCIkcHJvdmlkZVwiXTtoZC4kaW5qZWN0PVtcIiRsb2NhbGVcIl07amQuJGluamVjdD1cbltcIiRsb2NhbGVcIl07dmFyIG1kPVwiLlwiLExmPXt5eXl5OlYoXCJGdWxsWWVhclwiLDQpLHl5OlYoXCJGdWxsWWVhclwiLDIsMCwhMCkseTpWKFwiRnVsbFllYXJcIiwxKSxNTU1NOkhiKFwiTW9udGhcIiksTU1NOkhiKFwiTW9udGhcIiwhMCksTU06VihcIk1vbnRoXCIsMiwxKSxNOlYoXCJNb250aFwiLDEsMSksZGQ6VihcIkRhdGVcIiwyKSxkOlYoXCJEYXRlXCIsMSksSEg6VihcIkhvdXJzXCIsMiksSDpWKFwiSG91cnNcIiwxKSxoaDpWKFwiSG91cnNcIiwyLC0xMiksaDpWKFwiSG91cnNcIiwxLC0xMiksbW06VihcIk1pbnV0ZXNcIiwyKSxtOlYoXCJNaW51dGVzXCIsMSksc3M6VihcIlNlY29uZHNcIiwyKSxzOlYoXCJTZWNvbmRzXCIsMSksc3NzOlYoXCJNaWxsaXNlY29uZHNcIiwzKSxFRUVFOkhiKFwiRGF5XCIpLEVFRTpIYihcIkRheVwiLCEwKSxhOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIDEyPmEuZ2V0SG91cnMoKT9jLkFNUE1TWzBdOmMuQU1QTVNbMV19LFo6ZnVuY3Rpb24oYSl7YT0tMSphLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIGE9KDA8PVxuYT9cIitcIjpcIlwiKSsoR2IoTWF0aFswPGE/XCJmbG9vclwiOlwiY2VpbFwiXShhLzYwKSwyKStHYihNYXRoLmFicyhhJTYwKSwyKSl9LHd3Om9kKDIpLHc6b2QoMSl9LEtmPS8oKD86W155TWRIaG1zYVpFdyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfGQrfEgrfGgrfG0rfHMrfGF8Wnx3KykpKC4qKS8sSmY9L15cXC0/XFxkKyQvO2lkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTt2YXIgR2Y9Y2EoUSksSGY9Y2EocmIpO2tkLiRpbmplY3Q9W1wiJHBhcnNlXCJdO3ZhciBSZD1jYSh7cmVzdHJpY3Q6XCJFXCIsY29tcGlsZTpmdW5jdGlvbihhLGMpe2lmKCFjLmhyZWYmJiFjLnhsaW5rSHJlZiYmIWMubmFtZSlyZXR1cm4gZnVuY3Rpb24oYSxjKXt2YXIgZj1cIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1KYS5jYWxsKGMucHJvcChcImhyZWZcIikpP1wieGxpbms6aHJlZlwiOlwiaHJlZlwiO2Mub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2MuYXR0cihmKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSl9fX0pLHNiPVxue307cihCYixmdW5jdGlvbihhLGMpe2lmKFwibXVsdGlwbGVcIiE9YSl7dmFyIGQ9d2EoXCJuZy1cIitjKTtzYltkXT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsbGluazpmdW5jdGlvbihhLGYsZyl7YS4kd2F0Y2goZ1tkXSxmdW5jdGlvbihhKXtnLiRzZXQoYywhIWEpfSl9fX19fSk7cihNYyxmdW5jdGlvbihhLGMpe3NiW2NdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCxsaW5rOmZ1bmN0aW9uKGEsZSxmKXtpZihcIm5nUGF0dGVyblwiPT09YyYmXCIvXCI9PWYubmdQYXR0ZXJuLmNoYXJBdCgwKSYmKGU9Zi5uZ1BhdHRlcm4ubWF0Y2goTmYpKSl7Zi4kc2V0KFwibmdQYXR0ZXJuXCIsbmV3IFJlZ0V4cChlWzFdLGVbMl0pKTtyZXR1cm59YS4kd2F0Y2goZltjXSxmdW5jdGlvbihhKXtmLiRzZXQoYyxhKX0pfX19fSk7cihbXCJzcmNcIixcInNyY3NldFwiLFwiaHJlZlwiXSxmdW5jdGlvbihhKXt2YXIgYz13YShcIm5nLVwiK2EpO3NiW2NdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5Ojk5LFxubGluazpmdW5jdGlvbihkLGUsZil7dmFyIGc9YSxoPWE7XCJocmVmXCI9PT1hJiZcIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1KYS5jYWxsKGUucHJvcChcImhyZWZcIikpJiYoaD1cInhsaW5rSHJlZlwiLGYuJGF0dHJbaF09XCJ4bGluazpocmVmXCIsZz1udWxsKTtmLiRvYnNlcnZlKGMsZnVuY3Rpb24oYyl7Yz8oZi4kc2V0KGgsYyksUGEmJmcmJmUucHJvcChnLGZbaF0pKTpcImhyZWZcIj09PWEmJmYuJHNldChoLG51bGwpfSl9fX19KTt2YXIgSWI9eyRhZGRDb250cm9sOkgsJCRyZW5hbWVDb250cm9sOmZ1bmN0aW9uKGEsYyl7YS4kbmFtZT1jfSwkcmVtb3ZlQ29udHJvbDpILCRzZXRWYWxpZGl0eTpILCRzZXREaXJ0eTpILCRzZXRQcmlzdGluZTpILCRzZXRTdWJtaXR0ZWQ6SH07cGQuJGluamVjdD1bXCIkZWxlbWVudFwiLFwiJGF0dHJzXCIsXCIkc2NvcGVcIixcIiRhbmltYXRlXCIsXCIkaW50ZXJwb2xhdGVcIl07dmFyIHdkPWZ1bmN0aW9uKGEpe3JldHVybltcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYyl7cmV0dXJue25hbWU6XCJmb3JtXCIsXG5yZXN0cmljdDphP1wiRUFDXCI6XCJFXCIsY29udHJvbGxlcjpwZCxjb21waWxlOmZ1bmN0aW9uKGEpe2EuYWRkQ2xhc3MoUWEpLmFkZENsYXNzKGliKTtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsZCxnLGgpe2lmKCEoXCJhY3Rpb25cImluIGcpKXt2YXIgaz1mdW5jdGlvbihjKXthLiRhcHBseShmdW5jdGlvbigpe2guJGNvbW1pdFZpZXdWYWx1ZSgpO2guJHNldFN1Ym1pdHRlZCgpfSk7Yy5wcmV2ZW50RGVmYXVsdCgpfTtkWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIixrLCExKTtkLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2MoZnVuY3Rpb24oKXtkWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIixrLCExKX0sMCwhMSl9KX12YXIgbD1oLiQkcGFyZW50Rm9ybSxtPWguJG5hbWU7bSYmKE5hKGEsbSxoLG0pLGcuJG9ic2VydmUoZy5uYW1lP1wibmFtZVwiOlwibmdGb3JtXCIsZnVuY3Rpb24oYyl7bSE9PWMmJihOYShhLG0sdSxtKSxtPWMsTmEoYSxtLGgsbSksbC4kJHJlbmFtZUNvbnRyb2woaCxcbm0pKX0pKTtkLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2wuJHJlbW92ZUNvbnRyb2woaCk7bSYmTmEoYSxtLHUsbSk7RyhoLEliKX0pfX19fX1dfSxTZD13ZCgpLGVlPXdkKCEwKSxNZj0vXFxkezR9LVswMV1cXGQtWzAtM11cXGRUWzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGRcXC5cXGQrKFsrLV1bMC0yXVxcZDpbMC01XVxcZHxaKS8sWGY9L14oZnRwfGh0dHB8aHR0cHMpOlxcL1xcLyhcXHcrOnswLDF9XFx3KkApPyhcXFMrKSg6WzAtOV0rKT8oXFwvfFxcLyhbXFx3IyE6Lj8rPSYlQCFcXC1cXC9dKSk/JC8sWWY9L15bYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4uLV0rQFthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KFxcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2ksWmY9L15cXHMqKFxcLXxcXCspPyhcXGQrfChcXGQqKFxcLlxcZCopKSlcXHMqJC8seGQ9L14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLHlkPS9eKFxcZHs0fSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC8sXG5qYz0vXihcXGR7NH0pLVcoXFxkXFxkKSQvLHpkPS9eKFxcZHs0fSktKFxcZFxcZCkkLyxBZD0vXihcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvLCRmPS8oXFxzK3xeKWRlZmF1bHQoXFxzK3wkKS8sTGI9bmV3IEEoXCJuZ01vZGVsXCIpLEJkPXt0ZXh0OmZ1bmN0aW9uKGEsYyxkLGUsZixnKXtnYihhLGMsZCxlLGYsZyk7aGMoZSl9LGRhdGU6aGIoXCJkYXRlXCIseGQsS2IoeGQsW1wieXl5eVwiLFwiTU1cIixcImRkXCJdKSxcInl5eXktTU0tZGRcIiksXCJkYXRldGltZS1sb2NhbFwiOmhiKFwiZGF0ZXRpbWVsb2NhbFwiLHlkLEtiKHlkLFwieXl5eSBNTSBkZCBISCBtbSBzcyBzc3NcIi5zcGxpdChcIiBcIikpLFwieXl5eS1NTS1kZFRISDptbTpzcy5zc3NcIiksdGltZTpoYihcInRpbWVcIixBZCxLYihBZCxbXCJISFwiLFwibW1cIixcInNzXCIsXCJzc3NcIl0pLFwiSEg6bW06c3Muc3NzXCIpLHdlZWs6aGIoXCJ3ZWVrXCIsamMsZnVuY3Rpb24oYSxjKXtpZihwYShhKSlyZXR1cm4gYTtpZih6KGEpKXtqYy5sYXN0SW5kZXg9MDt2YXIgZD1cbmpjLmV4ZWMoYSk7aWYoZCl7dmFyIGU9K2RbMV0sZj0rZFsyXSxnPWQ9MCxoPTAsaz0wLGw9bmQoZSksZj03KihmLTEpO2MmJihkPWMuZ2V0SG91cnMoKSxnPWMuZ2V0TWludXRlcygpLGg9Yy5nZXRTZWNvbmRzKCksaz1jLmdldE1pbGxpc2Vjb25kcygpKTtyZXR1cm4gbmV3IERhdGUoZSwwLGwuZ2V0RGF0ZSgpK2YsZCxnLGgsayl9fXJldHVybiBOYU59LFwieXl5eS1Xd3dcIiksbW9udGg6aGIoXCJtb250aFwiLHpkLEtiKHpkLFtcInl5eXlcIixcIk1NXCJdKSxcInl5eXktTU1cIiksbnVtYmVyOmZ1bmN0aW9uKGEsYyxkLGUsZixnKXtyZChhLGMsZCxlKTtnYihhLGMsZCxlLGYsZyk7ZS4kJHBhcnNlck5hbWU9XCJudW1iZXJcIjtlLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGUuJGlzRW1wdHkoYSk/bnVsbDpaZi50ZXN0KGEpP3BhcnNlRmxvYXQoYSk6dX0pO2UuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtpZighZS4kaXNFbXB0eShhKSl7aWYoIVkoYSkpdGhyb3cgTGIoXCJudW1mbXRcIixcbmEpO2E9YS50b1N0cmluZygpfXJldHVybiBhfSk7aWYoZC5taW58fGQubmdNaW4pe3ZhciBoO2UuJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKGEpe3JldHVybiBlLiRpc0VtcHR5KGEpfHxDKGgpfHxhPj1ofTtkLiRvYnNlcnZlKFwibWluXCIsZnVuY3Rpb24oYSl7eShhKSYmIVkoYSkmJihhPXBhcnNlRmxvYXQoYSwxMCkpO2g9WShhKSYmIWlzTmFOKGEpP2E6dTtlLiR2YWxpZGF0ZSgpfSl9aWYoZC5tYXh8fGQubmdNYXgpe3ZhciBrO2UuJHZhbGlkYXRvcnMubWF4PWZ1bmN0aW9uKGEpe3JldHVybiBlLiRpc0VtcHR5KGEpfHxDKGspfHxhPD1rfTtkLiRvYnNlcnZlKFwibWF4XCIsZnVuY3Rpb24oYSl7eShhKSYmIVkoYSkmJihhPXBhcnNlRmxvYXQoYSwxMCkpO2s9WShhKSYmIWlzTmFOKGEpP2E6dTtlLiR2YWxpZGF0ZSgpfSl9fSx1cmw6ZnVuY3Rpb24oYSxjLGQsZSxmLGcpe2diKGEsYyxkLGUsZixnKTtoYyhlKTtlLiQkcGFyc2VyTmFtZT1cInVybFwiO2UuJHZhbGlkYXRvcnMudXJsPWZ1bmN0aW9uKGEsXG5jKXt2YXIgZD1hfHxjO3JldHVybiBlLiRpc0VtcHR5KGQpfHxYZi50ZXN0KGQpfX0sZW1haWw6ZnVuY3Rpb24oYSxjLGQsZSxmLGcpe2diKGEsYyxkLGUsZixnKTtoYyhlKTtlLiQkcGFyc2VyTmFtZT1cImVtYWlsXCI7ZS4kdmFsaWRhdG9ycy5lbWFpbD1mdW5jdGlvbihhLGMpe3ZhciBkPWF8fGM7cmV0dXJuIGUuJGlzRW1wdHkoZCl8fFlmLnRlc3QoZCl9fSxyYWRpbzpmdW5jdGlvbihhLGMsZCxlKXtDKGQubmFtZSkmJmMuYXR0cihcIm5hbWVcIiwrK2tiKTtjLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtjWzBdLmNoZWNrZWQmJmUuJHNldFZpZXdWYWx1ZShkLnZhbHVlLGEmJmEudHlwZSl9KTtlLiRyZW5kZXI9ZnVuY3Rpb24oKXtjWzBdLmNoZWNrZWQ9ZC52YWx1ZT09ZS4kdmlld1ZhbHVlfTtkLiRvYnNlcnZlKFwidmFsdWVcIixlLiRyZW5kZXIpfSxjaGVja2JveDpmdW5jdGlvbihhLGMsZCxlLGYsZyxoLGspe3ZhciBsPXNkKGssYSxcIm5nVHJ1ZVZhbHVlXCIsZC5uZ1RydWVWYWx1ZSwhMCksXG5tPXNkKGssYSxcIm5nRmFsc2VWYWx1ZVwiLGQubmdGYWxzZVZhbHVlLCExKTtjLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtlLiRzZXRWaWV3VmFsdWUoY1swXS5jaGVja2VkLGEmJmEudHlwZSl9KTtlLiRyZW5kZXI9ZnVuY3Rpb24oKXtjWzBdLmNoZWNrZWQ9ZS4kdmlld1ZhbHVlfTtlLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiExPT09YX07ZS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBnYShhLGwpfSk7ZS4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBhP2w6bX0pfSxoaWRkZW46SCxidXR0b246SCxzdWJtaXQ6SCxyZXNldDpILGZpbGU6SH0sd2M9W1wiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCIsXCIkZmlsdGVyXCIsXCIkcGFyc2VcIixmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/bmdNb2RlbFwiXSxsaW5rOntwcmU6ZnVuY3Rpb24oZixnLGgsayl7a1swXSYmKEJkW1EoaC50eXBlKV18fEJkLnRleHQpKGYsZyxoLGtbMF0sXG5jLGEsZCxlKX19fX1dLGliPVwibmctdmFsaWRcIix0ZD1cIm5nLWludmFsaWRcIixRYT1cIm5nLXByaXN0aW5lXCIsSmI9XCJuZy1kaXJ0eVwiLHZkPVwibmctcGVuZGluZ1wiLGFnPVtcIiRzY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRhdHRyc1wiLFwiJGVsZW1lbnRcIixcIiRwYXJzZVwiLFwiJGFuaW1hdGVcIixcIiR0aW1lb3V0XCIsXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSxjLGQsZSxmLGcsaCxrLGwsbSl7dGhpcy4kbW9kZWxWYWx1ZT10aGlzLiR2aWV3VmFsdWU9TnVtYmVyLk5hTjt0aGlzLiQkcmF3TW9kZWxWYWx1ZT11O3RoaXMuJHZhbGlkYXRvcnM9e307dGhpcy4kYXN5bmNWYWxpZGF0b3JzPXt9O3RoaXMuJHBhcnNlcnM9W107dGhpcy4kZm9ybWF0dGVycz1bXTt0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdO3RoaXMuJHVudG91Y2hlZD0hMDt0aGlzLiR0b3VjaGVkPSExO3RoaXMuJHByaXN0aW5lPSEwO3RoaXMuJGRpcnR5PSExO3RoaXMuJHZhbGlkPSEwO3RoaXMuJGludmFsaWQ9XG4hMTt0aGlzLiRlcnJvcj17fTt0aGlzLiQkc3VjY2Vzcz17fTt0aGlzLiRwZW5kaW5nPXU7dGhpcy4kbmFtZT1tKGQubmFtZXx8XCJcIiwhMSkoYSk7dmFyIHA9ZihkLm5nTW9kZWwpLHE9cC5hc3NpZ24sdD1wLHM9cSxOPW51bGwsbj10aGlzO3RoaXMuJCRzZXRPcHRpb25zPWZ1bmN0aW9uKGEpe2lmKChuLiRvcHRpb25zPWEpJiZhLmdldHRlclNldHRlcil7dmFyIGM9ZihkLm5nTW9kZWwrXCIoKVwiKSxnPWYoZC5uZ01vZGVsK1wiKCQkJHApXCIpO3Q9ZnVuY3Rpb24oYSl7dmFyIGQ9cChhKTtCKGQpJiYoZD1jKGEpKTtyZXR1cm4gZH07cz1mdW5jdGlvbihhLGMpe0IocChhKSk/ZyhhLHskJCRwOm4uJG1vZGVsVmFsdWV9KTpxKGEsbi4kbW9kZWxWYWx1ZSl9fWVsc2UgaWYoIXAuYXNzaWduKXRocm93IExiKFwibm9uYXNzaWduXCIsZC5uZ01vZGVsLHZhKGUpKTt9O3RoaXMuJHJlbmRlcj1IO3RoaXMuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIEMoYSl8fFwiXCI9PT1hfHxudWxsPT09YXx8YSE9PVxuYX07dmFyIHY9ZS5pbmhlcml0ZWREYXRhKFwiJGZvcm1Db250cm9sbGVyXCIpfHxJYix3PTA7cWQoe2N0cmw6dGhpcywkZWxlbWVudDplLHNldDpmdW5jdGlvbihhLGMpe2FbY109ITB9LHVuc2V0OmZ1bmN0aW9uKGEsYyl7ZGVsZXRlIGFbY119LHBhcmVudEZvcm06diwkYW5pbWF0ZTpnfSk7dGhpcy4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXtuLiRkaXJ0eT0hMTtuLiRwcmlzdGluZT0hMDtnLnJlbW92ZUNsYXNzKGUsSmIpO2cuYWRkQ2xhc3MoZSxRYSl9O3RoaXMuJHNldERpcnR5PWZ1bmN0aW9uKCl7bi4kZGlydHk9ITA7bi4kcHJpc3RpbmU9ITE7Zy5yZW1vdmVDbGFzcyhlLFFhKTtnLmFkZENsYXNzKGUsSmIpO3YuJHNldERpcnR5KCl9O3RoaXMuJHNldFVudG91Y2hlZD1mdW5jdGlvbigpe24uJHRvdWNoZWQ9ITE7bi4kdW50b3VjaGVkPSEwO2cuc2V0Q2xhc3MoZSxcIm5nLXVudG91Y2hlZFwiLFwibmctdG91Y2hlZFwiKX07dGhpcy4kc2V0VG91Y2hlZD1mdW5jdGlvbigpe24uJHRvdWNoZWQ9XG4hMDtuLiR1bnRvdWNoZWQ9ITE7Zy5zZXRDbGFzcyhlLFwibmctdG91Y2hlZFwiLFwibmctdW50b3VjaGVkXCIpfTt0aGlzLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe2guY2FuY2VsKE4pO24uJHZpZXdWYWx1ZT1uLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtuLiRyZW5kZXIoKX07dGhpcy4kdmFsaWRhdGU9ZnVuY3Rpb24oKXtpZighWShuLiRtb2RlbFZhbHVlKXx8IWlzTmFOKG4uJG1vZGVsVmFsdWUpKXt2YXIgYT1uLiQkcmF3TW9kZWxWYWx1ZSxjPW4uJHZhbGlkLGQ9bi4kbW9kZWxWYWx1ZSxlPW4uJG9wdGlvbnMmJm4uJG9wdGlvbnMuYWxsb3dJbnZhbGlkO24uJCRydW5WYWxpZGF0b3JzKG4uJGVycm9yW24uJCRwYXJzZXJOYW1lfHxcInBhcnNlXCJdPyExOnUsYSxuLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihmKXtlfHxjPT09Znx8KG4uJG1vZGVsVmFsdWU9Zj9hOnUsbi4kbW9kZWxWYWx1ZSE9PWQmJm4uJCR3cml0ZU1vZGVsVG9TY29wZSgpKX0pfX07dGhpcy4kJHJ1blZhbGlkYXRvcnM9XG5mdW5jdGlvbihhLGMsZCxlKXtmdW5jdGlvbiBmKCl7dmFyIGE9ITA7cihuLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKGUsZil7dmFyIGc9ZShjLGQpO2E9YSYmZztoKGYsZyl9KTtyZXR1cm4gYT8hMDoocihuLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oYSxjKXtoKGMsbnVsbCl9KSwhMSl9ZnVuY3Rpb24gZygpe3ZhciBhPVtdLGU9ITA7cihuLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oZixnKXt2YXIgaz1mKGMsZCk7aWYoIWt8fCFCKGsudGhlbikpdGhyb3cgTGIoXCIkYXN5bmNWYWxpZGF0b3JzXCIsayk7aChnLHUpO2EucHVzaChrLnRoZW4oZnVuY3Rpb24oKXtoKGcsITApfSxmdW5jdGlvbihhKXtlPSExO2goZywhMSl9KSl9KTthLmxlbmd0aD9sLmFsbChhKS50aGVuKGZ1bmN0aW9uKCl7ayhlKX0sSCk6ayghMCl9ZnVuY3Rpb24gaChhLGMpe209PT13JiZuLiRzZXRWYWxpZGl0eShhLGMpfWZ1bmN0aW9uIGsoYSl7bT09PXcmJmUoYSl9dysrO3ZhciBtPXc7KGZ1bmN0aW9uKGEpe3ZhciBjPVxubi4kJHBhcnNlck5hbWV8fFwicGFyc2VcIjtpZihhPT09dSloKGMsbnVsbCk7ZWxzZSBpZihoKGMsYSksIWEpcmV0dXJuIHIobi4kdmFsaWRhdG9ycyxmdW5jdGlvbihhLGMpe2goYyxudWxsKX0pLHIobi4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGEsYyl7aChjLG51bGwpfSksITE7cmV0dXJuITB9KShhKT9mKCk/ZygpOmsoITEpOmsoITEpfTt0aGlzLiRjb21taXRWaWV3VmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT1uLiR2aWV3VmFsdWU7aC5jYW5jZWwoTik7aWYobi4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUhPT1hfHxcIlwiPT09YSYmbi4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpbi4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9YSxuLiRwcmlzdGluZSYmdGhpcy4kc2V0RGlydHkoKSx0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSgpfTt0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZT1mdW5jdGlvbigpe3ZhciBjPW4uJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLGQ9QyhjKT91OiEwO2lmKGQpZm9yKHZhciBlPVxuMDtlPG4uJHBhcnNlcnMubGVuZ3RoO2UrKylpZihjPW4uJHBhcnNlcnNbZV0oYyksQyhjKSl7ZD0hMTticmVha31ZKG4uJG1vZGVsVmFsdWUpJiZpc05hTihuLiRtb2RlbFZhbHVlKSYmKG4uJG1vZGVsVmFsdWU9dChhKSk7dmFyIGY9bi4kbW9kZWxWYWx1ZSxnPW4uJG9wdGlvbnMmJm4uJG9wdGlvbnMuYWxsb3dJbnZhbGlkO24uJCRyYXdNb2RlbFZhbHVlPWM7ZyYmKG4uJG1vZGVsVmFsdWU9YyxuLiRtb2RlbFZhbHVlIT09ZiYmbi4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpO24uJCRydW5WYWxpZGF0b3JzKGQsYyxuLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihhKXtnfHwobi4kbW9kZWxWYWx1ZT1hP2M6dSxuLiRtb2RlbFZhbHVlIT09ZiYmbi4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpfSl9O3RoaXMuJCR3cml0ZU1vZGVsVG9TY29wZT1mdW5jdGlvbigpe3MoYSxuLiRtb2RlbFZhbHVlKTtyKG4uJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsZnVuY3Rpb24oYSl7dHJ5e2EoKX1jYXRjaChkKXtjKGQpfX0pfTtcbnRoaXMuJHNldFZpZXdWYWx1ZT1mdW5jdGlvbihhLGMpe24uJHZpZXdWYWx1ZT1hO24uJG9wdGlvbnMmJiFuLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdHx8bi4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGMpfTt0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQ9ZnVuY3Rpb24oYyl7dmFyIGQ9MCxlPW4uJG9wdGlvbnM7ZSYmeShlLmRlYm91bmNlKSYmKGU9ZS5kZWJvdW5jZSxZKGUpP2Q9ZTpZKGVbY10pP2Q9ZVtjXTpZKGVbXCJkZWZhdWx0XCJdKSYmKGQ9ZVtcImRlZmF1bHRcIl0pKTtoLmNhbmNlbChOKTtkP049aChmdW5jdGlvbigpe24uJGNvbW1pdFZpZXdWYWx1ZSgpfSxkKTprLiQkcGhhc2U/bi4kY29tbWl0Vmlld1ZhbHVlKCk6YS4kYXBwbHkoZnVuY3Rpb24oKXtuLiRjb21taXRWaWV3VmFsdWUoKX0pfTthLiR3YXRjaChmdW5jdGlvbigpe3ZhciBjPXQoYSk7aWYoYyE9PW4uJG1vZGVsVmFsdWUpe24uJG1vZGVsVmFsdWU9bi4kJHJhd01vZGVsVmFsdWU9Yztmb3IodmFyIGQ9XG5uLiRmb3JtYXR0ZXJzLGU9ZC5sZW5ndGgsZj1jO2UtLTspZj1kW2VdKGYpO24uJHZpZXdWYWx1ZSE9PWYmJihuLiR2aWV3VmFsdWU9bi4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9ZixuLiRyZW5kZXIoKSxuLiQkcnVuVmFsaWRhdG9ycyh1LGMsZixIKSl9cmV0dXJuIGN9KX1dLHRlPVtcIiRyb290U2NvcGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpbXCJuZ01vZGVsXCIsXCJeP2Zvcm1cIixcIl4/bmdNb2RlbE9wdGlvbnNcIl0sY29udHJvbGxlcjphZyxwcmlvcml0eToxLGNvbXBpbGU6ZnVuY3Rpb24oYyl7Yy5hZGRDbGFzcyhRYSkuYWRkQ2xhc3MoXCJuZy11bnRvdWNoZWRcIikuYWRkQ2xhc3MoaWIpO3JldHVybntwcmU6ZnVuY3Rpb24oYSxjLGYsZyl7dmFyIGg9Z1swXSxrPWdbMV18fEliO2guJCRzZXRPcHRpb25zKGdbMl0mJmdbMl0uJG9wdGlvbnMpO2suJGFkZENvbnRyb2woaCk7Zi4kb2JzZXJ2ZShcIm5hbWVcIixmdW5jdGlvbihhKXtoLiRuYW1lIT09YSYmay4kJHJlbmFtZUNvbnRyb2woaCxcbmEpfSk7YS4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ay4kcmVtb3ZlQ29udHJvbChoKX0pfSxwb3N0OmZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPWdbMF07aWYoaC4kb3B0aW9ucyYmaC4kb3B0aW9ucy51cGRhdGVPbillLm9uKGguJG9wdGlvbnMudXBkYXRlT24sZnVuY3Rpb24oYSl7aC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGEmJmEudHlwZSl9KTtlLm9uKFwiYmx1clwiLGZ1bmN0aW9uKGUpe2guJHRvdWNoZWR8fChhLiQkcGhhc2U/Yy4kZXZhbEFzeW5jKGguJHNldFRvdWNoZWQpOmMuJGFwcGx5KGguJHNldFRvdWNoZWQpKX0pfX19fX1dLHZlPWNhKHtyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxjLGQsZSl7ZS4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7YS4kZXZhbChkLm5nQ2hhbmdlKX0pfX0pLHljPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxcbmMsZCxlKXtlJiYoZC5yZXF1aXJlZD0hMCxlLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIWQucmVxdWlyZWR8fCFlLiRpc0VtcHR5KGMpfSxkLiRvYnNlcnZlKFwicmVxdWlyZWRcIixmdW5jdGlvbigpe2UuJHZhbGlkYXRlKCl9KSl9fX0seGM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGMsZCxlKXtpZihlKXt2YXIgZixnPWQubmdQYXR0ZXJufHxkLnBhdHRlcm47ZC4kb2JzZXJ2ZShcInBhdHRlcm5cIixmdW5jdGlvbihhKXt6KGEpJiYwPGEubGVuZ3RoJiYoYT1uZXcgUmVnRXhwKFwiXlwiK2ErXCIkXCIpKTtpZihhJiYhYS50ZXN0KXRocm93IEEoXCJuZ1BhdHRlcm5cIikoXCJub3JlZ2V4cFwiLGcsYSx2YShjKSk7Zj1hfHx1O2UuJHZhbGlkYXRlKCl9KTtlLiR2YWxpZGF0b3JzLnBhdHRlcm49ZnVuY3Rpb24oYSl7cmV0dXJuIGUuJGlzRW1wdHkoYSl8fEMoZil8fGYudGVzdChhKX19fX19LEFjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLFxucmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGMsZCxlKXtpZihlKXt2YXIgZj0tMTtkLiRvYnNlcnZlKFwibWF4bGVuZ3RoXCIsZnVuY3Rpb24oYSl7YT0kKGEpO2Y9aXNOYU4oYSk/LTE6YTtlLiR2YWxpZGF0ZSgpfSk7ZS4kdmFsaWRhdG9ycy5tYXhsZW5ndGg9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gMD5mfHxlLiRpc0VtcHR5KGEpfHxjLmxlbmd0aDw9Zn19fX19LHpjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoZSl7dmFyIGY9MDtkLiRvYnNlcnZlKFwibWlubGVuZ3RoXCIsZnVuY3Rpb24oYSl7Zj0kKGEpfHwwO2UuJHZhbGlkYXRlKCl9KTtlLiR2YWxpZGF0b3JzLm1pbmxlbmd0aD1mdW5jdGlvbihhLGMpe3JldHVybiBlLiRpc0VtcHR5KGMpfHxjLmxlbmd0aD49Zn19fX19LHVlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHByaW9yaXR5OjEwMCxyZXF1aXJlOlwibmdNb2RlbFwiLFxubGluazpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1jLmF0dHIoZC4kYXR0ci5uZ0xpc3QpfHxcIiwgXCIsZz1cImZhbHNlXCIhPT1kLm5nVHJpbSxoPWc/UChmKTpmO2UuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtpZighQyhhKSl7dmFyIGM9W107YSYmcihhLnNwbGl0KGgpLGZ1bmN0aW9uKGEpe2EmJmMucHVzaChnP1AoYSk6YSl9KTtyZXR1cm4gY319KTtlLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIHgoYSk/YS5qb2luKGYpOnV9KTtlLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwhYS5sZW5ndGh9fX19LGJnPS9eKHRydWV8ZmFsc2V8XFxkKykkLyx3ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihhLGMpe3JldHVybiBiZy50ZXN0KGMubmdWYWx1ZSk/ZnVuY3Rpb24oYSxjLGYpe2YuJHNldChcInZhbHVlXCIsYS4kZXZhbChmLm5nVmFsdWUpKX06ZnVuY3Rpb24oYSxjLGYpe2EuJHdhdGNoKGYubmdWYWx1ZSxcbmZ1bmN0aW9uKGEpe2YuJHNldChcInZhbHVlXCIsYSl9KX19fX0seGU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixcIiRhdHRyc1wiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpczt0aGlzLiRvcHRpb25zPWEuJGV2YWwoYy5uZ01vZGVsT3B0aW9ucyk7dGhpcy4kb3B0aW9ucy51cGRhdGVPbiE9PXU/KHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSExLHRoaXMuJG9wdGlvbnMudXBkYXRlT249UCh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoJGYsZnVuY3Rpb24oKXtkLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMDtyZXR1cm5cIiBcIn0pKSk6dGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITB9XX19LFhkPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQUNcIixjb21waWxlOmZ1bmN0aW9uKGMpe2EuJCRhZGRCaW5kaW5nQ2xhc3MoYyk7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmKXthLiQkYWRkQmluZGluZ0luZm8oZSxcbmYubmdCaW5kKTtlPWVbMF07Yy4kd2F0Y2goZi5uZ0JpbmQsZnVuY3Rpb24oYSl7ZS50ZXh0Q29udGVudD1hPT09dT9cIlwiOmF9KX19fX1dLFpkPVtcIiRpbnRlcnBvbGF0ZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGMpe3JldHVybntjb21waWxlOmZ1bmN0aW9uKGQpe2MuJCRhZGRCaW5kaW5nQ2xhc3MoZCk7cmV0dXJuIGZ1bmN0aW9uKGQsZixnKXtkPWEoZi5hdHRyKGcuJGF0dHIubmdCaW5kVGVtcGxhdGUpKTtjLiQkYWRkQmluZGluZ0luZm8oZixkLmV4cHJlc3Npb25zKTtmPWZbMF07Zy4kb2JzZXJ2ZShcIm5nQmluZFRlbXBsYXRlXCIsZnVuY3Rpb24oYSl7Zi50ZXh0Q29udGVudD1hPT09dT9cIlwiOmF9KX19fX1dLFlkPVtcIiRzY2VcIixcIiRwYXJzZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGMsZCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24oZSxmKXt2YXIgZz1jKGYubmdCaW5kSHRtbCksaD1jKGYubmdCaW5kSHRtbCxmdW5jdGlvbihhKXtyZXR1cm4oYXx8XCJcIikudG9TdHJpbmcoKX0pO1xuZC4kJGFkZEJpbmRpbmdDbGFzcyhlKTtyZXR1cm4gZnVuY3Rpb24oYyxlLGYpe2QuJCRhZGRCaW5kaW5nSW5mbyhlLGYubmdCaW5kSHRtbCk7Yy4kd2F0Y2goaCxmdW5jdGlvbigpe2UuaHRtbChhLmdldFRydXN0ZWRIdG1sKGcoYykpfHxcIlwiKX0pfX19fV0sJGQ9aWMoXCJcIiwhMCksYmU9aWMoXCJPZGRcIiwwKSxhZT1pYyhcIkV2ZW5cIiwxKSxjZT1JYSh7Y29tcGlsZTpmdW5jdGlvbihhLGMpe2MuJHNldChcIm5nQ2xvYWtcIix1KTthLnJlbW92ZUNsYXNzKFwibmctY2xvYWtcIil9fSksZGU9W2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiEwLGNvbnRyb2xsZXI6XCJAXCIscHJpb3JpdHk6NTAwfX1dLEJjPXt9LGNnPXtibHVyOiEwLGZvY3VzOiEwfTtyKFwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZVwiLnNwbGl0KFwiIFwiKSxcbmZ1bmN0aW9uKGEpe3ZhciBjPXdhKFwibmctXCIrYSk7QmNbY109W1wiJHBhcnNlXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oZCxlKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29tcGlsZTpmdW5jdGlvbihmLGcpe3ZhciBoPWQoZ1tjXSxudWxsLCEwKTtyZXR1cm4gZnVuY3Rpb24oYyxkKXtkLm9uKGEsZnVuY3Rpb24oZCl7dmFyIGY9ZnVuY3Rpb24oKXtoKGMseyRldmVudDpkfSl9O2NnW2FdJiZlLiQkcGhhc2U/Yy4kZXZhbEFzeW5jKGYpOmMuJGFwcGx5KGYpfSl9fX19XX0pO3ZhciBnZT1bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEpe3JldHVybnttdWx0aUVsZW1lbnQ6ITAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eTo2MDAsdGVybWluYWw6ITAscmVzdHJpY3Q6XCJBXCIsJCR0bGI6ITAsbGluazpmdW5jdGlvbihjLGQsZSxmLGcpe3ZhciBoLGssbDtjLiR3YXRjaChlLm5nSWYsZnVuY3Rpb24oYyl7Yz9rfHxnKGZ1bmN0aW9uKGMsZil7az1mO2NbYy5sZW5ndGgrK109WC5jcmVhdGVDb21tZW50KFwiIGVuZCBuZ0lmOiBcIitcbmUubmdJZitcIiBcIik7aD17Y2xvbmU6Y307YS5lbnRlcihjLGQucGFyZW50KCksZCl9KToobCYmKGwucmVtb3ZlKCksbD1udWxsKSxrJiYoay4kZGVzdHJveSgpLGs9bnVsbCksaCYmKGw9cWIoaC5jbG9uZSksYS5sZWF2ZShsKS50aGVuKGZ1bmN0aW9uKCl7bD1udWxsfSksaD1udWxsKSl9KX19fV0saGU9W1wiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJGFuY2hvclNjcm9sbFwiLFwiJGFuaW1hdGVcIixcIiRzY2VcIixmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm57cmVzdHJpY3Q6XCJFQ0FcIixwcmlvcml0eTo0MDAsdGVybWluYWw6ITAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixjb250cm9sbGVyOmhhLm5vb3AsY29tcGlsZTpmdW5jdGlvbihmLGcpe3ZhciBoPWcubmdJbmNsdWRlfHxnLnNyYyxrPWcub25sb2FkfHxcIlwiLGw9Zy5hdXRvc2Nyb2xsO3JldHVybiBmdW5jdGlvbihmLGcscSxyLHMpe3ZhciB1PTAsbix2LHcsSz1mdW5jdGlvbigpe3YmJih2LnJlbW92ZSgpLHY9bnVsbCk7biYmKG4uJGRlc3Ryb3koKSxcbm49bnVsbCk7dyYmKGQubGVhdmUodykudGhlbihmdW5jdGlvbigpe3Y9bnVsbH0pLHY9dyx3PW51bGwpfTtmLiR3YXRjaChlLnBhcnNlQXNSZXNvdXJjZVVybChoKSxmdW5jdGlvbihlKXt2YXIgaD1mdW5jdGlvbigpeyF5KGwpfHxsJiYhZi4kZXZhbChsKXx8YygpfSxxPSsrdTtlPyhhKGUsITApLnRoZW4oZnVuY3Rpb24oYSl7aWYocT09PXUpe3ZhciBjPWYuJG5ldygpO3IudGVtcGxhdGU9YTthPXMoYyxmdW5jdGlvbihhKXtLKCk7ZC5lbnRlcihhLG51bGwsZykudGhlbihoKX0pO249Yzt3PWE7bi4kZW1pdChcIiRpbmNsdWRlQ29udGVudExvYWRlZFwiLGUpO2YuJGV2YWwoayl9fSxmdW5jdGlvbigpe3E9PT11JiYoSygpLGYuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRFcnJvclwiLGUpKX0pLGYuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcIixlKSk6KEsoKSxyLnRlbXBsYXRlPW51bGwpfSl9fX19XSx5ZT1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLFxucHJpb3JpdHk6LTQwMCxyZXF1aXJlOlwibmdJbmNsdWRlXCIsbGluazpmdW5jdGlvbihjLGQsZSxmKXsvU1ZHLy50ZXN0KGRbMF0udG9TdHJpbmcoKSk/KGQuZW1wdHkoKSxhKEVjKGYudGVtcGxhdGUsWCkuY2hpbGROb2RlcykoYyxmdW5jdGlvbihhKXtkLmFwcGVuZChhKX0se2Z1dHVyZVBhcmVudEVsZW1lbnQ6ZH0pKTooZC5odG1sKGYudGVtcGxhdGUpLGEoZC5jb250ZW50cygpKShjKSl9fX1dLGllPUlhKHtwcmlvcml0eTo0NTAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oYSxjLGQpe2EuJGV2YWwoZC5uZ0luaXQpfX19fSksamU9SWEoe3Rlcm1pbmFsOiEwLHByaW9yaXR5OjFFM30pLGtlPVtcIiRsb2NhbGVcIixcIiRpbnRlcnBvbGF0ZVwiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9L3t9L2csZT0vXndoZW4oTWludXMpPyguKykkLztyZXR1cm57cmVzdHJpY3Q6XCJFQVwiLGxpbms6ZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSl7Zy50ZXh0KGF8fFwiXCIpfXZhciBsPVxuaC5jb3VudCxtPWguJGF0dHIud2hlbiYmZy5hdHRyKGguJGF0dHIud2hlbikscD1oLm9mZnNldHx8MCxxPWYuJGV2YWwobSl8fHt9LHQ9e30sbT1jLnN0YXJ0U3ltYm9sKCkscz1jLmVuZFN5bWJvbCgpLHU9bStsK1wiLVwiK3ArcyxuPWhhLm5vb3AsdjtyKGgsZnVuY3Rpb24oYSxjKXt2YXIgZD1lLmV4ZWMoYyk7ZCYmKGQ9KGRbMV0/XCItXCI6XCJcIikrUShkWzJdKSxxW2RdPWcuYXR0cihoLiRhdHRyW2NdKSl9KTtyKHEsZnVuY3Rpb24oYSxlKXt0W2VdPWMoYS5yZXBsYWNlKGQsdSkpfSk7Zi4kd2F0Y2gobCxmdW5jdGlvbihjKXtjPXBhcnNlRmxvYXQoYyk7dmFyIGQ9aXNOYU4oYyk7ZHx8YyBpbiBxfHwoYz1hLnBsdXJhbENhdChjLXApKTtjPT09dnx8ZCYmaXNOYU4odil8fChuKCksbj1mLiR3YXRjaCh0W2NdLGspLHY9Yyl9KX19fV0sbGU9W1wiJHBhcnNlXCIsXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9QShcIm5nUmVwZWF0XCIpLGU9ZnVuY3Rpb24oYSxjLGQsZSxsLG0scCl7YVtkXT1cbmU7bCYmKGFbbF09bSk7YS4kaW5kZXg9YzthLiRmaXJzdD0wPT09YzthLiRsYXN0PWM9PT1wLTE7YS4kbWlkZGxlPSEoYS4kZmlyc3R8fGEuJGxhc3QpO2EuJG9kZD0hKGEuJGV2ZW49MD09PShjJjEpKX07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjFFMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxjb21waWxlOmZ1bmN0aW9uKGYsZyl7dmFyIGg9Zy5uZ1JlcGVhdCxrPVguY3JlYXRlQ29tbWVudChcIiBlbmQgbmdSZXBlYXQ6IFwiK2grXCIgXCIpLGw9aC5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtpZighbCl0aHJvdyBkKFwiaWV4cFwiLGgpO3ZhciBtPWxbMV0scD1sWzJdLHE9bFszXSx0PWxbNF0sbD1tLm1hdGNoKC9eKD86KFtcXCRcXHddKyl8XFwoKFtcXCRcXHddKylcXHMqLFxccyooW1xcJFxcd10rKVxcKSkkLyk7XG5pZighbCl0aHJvdyBkKFwiaWlkZXhwXCIsbSk7dmFyIHM9bFszXXx8bFsxXSx5PWxbMl07aWYocSYmKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QocSl8fC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50KSQvLnRlc3QocSkpKXRocm93IGQoXCJiYWRpZGVudFwiLHEpO3ZhciBuLHYsdyxBLEU9eyRpZDpNYX07dD9uPWEodCk6KHc9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gTWEoYyl9LEE9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtyZXR1cm4gZnVuY3Rpb24oYSxmLGcsbCxtKXtuJiYodj1mdW5jdGlvbihjLGQsZSl7eSYmKEVbeV09Yyk7RVtzXT1kO0UuJGluZGV4PWU7cmV0dXJuIG4oYSxFKX0pO3ZhciB0PWlhKCk7YS4kd2F0Y2hDb2xsZWN0aW9uKHAsZnVuY3Rpb24oZyl7dmFyIGwsbixwPWZbMF0sRixFPWlhKCksQyxILEcsVCxCLHgsejtxJiYoYVtxXT1nKTtpZihSYShnKSlCPWcsbj12fHxcbnc7ZWxzZXtuPXZ8fEE7Qj1bXTtmb3IoeiBpbiBnKWcuaGFzT3duUHJvcGVydHkoeikmJlwiJFwiIT16LmNoYXJBdCgwKSYmQi5wdXNoKHopO0Iuc29ydCgpfUM9Qi5sZW5ndGg7ej1BcnJheShDKTtmb3IobD0wO2w8QztsKyspaWYoSD1nPT09Qj9sOkJbbF0sRz1nW0hdLFQ9bihILEcsbCksdFtUXSl4PXRbVF0sZGVsZXRlIHRbVF0sRVtUXT14LHpbbF09eDtlbHNle2lmKEVbVF0pdGhyb3cgcih6LGZ1bmN0aW9uKGEpe2EmJmEuc2NvcGUmJih0W2EuaWRdPWEpfSksZChcImR1cGVzXCIsaCxULEcpO3pbbF09e2lkOlQsc2NvcGU6dSxjbG9uZTp1fTtFW1RdPSEwfWZvcihGIGluIHQpe3g9dFtGXTtUPXFiKHguY2xvbmUpO2MubGVhdmUoVCk7aWYoVFswXS5wYXJlbnROb2RlKWZvcihsPTAsbj1ULmxlbmd0aDtsPG47bCsrKVRbbF0uJCROR19SRU1PVkVEPSEwO3guc2NvcGUuJGRlc3Ryb3koKX1mb3IobD0wO2w8QztsKyspaWYoSD1nPT09Qj9sOkJbbF0sRz1nW0hdLHg9eltsXSx4LnNjb3BlKXtGPVxucDtkbyBGPUYubmV4dFNpYmxpbmc7d2hpbGUoRiYmRi4kJE5HX1JFTU9WRUQpO3guY2xvbmVbMF0hPUYmJmMubW92ZShxYih4LmNsb25lKSxudWxsLEQocCkpO3A9eC5jbG9uZVt4LmNsb25lLmxlbmd0aC0xXTtlKHguc2NvcGUsbCxzLEcseSxILEMpfWVsc2UgbShmdW5jdGlvbihhLGQpe3guc2NvcGU9ZDt2YXIgZj1rLmNsb25lTm9kZSghMSk7YVthLmxlbmd0aCsrXT1mO2MuZW50ZXIoYSxudWxsLEQocCkpO3A9Zjt4LmNsb25lPWE7RVt4LmlkXT14O2UoeC5zY29wZSxsLHMsRyx5LEgsQyl9KTt0PUV9KX19fX1dLG1lPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGMsZCxlKXtjLiR3YXRjaChlLm5nU2hvdyxmdW5jdGlvbihjKXthW2M/XCJyZW1vdmVDbGFzc1wiOlwiYWRkQ2xhc3NcIl0oZCxcIm5nLWhpZGVcIix7dGVtcENsYXNzZXM6XCJuZy1oaWRlLWFuaW1hdGVcIn0pfSl9fX1dLGZlPVtcIiRhbmltYXRlXCIsXG5mdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYyxkLGUpe2MuJHdhdGNoKGUubmdIaWRlLGZ1bmN0aW9uKGMpe2FbYz9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShkLFwibmctaGlkZVwiLHt0ZW1wQ2xhc3NlczpcIm5nLWhpZGUtYW5pbWF0ZVwifSl9KX19fV0sbmU9SWEoZnVuY3Rpb24oYSxjLGQpe2EuJHdhdGNoKGQubmdTdHlsZSxmdW5jdGlvbihhLGQpe2QmJmEhPT1kJiZyKGQsZnVuY3Rpb24oYSxkKXtjLmNzcyhkLFwiXCIpfSk7YSYmYy5jc3MoYSl9LCEwKX0pLG9lPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRUFcIixyZXF1aXJlOlwibmdTd2l0Y2hcIixjb250cm9sbGVyOltcIiRzY29wZVwiLGZ1bmN0aW9uKCl7dGhpcy5jYXNlcz17fX1dLGxpbms6ZnVuY3Rpb24oYyxkLGUsZil7dmFyIGc9W10saD1bXSxrPVtdLGw9W10sbT1mdW5jdGlvbihhLGMpe3JldHVybiBmdW5jdGlvbigpe2Euc3BsaWNlKGMsXG4xKX19O2MuJHdhdGNoKGUubmdTd2l0Y2h8fGUub24sZnVuY3Rpb24oYyl7dmFyIGQsZTtkPTA7Zm9yKGU9ay5sZW5ndGg7ZDxlOysrZClhLmNhbmNlbChrW2RdKTtkPWsubGVuZ3RoPTA7Zm9yKGU9bC5sZW5ndGg7ZDxlOysrZCl7dmFyIHM9cWIoaFtkXS5jbG9uZSk7bFtkXS4kZGVzdHJveSgpOyhrW2RdPWEubGVhdmUocykpLnRoZW4obShrLGQpKX1oLmxlbmd0aD0wO2wubGVuZ3RoPTA7KGc9Zi5jYXNlc1tcIiFcIitjXXx8Zi5jYXNlc1tcIj9cIl0pJiZyKGcsZnVuY3Rpb24oYyl7Yy50cmFuc2NsdWRlKGZ1bmN0aW9uKGQsZSl7bC5wdXNoKGUpO3ZhciBmPWMuZWxlbWVudDtkW2QubGVuZ3RoKytdPVguY3JlYXRlQ29tbWVudChcIiBlbmQgbmdTd2l0Y2hXaGVuOiBcIik7aC5wdXNoKHtjbG9uZTpkfSk7YS5lbnRlcihkLGYucGFyZW50KCksZil9KX0pfSl9fX1dLHBlPUlhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxcbmxpbms6ZnVuY3Rpb24oYSxjLGQsZSxmKXtlLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXT1lLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXXx8W107ZS5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl0ucHVzaCh7dHJhbnNjbHVkZTpmLGVsZW1lbnQ6Y30pfX0pLHFlPUlhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYyxkLGUsZil7ZS5jYXNlc1tcIj9cIl09ZS5jYXNlc1tcIj9cIl18fFtdO2UuY2FzZXNbXCI/XCJdLnB1c2goe3RyYW5zY2x1ZGU6ZixlbGVtZW50OmN9KX19KSxzZT1JYSh7cmVzdHJpY3Q6XCJFQUNcIixsaW5rOmZ1bmN0aW9uKGEsYyxkLGUsZil7aWYoIWYpdGhyb3cgQShcIm5nVHJhbnNjbHVkZVwiKShcIm9ycGhhblwiLHZhKGMpKTtmKGZ1bmN0aW9uKGEpe2MuZW1wdHkoKTtjLmFwcGVuZChhKX0pfX0pLFRkPVtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLFxudGVybWluYWw6ITAsY29tcGlsZTpmdW5jdGlvbihjLGQpe1widGV4dC9uZy10ZW1wbGF0ZVwiPT1kLnR5cGUmJmEucHV0KGQuaWQsY1swXS50ZXh0KX19fV0sZGc9QShcIm5nT3B0aW9uc1wiKSxyZT1jYSh7cmVzdHJpY3Q6XCJBXCIsdGVybWluYWw6ITB9KSxVZD1bXCIkY29tcGlsZVwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYSxjKXt2YXIgZD0vXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZ3JvdXBcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvLGU9eyRzZXRWaWV3VmFsdWU6SH07cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wic2VsZWN0XCIsXCI/bmdNb2RlbFwiXSxjb250cm9sbGVyOltcIiRlbGVtZW50XCIsXCIkc2NvcGVcIixcIiRhdHRyc1wiLGZ1bmN0aW9uKGEsXG5jLGQpe3ZhciBrPXRoaXMsbD17fSxtPWUscDtrLmRhdGFib3VuZD1kLm5nTW9kZWw7ay5pbml0PWZ1bmN0aW9uKGEsYyxkKXttPWE7cD1kfTtrLmFkZE9wdGlvbj1mdW5jdGlvbihjLGQpe0xhKGMsJ1wib3B0aW9uIHZhbHVlXCInKTtsW2NdPSEwO20uJHZpZXdWYWx1ZT09YyYmKGEudmFsKGMpLHAucGFyZW50KCkmJnAucmVtb3ZlKCkpO2QmJmRbMF0uaGFzQXR0cmlidXRlKFwic2VsZWN0ZWRcIikmJihkWzBdLnNlbGVjdGVkPSEwKX07ay5yZW1vdmVPcHRpb249ZnVuY3Rpb24oYSl7dGhpcy5oYXNPcHRpb24oYSkmJihkZWxldGUgbFthXSxtLiR2aWV3VmFsdWU9PT1hJiZ0aGlzLnJlbmRlclVua25vd25PcHRpb24oYSkpfTtrLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24oYyl7Yz1cIj8gXCIrTWEoYykrXCIgP1wiO3AudmFsKGMpO2EucHJlcGVuZChwKTthLnZhbChjKTtwLnByb3AoXCJzZWxlY3RlZFwiLCEwKX07ay5oYXNPcHRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGwuaGFzT3duUHJvcGVydHkoYSl9O1xuYy4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ay5yZW5kZXJVbmtub3duT3B0aW9uPUh9KX1dLGxpbms6ZnVuY3Rpb24oZSxnLGgsayl7ZnVuY3Rpb24gbChhLGMsZCxlKXtkLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1kLiR2aWV3VmFsdWU7ZS5oYXNPcHRpb24oYSk/KEUucGFyZW50KCkmJkUucmVtb3ZlKCksYy52YWwoYSksXCJcIj09PWEmJm4ucHJvcChcInNlbGVjdGVkXCIsITApKTpDKGEpJiZuP2MudmFsKFwiXCIpOmUucmVuZGVyVW5rbm93bk9wdGlvbihhKX07Yy5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtFLnBhcmVudCgpJiZFLnJlbW92ZSgpO2QuJHNldFZpZXdWYWx1ZShjLnZhbCgpKX0pfSl9ZnVuY3Rpb24gbShhLGMsZCl7dmFyIGU7ZC4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGNiKGQuJHZpZXdWYWx1ZSk7cihjLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYyl7Yy5zZWxlY3RlZD15KGEuZ2V0KGMudmFsdWUpKX0pfTthLiR3YXRjaChmdW5jdGlvbigpe2dhKGUsXG5kLiR2aWV3VmFsdWUpfHwoZT1xYShkLiR2aWV3VmFsdWUpLGQuJHJlbmRlcigpKX0pO2Mub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIGE9W107cihjLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYyl7Yy5zZWxlY3RlZCYmYS5wdXNoKGMudmFsdWUpfSk7ZC4kc2V0Vmlld1ZhbHVlKGEpfSl9KX1mdW5jdGlvbiBwKGUsZixnKXtmdW5jdGlvbiBoKGEsYyxkKXtVW0JdPWQ7RyYmKFVbR109Yyk7cmV0dXJuIGEoZSxVKX1mdW5jdGlvbiBrKGEpe3ZhciBjO2lmKHQpaWYoTCYmeChhKSl7Yz1uZXcgY2IoW10pO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWMucHV0KGgoTCxudWxsLGFbZF0pLCEwKX1lbHNlIGM9bmV3IGNiKGEpO2Vsc2UgTCYmKGE9aChMLG51bGwsYSkpO3JldHVybiBmdW5jdGlvbihkLGUpe3ZhciBmO2Y9TD9MOkM/Qzp6O3JldHVybiB0P3koYy5yZW1vdmUoaChmLGQsZSkpKTphPT09aChmLGQsZSl9fWZ1bmN0aW9uIGwoKXt2fHwoZS4kJHBvc3REaWdlc3QobiksXG52PSEwKX1mdW5jdGlvbiBtKGEsYyxkKXthW2NdPWFbY118fDA7YVtjXSs9ZD8xOi0xfWZ1bmN0aW9uIG4oKXt2PSExO3ZhciBhPXtcIlwiOltdfSxjPVtcIlwiXSxkLGwscCxzLHU7cD1nLiR2aWV3VmFsdWU7cz1PKGUpfHxbXTt2YXIgQz1HP09iamVjdC5rZXlzKHMpLnNvcnQoKTpzLHgsQixELHosUz17fTt1PWsocCk7dmFyIFA9ITEsVixYO1E9e307Zm9yKHo9MDtEPUMubGVuZ3RoLHo8RDt6Kyspe3g9ejtpZihHJiYoeD1DW3pdLFwiJFwiPT09eC5jaGFyQXQoMCkpKWNvbnRpbnVlO0I9c1t4XTtkPWgoSix4LEIpfHxcIlwiOyhsPWFbZF0pfHwobD1hW2RdPVtdLGMucHVzaChkKSk7ZD11KHgsQik7UD1QfHxkO0I9aChFLHgsQik7Qj15KEIpP0I6XCJcIjtYPUw/TChlLFUpOkc/Q1t6XTp6O0wmJihRW1hdPXgpO2wucHVzaCh7aWQ6WCxsYWJlbDpCLHNlbGVjdGVkOmR9KX10fHwoQXx8bnVsbD09PXA/YVtcIlwiXS51bnNoaWZ0KHtpZDpcIlwiLGxhYmVsOlwiXCIsc2VsZWN0ZWQ6IVB9KTpQfHxhW1wiXCJdLnVuc2hpZnQoe2lkOlwiP1wiLFxubGFiZWw6XCJcIixzZWxlY3RlZDohMH0pKTt4PTA7Zm9yKEM9Yy5sZW5ndGg7eDxDO3grKyl7ZD1jW3hdO2w9YVtkXTtSLmxlbmd0aDw9eD8ocD17ZWxlbWVudDpILmNsb25lKCkuYXR0cihcImxhYmVsXCIsZCksbGFiZWw6bC5sYWJlbH0scz1bcF0sUi5wdXNoKHMpLGYuYXBwZW5kKHAuZWxlbWVudCkpOihzPVJbeF0scD1zWzBdLHAubGFiZWwhPWQmJnAuZWxlbWVudC5hdHRyKFwibGFiZWxcIixwLmxhYmVsPWQpKTtQPW51bGw7ej0wO2ZvcihEPWwubGVuZ3RoO3o8RDt6KyspZD1sW3pdLCh1PXNbeisxXSk/KFA9dS5lbGVtZW50LHUubGFiZWwhPT1kLmxhYmVsJiYobShTLHUubGFiZWwsITEpLG0oUyxkLmxhYmVsLCEwKSxQLnRleHQodS5sYWJlbD1kLmxhYmVsKSxQLnByb3AoXCJsYWJlbFwiLHUubGFiZWwpKSx1LmlkIT09ZC5pZCYmUC52YWwodS5pZD1kLmlkKSxQWzBdLnNlbGVjdGVkIT09ZC5zZWxlY3RlZCYmKFAucHJvcChcInNlbGVjdGVkXCIsdS5zZWxlY3RlZD1kLnNlbGVjdGVkKSxQYSYmUC5wcm9wKFwic2VsZWN0ZWRcIixcbnUuc2VsZWN0ZWQpKSk6KFwiXCI9PT1kLmlkJiZBP1Y9QTooVj13LmNsb25lKCkpLnZhbChkLmlkKS5wcm9wKFwic2VsZWN0ZWRcIixkLnNlbGVjdGVkKS5hdHRyKFwic2VsZWN0ZWRcIixkLnNlbGVjdGVkKS5wcm9wKFwibGFiZWxcIixkLmxhYmVsKS50ZXh0KGQubGFiZWwpLHMucHVzaCh1PXtlbGVtZW50OlYsbGFiZWw6ZC5sYWJlbCxpZDpkLmlkLHNlbGVjdGVkOmQuc2VsZWN0ZWR9KSxtKFMsZC5sYWJlbCwhMCksUD9QLmFmdGVyKFYpOnAuZWxlbWVudC5hcHBlbmQoViksUD1WKTtmb3IoeisrO3MubGVuZ3RoPno7KWQ9cy5wb3AoKSxtKFMsZC5sYWJlbCwhMSksZC5lbGVtZW50LnJlbW92ZSgpfWZvcig7Ui5sZW5ndGg+eDspe2w9Ui5wb3AoKTtmb3Ioej0xO3o8bC5sZW5ndGg7Kyt6KW0oUyxsW3pdLmxhYmVsLCExKTtsWzBdLmVsZW1lbnQucmVtb3ZlKCl9cihTLGZ1bmN0aW9uKGEsYyl7MDxhP3EuYWRkT3B0aW9uKGMpOjA+YSYmcS5yZW1vdmVPcHRpb24oYyl9KX12YXIgcDtpZighKHA9cy5tYXRjaChkKSkpdGhyb3cgZGcoXCJpZXhwXCIsXG5zLHZhKGYpKTt2YXIgRT1jKHBbMl18fHBbMV0pLEI9cFs0XXx8cFs2XSxEPS8gYXMgLy50ZXN0KHBbMF0pJiZwWzFdLEM9RD9jKEQpOm51bGwsRz1wWzVdLEo9YyhwWzNdfHxcIlwiKSx6PWMocFsyXT9wWzFdOkIpLE89YyhwWzddKSxMPXBbOF0/YyhwWzhdKTpudWxsLFE9e30sUj1bW3tlbGVtZW50OmYsbGFiZWw6XCJcIn1dXSxVPXt9O0EmJihhKEEpKGUpLEEucmVtb3ZlQ2xhc3MoXCJuZy1zY29wZVwiKSxBLnJlbW92ZSgpKTtmLmVtcHR5KCk7Zi5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7ZS4kYXBwbHkoZnVuY3Rpb24oKXt2YXIgYT1PKGUpfHxbXSxjO2lmKHQpYz1bXSxyKGYudmFsKCksZnVuY3Rpb24oZCl7ZD1MP1FbZF06ZDtjLnB1c2goXCI/XCI9PT1kP3U6XCJcIj09PWQ/bnVsbDpoKEM/Qzp6LGQsYVtkXSkpfSk7ZWxzZXt2YXIgZD1MP1FbZi52YWwoKV06Zi52YWwoKTtjPVwiP1wiPT09ZD91OlwiXCI9PT1kP251bGw6aChDP0M6eixkLGFbZF0pfWcuJHNldFZpZXdWYWx1ZShjKTtuKCl9KX0pO2cuJHJlbmRlcj1cbm47ZS4kd2F0Y2hDb2xsZWN0aW9uKE8sbCk7ZS4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCl7dmFyIGE9TyhlKSxjO2lmKGEmJngoYSkpe2M9QXJyYXkoYS5sZW5ndGgpO2Zvcih2YXIgZD0wLGY9YS5sZW5ndGg7ZDxmO2QrKyljW2RdPWgoRSxkLGFbZF0pfWVsc2UgaWYoYSlmb3IoZCBpbiBjPXt9LGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmKGNbZF09aChFLGQsYVtkXSkpO3JldHVybiBjfSxsKTt0JiZlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gZy4kbW9kZWxWYWx1ZX0sbCl9aWYoa1sxXSl7dmFyIHE9a1swXTtrPWtbMV07dmFyIHQ9aC5tdWx0aXBsZSxzPWgubmdPcHRpb25zLEE9ITEsbix2PSExLHc9RChYLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpLEg9RChYLmNyZWF0ZUVsZW1lbnQoXCJvcHRncm91cFwiKSksRT13LmNsb25lKCk7aD0wO2Zvcih2YXIgQj1nLmNoaWxkcmVuKCksRz1CLmxlbmd0aDtoPEc7aCsrKWlmKFwiXCI9PT1CW2hdLnZhbHVlKXtuPUE9Qi5lcShoKTtcbmJyZWFrfXEuaW5pdChrLEEsRSk7dCYmKGsuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fDA9PT1hLmxlbmd0aH0pO3M/cChlLGcsayk6dD9tKGUsZyxrKTpsKGUsZyxrLHEpfX19fV0sV2Q9W1wiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSl7dmFyIGM9e2FkZE9wdGlvbjpILHJlbW92ZU9wdGlvbjpIfTtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oZCxlKXtpZihDKGUudmFsdWUpKXt2YXIgZj1hKGQudGV4dCgpLCEwKTtmfHxlLiRzZXQoXCJ2YWx1ZVwiLGQudGV4dCgpKX1yZXR1cm4gZnVuY3Rpb24oYSxkLGUpe3ZhciBsPWQucGFyZW50KCksbT1sLmRhdGEoXCIkc2VsZWN0Q29udHJvbGxlclwiKXx8bC5wYXJlbnQoKS5kYXRhKFwiJHNlbGVjdENvbnRyb2xsZXJcIik7bSYmbS5kYXRhYm91bmR8fChtPWMpO2Y/YS4kd2F0Y2goZixmdW5jdGlvbihhLGMpe2UuJHNldChcInZhbHVlXCIsYSk7YyE9PWEmJm0ucmVtb3ZlT3B0aW9uKGMpO20uYWRkT3B0aW9uKGEsXG5kKX0pOm0uYWRkT3B0aW9uKGUudmFsdWUsZCk7ZC5vbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXttLnJlbW92ZU9wdGlvbihlLnZhbHVlKX0pfX19fV0sVmQ9Y2Eoe3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiExfSk7VS5hbmd1bGFyLmJvb3RzdHJhcD9jb25zb2xlLmxvZyhcIldBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS5cIik6KExkKCksTmQoaGEpLEQoWCkucmVhZHkoZnVuY3Rpb24oKXtIZChYLHNjKX0pKX0pKHdpbmRvdyxkb2N1bWVudCk7IXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkmJndpbmRvdy5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoXCJoZWFkXCIpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5AY2hhcnNldCBcIlVURi04XCI7W25nXFxcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fTwvc3R5bGU+Jyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLm1pbi5qcy5tYXBcblxuOyBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXyh0eXBlb2YgYW5ndWxhciAhPSBcInVuZGVmaW5lZFwiID8gYW5ndWxhciA6IHdpbmRvdy5hbmd1bGFyKTtcblxufSkuY2FsbChnbG9iYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5cbjsgcmVxdWlyZShcImZhbW91cy1wb2x5ZmlsbHNcIik7XG5yZXF1aXJlKFwiRDpcXFxcZmFtb3VzLWNhbGVuZGFyXFxcXGZhbW91cy1jYWxlbmRhclxcXFxib3dlcl9jb21wb25lbnRzXFxcXGZhbW91c1xcXFxkaXN0XFxcXGZhbW91cy1nbG9iYWwubWluLmpzXCIpO1xucmVxdWlyZShcIkQ6XFxcXGZhbW91cy1jYWxlbmRhclxcXFxmYW1vdXMtY2FsZW5kYXJcXFxcYm93ZXJfY29tcG9uZW50c1xcXFxhbmd1bGFyXFxcXGFuZ3VsYXIubWluLmpzXCIpO1xucmVxdWlyZShcIkQ6XFxcXGZhbW91cy1jYWxlbmRhclxcXFxmYW1vdXMtY2FsZW5kYXJcXFxcYm93ZXJfY29tcG9uZW50c1xcXFxhbmd1bGFyLWFuaW1hdGVcXFxcYW5ndWxhci1hbmltYXRlLm1pbi5qc1wiKTtcbnJlcXVpcmUoXCJEOlxcXFxmYW1vdXMtY2FsZW5kYXJcXFxcZmFtb3VzLWNhbGVuZGFyXFxcXGJvd2VyX2NvbXBvbmVudHNcXFxcYW5ndWxhci1zYW5pdGl6ZVxcXFxhbmd1bGFyLXNhbml0aXplLm1pbi5qc1wiKTtcbnJlcXVpcmUoXCJEOlxcXFxmYW1vdXMtY2FsZW5kYXJcXFxcZmFtb3VzLWNhbGVuZGFyXFxcXGJvd2VyX2NvbXBvbmVudHNcXFxcYW5ndWxhci11aS1yb3V0ZXJcXFxccmVsZWFzZVxcXFxhbmd1bGFyLXVpLXJvdXRlci5taW4uanNcIik7XG47X19icm93c2VyaWZ5X3NoaW1fcmVxdWlyZV9fPXJlcXVpcmU7KGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZGVmaW5lLCByZXF1aXJlKSB7XG4vKipcbiAqIGZhbW91cy1hbmd1bGFyIC0gQnJpbmcgc3RydWN0dXJlIHRvIHlvdXIgRmFtby51cyBhcHBzIHdpdGggdGhlIHBvd2VyIG9mIEFuZ3VsYXJKUy4gRmFtby51cy9Bbmd1bGFyIGludGVncmF0ZXMgc2VhbWxlc3NseSB3aXRoIGV4aXN0aW5nIEFuZ3VsYXIgYW5kIEZhbW8udXMgYXBwcy5cbiAqIEB2ZXJzaW9uIHYwLjUuMFxuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0ZhbW91cy9mYW1vdXMtYW5ndWxhclxuICogQGxpY2Vuc2UgTVBMIHYyLjBcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIG5nRmFtZUFwcD1hbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIsW10pO25nRmFtZUFwcC5wcm92aWRlcihcIiRmYW1vdXNcIixmdW5jdGlvbigpe3ZhciBlPXtcImZhbW91cy9jb3JlL0NvbnRleHRcIjpmYW1vdXMuY29yZS5Db250ZXh0LFwiZmFtb3VzL2NvcmUvRWxlbWVudEFsbG9jYXRvclwiOmZhbW91cy5jb3JlLkVsZW1lbnRBbGxvY2F0b3IsXCJmYW1vdXMvY29yZS9FbmdpbmVcIjpmYW1vdXMuY29yZS5FbmdpbmUsXCJmYW1vdXMvY29yZS9FbnRpdHlcIjpmYW1vdXMuY29yZS5FbnRpdHksXCJmYW1vdXMvY29yZS9FdmVudEVtaXR0ZXJcIjpmYW1vdXMuY29yZS5FdmVudEVtaXR0ZXIsXCJmYW1vdXMvY29yZS9FdmVudEhhbmRsZXJcIjpmYW1vdXMuY29yZS5FdmVudEhhbmRsZXIsXCJmYW1vdXMvY29yZS9Hcm91cFwiOmZhbW91cy5jb3JlLkdyb3VwLFwiZmFtb3VzL2NvcmUvTW9kaWZpZXJcIjpmYW1vdXMuY29yZS5Nb2RpZmllcixcImZhbW91cy9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6ZmFtb3VzLmNvcmUuT3B0aW9uc01hbmFnZXIsXCJmYW1vdXMvY29yZS9SZW5kZXJOb2RlXCI6ZmFtb3VzLmNvcmUuUmVuZGVyTm9kZSxcImZhbW91cy9jb3JlL1NjZW5lXCI6ZmFtb3VzLmNvcmUuU2NlbmUsXCJmYW1vdXMvY29yZS9TcGVjUGFyc2VyXCI6ZmFtb3VzLmNvcmUuU3BlY1BhcnNlcixcImZhbW91cy9jb3JlL1N1cmZhY2VcIjpmYW1vdXMuY29yZS5TdXJmYWNlLFwiZmFtb3VzL2NvcmUvVHJhbnNmb3JtXCI6ZmFtb3VzLmNvcmUuVHJhbnNmb3JtLFwiZmFtb3VzL2NvcmUvVmlld1wiOmZhbW91cy5jb3JlLlZpZXcsXCJmYW1vdXMvY29yZS9WaWV3U2VxdWVuY2VcIjpmYW1vdXMuY29yZS5WaWV3U2VxdWVuY2UsXCJmYW1vdXMvZXZlbnRzL0V2ZW50QXJiaXRlclwiOmZhbW91cy5ldmVudHMuRXZlbnRBcmJpdGVyLFwiZmFtb3VzL2V2ZW50cy9FdmVudEZpbHRlclwiOmZhbW91cy5ldmVudHMuRXZlbnRGaWx0ZXIsXCJmYW1vdXMvZXZlbnRzL0V2ZW50TWFwcGVyXCI6ZmFtb3VzLmV2ZW50cy5FdmVudE1hcHBlcixcImZhbW91cy9pbnB1dHMvRmFzdENsaWNrXCI6ZmFtb3VzLmlucHV0cy5GYXN0Q2xpY2ssXCJmYW1vdXMvaW5wdXRzL0dlbmVyaWNTeW5jXCI6ZmFtb3VzLmlucHV0cy5HZW5lcmljU3luYyxcImZhbW91cy9pbnB1dHMvTW91c2VTeW5jXCI6ZmFtb3VzLmlucHV0cy5Nb3VzZVN5bmMsXCJmYW1vdXMvaW5wdXRzL1BpbmNoU3luY1wiOmZhbW91cy5pbnB1dHMuUGluY2hTeW5jLFwiZmFtb3VzL2lucHV0cy9Sb3RhdGVTeW5jXCI6ZmFtb3VzLmlucHV0cy5Sb3RhdGVTeW5jLFwiZmFtb3VzL2lucHV0cy9TY2FsZVN5bmNcIjpmYW1vdXMuaW5wdXRzLlNjYWxlU3luYyxcImZhbW91cy9pbnB1dHMvU2Nyb2xsU3luY1wiOmZhbW91cy5pbnB1dHMuU2Nyb2xsU3luYyxcImZhbW91cy9pbnB1dHMvVG91Y2hTeW5jXCI6ZmFtb3VzLmlucHV0cy5Ub3VjaFN5bmMsXCJmYW1vdXMvaW5wdXRzL1RvdWNoVHJhY2tlclwiOmZhbW91cy5pbnB1dHMuVG91Y2hUcmFja2VyLFwiZmFtb3VzL2lucHV0cy9Ud29GaW5nZXJTeW5jXCI6ZmFtb3VzLmlucHV0cy5Ud29GaW5nZXJTeW5jLFwiZmFtb3VzL21hdGgvTWF0cml4XCI6ZmFtb3VzLm1hdGguTWF0cml4LFwiZmFtb3VzL21hdGgvUXVhdGVybmlvblwiOmZhbW91cy5tYXRoLlF1YXRlcm5pb24sXCJmYW1vdXMvbWF0aC9SYW5kb21cIjpmYW1vdXMubWF0aC5SYW5kb20sXCJmYW1vdXMvbWF0aC9VdGlsaXRpZXNcIjpmYW1vdXMubWF0aC5VdGlsaXRpZXMsXCJmYW1vdXMvbWF0aC9WZWN0b3JcIjpmYW1vdXMubWF0aC5WZWN0b3IsXCJmYW1vdXMvbW9kaWZpZXJzL0RyYWdnYWJsZVwiOmZhbW91cy5tb2RpZmllcnMuRHJhZ2dhYmxlLFwiZmFtb3VzL21vZGlmaWVycy9GYWRlclwiOmZhbW91cy5tb2RpZmllcnMuRmFkZXIsXCJmYW1vdXMvbW9kaWZpZXJzL01vZGlmaWVyQ2hhaW5cIjpmYW1vdXMubW9kaWZpZXJzLk1vZGlmaWVyQ2hhaW4sXCJmYW1vdXMvbW9kaWZpZXJzL1N0YXRlTW9kaWZpZXJcIjpmYW1vdXMubW9kaWZpZXJzLlN0YXRlTW9kaWZpZXIsXCJmYW1vdXMvc3VyZmFjZXMvQ2FudmFzU3VyZmFjZVwiOmZhbW91cy5zdXJmYWNlcy5DYW52YXNTdXJmYWNlLFwiZmFtb3VzL3N1cmZhY2VzL0NvbnRhaW5lclN1cmZhY2VcIjpmYW1vdXMuc3VyZmFjZXMuQ29udGFpbmVyU3VyZmFjZSxcImZhbW91cy9zdXJmYWNlcy9Gb3JtQ29udGFpbmVyU3VyZmFjZVwiOmZhbW91cy5zdXJmYWNlcy5Gb3JtQ29udGFpbmVyU3VyZmFjZSxcImZhbW91cy9zdXJmYWNlcy9JbWFnZVN1cmZhY2VcIjpmYW1vdXMuc3VyZmFjZXMuSW1hZ2VTdXJmYWNlLFwiZmFtb3VzL3N1cmZhY2VzL0lucHV0U3VyZmFjZVwiOmZhbW91cy5zdXJmYWNlcy5JbnB1dFN1cmZhY2UsXCJmYW1vdXMvc3VyZmFjZXMvU3VibWl0SW5wdXRTdXJmYWNlXCI6ZmFtb3VzLnN1cmZhY2VzLlN1Ym1pdElucHV0U3VyZmFjZSxcImZhbW91cy9zdXJmYWNlcy9UZXh0YXJlYVN1cmZhY2VcIjpmYW1vdXMuc3VyZmFjZXMuVGV4dGFyZWFTdXJmYWNlLFwiZmFtb3VzL3N1cmZhY2VzL1ZpZGVvU3VyZmFjZVwiOmZhbW91cy5zdXJmYWNlcy5WaWRlb1N1cmZhY2UsXCJmYW1vdXMvdHJhbnNpdGlvbnMvQ2FjaGVkTWFwXCI6ZmFtb3VzLnRyYW5zaXRpb25zLkNhY2hlZE1hcCxcImZhbW91cy90cmFuc2l0aW9ucy9FYXNpbmdcIjpmYW1vdXMudHJhbnNpdGlvbnMuRWFzaW5nLFwiZmFtb3VzL3RyYW5zaXRpb25zL011bHRpcGxlVHJhbnNpdGlvblwiOmZhbW91cy50cmFuc2l0aW9ucy5NdWx0aXBsZVRyYW5zaXRpb24sXCJmYW1vdXMvdHJhbnNpdGlvbnMvU25hcFRyYW5zaXRpb25cIjpmYW1vdXMudHJhbnNpdGlvbnMuU25hcFRyYW5zaXRpb24sXCJmYW1vdXMvdHJhbnNpdGlvbnMvU3ByaW5nVHJhbnNpdGlvblwiOmZhbW91cy50cmFuc2l0aW9ucy5TcHJpbmdUcmFuc2l0aW9uLFwiZmFtb3VzL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCI6ZmFtb3VzLnRyYW5zaXRpb25zLlRyYW5zaXRpb25hYmxlLFwiZmFtb3VzL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlVHJhbnNmb3JtXCI6ZmFtb3VzLnRyYW5zaXRpb25zLlRyYW5zaXRpb25hYmxlVHJhbnNmb3JtLFwiZmFtb3VzL3RyYW5zaXRpb25zL1R3ZWVuVHJhbnNpdGlvblwiOmZhbW91cy50cmFuc2l0aW9ucy5Ud2VlblRyYW5zaXRpb24sXCJmYW1vdXMvdHJhbnNpdGlvbnMvV2FsbFRyYW5zaXRpb25cIjpmYW1vdXMudHJhbnNpdGlvbnMuV2FsbFRyYW5zaXRpb24sXCJmYW1vdXMvdXRpbGl0aWVzL0tleUNvZGVzXCI6ZmFtb3VzLnV0aWxpdGllcy5LZXlDb2RlcyxcImZhbW91cy91dGlsaXRpZXMvVGltZXJcIjpmYW1vdXMudXRpbGl0aWVzLlRpbWVyLFwiZmFtb3VzL3V0aWxpdGllcy9VdGlsaXR5XCI6ZmFtb3VzLnV0aWxpdGllcy5VdGlsaXR5LFwiZmFtb3VzL3ZpZXdzL0RlY2tcIjpmYW1vdXMudmlld3MuRGVjayxcImZhbW91cy92aWV3cy9FZGdlU3dhcHBlclwiOmZhbW91cy52aWV3cy5FZGdlU3dhcHBlcixcImZhbW91cy92aWV3cy9GbGV4aWJsZUxheW91dFwiOmZhbW91cy52aWV3cy5GbGV4aWJsZUxheW91dCxcImZhbW91cy92aWV3cy9GbGlwcGVyXCI6ZmFtb3VzLnZpZXdzLkZsaXBwZXIsXCJmYW1vdXMvdmlld3MvR3JpZExheW91dFwiOmZhbW91cy52aWV3cy5HcmlkTGF5b3V0LFwiZmFtb3VzL3ZpZXdzL0hlYWRlckZvb3RlckxheW91dFwiOmZhbW91cy52aWV3cy5IZWFkZXJGb290ZXJMYXlvdXQsXCJmYW1vdXMvdmlld3MvTGlnaHRib3hcIjpmYW1vdXMudmlld3MuTGlnaHRib3gsXCJmYW1vdXMvdmlld3MvUmVuZGVyQ29udHJvbGxlclwiOmZhbW91cy52aWV3cy5SZW5kZXJDb250cm9sbGVyLFwiZmFtb3VzL3ZpZXdzL1Njcm9sbENvbnRhaW5lclwiOmZhbW91cy52aWV3cy5TY3JvbGxDb250YWluZXIsXCJmYW1vdXMvdmlld3MvU2Nyb2xsZXJcIjpmYW1vdXMudmlld3MuU2Nyb2xsZXIsXCJmYW1vdXMvdmlld3MvU2Nyb2xsdmlld1wiOmZhbW91cy52aWV3cy5TY3JvbGx2aWV3LFwiZmFtb3VzL3ZpZXdzL1NlcXVlbnRpYWxMYXlvdXRcIjpmYW1vdXMudmlld3MuU2VxdWVudGlhbExheW91dCxcImZhbW91cy93aWRnZXRzL05hdmlnYXRpb25CYXJcIjpmYW1vdXMud2lkZ2V0cy5OYXZpZ2F0aW9uQmFyLFwiZmFtb3VzL3dpZGdldHMvU2xpZGVyXCI6ZmFtb3VzLndpZGdldHMuU2xpZGVyLFwiZmFtb3VzL3dpZGdldHMvVGFiQmFyXCI6ZmFtb3VzLndpZGdldHMuVGFiQmFyLFwiZmFtb3VzL3dpZGdldHMvVG9nZ2xlQnV0dG9uXCI6ZmFtb3VzLndpZGdldHMuVG9nZ2xlQnV0dG9uLFwiZmFtb3VzL3BoeXNpY3MvUGh5c2ljc0VuZ2luZVwiOmZhbW91cy5waHlzaWNzLlBoeXNpY3NFbmdpbmUsXCJmYW1vdXMvcGh5c2ljcy9ib2RpZXMvQm9keVwiOmZhbW91cy5waHlzaWNzLmJvZGllcy5Cb2R5LFwiZmFtb3VzL3BoeXNpY3MvYm9kaWVzL0NpcmNsZVwiOmZhbW91cy5waHlzaWNzLmJvZGllcy5DaXJjbGUsXCJmYW1vdXMvcGh5c2ljcy9ib2RpZXMvUGFydGljbGVcIjpmYW1vdXMucGh5c2ljcy5ib2RpZXMuUGFydGljbGUsXCJmYW1vdXMvcGh5c2ljcy9ib2RpZXMvUmVjdGFuZ2xlXCI6ZmFtb3VzLnBoeXNpY3MuYm9kaWVzLlJlY3RhbmdsZSxcImZhbW91cy9waHlzaWNzL2NvbnN0cmFpbnRzL0NvbGxpc2lvblwiOmZhbW91cy5waHlzaWNzLmNvbnN0cmFpbnRzLkNvbGxpc2lvbixcImZhbW91cy9waHlzaWNzL2NvbnN0cmFpbnRzL0NvbnN0cmFpbnRcIjpmYW1vdXMucGh5c2ljcy5jb25zdHJhaW50cy5Db25zdHJhaW50LFwiZmFtb3VzL3BoeXNpY3MvY29uc3RyYWludHMvQ3VydmVcIjpmYW1vdXMucGh5c2ljcy5jb25zdHJhaW50cy5DdXJ2ZSxcImZhbW91cy9waHlzaWNzL2NvbnN0cmFpbnRzL0Rpc3RhbmNlXCI6ZmFtb3VzLnBoeXNpY3MuY29uc3RyYWludHMuRGlzdGFuY2UsXCJmYW1vdXMvcGh5c2ljcy9jb25zdHJhaW50cy9TbmFwXCI6ZmFtb3VzLnBoeXNpY3MuY29uc3RyYWludHMuU25hcCxcImZhbW91cy9waHlzaWNzL2NvbnN0cmFpbnRzL1N1cmZhY2VcIjpmYW1vdXMucGh5c2ljcy5jb25zdHJhaW50cy5TdXJmYWNlLFwiZmFtb3VzL3BoeXNpY3MvY29uc3RyYWludHMvV2FsbFwiOmZhbW91cy5waHlzaWNzLmNvbnN0cmFpbnRzLldhbGwsXCJmYW1vdXMvcGh5c2ljcy9jb25zdHJhaW50cy9XYWxsc1wiOmZhbW91cy5waHlzaWNzLmNvbnN0cmFpbnRzLldhbGxzLFwiZmFtb3VzL3BoeXNpY3MvZm9yY2VzL0RyYWdcIjpmYW1vdXMucGh5c2ljcy5mb3JjZXMuRHJhZyxcImZhbW91cy9waHlzaWNzL2ZvcmNlcy9Gb3JjZVwiOmZhbW91cy5waHlzaWNzLmZvcmNlcy5Gb3JjZSxcImZhbW91cy9waHlzaWNzL2ZvcmNlcy9SZXB1bHNpb25cIjpmYW1vdXMucGh5c2ljcy5mb3JjZXMuUmVwdWxzaW9uLFwiZmFtb3VzL3BoeXNpY3MvZm9yY2VzL1JvdGF0aW9uYWxEcmFnXCI6ZmFtb3VzLnBoeXNpY3MuZm9yY2VzLlJvdGF0aW9uYWxEcmFnLFwiZmFtb3VzL3BoeXNpY3MvZm9yY2VzL1JvdGF0aW9uYWxTcHJpbmdcIjpmYW1vdXMucGh5c2ljcy5mb3JjZXMuUm90YXRpb25hbFNwcmluZyxcImZhbW91cy9waHlzaWNzL2ZvcmNlcy9TcHJpbmdcIjpmYW1vdXMucGh5c2ljcy5mb3JjZXMuU3ByaW5nLFwiZmFtb3VzL3BoeXNpY3MvZm9yY2VzL1ZlY3RvckZpZWxkXCI6ZmFtb3VzLnBoeXNpY3MuZm9yY2VzLlZlY3RvckZpZWxkLFwiZmFtb3VzL3BoeXNpY3MvaW50ZWdyYXRvcnMvU3ltcGxlY3RpY0V1bGVyXCI6ZmFtb3VzLnBoeXNpY3MuaW50ZWdyYXRvcnMuU3ltcGxlY3RpY0V1bGVyfTt0aGlzLnJlZ2lzdGVyTW9kdWxlPWZ1bmN0aW9uKG4scil7ZVtuXT1yfSxlLmdldElzb2xhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiaXNvbGF0ZVwiaW4gZT9lLmlzb2xhdGVbZS4kaWRdOnt9fSxlLmZpbmQ9ZnVuY3Rpb24obil7dmFyIHI9YW5ndWxhci5lbGVtZW50KHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG4pKSxhPWZ1bmN0aW9uKGUpe3ZhciBuPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2goZSxmdW5jdGlvbihlLHIpe25bcl09YW5ndWxhci5lbGVtZW50KGUpLnNjb3BlKCl9KSxufShyKSxvPWZ1bmN0aW9uKG4pe3ZhciByPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2gobixmdW5jdGlvbihuLGEpe3JbYV09ZS5nZXRJc29sYXRlKG4pfSkscn0oYSk7cmV0dXJuIG99O3ZhciBuPS8oW1xcOlxcLVxcX10rKC4pKS9nLHI9L15tb3ooW0EtWl0pLyxhPS9eKHhbXFw6XFwtX118ZGF0YVtcXDpcXC1fXSkvaSxvPS9eRkFcXC0uKlNVUkZBQ0UvLHQ9L15GQVxcLS4qLzt3aW5kb3cuJGZhbW91c1V0aWw9ZS51dGlsPXtpc0FTdXJmYWNlOmZ1bmN0aW9uKGUpe3JldHVybiBvLnRlc3QoZVswXS50YWdOYW1lKX0saXNGYUVsZW1lbnQ6ZnVuY3Rpb24oZSl7aWYodC50ZXN0KGVbMF0udGFnTmFtZSkpcmV0dXJuITA7dmFyIG49ITE7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChlWzBdLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSl7bj1ufHx0LnRlc3QoZSl9KSxufSxjYW1lbENhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShuLGZ1bmN0aW9uKGUsbixyLGEpe3JldHVybiBhP3IudG9VcHBlckNhc2UoKTpyfSkucmVwbGFjZShyLFwiTW96JDFcIil9LGRpcmVjdGl2ZU5vcm1hbGl6ZTpmdW5jdGlvbihuKXtyZXR1cm4gZS51dGlsLmNhbWVsQ2FzZShuLnJlcGxhY2UoYSxcIlwiKSl9fSx0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX19KSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmNvbmZpZyhbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGUpe2UuZGVjb3JhdG9yKFwiJGFuaW1hdGVcIixbXCIkZGVsZWdhdGVcIixcIiRyb290U2NvcGVcIixcIiRmYW1vdXNcIixcIiRwYXJzZVwiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbixyLGEsbyl7dmFyIHQ9cltcImZhbW91cy91dGlsaXRpZXMvVGltZXJcIl0saT1cIiQkZmFBbmltYXRpb25BY3RpdmVcIixzPXt9LHU9ZnVuY3Rpb24oZSl7dmFyIG49ci5nZXRJc29sYXRlKGUpO3JldHVybiFuJiZlJiYobj1vLiQkZ2V0SXNvbGF0ZUJ5SWQoc1tlLiRpZF0pKSxufSxjPXtlbmFibGVkOmUuZW5hYmxlZH07cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChbXCJhZGRDbGFzc1wiLFwicmVtb3ZlQ2xhc3NcIl0sZnVuY3Rpb24obil7dmFyIGE9YW5ndWxhci5lbGVtZW50LnByb3RvdHlwZVtuXTthbmd1bGFyLmVsZW1lbnQucHJvdG90eXBlW25dPWZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyLnV0aWwuaXNBU3VyZmFjZSh0aGlzKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiXCIhPT1lLnRyaW0oKSYmdSh0aGlzLnNjb3BlKCkpLnJlbmRlck5vZGVbbl0oZSksdGhpc30sY1tuXT1mdW5jdGlvbihhLG8sdCl7aWYoZVtuXShhLG8sdCksci51dGlsLmlzRmFFbGVtZW50KGEpKXt2YXIgaT11KGEuc2NvcGUoKSk7aWYoci51dGlsLmlzQVN1cmZhY2UoYSkpe3ZhciBzPWkucmVuZGVyTm9kZTthbmd1bGFyLmZvckVhY2goby5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSl7XCJuZy1oaWRlXCI9PT1lP1wiYWRkQ2xhc3NcIj09PW4/aS5oaWRlKCk6XCJyZW1vdmVDbGFzc1wiPT09biYmaS5zaG93KCk6c1tuXShlKX0pfWVsc2UgYW5ndWxhci5mb3JFYWNoKG8uc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUpe1wibmctaGlkZVwiPT09ZSYmKFwiYWRkQ2xhc3NcIj09PW4/aS5oaWRlKCk6XCJyZW1vdmVDbGFzc1wiPT09biYmaS5zaG93KCkpfSl9fX0pLGMuc2V0Q2xhc3M9ZnVuY3Rpb24obixhLG8sdCl7aWYoZS5zZXRDbGFzcyhuLGEsbyx0KSxyLnV0aWwuaXNBU3VyZmFjZShuKSl7dmFyIGk9dShuLnNjb3BlKCkpLnJlbmRlck5vZGU7YW5ndWxhci5mb3JFYWNoKGEuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUpe2kuYWRkQ2xhc3MoZSl9KSxhbmd1bGFyLmZvckVhY2goby5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSl7aS5yZW1vdmVDbGFzcyhlKX0pfX0sYW5ndWxhci5mb3JFYWNoKFtcImVudGVyXCIsXCJsZWF2ZVwiLFwibW92ZVwiXSxmdW5jdGlvbihhKXt2YXIgbz1hWzBdLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKTtjW2FdPWZ1bmN0aW9uKGMpe3ZhciBmPXRoaXMsbD1hcmd1bWVudHMsZD1cImVudGVyXCI9PT1hLG09Yy5zY29wZSgpO20mJm0uJHBhcmVudCYmKHNbbS4kaWRdPW0uJHBhcmVudC4kaWQpO3ZhciBwPXUobSk7ZD09PSEwJiZlW2FdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxjLmRhdGEoaSk9PT0hMCYmcCYmcC4kJGFuaW1hdGVIYWx0SGFuZGxlciYmcC4kJGFuaW1hdGVIYWx0SGFuZGxlcihjLnNjb3BlKCkpLGMuZGF0YShpLCEwKTt2YXIgdj1mdW5jdGlvbigpe20mJm0uJGlkO2lmKFwibGVhdmVcIj09PWEmJnIudXRpbC5pc0ZhRWxlbWVudChjKSl7dmFyIG49dShtKTtuJiZuLmlkJiZuLmhpZGUoKX1jLmRhdGEoaSkhPT0hMSYmKGMuZGF0YShpLCExKSxkPT09ITEmJmVbYV0uYXBwbHkoZixsKSl9O24uJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7dmFyIGUsbj1jLnNjb3BlKCkscj11KG4pO2lmKHImJihlPXJbXCIkJGFuaW1hdGVcIitvK1wiSGFuZGxlclwiXSksdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCB2KCk7dmFyIGE9ZShuLHskZG9uZTp2fSk7XCJudW1iZXJcIj09dHlwZW9mIGEmJnQuc2V0VGltZW91dCh2LGEpfSl9fSksY31dKX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmZhY3RvcnkoXCIkZmFtb3VzRGVjb3JhdG9yXCIsW1wiJGZhbW91c1wiLGZ1bmN0aW9uKGUpe3ZhciBuPXtjaGlsZDp7fSxwYXJlbnQ6e30scmVuZGVyYWJsZTpmdW5jdGlvbihuKXt2YXIgcj1lW1wiZmFtb3VzL2NvcmUvUmVuZGVyTm9kZVwiXTtuLnJlbmRlckdhdGU9bmV3IHIsbi5lbXB0eU5vZGU9bmV3IHIsbi5zaG93PWZ1bmN0aW9uKCl7bi5yZW5kZXJHYXRlJiZuLnJlbmRlckdhdGUuc2V0KG4ucmVuZGVyTm9kZSl9LG4uaGlkZT1mdW5jdGlvbigpe24ucmVuZGVyR2F0ZS5zZXQobi5lbXB0eU5vZGUpfX19LHI9e307cmV0dXJue2FkZFJvbGU6ZnVuY3Rpb24oZSxyKXtuW2VdKHIpfSxlbnN1cmVJc29sYXRlOmZ1bmN0aW9uKGUsbil7aWYobil7dmFyIGE9W1wiZmEtZWRnZS1zd2FwcGVyXCIsXCJmYS1yZW5kZXItY29udHJvbGxlclwiLFwiZmEtZGVja1wiLFwiZmEtbGlnaHQtYm94XCJdLG89ITE7YW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKT09PW5bMF0udGFnTmFtZT92b2lkKG89ITApOnZvaWQgMCE9PW5bMF0uYXR0cmlidXRlc1tlXT92b2lkKG89ITApOnZvaWQgMH0pLG8mJihlPWUuJHBhcmVudCl9ZS5pc29sYXRlPWUuaXNvbGF0ZXx8e30sZS5pc29sYXRlW2UuJGlkXT1lLmlzb2xhdGVbZS4kaWRdfHx7fTt2YXIgdD1lLmlzb2xhdGVbZS4kaWRdO3QuaWQ9ZS4kaWQ7dmFyIGk9ZS4kZXZhbChcIiRpbmRleFwiKTtyZXR1cm4gaSYmXCIkaW5kZXhcIiE9PWkmJiF0LmluZGV4JiYodC5pbmRleD1pKSxyW3QuaWRdPXQsdH0sJCRnZXRJc29sYXRlQnlJZDpmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0scmVnaXN0ZXJDaGlsZDpmdW5jdGlvbihlLG4scixhKXtlLiRlbWl0KFwicmVnaXN0ZXJDaGlsZFwiLHIpLG4ub25lKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe1wicmVtb3ZlTWV0aG9kXCJpbiByJiZyLnJlbW92ZU1ldGhvZChyLmlkKSxyJiZyLmhpZGUmJnIuaGlkZSgpLGEmJmEoKX0pfSxzZXF1ZW5jZVdpdGg6ZnVuY3Rpb24obixyLGEsbyl7bi4kb24oXCJyZWdpc3RlckNoaWxkXCIsZnVuY3Rpb24odCxpKXtpZih0LnRhcmdldFNjb3BlLiRpZCE9PW4uJGlkKXt2YXIgcz1lLmdldElzb2xhdGUobik7aS4kcGFyZW50PXMscy4kY2hpbGRyZW49cy4kY2hpbGRyZW58fFtdLHMuJGNoaWxkcmVuLnB1c2goaSkscihpKSx0LnN0b3BQcm9wYWdhdGlvbigpLGEmJihpLnJlbW92ZU1ldGhvZD1hKSxvJiYoaS51cGRhdGVNZXRob2Q9byl9fSl9fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLnNlcnZpY2UoXCIkZmFtb3VzUGlwZVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLG4scil7ZSBpbnN0YW5jZW9mIEFycmF5fHwoZT1bZV0pLG4gaW5zdGFuY2VvZiBBcnJheXx8KG49W25dKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKylmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl2b2lkIDAhPT1uW29dJiZ2b2lkIDAhPT1lW2FdJiZuW29dW3JdKGVbYV0pfXRoaXMudW5waXBlc0Zyb21UYXJnZXRzPWZ1bmN0aW9uKG4scil7ZShuLHIsXCJ1bnBpcGVcIil9LHRoaXMucGlwZXNUb1RhcmdldHM9ZnVuY3Rpb24obixyKXtlKG4scixcInBpcGVcIil9fSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5mYWN0b3J5KFwiJHRpbWVsaW5lXCIsZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlLG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2UrbjplLm1hcChmdW5jdGlvbihlLHIpe3JldHVybiBlK25bcl19KX0sbj1mdW5jdGlvbihlLG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2UtbjplLm1hcChmdW5jdGlvbihlLHIpe3JldHVybiBlLW5bcl19KX0scj1mdW5jdGlvbihlLG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2UqbjplLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSpufSl9LGE9ZnVuY3Rpb24oYSxvLHQsaSxzKXtyZXR1cm4gZnVuY3Rpb24odSl7dmFyIGM9aSxmPS1vLGw9MS8odC1vKSxkPW4ocyxpKTtyZXR1cm4gZShyKGQsYShsKih1K2YpKSksYyl9fTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O3JldHVybiBmdW5jdGlvbihyKXtpZihyPGVbMF1bMF0pcmV0dXJuIGVbMF1bMV07Zm9yKHZhciBvPTA7bzxlLmxlbmd0aC0xO28rKylpZihlW29dWzBdPD1yJiZyPGVbbysxXVswXSl7dmFyIHQ9YShlW29dWzJdfHxuLGVbb11bMF0sZVtvKzFdWzBdLGVbb11bMV0sZVtvKzFdWzFdKTtyZXR1cm4gdChyKX1yZXR1cm4gZVtlLmxlbmd0aC0xXVsxXX19fSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYUFuaW1hdGVFbnRlclwiLFtcIiRwYXJzZVwiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiExLHByaW9yaXR5OjE2LGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cG9zdDpmdW5jdGlvbihyLGEsbyl7dmFyIHQ9bi5lbnN1cmVJc29sYXRlKHIpO3QuJCRhbmltYXRlRW50ZXJIYW5kbGVyPWUoby5mYUFuaW1hdGVFbnRlciksby4kb2JzZXJ2ZShcImZhQW5pbWF0ZUVudGVyXCIsZnVuY3Rpb24oKXt0LiQkYW5pbWF0ZUVudGVySGFuZGxlcj1lKG8uZmFBbmltYXRlRW50ZXIpfSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFBbmltYXRlSGFsdFwiLFtcIiRwYXJzZVwiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiExLHByaW9yaXR5OjE2LGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cG9zdDpmdW5jdGlvbihyLGEsbyl7dmFyIHQ9bi5lbnN1cmVJc29sYXRlKHIpO3QuJCRhbmltYXRlSGFsdEhhbmRsZXI9ZShvLmZhQW5pbWF0ZUhhbHQpLG8uJG9ic2VydmUoXCJmYUFuaW1hdGVIYWx0XCIsZnVuY3Rpb24oKXt0LiQkYW5pbWF0ZUhhbHRIYW5kbGVyPWUoby5mYUFuaW1hdGVIYWx0KX0pfX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhQW5pbWF0ZUxlYXZlXCIsW1wiJHBhcnNlXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6ITEscHJpb3JpdHk6MTYsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwb3N0OmZ1bmN0aW9uKHIsYSxvKXt2YXIgdD1uLmVuc3VyZUlzb2xhdGUocik7dC4kJGFuaW1hdGVMZWF2ZUhhbmRsZXI9ZShvLmZhQW5pbWF0ZUxlYXZlKSxvLiRvYnNlcnZlKFwiZmFBbmltYXRlTGVhdmVcIixmdW5jdGlvbigpe3QuJCRhbmltYXRlTGVhdmVIYW5kbGVyPWUoby5mYUFuaW1hdGVMZWF2ZSl9KX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYUFuaW1hdGVNb3ZlXCIsW1wiJHBhcnNlXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6ITEscHJpb3JpdHk6MTYsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwb3N0OmZ1bmN0aW9uKHIsYSxvKXt2YXIgdD1uLmVuc3VyZUlzb2xhdGUocik7dC4kJGFuaW1hdGVNb3ZlSGFuZGxlcj1lKG8uZmFBbmltYXRlTW92ZSksby4kb2JzZXJ2ZShcImZhQW5pbWF0ZU1vdmVcIixmdW5jdGlvbigpe3QuJCRhbmltYXRlTW92ZUhhbmRsZXI9ZShvLmZhQW5pbWF0ZU1vdmUpfSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFBbmltYXRpb25cIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57cmVzdHJpY3Q6XCJFQVwiLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24oKXt2YXIgcj1lW1wiZmFtb3VzL2NvcmUvVHJhbnNmb3JtXCJdLGE9ZVtcImZhbW91cy90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiXSxvPWVbXCJmYW1vdXMvdHJhbnNpdGlvbnMvRWFzaW5nXCJdO3JldHVybntwcmU6ZnVuY3Rpb24oZSl7bi5lbnN1cmVJc29sYXRlKGUpfSxwb3N0OmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz1uLmVuc3VyZUlzb2xhdGUoZSk7c2V0VGltZW91dChmdW5jdGlvbigpe3MudGltZWxpbmU9ZS4kZXZhbChpLnRpbWVsaW5lKSxzLl90cmFucz1uZXcgYSgwKSxzLnBsYXk9ZnVuY3Rpb24obil7dmFyIHI9e2R1cmF0aW9uOmUuJGV2YWwoaS5kdXJhdGlvbiksY3VydmU6ZS4kZXZhbChpLmN1cnZlKXx8XCJsaW5lYXJcIn07cy5fdHJhbnMuc2V0KDEscixmdW5jdGlvbigpe24mJm4oKSxpLmxvb3AmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLnJlcGxheShuKX0sMCl9KX0scy5yZXNldD1mdW5jdGlvbigpe3MuX3RyYW5zLnNldCgwKX0scy5yZXBsYXk9ZnVuY3Rpb24oZSl7cy5yZXNldCgpLHMucGxheShlKX07dmFyIG49bnVsbDtpLmV2ZW50JiYobiYmbigpLG49ZS4kb24oaS5ldmVudCxmdW5jdGlvbihlLG4pe3ZhciByPW4mJm4uY2FsbGJhY2s/bi5jYWxsYmFjazp2b2lkIDA7cy5yZXBsYXkocil9KSk7aS5pZDtpZih2b2lkIDA9PT1zLnRpbWVsaW5lJiYocy50aW1lbGluZT1zLl90cmFucy5nZXQuYmluZChzLl90cmFucyksaS5hdXRvcGxheSYmcy5wbGF5KCkpLCFzLnRpbWVsaW5lIGluc3RhbmNlb2YgRnVuY3Rpb24pdGhyb3cgbmV3IEVycm9yKFwidGltZWxpbmUgbXVzdCBiZSBhIHJlZmVyZW5jZSB0byBhIGZ1bmN0aW9uIG9yIGR1cmF0aW9uIG11c3QgYmUgcHJvdmlkZWRcIik7Zm9yKHZhciB1PXRbMF0ucXVlcnlTZWxlY3RvckFsbChcImFuaW1hdGVcIiksYz17fSxmPTA7Zjx1Lmxlbmd0aDtmKyspIWZ1bmN0aW9uKCl7dmFyIG49dVtmXTtpZihuLmF0dHJpYnV0ZXMudGFyZ2V0bW9kc2VsZWN0b3Ipe3ZhciBhPWFuZ3VsYXIuZWxlbWVudCh0WzBdLnBhcmVudE5vZGUpWzBdLnF1ZXJ5U2VsZWN0b3JBbGwobi5hdHRyaWJ1dGVzLnRhcmdldG1vZHNlbGVjdG9yLnZhbHVlKTthbmd1bGFyLmZvckVhY2goYSxmdW5jdGlvbihhKXt2YXIgdD1hbmd1bGFyLmVsZW1lbnQoYSkuc2NvcGUoKSxpPXQuaXNvbGF0ZVt0LiRpZF0ubW9kaWZpZXIsdT10Lmlzb2xhdGVbdC4kaWRdLmdldFRyYW5zZm9ybSxmPW4uYXR0cmlidXRlcy5jdXJ2ZSYmXCJsaW5lYXJcIiE9PW4uYXR0cmlidXRlcy5jdXJ2ZS52YWx1ZT9vW24uYXR0cmlidXRlcy5jdXJ2ZS52YWx1ZV06ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O2lmKG4uYXR0cmlidXRlcy5maWVsZCl7dmFyIGw9bi5hdHRyaWJ1dGVzLmZpZWxkLnZhbHVlLGQ9bi5hdHRyaWJ1dGVzLnRpbWVsaW5lbG93ZXJib3VuZD9wYXJzZUZsb2F0KG4uYXR0cmlidXRlcy50aW1lbGluZWxvd2VyYm91bmQudmFsdWUpOjAsbT1uLmF0dHJpYnV0ZXMudGltZWxpbmV1cHBlcmJvdW5kP3BhcnNlRmxvYXQobi5hdHRyaWJ1dGVzLnRpbWVsaW5ldXBwZXJib3VuZC52YWx1ZSk6MTtpZighbi5hdHRyaWJ1dGVzLnN0YXJ0dmFsdWUpdGhyb3cgbmV3IEVycm9yKFwieW91IG11c3QgcHJvdmlkZSBhIHN0YXJ0IHZhbHVlIGZvciB0aGUgYW5pbWF0aW9uXCIpO3ZhciBwPWUuJGV2YWwobi5hdHRyaWJ1dGVzLnN0YXJ0dmFsdWUudmFsdWUpO2lmKCFuLmF0dHJpYnV0ZXMuZW5kdmFsdWUpdGhyb3cgbmV3IEVycm9yKFwieW91IG11c3QgcHJvdmlkZSBhbiBlbmQgdmFsdWUgZm9yIHRoZSBhbmltYXRpb25cIik7dmFyIHY9ZS4kZXZhbChuLmF0dHJpYnV0ZXMuZW5kVmFsdWUudmFsdWUpLGc9Y1t0LiRpZF09Y1t0LiRpZF18fHt9LGg9Z1tsXT1nW2xdfHxbXTtoLnB1c2goe2ZpZWxkOmwsbG93ZXJCb3VuZDpkLHVwcGVyQm91bmQ6bSxzdGFydFZhbHVlOnAsZW5kVmFsdWU6dixjdXJ2ZTpmfSksaC5zb3J0KGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUubG93ZXJCb3VuZC1uLmxvd2VyQm91bmR9KTtmb3IodmFyICQ9MTskPGgubGVuZ3RoOyQrKylmb3IodmFyIHk9aFskXS5sb3dlckJvdW5kLHc9MDskPnc7dysrKWlmKHk8aFt3XS51cHBlckJvdW5kKXRocm93IG5ldyBFcnJvcihcIkFuaW1hdGUgc2VnbWVudHMgaGF2ZSBvdmVybGFwcGluZ2RvbWFpbnMgZm9yIHRoZSBzYW1lIGZpZWxkIChcIitsK1wiKS5BdCBhbnkgcG9pbnQgaW4gdGhlIHRpbWVsaW5lLCBvbmx5IG9uZSA8YW5pbWF0ZT5jYW4gYWZmZWN0IGEgZ2l2ZW4gZmllbGQgb24gdGhlIHNhbWUgbW9kaWZpZXIuXCIpO3ZhciBTPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXMudGltZWxpbmUoKXx8MCxuPTAscj1oW25dLGE9MDthPGgubGVuZ3RoO2ErKyl7aWYoZT49aFthXS5sb3dlckJvdW5kJiZlPD1oW2FdLnVwcGVyQm91bmQpe3I9aFthXTticmVha31pZihhPT09aC5sZW5ndGgtMSl7cj1oW2FdO2JyZWFrfWlmKGU+PWhbYV0udXBwZXJCb3VuZCYmZTxoW2ErMV0ubG93ZXJCb3VuZCl7cj1oW2FdO2JyZWFrfX1pZihlPD1yLmxvd2VyQm91bmQpcmV0dXJuIHIuc3RhcnRWYWx1ZTtpZihlPj1yLnVwcGVyQm91bmQpcmV0dXJuIHIuZW5kVmFsdWU7dmFyIG89ci51cHBlckJvdW5kLXIubG93ZXJCb3VuZCx0PShlLXIubG93ZXJCb3VuZCkvbztpZihBcnJheS5pc0FycmF5KHIuc3RhcnRWYWx1ZSkpe2Zvcih2YXIgaT1bXSx1PTA7dTxyLnN0YXJ0VmFsdWUubGVuZ3RoO3UrKylpLnB1c2goci5zdGFydFZhbHVlW3VdK3IuY3VydmUodCkqKHIuZW5kVmFsdWVbdV0tci5zdGFydFZhbHVlW3VdKSk7cmV0dXJuIGl9cmV0dXJuIHIuc3RhcnRWYWx1ZStyLmN1cnZlKHQpKihyLmVuZFZhbHVlLXIuc3RhcnRWYWx1ZSl9LGI9Zy50cmFuc2Zvcm1Db21wb25lbnRzPWcudHJhbnNmb3JtQ29tcG9uZW50c3x8W107XCJvcGFjaXR5XCI9PT1sP2kub3BhY2l0eUZyb20oZnVuY3Rpb24oKXtyZXR1cm4gUygpfSk6XCJvcmlnaW5cIj09PWw/aS5vcmlnaW5Gcm9tKGZ1bmN0aW9uKCl7cmV0dXJuIFMoKX0pOlwic2l6ZVwiPT09bD9pLnNpemVGcm9tKGZ1bmN0aW9uKCl7cmV0dXJuIFMoKX0pOihiLnB1c2goe2ZpZWxkOmwsZm46U30pLGkudHJhbnNmb3JtRnJvbShmdW5jdGlvbigpe2Zvcih2YXIgZT17fSxuPXUmJnUoKT9bdSgpXTpbXSxhPTA7YTxiLmxlbmd0aDthKyspIWZ1bmN0aW9uKCl7dmFyIG89YlthXS5maWVsZDtpZighZVtvXSl7dmFyIHQ9YlthXS5mbigpO24ucHVzaChBcnJheS5pc0FycmF5KHQpP3Jbb10uYXBwbHkodGhpcyx0KTpyW29dKHQpKSxlW29dPSEwfX0oKTtyZXR1cm4gMT09PW4ubGVuZ3RoP25bMF06ci5tdWx0aXBseS5hcHBseSh0aGlzLG4pfSkpfX0pfX0oKX0sMSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFBcHBcIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57dGVtcGxhdGU6JzxkaXYgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjxkaXY+PC9kaXY+PC9kaXY+Jyx0cmFuc2NsdWRlOiEwLHNjb3BlOiEwLHJlc3RyaWN0OlwiRUFcIixjb21waWxlOmZ1bmN0aW9uKHIsYSxvKXtyZXR1cm57cHJlOmZ1bmN0aW9uKHIsYSxvKXtmdW5jdGlvbiB0KCl7cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9e3ZhciBpPW4uZW5zdXJlSXNvbGF0ZShyKSxzPWVbXCJmYW1vdXMvY29yZS9WaWV3XCJdLHU9ZVtcImZhbW91cy9jb3JlL0VuZ2luZVwiXTtlW1wiZmFtb3VzL2NvcmUvVHJhbnNmb3JtXCJdfWEuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZmFtb3VzLWFuZ3VsYXItY2xpcHBpbmctY29udGFpbmVyXCI+PGRpdiBjbGFzcz1cImZhbW91cy1hbmd1bGFyLWNvbnRhaW5lclwiPjwvZGl2PjwvZGl2PicpLGkuY29udGV4dD11LmNyZWF0ZUNvbnRleHQoYVswXS5xdWVyeVNlbGVjdG9yKFwiLmZhbW91cy1hbmd1bGFyLWNvbnRhaW5lclwiKSksd2luZG93LmNvbnRleHQ9aS5jb250ZXh0O3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGU9cGFyc2VJbnQoby5mYVBlcnNwZWN0aXZlKTtlJiZpLmNvbnRleHQuc2V0UGVyc3BlY3RpdmUoZSl9O28uJG9ic2VydmUoXCJmYVBlcnNwZWN0aXZlXCIsYyksYygpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocy5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQ7aS52aWV3PW5ldyB0LGkuY29udGV4dC5hZGQoaS52aWV3KSxyLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtpLmNvbnRleHQudXBkYXRlPWFuZ3VsYXIubm9vcH0pLHIuJG9uKFwicmVnaXN0ZXJDaGlsZFwiLGZ1bmN0aW9uKGUsbil7aS52aWV3LmFkZChuLnJlbmRlck5vZGUpLGUuc3RvcFByb3BhZ2F0aW9uKCl9KX0scG9zdDpmdW5jdGlvbihlLHIpe3ZhciBhPW4uZW5zdXJlSXNvbGF0ZShlKTtvKGUsZnVuY3Rpb24oZSl7YW5ndWxhci5lbGVtZW50KHJbMF0ucXVlcnlTZWxlY3RvckFsbChcImRpdiBkaXZcIilbMF0pLmFwcGVuZChlKX0pLGEucmVhZHlUb1JlbmRlcj0hMH19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYUNhbnZhc1N1cmZhY2VcIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRjb250cm9sbGVyXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Njb3BlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGU6JzxjYW52YXMgY2xhc3M9XCJmYS1jYW52YXMtc3VyZmFjZVwiPjwvY2FudmFzPicscmVzdHJpY3Q6XCJFQVwiLGNvbXBpbGU6ZnVuY3Rpb24ocixhLG8pe3JldHVybntwcmU6ZnVuY3Rpb24ocixhLG8pe3t2YXIgdD1uLmVuc3VyZUlzb2xhdGUociksaT1lW1wiZmFtb3VzL3N1cmZhY2VzL0NhbnZhc1N1cmZhY2VcIl07ZVtcImZhbW91cy9jb3JlL1RyYW5zZm9ybVwiXSxlW1wiZmFtb3VzL2NvcmUvRXZlbnRIYW5kbGVyXCJdfXQucmVuZGVyTm9kZT1uZXcgaSh7c2l6ZTpyLiRldmFsKG8uZmFTaXplKX0pLG4uYWRkUm9sZShcInJlbmRlcmFibGVcIix0KSx0LnNob3coKSxvLmNsYXNzJiZ0LnJlbmRlck5vZGUuc2V0Q2xhc3NlcyhvW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpKSxuLnNlcXVlbmNlV2l0aChyLGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiU3VyZmFjZXMgYXJlIGxlYWYgbm9kZXMgb2YgdGhlIEZhbW8udXMgcmVuZGVyIHRyZWUgYW5kIGNhbm5vdCBhY2NlcHQgcmVuZGVybm9kZSBjaGlsZHJlbi4gIFRvIGluY2x1ZGUgYWRkaXRpb25hbCBGYW1vLnVzIGNvbnRlbnQgaW5zaWRlIG9mIGEgZmEtc3VyZmFjZSwgdGhhdCBjb250ZW50IG11c3QgYmUgZW5jbG9zZWQgaW4gYW4gYWRkaXRpb25hbCBmYS1hcHAuXCIpfSl9LHBvc3Q6ZnVuY3Rpb24oZSxyKXt2YXIgYT1uLmVuc3VyZUlzb2xhdGUoZSksdD1mdW5jdGlvbigpe2EucmVuZGVyTm9kZS5zZXRDb250ZW50KHJbMF0ucXVlcnlTZWxlY3RvcihcImNhbnZhcy5mYS1jYW52YXMtc3VyZmFjZVwiKSl9O3QoKSxvKGUsZnVuY3Rpb24oZSl7YW5ndWxhci5lbGVtZW50KHJbMF0ucXVlcnlTZWxlY3RvckFsbChcImNhbnZhcy5mYS1jYW52YXMtc3VyZmFjZVwiKSkuYXBwZW5kKGUpfSksbi5yZWdpc3RlckNoaWxkKGUscixhLGZ1bmN0aW9uKCl7fSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFDbGlja1wiLFtcIiRwYXJzZVwiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cG9zdDpmdW5jdGlvbihyLGEsbyl7dmFyIHQ9bi5lbnN1cmVJc29sYXRlKHIpO2lmKG8uZmFDbGljayl7dmFyIGk9dC5yZW5kZXJOb2RlLl9ldmVudElucHV0fHx0LnJlbmRlck5vZGU7aS5vbihcImNsaWNrXCIsZnVuY3Rpb24obil7dmFyIGE9ZShvLmZhQ2xpY2spO2Eocix7JGV2ZW50Om59KSxyLiQkcGhhc2V8fHIuJGFwcGx5KCl9KX19fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFDb250YWluZXJTdXJmYWNlXCIsW1wiJGZhbW91c1wiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3RlbXBsYXRlOlwiPGRpdj48L2Rpdj5cIixyZXN0cmljdDpcIkVcIix0cmFuc2NsdWRlOiEwLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24ocixhLG8pe3JldHVybntwcmU6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKSxpPWVbXCJmYW1vdXMvc3VyZmFjZXMvQ29udGFpbmVyU3VyZmFjZVwiXSxzPXIuJGV2YWwoby5mYU9wdGlvbnMpfHx7fTt0LnJlbmRlck5vZGU9bmV3IGkocyksbi5hZGRSb2xlKFwicmVuZGVyYWJsZVwiLHQpLHQuc2hvdygpLG4uc2VxdWVuY2VXaXRoKHIsZnVuY3Rpb24oZSl7dC5yZW5kZXJOb2RlLmFkZChlLnJlbmRlckdhdGUpfSl9LHBvc3Q6ZnVuY3Rpb24oZSxyKXt2YXIgYT1uLmVuc3VyZUlzb2xhdGUoZSk7byhlLGZ1bmN0aW9uKGUpe3IuZmluZChcImRpdlwiKS5hcHBlbmQoZSl9KSxuLnJlZ2lzdGVyQ2hpbGQoZSxyLGEpfX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhRHJhZ2dhYmxlXCIsW1wiJGZhbW91c1wiLFwiJGZhbW91c0RlY29yYXRvclwiLFwiJHBhcnNlXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oZSxuLHIsYSl7cmV0dXJue3RlbXBsYXRlOlwiPGRpdj48L2Rpdj5cIix0cmFuc2NsdWRlOiEwLHJlc3RyaWN0OlwiRUFcIixwcmlvcml0eToyLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24ocixvLHQpe3JldHVybntwb3N0OmZ1bmN0aW9uKHIsbyxpKXt2YXIgcz1uLmVuc3VyZUlzb2xhdGUociksdT1lW1wiZmFtb3VzL2NvcmUvUmVuZGVyTm9kZVwiXSxjPWVbXCJmYW1vdXMvbW9kaWZpZXJzL0RyYWdnYWJsZVwiXSxmPXIuJGV2YWwoaS5mYU9wdGlvbnMpfHx7fTtyLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiByLiRldmFsKGkuZmFPcHRpb25zKX0sZnVuY3Rpb24oZSl7ZT1lfHx7fSxzLm1vZGlmaWVyLnNldE9wdGlvbnMoZSl9LCEwKSxzLm1vZGlmaWVyPW5ldyBjKGYpLHMucmVuZGVyTm9kZT0obmV3IHUpLmFkZChzLm1vZGlmaWVyKSxuLmFkZFJvbGUoXCJyZW5kZXJhYmxlXCIscykscy5zaG93KCksbi5zZXF1ZW5jZVdpdGgocixmdW5jdGlvbihlKXtzLnJlbmRlck5vZGUuYWRkKGUucmVuZGVyR2F0ZSl9KSx0KHIsZnVuY3Rpb24oZSl7by5maW5kKFwiZGl2XCIpLmFwcGVuZChlKX0pLG4ucmVnaXN0ZXJDaGlsZChyLG8scyxmdW5jdGlvbigpe3MubW9kaWZpZXIuZGVhY3RpdmF0ZSgpfSksci4kJHBoYXNlfHxhLiQkcGhhc2V8fHIuJGFwcGx5KCl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFFZGdlU3dhcHBlclwiLFtcIiRmYW1vdXNcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixmdW5jdGlvbihlLG4pe3JldHVybntzY29wZTohMCxyZXN0cmljdDpcIkFcIixwcmlvcml0eTo1MTIsY29tcGlsZTpmdW5jdGlvbigpe3ZhciByPWVbXCJmYW1vdXMvdmlld3MvRWRnZVN3YXBwZXJcIl07cmV0dXJue3ByZTpmdW5jdGlvbihlLGEsbyl7dmFyIHQsaT1uLmVuc3VyZUlzb2xhdGUoZSk7aS4kJGFuaW1hdGVFbnRlckhhbmRsZXI9ZnVuY3Rpb24oZSxuKXtpLnJlbmRlck5vZGUuc2hvdyh0LGZ1bmN0aW9uKCl7aS4kJGxlYXZlRG9uZUNhbGxiYWNrJiZpLiQkbGVhdmVEb25lQ2FsbGJhY2soKSxuLiRkb25lKCl9KX0saS4kJGFuaW1hdGVMZWF2ZUhhbmRsZXI9ZnVuY3Rpb24oZSxuKXtpLiQkbGVhdmVEb25lQ2FsbGJhY2s9bi4kZG9uZX07dmFyIHM9ZS4kZXZhbChvLmZhT3B0aW9ucyk7aS5yZW5kZXJOb2RlPW5ldyByKHMpLG4uYWRkUm9sZShcInJlbmRlcmFibGVcIixpKSxpLnNob3coKSxuLnNlcXVlbmNlV2l0aChlLGZ1bmN0aW9uKGUpe3Q9ZS5yZW5kZXJHYXRlfSl9LHBvc3Q6ZnVuY3Rpb24oZSxyKXt2YXIgYT1uLmVuc3VyZUlzb2xhdGUoZSk7bi5yZWdpc3RlckNoaWxkKGUscixhKX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYUZsZXhpYmxlTGF5b3V0XCIsW1wiJGZhbW91c1wiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3RlbXBsYXRlOlwiPGRpdj48L2Rpdj5cIixyZXN0cmljdDpcIkVcIix0cmFuc2NsdWRlOiEwLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24ocixhLG8pe3JldHVybntwcmU6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKSxpPWVbXCJmYW1vdXMvdmlld3MvRmxleGlibGVMYXlvdXRcIl0scz0oZVtcImZhbW91cy9jb3JlL1ZpZXdTZXF1ZW5jZVwiXSxlW1wiZmFtb3VzL2NvcmUvUmVuZGVyTm9kZVwiXSxbXSksdT1yLiRldmFsKG8uZmFPcHRpb25zKXx8e307dC5yZW5kZXJOb2RlPW5ldyBpKHUpLG4uYWRkUm9sZShcInJlbmRlcmFibGVcIix0KSx0LnNob3coKTt2YXIgYz1mdW5jdGlvbigpe3Muc29ydChmdW5jdGlvbihlLG4pe3JldHVybiBlLmluZGV4LW4uaW5kZXh9KSx0LnJlbmRlck5vZGUuc2VxdWVuY2VGcm9tKGZ1bmN0aW9uKGUpe3ZhciBuPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2goZSxmdW5jdGlvbihlLHIpe25bcl09ZS5yZW5kZXJHYXRlfSksbn0ocykpfTtuLnNlcXVlbmNlV2l0aChyLGZ1bmN0aW9uKGUpe3MucHVzaChlKSxjKCl9LGZ1bmN0aW9uKGUpe3M9ZnVuY3Rpb24obil7dmFyIHI9W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChuLGZ1bmN0aW9uKG4pe24uaWQhPT1lJiZyLnB1c2gobil9KSxyfShzKSxjKCl9KX0scG9zdDpmdW5jdGlvbihlLHIpe3ZhciBhPW4uZW5zdXJlSXNvbGF0ZShlKTtvKGUsZnVuY3Rpb24oZSl7ci5maW5kKFwiZGl2XCIpLmFwcGVuZChlKX0pLGUuJGVtaXQoXCJyZWdpc3RlckNoaWxkXCIsYSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFGbGlwcGVyXCIsW1wiJGZhbW91c1wiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3RlbXBsYXRlOlwiPGRpdj48L2Rpdj5cIixyZXN0cmljdDpcIkVcIix0cmFuc2NsdWRlOiEwLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24ocixhLG8pe3JldHVybntwcmU6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKSxpPWVbXCJmYW1vdXMvdmlld3MvRmxpcHBlclwiXSxzPXIuJGV2YWwoby5mYU9wdGlvbnMpfHx7fTt0LnJlbmRlck5vZGU9bmV3IGkocyksbi5hZGRSb2xlKFwicmVuZGVyYWJsZVwiLHQpLHQuc2hvdygpLHQuY2hpbGRyZW49W10sdC5mbGlwPWZ1bmN0aW9uKGUpe3QucmVuZGVyTm9kZS5mbGlwKGV8fHIuJGV2YWwoby5mYU9wdGlvbnMpKX0sbi5zZXF1ZW5jZVdpdGgocixmdW5jdGlvbihlKXt2YXIgbj10LmNoaWxkcmVuLmxlbmd0aDtpZigwPT09bil0LnJlbmRlck5vZGUuc2V0RnJvbnQoZS5yZW5kZXJHYXRlKTtlbHNle2lmKDEhPT1uKXRocm93IG5ldyBFcnJvcihcImZhLWZsaXBwZXIgYWNjZXB0cyBvbmx5IHR3byBjaGlsZCBlbGVtZW50czsgbW9yZSB0aGFuIHR3byBoYXZlIGJlZW4gcHJvdmlkZWRcIik7dC5yZW5kZXJOb2RlLnNldEJhY2soZS5yZW5kZXJHYXRlKX10LmNoaWxkcmVuLnB1c2goZS5yZW5kZXJHYXRlKX0sZnVuY3Rpb24oKXt0LmNoaWxkcmVuLnNwbGljZSh0LmNoaWxkcmVuLmxlbmd0aC0xLDEpfSl9LHBvc3Q6ZnVuY3Rpb24oZSxyKXt2YXIgYT1uLmVuc3VyZUlzb2xhdGUoZSk7byhlLGZ1bmN0aW9uKGUpe3IuZmluZChcImRpdlwiKS5hcHBlbmQoZSl9KSxuLnJlZ2lzdGVyQ2hpbGQoZSxyLGEpfX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhR3JpZExheW91dFwiLFtcIiRmYW1vdXNcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixmdW5jdGlvbihlLG4pe3JldHVybnt0ZW1wbGF0ZTpcIjxkaXY+PC9kaXY+XCIscmVzdHJpY3Q6XCJFXCIsdHJhbnNjbHVkZTohMCxzY29wZTohMCxjb21waWxlOmZ1bmN0aW9uKHIsYSxvKXtyZXR1cm57cHJlOmZ1bmN0aW9uKHIsYSxvKXt2YXIgdD1uLmVuc3VyZUlzb2xhdGUociksaT1lW1wiZmFtb3VzL3ZpZXdzL0dyaWRMYXlvdXRcIl0scz0oZVtcImZhbW91cy9jb3JlL1ZpZXdTZXF1ZW5jZVwiXSxbXSksdT1yLiRldmFsKG8uZmFPcHRpb25zKXx8e307dC5yZW5kZXJOb2RlPW5ldyBpKHUpLG4uYWRkUm9sZShcInJlbmRlcmFibGVcIix0KSx0LnNob3coKTt2YXIgYz1mdW5jdGlvbigpe3IuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7cy5zb3J0KGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuaW5kZXgtbi5pbmRleH0pLHQucmVuZGVyTm9kZS5zZXF1ZW5jZUZyb20oZnVuY3Rpb24oZSl7dmFyIG49W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChlLGZ1bmN0aW9uKGUscil7bltyXT1lLnJlbmRlckdhdGV9KSxufShzKSl9KX07bi5zZXF1ZW5jZVdpdGgocixmdW5jdGlvbihlKXtzLnB1c2goZSksYygpfSxmdW5jdGlvbihlKXtzPWZ1bmN0aW9uKG4pe3ZhciByPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2gobixmdW5jdGlvbihuKXtuLmlkIT09ZSYmci5wdXNoKG4pfSkscn0ocyksYygpfSxjKX0scG9zdDpmdW5jdGlvbihlLHIpe3ZhciBhPW4uZW5zdXJlSXNvbGF0ZShlKTtvKGUsZnVuY3Rpb24oZSl7ci5maW5kKFwiZGl2XCIpLmFwcGVuZChlKX0pLG4ucmVnaXN0ZXJDaGlsZChlLHIsYSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFIZWFkZXJGb290ZXJMYXlvdXRcIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57dGVtcGxhdGU6XCI8ZGl2PjwvZGl2PlwiLHJlc3RyaWN0OlwiRVwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6ITAsY29tcGlsZTpmdW5jdGlvbihyLGEsbyl7dmFyIHQ9ZVtcImZhbW91cy92aWV3cy9IZWFkZXJGb290ZXJMYXlvdXRcIl0saT1lW1wiZmFtb3VzL2NvcmUvUmVuZGVyTm9kZVwiXTtyZXR1cm57cHJlOmZ1bmN0aW9uKGUscixhKXt2YXIgbz1uLmVuc3VyZUlzb2xhdGUoZSkscz0obmV3IGksbmV3IGksbmV3IGksZS4kZXZhbChhLmZhT3B0aW9ucyl8fHt9KTtvLnJlbmRlck5vZGU9bmV3IHQocyksbi5hZGRSb2xlKFwicmVuZGVyYWJsZVwiLG8pLG8uc2hvdygpO3ZhciB1PTA7bi5zZXF1ZW5jZVdpdGgoZSxmdW5jdGlvbihlKXtpZih1KyssMT09PXUpby5yZW5kZXJOb2RlLmhlYWRlci5hZGQoZS5yZW5kZXJHYXRlKTtlbHNlIGlmKDI9PT11KW8ucmVuZGVyTm9kZS5jb250ZW50LmFkZChlLnJlbmRlckdhdGUpO2Vsc2V7aWYoMyE9PXUpdGhyb3cgbmV3IEVycm9yKFwiZmEtaGVhZGVyLWZvb3Rlci1sYXlvdXQgY2FuIGFjY2VwdCBubyBtb3JlIHRoYW4gMyBjaGlsZHJlblwiKTtvLnJlbmRlck5vZGUuZm9vdGVyLmFkZChlLnJlbmRlckdhdGUpfX0sZnVuY3Rpb24oKXsxPT09dT9vLnJlbmRlck5vZGUuaGVhZGVyLnNldCh7fSk6Mj09PXU/by5yZW5kZXJOb2RlLmNvbnRlbnQuc2V0KHt9KTozPT09dSYmby5yZW5kZXJOb2RlLmZvb3Rlci5zZXQoe30pLHUtLX0pfSxwb3N0OmZ1bmN0aW9uKGUscil7dmFyIGE9bi5lbnN1cmVJc29sYXRlKGUpO28oZSxmdW5jdGlvbihlKXtyLmZpbmQoXCJkaXZcIikuYXBwZW5kKGUpfSksbi5yZWdpc3RlckNoaWxkKGUscixhKX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYUltYWdlU3VyZmFjZVwiLFtcIiRmYW1vdXNcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixmdW5jdGlvbihlLG4pe3JldHVybntzY29wZTohMCx0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cImZhLWltYWdlLXN1cmZhY2VcIj48L2Rpdj4nLHJlc3RyaWN0OlwiRUFcIixjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihyLGEsbyl7e3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKSxpPWVbXCJmYW1vdXMvc3VyZmFjZXMvSW1hZ2VTdXJmYWNlXCJdO2VbXCJmYW1vdXMvY29yZS9UcmFuc2Zvcm1cIl0sZVtcImZhbW91cy9jb3JlL0V2ZW50SGFuZGxlclwiXX1yLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiB0LmdldFByb3BlcnRpZXMoKX0sZnVuY3Rpb24oKXt0LnJlbmRlck5vZGUmJnQucmVuZGVyTm9kZS5zZXRQcm9wZXJ0aWVzKHQuZ2V0UHJvcGVydGllcygpKX0sITApO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVyblwiZmFcIitlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSl9O3QuZ2V0UHJvcGVydGllcz1mdW5jdGlvbigpe2Zvcih2YXIgZT1yLiRldmFsKG8uZmFQcm9wZXJ0aWVzKXx8e30sbj1bXCJiYWNrZ3JvdW5kQ29sb3JcIixcImNvbG9yXCJdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHQ9blthXSxpPXModCk7b1tpXSYmKGVbdF09ci4kZXZhbChvW2ldKSl9cmV0dXJuIGV9LHQucmVuZGVyTm9kZT1uZXcgaSh7c2l6ZTpyLiRldmFsKG8uZmFTaXplKSxcImNsYXNzXCI6ci4kZXZhbChvLmNsYXNzKSxwcm9wZXJ0aWVzOnQuZ2V0UHJvcGVydGllcygpfSksbi5hZGRSb2xlKFwicmVuZGVyYWJsZVwiLHQpLHQuc2hvdygpLG8uY2xhc3MmJnQucmVuZGVyTm9kZS5zZXRDbGFzc2VzKG9bXCJjbGFzc1wiXS5zcGxpdChcIiBcIikpfSxwb3N0OmZ1bmN0aW9uKGUscixhKXt2YXIgbz1uLmVuc3VyZUlzb2xhdGUoZSksdD1mdW5jdGlvbigpe28ucmVuZGVyTm9kZS5zZXRDb250ZW50KGEuZmFJbWFnZVVybCl9O3QoKSxhLiRvYnNlcnZlKFwiZmFJbWFnZVVybFwiLHQpLG4ucmVnaXN0ZXJDaGlsZChlLHIsbyl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFJbmRleFwiLFtcIiRwYXJzZVwiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiExLHByaW9yaXR5OjE2LGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cG9zdDpmdW5jdGlvbihlLHIsYSl7dmFyIG89bi5lbnN1cmVJc29sYXRlKGUscik7by5pbmRleD1lLiRldmFsKGEuZmFJbmRleCksZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZS4kZXZhbChhLmZhSW5kZXgpfSxmdW5jdGlvbigpe28uaW5kZXg9ZS4kZXZhbChhLmZhSW5kZXgpLG8udXBkYXRlTWV0aG9kJiZvLnVwZGF0ZU1ldGhvZCgpfSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuY29uZmlnKFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oZSl7ZS5kZWNvcmF0b3IoXCJuZ0NsaWNrRGlyZWN0aXZlXCIsW1wiJGRlbGVnYXRlXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsXCIkcGFyc2VcIixcIiRyb290RWxlbWVudFwiLFwiJGZhbW91c1wiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihlLG4scixhLG8sdCl7ZnVuY3Rpb24gaShlLG4scixhKXtyZXR1cm4gTWF0aC5hYnMoZS1yKTwkJiZNYXRoLmFicyhuLWEpPCR9ZnVuY3Rpb24gcyhlLG4scil7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKz0yKWlmKGkoZVthXSxlW2ErMV0sbixyKSlyZXR1cm4gZS5zcGxpY2UoYSxhKzIpLCEwO3JldHVybiExfWZ1bmN0aW9uIHUoZSl7aWYoIShEYXRlLm5vdygpLWw+aCkpe3ZhciBuPWUudG91Y2hlcyYmZS50b3VjaGVzLmxlbmd0aD9lLnRvdWNoZXM6W2VdLHI9blswXS5jbGllbnRYLGE9blswXS5jbGllbnRZO3MoZCxyLGEpfHwoZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksZS50YXJnZXQmJmUudGFyZ2V0LmJsdXIoKSl9fWZ1bmN0aW9uIGMoZSl7dmFyIG49ZS50b3VjaGVzJiZlLnRvdWNoZXMubGVuZ3RoP2UudG91Y2hlczpbZV0scj1uWzBdLmNsaWVudFgsYT1uWzBdLmNsaWVudFk7ZC5wdXNoKHIsYSksdChmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSs9MilpZihkW2VdPT09ciYmZFtlKzFdPT09YSlyZXR1cm4gdm9pZCBkLnNwbGljZShlLGUrMil9LGgsITEpfWZ1bmN0aW9uIGYoZSxuKXtkfHwoYVswXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix1LCEwKSxhWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsYywhMCksZD1bXSksbD1EYXRlLm5vdygpLHMoZCxlLG4pfXt2YXIgbCxkLG09ZVswXSxwPW0uY29tcGlsZSx2PTc1MCxnPTEyLGg9MjUwMCwkPTI1LHk9XCJuZy1jbGljay1hY3RpdmVcIjtvW1wiZmFtb3VzL2NvcmUvRW5naW5lXCJdfXJldHVybiBtLmNvbXBpbGU9ZnVuY3Rpb24oZSxuLGEpe3JldHVybiBvLnV0aWwuaXNGYUVsZW1lbnQoZSk/by51dGlsLmlzQVN1cmZhY2UoZSk/e3Bvc3Q6ZnVuY3Rpb24oZSxuLGEpe2Z1bmN0aW9uIHQoKXtkPSExLHAucmVtb3ZlQ2xhc3MoeSl9dmFyIGkscyx1LGMsbD1yKGEubmdDbGljayksZD0hMSxtPW8uZ2V0SXNvbGF0ZShlKSxwPW0ucmVuZGVyTm9kZTtwLm9uKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGUpe2Q9ITAsaT1lLnRhcmdldD9lLnRhcmdldDplLnNyY0VsZW1lbnQsMz09PWkubm9kZVR5cGUmJihpPWkucGFyZW50Tm9kZSkscC5hZGRDbGFzcyh5KSxzPURhdGUubm93KCk7dmFyIG49ZS50b3VjaGVzJiZlLnRvdWNoZXMubGVuZ3RoP2UudG91Y2hlczpbZV0scj1uWzBdLm9yaWdpbmFsRXZlbnR8fG5bMF07dT1yLmNsaWVudFgsYz1yLmNsaWVudFl9KSxwLm9uKFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oKXt0KCl9KSxwLm9uKFwidG91Y2hjYW5jZWxcIixmdW5jdGlvbigpe3QoKX0pLHAub24oXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKGUpe3ZhciBuPURhdGUubm93KCktcyxyPWUuY2hhbmdlZFRvdWNoZXMmJmUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP2UuY2hhbmdlZFRvdWNoZXM6ZS50b3VjaGVzJiZlLnRvdWNoZXMubGVuZ3RoP2UudG91Y2hlczpbZV0sbz1yWzBdLm9yaWdpbmFsRXZlbnR8fHJbMF0saT1vLmNsaWVudFgsbD1vLmNsaWVudFksbT1NYXRoLnNxcnQoTWF0aC5wb3coaS11LDIpK01hdGgucG93KGwtYywyKSk7ZCYmdj5uJiZnPm0mJihmKGksbCksYW5ndWxhci5pc0RlZmluZWQoYS5kaXNhYmxlZCkmJlwiZmFsc2VcIiE9PWEuZGlzYWJsZWR8fHAuZW1pdChcImNsaWNrXCIsW2VdKSksdCgpfSkscC5vbihcImNsaWNrXCIsZnVuY3Rpb24obixyKXtlLiRhcHBseShmdW5jdGlvbigpe2woZSx7JGV2ZW50OnJ8fG59KX0pfSkscC5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7cC5hZGRDbGFzcyh5KX0pLHAub24oXCJtb3VzZW1vdmUgbW91c2V1cFwiLGZ1bmN0aW9uKCl7cC5yZW1vdmVDbGFzcyh5KX0pfX06dm9pZCAwOnAoZSxuLGEpfSxlfV0pLGFuZ3VsYXIuZm9yRWFjaChcImRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24obil7dmFyIHI9d2luZG93LiRmYW1vdXNVdGlsLmRpcmVjdGl2ZU5vcm1hbGl6ZShcIm5nLVwiK24pO2UuZGVjb3JhdG9yKHIrXCJEaXJlY3RpdmVcIixbXCIkZGVsZWdhdGVcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixcIiRwYXJzZVwiLFwiJGZhbW91c1wiLGZ1bmN0aW9uKGUsYSxvLHQpe3ZhciBpPWVbMF0scz1pLmNvbXBpbGU7cmV0dXJuIGkuY29tcGlsZT1mdW5jdGlvbihlLGksdSl7cmV0dXJuIHQudXRpbC5pc0ZhRWxlbWVudChlKT97cG9zdDpmdW5jdGlvbihlLHQsaSl7dmFyIHM9YS5lbnN1cmVJc29sYXRlKGUpO2lmKGlbcl0pe3ZhciB1PXMucmVuZGVyTm9kZS5fZXZlbnRJbnB1dHx8cy5yZW5kZXJOb2RlO3Uub24obixmdW5jdGlvbihuKXt2YXIgYT1vKGlbcl0pO2EoZSx7JGV2ZW50Om59KSxlLiQkcGhhc2V8fGUuJGFwcGx5KCl9KX19fTpzKGUsaSx1KX0sZX1dKX0pfV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFNb2RpZmllclwiLFtcIiRmYW1vdXNcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixcIiRwYXJzZVwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGUsbixyLGEpe3JldHVybnt0ZW1wbGF0ZTpcIjxkaXY+PC9kaXY+XCIsdHJhbnNjbHVkZTohMCxyZXN0cmljdDpcIkVBXCIscHJpb3JpdHk6MixzY29wZTohMCxjb21waWxlOmZ1bmN0aW9uKG8sdCxpKXtyZXR1cm57cG9zdDpmdW5jdGlvbihvLHQscyl7dmFyIHU9bi5lbnN1cmVJc29sYXRlKG8pLGM9ZVtcImZhbW91cy9jb3JlL1JlbmRlck5vZGVcIl0sZj1lW1wiZmFtb3VzL2NvcmUvTW9kaWZpZXJcIl0sbD1lW1wiZmFtb3VzL2NvcmUvVHJhbnNmb3JtXCJdLGQ9ZVtcImZhbW91cy9waHlzaWNzL2JvZGllcy9QYXJ0aWNsZVwiXSxtPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBvc2l0aW9uKCl9LHA9W1wiYWJvdXRPcmlnaW5cIixcInBlcnNwZWN0aXZlXCIsXCJyb3RhdGVcIixcInJvdGF0ZUF4aXNcIixcInJvdGF0ZVhcIixcInJvdGF0ZVlcIixcInJvdGF0ZVpcIixcInNjYWxlXCIsXCJza2V3XCIsXCJ0cmFuc2xhdGVcIl07cy4kb2JzZXJ2ZShcImZhVHJhbnNmb3JtT3JkZXJcIixmdW5jdGlvbigpe3ZhciBlPW8uJGV2YWwocy5mYVRyYW5zZm9ybU9yZGVyKTt2b2lkIDAhPT1lJiYocD1lKX0pO3ZhciB2PXt9O2FuZ3VsYXIuZm9yRWFjaChwLGZ1bmN0aW9uKG4pe3ZhciBhPWUudXRpbC5kaXJlY3RpdmVOb3JtYWxpemUoXCJmYS1cIituKTtzLiRvYnNlcnZlKGEsZnVuY3Rpb24oKXt2W25dPXIoc1thXSl9KX0pO3ZhciBnPWFuZ3VsYXIubm9vcDtzLiRvYnNlcnZlKFwiZmFUcmFuc2Zvcm1cIixmdW5jdGlvbigpe2c9cihzLmZhVHJhbnNmb3JtKX0pLHUuZ2V0VHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIGU9ZyhvKTtpZih2b2lkIDAhPT1lKXJldHVybiBlIGluc3RhbmNlb2YgRnVuY3Rpb24/ZSgpOmUgaW5zdGFuY2VvZiBPYmplY3QmJnZvaWQgMCE9PWUuZ2V0P2UuZ2V0KCk6ZTt2YXIgbj1bXTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKHAsZnVuY3Rpb24oZSl7dmFyIHI9dltlXT92W2VdKG8pOnZvaWQgMDt2b2lkIDAhPT1yJiYociBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYocj1yKCkpLG4ucHVzaChyIGluc3RhbmNlb2YgQXJyYXk/bFtlXS5hcHBseSh0aGlzLHIpOnIgaW5zdGFuY2VvZiBkP2xbZV0uYXBwbHkodGhpcyxtKHIpKTpsW2VdLmNhbGwodGhpcyxyKSkpfSksbi5sZW5ndGg/MT09PW4ubGVuZ3RoP25bMF06bC5tdWx0aXBseS5hcHBseSh0aGlzLG4pOnZvaWQgMH07dmFyIGg9YW5ndWxhci5ub29wO3MuJG9ic2VydmUoXCJmYUFsaWduXCIsZnVuY3Rpb24oKXtoPXIocy5mYUFsaWduKX0pLHUuZ2V0QWxpZ249ZnVuY3Rpb24oKXt2YXIgZT1oKG8pO3JldHVybiBlIGluc3RhbmNlb2YgRnVuY3Rpb24/ZSgpOmUgaW5zdGFuY2VvZiBPYmplY3QmJnZvaWQgMCE9PWUuZ2V0P2UuZ2V0KCk6ZSBpbnN0YW5jZW9mIGQ/bShlKTplfTt2YXIgJD1hbmd1bGFyLm5vb3A7cy4kb2JzZXJ2ZShcImZhT3BhY2l0eVwiLGZ1bmN0aW9uKCl7JD1yKHMuZmFPcGFjaXR5KX0pLHUuZ2V0T3BhY2l0eT1mdW5jdGlvbigpe3ZhciBlPSQobyk7cmV0dXJuIHZvaWQgMD09PWU/MTplIGluc3RhbmNlb2YgRnVuY3Rpb24/ZSgpOmUgaW5zdGFuY2VvZiBPYmplY3QmJnZvaWQgMCE9PWUuZ2V0P2UuZ2V0KCk6ZSBpbnN0YW5jZW9mIGQ/bShlKTplfTt2YXIgeT1hbmd1bGFyLm5vb3A7cy4kb2JzZXJ2ZShcImZhU2l6ZVwiLGZ1bmN0aW9uKCl7eT1yKHMuZmFTaXplKX0pLHUuZ2V0U2l6ZT1mdW5jdGlvbigpe3ZhciBlPXkobyk7cmV0dXJuIGUgaW5zdGFuY2VvZiBGdW5jdGlvbj9lKCk6ZSBpbnN0YW5jZW9mIE9iamVjdCYmdm9pZCAwIT09ZS5nZXQ/ZS5nZXQoKTplIGluc3RhbmNlb2YgZD9tKGUpOmV9O3ZhciB3PWFuZ3VsYXIubm9vcDtzLiRvYnNlcnZlKFwiZmFPcmlnaW5cIixmdW5jdGlvbigpe3c9cihzLmZhT3JpZ2luKX0pLHUuZ2V0T3JpZ2luPWZ1bmN0aW9uKCl7dmFyIGU9dyhvKTtyZXR1cm4gZSBpbnN0YW5jZW9mIEZ1bmN0aW9uP2UoKTplIGluc3RhbmNlb2YgT2JqZWN0JiZ2b2lkIDAhPT1lLmdldD9lLmdldCgpOmUgaW5zdGFuY2VvZiBkP20oZSk6ZX0sdS5tb2RpZmllcj1uZXcgZih7dHJhbnNmb3JtOnUuZ2V0VHJhbnNmb3JtLHNpemU6dS5nZXRTaXplLG9wYWNpdHk6dS5nZXRPcGFjaXR5LG9yaWdpbjp1LmdldE9yaWdpbixhbGlnbjp1LmdldEFsaWdufSksdS5yZW5kZXJOb2RlPShuZXcgYykuYWRkKHUubW9kaWZpZXIpLG4uYWRkUm9sZShcInJlbmRlcmFibGVcIix1KSx1LnNob3coKSxuLnNlcXVlbmNlV2l0aChvLGZ1bmN0aW9uKGUpe3UucmVuZGVyTm9kZS5hZGQoZS5yZW5kZXJHYXRlKX0pLGkobyxmdW5jdGlvbihlKXt0LmZpbmQoXCJkaXZcIikuYXBwZW5kKGUpfSksbi5yZWdpc3RlckNoaWxkKG8sdCx1LGZ1bmN0aW9uKCl7dS5tb2RpZmllci5zZXRPcGFjaXR5KDApfSksby4kJHBoYXNlfHxhLiQkcGhhc2V8fG8uJGFwcGx5KCl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFNb3VzZW92ZXJcIixbXCIkcGFyc2VcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixmdW5jdGlvbihlLG4pe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTohMSxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3Bvc3Q6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKTtpZihvLmZhTW91c2VvdmVyKXt2YXIgaT10LnJlbmRlck5vZGUuX2V2ZW50SW5wdXR8fHQucmVuZGVyTm9kZTtpLm9uKFwibW91c2VvdmVyXCIsZnVuY3Rpb24obil7dmFyIGE9ZShvLmZhTW91c2VvdmVyKTthKHIseyRldmVudDpufSksci4kJHBoYXNlfHxyLiRhcHBseSgpfSl9fX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhT3B0aW9uc1wiLFtcIiRwYXJzZVwiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiExLHByaW9yaXR5Oi0xNixjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3Bvc3Q6ZnVuY3Rpb24oZSxyLGEpe3ZhciBvPW4uZW5zdXJlSXNvbGF0ZShlLHIpO2UuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuJGV2YWwoYS5mYU9wdGlvbnMpfSxmdW5jdGlvbigpe28ucmVuZGVyTm9kZS5zZXRPcHRpb25zKGUuJGV2YWwoYS5mYU9wdGlvbnMpKX0sITApfX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhUGlwZUZyb21cIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsXCIkZmFtb3VzUGlwZVwiLGZ1bmN0aW9uKGUsbixyKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6ITEscHJpb3JpdHk6MTYsY29tcGlsZTpmdW5jdGlvbigpe3ZhciBhPWVbXCJmYW1vdXMvY29yZS9FbmdpbmVcIl07cmV0dXJue3Bvc3Q6ZnVuY3Rpb24oZSxvLHQpe3ZhciBpPW4uZW5zdXJlSXNvbGF0ZShlKTtlLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBlLiRldmFsKHQuZmFQaXBlRnJvbSl9LGZ1bmN0aW9uKGUsbil7dmFyIG87bz1pLnJlbmRlck5vZGUmJmkucmVuZGVyTm9kZS5faXNNb2RpZmllcj9pLnJlbmRlck5vZGUuX29iamVjdDppLnJlbmRlck5vZGU/aS5yZW5kZXJOb2RlLl9ldmVudElucHV0fHxpLnJlbmRlck5vZGU6YSxyLnVucGlwZXNGcm9tVGFyZ2V0cyhvLG4pLHIucGlwZXNUb1RhcmdldHMobyxlKX0pLGUuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe3IudW5waXBlc0Zyb21UYXJnZXRzKGkucmVuZGVyTm9kZXx8YSxlLiRldmFsKHQuZmFQaXBlRnJvbSkpfSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFQaXBlVG9cIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsXCIkZmFtb3VzUGlwZVwiLGZ1bmN0aW9uKGUsbixyKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6ITEscHJpb3JpdHk6MTYsY29tcGlsZTpmdW5jdGlvbigpe3ZhciBhPWVbXCJmYW1vdXMvY29yZS9FbmdpbmVcIl07cmV0dXJue3Bvc3Q6ZnVuY3Rpb24oZSxvLHQpe3ZhciBpPW4uZW5zdXJlSXNvbGF0ZShlKTtlLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBlLiRldmFsKHQuZmFQaXBlVG8pfSxmdW5jdGlvbihlLG4pe3ZhciBvO289aS5yZW5kZXJOb2RlJiZpLnJlbmRlck5vZGUuX2lzTW9kaWZpZXI/aS5yZW5kZXJOb2RlLl9vYmplY3Q6aS5yZW5kZXJOb2RlP2kucmVuZGVyTm9kZS5fZXZlbnRPdXRwdXR8fGkucmVuZGVyTm9kZTphLHIudW5waXBlc0Zyb21UYXJnZXRzKG4sbyksci5waXBlc1RvVGFyZ2V0cyhlLG8pfSksZS4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ci51bnBpcGVzRnJvbVRhcmdldHMoZS4kZXZhbCh0LmZhUGlwZVRvKSxpLnJlbmRlck5vZGV8fGEpfSl9fX19fV0pLGFuZ3VsYXIubW9kdWxlKFwiZmFtb3VzLmFuZ3VsYXJcIikuZGlyZWN0aXZlKFwiZmFSZW5kZXJOb2RlXCIsW1wiJGZhbW91c1wiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3RlbXBsYXRlOlwiPGRpdj48L2Rpdj5cIix0cmFuc2NsdWRlOiEwLHNjb3BlOiEwLHJlc3RyaWN0OlwiRUFcIixjb21waWxlOmZ1bmN0aW9uKHIsYSxvKXtyZXR1cm57cHJlOmZ1bmN0aW9uKHIsYSxvKXt7dmFyIHQ9bi5lbnN1cmVJc29sYXRlKHIpLGk9ZVtcImZhbW91cy9jb3JlL0VuZ2luZVwiXTtcbmVbXCJmYW1vdXMvY29yZS9SZW5kZXJOb2RlXCJdfXQuY2hpbGRyZW49W10sby4kb2JzZXJ2ZShcImZhUGlwZVRvXCIsZnVuY3Rpb24oZSl7dmFyIG49ci4kZXZhbChlKTtuJiZpLnBpcGUobil9KSx0LnJlbmRlck5vZGU9ci4kZXZhbChvLmZhTm9kZSksbi5hZGRSb2xlKFwicmVuZGVyYWJsZVwiLHQpLHQuc2hvdygpLG4uc2VxdWVuY2VXaXRoKHIsZnVuY3Rpb24oZSl7dC5yZW5kZXJOb2RlLmFkZChlLnJlbmRlckdhdGUpLHQuY2hpbGRyZW4ucHVzaChlKX0pfSxwb3N0OmZ1bmN0aW9uKGUscil7dmFyIGE9bi5lbnN1cmVJc29sYXRlKGUpO28oZSxmdW5jdGlvbihlKXtyLmZpbmQoXCJkaXZcIikuYXBwZW5kKGUpfSksbi5yZWdpc3RlckNoaWxkKGUscixhKX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYVNjcm9sbFZpZXdcIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57dGVtcGxhdGU6XCI8ZGl2PjwvZGl2PlwiLHJlc3RyaWN0OlwiRVwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6ITAsY29tcGlsZTpmdW5jdGlvbihyLGEsbyl7cmV0dXJue3ByZTpmdW5jdGlvbihyLGEsbyl7dmFyIHQ9bi5lbnN1cmVJc29sYXRlKHIpLGk9ZVtcImZhbW91cy92aWV3cy9TY3JvbGx2aWV3XCJdLHM9ZVtcImZhbW91cy9jb3JlL1ZpZXdTZXF1ZW5jZVwiXSx1PShlW1wiZmFtb3VzL2NvcmUvU3VyZmFjZVwiXSxbXSksYz1yLiRldmFsKG8uZmFPcHRpb25zKXx8e307dC5yZW5kZXJOb2RlPW5ldyBpKGMpLG4uYWRkUm9sZShcInJlbmRlcmFibGVcIix0KSx0LnNob3coKTt2YXIgZj1mdW5jdGlvbihlKXtyLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe3Uuc29ydChmdW5jdGlvbihlLG4pe3JldHVybiBlLmluZGV4LW4uaW5kZXh9KTt2YXIgbj17YXJyYXk6ZnVuY3Rpb24oZSl7dmFyIG49W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChlLGZ1bmN0aW9uKGUscil7bltyXT1lLnJlbmRlckdhdGV9KSxufSh1KX07ZSYmKG4uaW5kZXg9ci4kZXZhbChvLmZhU3RhcnRJbmRleCkpO3ZhciBhPW5ldyBzKG4pO3QucmVuZGVyTm9kZS5zZXF1ZW5jZUZyb20oYSl9KX07bi5zZXF1ZW5jZVdpdGgocixmdW5jdGlvbihlKXt1LnB1c2goZSksZighMCl9LGZ1bmN0aW9uKGUpe3U9ZnVuY3Rpb24obil7dmFyIHI9W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChuLGZ1bmN0aW9uKG4pe24uaWQhPT1lJiZyLnB1c2gobil9KSxyfSh1KSxmKCl9LGYpfSxwb3N0OmZ1bmN0aW9uKGUscil7dmFyIGE9bi5lbnN1cmVJc29sYXRlKGUpO28oZSxmdW5jdGlvbihlKXtyLmZpbmQoXCJkaXZcIikuYXBwZW5kKGUpfSksbi5yZWdpc3RlckNoaWxkKGUscixhKX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYVNlcXVlbnRpYWxMYXlvdXRcIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57dGVtcGxhdGU6XCI8ZGl2PjwvZGl2PlwiLHJlc3RyaWN0OlwiRVwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6ITAsY29tcGlsZTpmdW5jdGlvbihyLGEsbyl7cmV0dXJuIHdpbmRvdy4kZj1lLHtwcmU6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKSxpPWVbXCJmYW1vdXMvdmlld3MvU2VxdWVudGlhbExheW91dFwiXSxzPVtdLHU9ci4kZXZhbChvLmZhT3B0aW9ucyl8fHt9O3QucmVuZGVyTm9kZT1uZXcgaSh1KSxuLmFkZFJvbGUoXCJyZW5kZXJhYmxlXCIsdCksdC5zaG93KCk7dmFyIGM9ZnVuY3Rpb24oKXtzLnNvcnQoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5pbmRleC1uLmluZGV4fSksdC5yZW5kZXJOb2RlLnNlcXVlbmNlRnJvbShmdW5jdGlvbihlKXt2YXIgbj1bXTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGUsZnVuY3Rpb24oZSxyKXtuW3JdPWUucmVuZGVyR2F0ZX0pLG59KHMpKX07bi5zZXF1ZW5jZVdpdGgocixmdW5jdGlvbihlKXtzLnB1c2goZSksYygpfSxmdW5jdGlvbihlKXtzPWZ1bmN0aW9uKG4pe3ZhciByPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2gobixmdW5jdGlvbihuKXtuLmlkIT09ZSYmci5wdXNoKG4pfSkscn0ocyksYygpfSl9LHBvc3Q6ZnVuY3Rpb24oZSxyKXt2YXIgYT1uLmVuc3VyZUlzb2xhdGUoZSk7byhlLGZ1bmN0aW9uKGUpe3IuZmluZChcImRpdlwiKS5hcHBlbmQoZSl9KSxuLnJlZ2lzdGVyQ2hpbGQoZSxyLGEpfX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhU3VyZmFjZVwiLFtcIiRmYW1vdXNcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixcIiRpbnRlcnBvbGF0ZVwiLFwiJGNvbnRyb2xsZXJcIixcIiRjb21waWxlXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57c2NvcGU6ITAsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cImZhLXN1cmZhY2VcIj48L2Rpdj4nLHJlc3RyaWN0OlwiRUFcIixjb21waWxlOmZ1bmN0aW9uKHIsYSxvKXtyZXR1cm57cHJlOmZ1bmN0aW9uKHIsYSxvKXt7dmFyIHQ9bi5lbnN1cmVJc29sYXRlKHIpLGk9ZVtcImZhbW91cy9jb3JlL1N1cmZhY2VcIl07ZVtcImZhbW91cy9jb3JlL1RyYW5zZm9ybVwiXSxlW1wiZmFtb3VzL2NvcmUvRXZlbnRIYW5kbGVyXCJdfXIuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0UHJvcGVydGllcygpfSxmdW5jdGlvbigpe3QucmVuZGVyTm9kZSYmdC5yZW5kZXJOb2RlLnNldFByb3BlcnRpZXModC5nZXRQcm9wZXJ0aWVzKCkpfSwhMCk7dmFyIHM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmYVwiK2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX07dC5nZXRQcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXIuJGV2YWwoby5mYVByb3BlcnRpZXMpfHx7fSxuPVtcImJhY2tncm91bmRDb2xvclwiLFwibWFyZ2luXCIsXCJwYWRkaW5nXCIsXCJjb2xvclwiLFwicG9pbnRlckV2ZW50c1wiLFwiekluZGV4XCJdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHQ9blthXSxpPXModCk7b1tpXSYmKGVbdF09ci4kZXZhbChvW2ldKSl9cmV0dXJuIGV9O3ZhciB1PVtdO28uJG9ic2VydmUoXCJmYVNpemVcIixmdW5jdGlvbigpe3QucmVuZGVyTm9kZS5zZXRTaXplKHIuJGV2YWwoby5mYVNpemUpKSx1LnB1c2gobmV3IERhdGUpLHUubGVuZ3RoPjUmJih1WzRdLXVbMF08PTFlMyYmY29uc29sZS53YXJuKFwiVXNpbmcgZmEtc2l6ZSBvbiBmYS1zdXJmYWNlIHRvIGFuaW1hdGUgaXMgc2lnbmlmaWNhbnRseSBub24tcGVyZm9ybWFudCwgcHJlZmVyIHRvIHVzZSBmYS1zaXplIG9uIGFuIGZhLW1vZGlmaWVyIHN1cnJvdW5kaW5nIGEgZmEtc3VyZmFjZVwiKSx1LnNoaWZ0KCkpfSksdC5yZW5kZXJOb2RlPW5ldyBpKHtzaXplOnIuJGV2YWwoby5mYVNpemUpLHByb3BlcnRpZXM6dC5nZXRQcm9wZXJ0aWVzKCl9KSxuLmFkZFJvbGUoXCJyZW5kZXJhYmxlXCIsdCksdC5zaG93KCksby5jbGFzcyYmdC5yZW5kZXJOb2RlLnNldENsYXNzZXMob1tcImNsYXNzXCJdLnNwbGl0KFwiIFwiKSksbi5zZXF1ZW5jZVdpdGgocixmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlN1cmZhY2VzIGFyZSBsZWFmIG5vZGVzIG9mIHRoZSBGYW1vLnVzIHJlbmRlciB0cmVlIGFuZCBjYW5ub3QgYWNjZXB0IHJlbmRlcm5vZGUgY2hpbGRyZW4uICBUbyBpbmNsdWRlIGFkZGl0aW9uYWwgRmFtby51cyBjb250ZW50IGluc2lkZSBvZiBhIGZhLXN1cmZhY2UsIHRoYXQgY29udGVudCBtdXN0IGJlIGVuY2xvc2VkIGluIGFuIGFkZGl0aW9uYWwgZmEtYXBwLlwiKX0pfSxwb3N0OmZ1bmN0aW9uKGUscil7dmFyIGE9bi5lbnN1cmVJc29sYXRlKGUpLHQ9ZnVuY3Rpb24oKXthLnJlbmRlck5vZGUuc2V0Q29udGVudChyWzBdLnF1ZXJ5U2VsZWN0b3IoXCJkaXYuZmEtc3VyZmFjZVwiKSl9O3QoKSxvKGUsZnVuY3Rpb24oZSl7YW5ndWxhci5lbGVtZW50KHJbMF0ucXVlcnlTZWxlY3RvckFsbChcImRpdi5mYS1zdXJmYWNlXCIpKS5hcHBlbmQoZSl9KSxuLnJlZ2lzdGVyQ2hpbGQoZSxyLGEsZnVuY3Rpb24oKXt9KX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYVRhcFwiLFtcIiRwYXJzZVwiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cG9zdDpmdW5jdGlvbihyLGEsbyl7dmFyIHQ9bi5lbnN1cmVJc29sYXRlKHIpO2lmKG8uZmFUYXApe3ZhciBpPXQucmVuZGVyTm9kZS5fZXZlbnRJbnB1dHx8dC5yZW5kZXJOb2RlLHM9ITE7aS5vbihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiBzPSEwLGV9KSxpLm9uKFwidGFwXCIsZnVuY3Rpb24obil7aWYoIXMpe3ZhciBhPWUoby5mYVRhcCk7YShyLHskZXZlbnQ6bn0pLHIuJCRwaGFzZXx8ci4kYXBwbHkoKX1zPSExfSl9fX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhVG91Y2hlbmRcIixbXCIkcGFyc2VcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixmdW5jdGlvbihlLG4pe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTohMSxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3Bvc3Q6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKTtpZihvLmZhVG91Y2hlbmQpe3ZhciBpPXQucmVuZGVyTm9kZS5fZXZlbnRJbnB1dHx8dC5yZW5kZXJOb2RlO2kub24oXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKG4pe3ZhciBhPWUoby5mYVRvdWNoZW5kKTthKHIseyRldmVudDpufSksci4kJHBoYXNlfHxyLiRhcHBseSgpfSl9fX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhVG91Y2htb3ZlXCIsW1wiJHBhcnNlXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6ITEsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwb3N0OmZ1bmN0aW9uKHIsYSxvKXt2YXIgdD1uLmVuc3VyZUlzb2xhdGUocik7aWYoby5mYVRvdWNobW92ZSl7dmFyIGk9dC5yZW5kZXJOb2RlLl9ldmVudElucHV0fHx0LnJlbmRlck5vZGU7aS5vbihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKG4pe3ZhciBhPWUoby5mYVRvdWNobW92ZSk7YShyLHskZXZlbnQ6bn0pLHIuJCRwaGFzZXx8ci4kYXBwbHkoKX0pfX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYVRvdWNoc3RhcnRcIixbXCIkcGFyc2VcIixcIiRmYW1vdXNEZWNvcmF0b3JcIixmdW5jdGlvbihlLG4pe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTohMSxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3Bvc3Q6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKTtpZihvLmZhVG91Y2hzdGFydCl7dmFyIGk9dC5yZW5kZXJOb2RlLl9ldmVudElucHV0fHx0LnJlbmRlck5vZGU7aS5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbihuKXt2YXIgYT1lKG8uZmFUb3VjaHN0YXJ0KTthKHIseyRldmVudDpufSksci4kJHBoYXNlfHxyLiRhcHBseSgpfSl9fX19fX1dKSxhbmd1bGFyLm1vZHVsZShcImZhbW91cy5hbmd1bGFyXCIpLmRpcmVjdGl2ZShcImZhVmlkZW9TdXJmYWNlXCIsW1wiJGZhbW91c1wiLFwiJGZhbW91c0RlY29yYXRvclwiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3Njb3BlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJmYS12aWRlby1zdXJmYWNlXCI+PC9kaXY+JyxyZXN0cmljdDpcIkVBXCIsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PW4uZW5zdXJlSXNvbGF0ZShyKSxpPWVbXCJmYW1vdXMvc3VyZmFjZXMvVmlkZW9TdXJmYWNlXCJdO3IuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuJGV2YWwoby5mYU9wdGlvbnMpfSxmdW5jdGlvbihlLG4pe3QucmVuZGVyTm9kZS5zZXRPcHRpb25zKG4pfSwhMCksdC5yZW5kZXJOb2RlPW5ldyBpKHtcImNsYXNzXCI6ci4kZXZhbChvLmNsYXNzKX0pLG4uYWRkUm9sZShcInJlbmRlcmFibGVcIix0KSx0LnNob3coKSxvLmNsYXNzJiZ0LnJlbmRlck5vZGUuc2V0Q2xhc3NlcyhvW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpKSxuLnNlcXVlbmNlV2l0aChyLGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiU3VyZmFjZXMgYXJlIGxlYWYgbm9kZXMgb2YgdGhlIEZhbW8udXMgcmVuZGVyIHRyZWUgYW5kIGNhbm5vdCBhY2NlcHQgcmVuZGVybm9kZSBjaGlsZHJlbi4gIFRvIGluY2x1ZGUgYWRkaXRpb25hbCBGYW1vLnVzIGNvbnRlbnQgaW5zaWRlIG9mIGEgZmEtc3VyZmFjZSwgdGhhdCBjb250ZW50IG11c3QgYmUgZW5jbG9zZWQgaW4gYW4gYWRkaXRpb25hbCBmYS1hcHAuXCIpfSl9LHBvc3Q6ZnVuY3Rpb24oZSxyLGEpe3ZhciBvPW4uZW5zdXJlSXNvbGF0ZShlKSx0PWZ1bmN0aW9uKCl7by5yZW5kZXJOb2RlLnNldENvbnRlbnQoYS5mYVZpZGVvVXJsKX07dCgpLGEuJG9ic2VydmUoXCJmYVZpZGVvVXJsXCIsdCksbi5yZWdpc3RlckNoaWxkKGUscixvKX19fX19XSksYW5ndWxhci5tb2R1bGUoXCJmYW1vdXMuYW5ndWxhclwiKS5kaXJlY3RpdmUoXCJmYVZpZXdcIixbXCIkZmFtb3VzXCIsXCIkZmFtb3VzRGVjb3JhdG9yXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57dGVtcGxhdGU6XCI8ZGl2PjwvZGl2PlwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6ITAscmVzdHJpY3Q6XCJFQVwiLGNvbXBpbGU6ZnVuY3Rpb24ocixhLG8pe3ZhciB0PWVbXCJmYW1vdXMvY29yZS9WaWV3XCJdO3JldHVybntwcmU6ZnVuY3Rpb24oZSxyLGEpe3ZhciBvPW4uZW5zdXJlSXNvbGF0ZShlKTtvLmNoaWxkcmVuPVtdLG8ucmVuZGVyTm9kZT1uZXcgdCh7c2l6ZTplLiRldmFsKGEuZmFTaXplKXx8W3ZvaWQgMCx2b2lkIDBdfSksbi5hZGRSb2xlKFwicmVuZGVyYWJsZVwiLG8pLG8uc2hvdygpLG4uc2VxdWVuY2VXaXRoKGUsZnVuY3Rpb24oZSl7by5yZW5kZXJOb2RlLmFkZChlLnJlbmRlckdhdGUpLG8uY2hpbGRyZW4ucHVzaChlKX0pfSxwb3N0OmZ1bmN0aW9uKGUscil7dmFyIGE9bi5lbnN1cmVJc29sYXRlKGUpO28oZSxmdW5jdGlvbihlKXtyLmZpbmQoXCJkaXZcIikuYXBwZW5kKGUpfSksbi5yZWdpc3RlckNoaWxkKGUscixhKX19fX19XSk7XG59KS5jYWxsKGdsb2JhbCwgbW9kdWxlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbjtfX2Jyb3dzZXJpZnlfc2hpbV9yZXF1aXJlX189cmVxdWlyZTsoZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBleHBvcnRzLCByZXF1aXJlLCBkZWZpbmUsIGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKSB7XG4vKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuICpcbiAqIEBjb3B5cmlnaHQgRmFtb3VzIEluZHVzdHJpZXMsIEluYy4gMjAxNFxuICovXG4hZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/aT13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9pPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKGk9c2VsZiksaS5mYW1vdXM9dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChpLGUsbil7ZnVuY3Rpb24gbyhyLGEpe2lmKCFlW3JdKXtpZighaVtyXSl7dmFyIGg9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmaClyZXR1cm4gaChyLCEwKTtpZihzKXJldHVybiBzKHIsITApO3ZhciBjPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrcitcIidcIik7dGhyb3cgYy5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGN9dmFyIHA9ZVtyXT17ZXhwb3J0czp7fX07aVtyXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbih0KXt2YXIgZT1pW3JdWzFdW3RdO3JldHVybiBvKGU/ZTp0KX0scCxwLmV4cG9ydHMsdCxpLGUsbil9cmV0dXJuIGVbcl0uZXhwb3J0c31mb3IodmFyIHM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxyPTA7cjxuLmxlbmd0aDtyKyspbyhuW3JdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtyZXR1cm5bdC5jbGllbnRXaWR0aCx0LmNsaWVudEhlaWdodF19ZnVuY3Rpb24gbih0KXt0aGlzLmNvbnRhaW5lcj10LHRoaXMuX2FsbG9jYXRvcj1uZXcgcih0KSx0aGlzLl9ub2RlPW5ldyBvLHRoaXMuX2V2ZW50T3V0cHV0PW5ldyBzLHRoaXMuX3NpemU9ZSh0aGlzLmNvbnRhaW5lciksdGhpcy5fcGVyc3BlY3RpdmVTdGF0ZT1uZXcgaCgwKSx0aGlzLl9wZXJzcGVjdGl2ZT12b2lkIDAsdGhpcy5fbm9kZUNvbnRleHQ9e2FsbG9jYXRvcjp0aGlzLl9hbGxvY2F0b3IsdHJhbnNmb3JtOmEuaWRlbnRpdHksb3BhY2l0eToxLG9yaWdpbjpjLGFsaWduOmMsc2l6ZTp0aGlzLl9zaXplfSx0aGlzLl9ldmVudE91dHB1dC5vbihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7dGhpcy5zZXRTaXplKGUodGhpcy5jb250YWluZXIpKX0uYmluZCh0aGlzKSl9dmFyIG89dChcIi4vUmVuZGVyTm9kZVwiKSxzPXQoXCIuL0V2ZW50SGFuZGxlclwiKSxyPXQoXCIuL0VsZW1lbnRBbGxvY2F0b3JcIiksYT10KFwiLi9UcmFuc2Zvcm1cIiksaD10KFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIiksYz1bMCwwXSxwPSEoXCJwZXJzcGVjdGl2ZVwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlKSx1PXA/ZnVuY3Rpb24odCxpKXt0LnN0eWxlLndlYmtpdFBlcnNwZWN0aXZlPWk/aS50b0ZpeGVkKCkrXCJweFwiOlwiXCJ9OmZ1bmN0aW9uKHQsaSl7dC5zdHlsZS5wZXJzcGVjdGl2ZT1pP2kudG9GaXhlZCgpK1wicHhcIjpcIlwifTtuLnByb3RvdHlwZS5nZXRBbGxvY2F0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxsb2NhdG9yfSxuLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25vZGUuYWRkKHQpfSxuLnByb3RvdHlwZS5taWdyYXRlPWZ1bmN0aW9uKHQpe3QhPT10aGlzLmNvbnRhaW5lciYmKHRoaXMuY29udGFpbmVyPXQsdGhpcy5fYWxsb2NhdG9yLm1pZ3JhdGUodCkpfSxuLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9LG4ucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24odCl7dHx8KHQ9ZSh0aGlzLmNvbnRhaW5lcikpLHRoaXMuX3NpemVbMF09dFswXSx0aGlzLl9zaXplWzFdPXRbMV19LG4ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0JiYodC50cmFuc2Zvcm0mJih0aGlzLl9ub2RlQ29udGV4dC50cmFuc2Zvcm09dC50cmFuc2Zvcm0pLHQub3BhY2l0eSYmKHRoaXMuX25vZGVDb250ZXh0Lm9wYWNpdHk9dC5vcGFjaXR5KSx0Lm9yaWdpbiYmKHRoaXMuX25vZGVDb250ZXh0Lm9yaWdpbj10Lm9yaWdpbiksdC5hbGlnbiYmKHRoaXMuX25vZGVDb250ZXh0LmFsaWduPXQuYWxpZ24pLHQuc2l6ZSYmKHRoaXMuX25vZGVDb250ZXh0LnNpemU9dC5zaXplKSk7dmFyIGk9dGhpcy5fcGVyc3BlY3RpdmVTdGF0ZS5nZXQoKTtpIT09dGhpcy5fcGVyc3BlY3RpdmUmJih1KHRoaXMuY29udGFpbmVyLGkpLHRoaXMuX3BlcnNwZWN0aXZlPWkpLHRoaXMuX25vZGUuY29tbWl0KHRoaXMuX25vZGVDb250ZXh0KX0sbi5wcm90b3R5cGUuZ2V0UGVyc3BlY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVyc3BlY3RpdmVTdGF0ZS5nZXQoKX0sbi5wcm90b3R5cGUuc2V0UGVyc3BlY3RpdmU9ZnVuY3Rpb24odCxpLGUpe3JldHVybiB0aGlzLl9wZXJzcGVjdGl2ZVN0YXRlLnNldCh0LGksZSl9LG4ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5fZXZlbnRPdXRwdXQuZW1pdCh0LGkpfSxuLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLl9ldmVudE91dHB1dC5vbih0LGkpfSxuLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLl9ldmVudE91dHB1dC5yZW1vdmVMaXN0ZW5lcih0LGkpfSxuLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ldmVudE91dHB1dC5waXBlKHQpfSxuLnByb3RvdHlwZS51bnBpcGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V2ZW50T3V0cHV0LnVucGlwZSh0KX0saS5leHBvcnRzPW59LHtcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCI6ODgsXCIuL0VsZW1lbnRBbGxvY2F0b3JcIjoyLFwiLi9FdmVudEhhbmRsZXJcIjo3LFwiLi9SZW5kZXJOb2RlXCI6MTEsXCIuL1RyYW5zZm9ybVwiOjE1fV0sMjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3R8fCh0PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksdGhpcy5jb250YWluZXI9dCx0aGlzLmRldGFjaGVkTm9kZXM9e30sdGhpcy5ub2RlQ291bnQ9MH1lLnByb3RvdHlwZS5taWdyYXRlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY29udGFpbmVyO2lmKHQhPT1pKXtpZihpIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl0LmFwcGVuZENoaWxkKGkpO2Vsc2UgZm9yKDtpLmhhc0NoaWxkTm9kZXMoKTspdC5hcHBlbmRDaGlsZChpLnJlbW92ZUNoaWxkKGkuZmlyc3RDaGlsZCkpO3RoaXMuY29udGFpbmVyPXR9fSxlLnByb3RvdHlwZS5hbGxvY2F0ZT1mdW5jdGlvbih0KXt0PXQudG9Mb3dlckNhc2UoKSx0IGluIHRoaXMuZGV0YWNoZWROb2Rlc3x8KHRoaXMuZGV0YWNoZWROb2Rlc1t0XT1bXSk7dmFyIGksZT10aGlzLmRldGFjaGVkTm9kZXNbdF07cmV0dXJuIGUubGVuZ3RoPjA/aT1lLnBvcCgpOihpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCksdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoaSkpLHRoaXMubm9kZUNvdW50KyssaX0sZS5wcm90b3R5cGUuZGVhbGxvY2F0ZT1mdW5jdGlvbih0KXt2YXIgaT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZT10aGlzLmRldGFjaGVkTm9kZXNbaV07ZS5wdXNoKHQpLHRoaXMubm9kZUNvdW50LS19LGUucHJvdG90eXBlLmdldE5vZGVDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVDb3VudH0saS5leHBvcnRzPWV9LHt9XSwzOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5fbWF0cml4PW51bGwsdGhpcy5fb3BhY2l0eT0xLHRoaXMuX29yaWdpbj1udWxsLHRoaXMuX3NpemU9bnVsbCx0aGlzLl9ldmVudE91dHB1dD1uZXcgYyx0aGlzLl9ldmVudE91dHB1dC5iaW5kVGhpcyh0aGlzKSx0aGlzLmV2ZW50Rm9yd2FyZGVyPWZ1bmN0aW9uKHQpe3RoaXMuX2V2ZW50T3V0cHV0LmVtaXQodC50eXBlLHQpfS5iaW5kKHRoaXMpLHRoaXMuaWQ9aC5yZWdpc3Rlcih0aGlzKSx0aGlzLl9lbGVtZW50PW51bGwsdGhpcy5fc2l6ZURpcnR5PSExLHRoaXMuX29yaWdpbkRpcnR5PSExLHRoaXMuX3RyYW5zZm9ybURpcnR5PSExLHRoaXMuX2ludmlzaWJsZT0hMSx0JiZ0aGlzLmF0dGFjaCh0KX1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgaSBpbiB0aGlzLl9ldmVudE91dHB1dC5saXN0ZW5lcnMpdC5hZGRFdmVudExpc3RlbmVyKGksdGhpcy5ldmVudEZvcndhcmRlcil9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGkgaW4gdGhpcy5fZXZlbnRPdXRwdXQubGlzdGVuZXJzKXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLHRoaXMuZXZlbnRGb3J3YXJkZXIpfWZ1bmN0aW9uIHModCl7dFsxMl09TWF0aC5yb3VuZCh0WzEyXSpsKS9sLHRbMTNdPU1hdGgucm91bmQodFsxM10qbCkvbDtmb3IodmFyIGk9XCJtYXRyaXgzZChcIixlPTA7MTU+ZTtlKyspaSs9dFtlXTwxZS02JiZ0W2VdPi0xZS02P1wiMCxcIjp0W2VdK1wiLFwiO3JldHVybiBpKz10WzE1XStcIilcIn1mdW5jdGlvbiByKHQpe3JldHVybiAxMDAqdFswXStcIiUgXCIrMTAwKnRbMV0rXCIlXCJ9ZnVuY3Rpb24gYSh0LGkpe3JldHVybiB0JiZpP3RbMF0hPT1pWzBdfHx0WzFdIT09aVsxXTp0IT09aX12YXIgaD10KFwiLi9FbnRpdHlcIiksYz10KFwiLi9FdmVudEhhbmRsZXJcIikscD10KFwiLi9UcmFuc2Zvcm1cIiksdT0hKFwidHJhbnNmb3JtXCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpLGw9d2luZG93LmRldmljZVBpeGVsUmF0aW98fDE7ZS5wcm90b3R5cGUub249ZnVuY3Rpb24odCxpKXt0aGlzLl9lbGVtZW50JiZ0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodCx0aGlzLmV2ZW50Rm9yd2FyZGVyKSx0aGlzLl9ldmVudE91dHB1dC5vbih0LGkpfSxlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGkpe3RoaXMuX2V2ZW50T3V0cHV0LnJlbW92ZUxpc3RlbmVyKHQsaSl9LGUucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxpKXtpJiYhaS5vcmlnaW4mJihpLm9yaWdpbj10aGlzKTt2YXIgZT10aGlzLl9ldmVudE91dHB1dC5lbWl0KHQsaSk7cmV0dXJuIGUmJmkmJmkuc3RvcFByb3BhZ2F0aW9uJiZpLnN0b3BQcm9wYWdhdGlvbigpLGV9LGUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V2ZW50T3V0cHV0LnBpcGUodCl9LGUucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZXZlbnRPdXRwdXQudW5waXBlKHQpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH07dmFyIGY7Zj1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIik+LTE/ZnVuY3Rpb24odCxpKXt0LnN0eWxlLnpJbmRleD0xZTYqaVsxNF18MCx0LnN0eWxlLnRyYW5zZm9ybT1zKGkpfTp1P2Z1bmN0aW9uKHQsaSl7dC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09cyhpKX06ZnVuY3Rpb24odCxpKXt0LnN0eWxlLnRyYW5zZm9ybT1zKGkpfTt2YXIgZD11P2Z1bmN0aW9uKHQsaSl7dC5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW49cihpKX06ZnVuY3Rpb24odCxpKXt0LnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1yKGkpfSxfPXU/ZnVuY3Rpb24odCl7dC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJzY2FsZTNkKDAuMDAwMSwwLjAwMDEsMC4wMDAxKVwiLHQuc3R5bGUub3BhY2l0eT0wfTpmdW5jdGlvbih0KXt0LnN0eWxlLnRyYW5zZm9ybT1cInNjYWxlM2QoMC4wMDAxLDAuMDAwMSwwLjAwMDEpXCIsdC5zdHlsZS5vcGFjaXR5PTB9O2UucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9lbGVtZW50O2lmKGkpe3t2YXIgZT10LnRyYW5zZm9ybSxuPXQub3BhY2l0eSxvPXQub3JpZ2luO3Quc2l6ZX1pZighZSYmdGhpcy5fbWF0cml4KXJldHVybiB0aGlzLl9tYXRyaXg9bnVsbCx0aGlzLl9vcGFjaXR5PTAsdm9pZCBfKGkpO2lmKGEodGhpcy5fb3JpZ2luLG8pJiYodGhpcy5fb3JpZ2luRGlydHk9ITApLHAubm90RXF1YWxzKHRoaXMuX21hdHJpeCxlKSYmKHRoaXMuX3RyYW5zZm9ybURpcnR5PSEwKSx0aGlzLl9pbnZpc2libGUmJih0aGlzLl9pbnZpc2libGU9ITEsdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiXCIpLHRoaXMuX29wYWNpdHkhPT1uJiYodGhpcy5fb3BhY2l0eT1uLGkuc3R5bGUub3BhY2l0eT1uPj0xP1wiMC45OTk5OTlcIjpuKSx0aGlzLl90cmFuc2Zvcm1EaXJ0eXx8dGhpcy5fb3JpZ2luRGlydHl8fHRoaXMuX3NpemVEaXJ0eSl7dGhpcy5fc2l6ZURpcnR5JiYodGhpcy5fc2l6ZURpcnR5PSExKSx0aGlzLl9vcmlnaW5EaXJ0eSYmKG8/KHRoaXMuX29yaWdpbnx8KHRoaXMuX29yaWdpbj1bMCwwXSksdGhpcy5fb3JpZ2luWzBdPW9bMF0sdGhpcy5fb3JpZ2luWzFdPW9bMV0pOnRoaXMuX29yaWdpbj1udWxsLGQoaSx0aGlzLl9vcmlnaW4pLHRoaXMuX29yaWdpbkRpcnR5PSExKSxlfHwoZT1wLmlkZW50aXR5KSx0aGlzLl9tYXRyaXg9ZTt2YXIgcz10aGlzLl9zaXplP3AudGhlbk1vdmUoZSxbLXRoaXMuX3NpemVbMF0qb1swXSwtdGhpcy5fc2l6ZVsxXSpvWzFdLDBdKTplO2YoaSxzKSx0aGlzLl90cmFuc2Zvcm1EaXJ0eT0hMX19fSxlLnByb3RvdHlwZS5jbGVhbnVwPWZ1bmN0aW9uKCl7dGhpcy5fZWxlbWVudCYmKHRoaXMuX2ludmlzaWJsZT0hMCx0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfSxlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24odCl7dGhpcy5fZWxlbWVudD10LG4uY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbGVtZW50O3JldHVybiB0JiYoby5jYWxsKHRoaXMsdCksdGhpcy5faW52aXNpYmxlJiYodGhpcy5faW52aXNpYmxlPSExLHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT1cIlwiKSksdGhpcy5fZWxlbWVudD1udWxsLHR9LGkuZXhwb3J0cz1lfSx7XCIuL0VudGl0eVwiOjUsXCIuL0V2ZW50SGFuZGxlclwiOjcsXCIuL1RyYW5zZm9ybVwiOjE1fV0sNDpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKCl7di5ydW5Mb29wPyhwLnN0ZXAoKSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpKTpfPSExfWZ1bmN0aW9uIG4oKXtmb3IodmFyIHQ9MDt0PHUubGVuZ3RoO3QrKyl1W3RdLmVtaXQoXCJyZXNpemVcIik7Zy5lbWl0KFwicmVzaXplXCIpfWZ1bmN0aW9uIG8oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX0sITApLGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImZhbW91cy1yb290XCIpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZmFtb3VzLXJvb3RcIil9dmFyIHMscixhPXQoXCIuL0NvbnRleHRcIiksaD10KFwiLi9FdmVudEhhbmRsZXJcIiksYz10KFwiLi9PcHRpb25zTWFuYWdlclwiKSxwPXt9LHU9W10sbD1bXSxmPVtdLGQ9RGF0ZS5ub3coKSxfPSEwLHk9e30sZz1uZXcgaCx2PXtjb250YWluZXJUeXBlOlwiZGl2XCIsY29udGFpbmVyQ2xhc3M6XCJmYW1vdXMtY29udGFpbmVyXCIsZnBzQ2FwOnZvaWQgMCxydW5Mb29wOiEwLGFwcE1vZGU6ITB9LG09bmV3IGModiksTz0xMDtwLnN0ZXA9ZnVuY3Rpb24oKXt2YXIgdD1EYXRlLm5vdygpO2lmKCEociYmcj50LWQpKXt2YXIgaT0wO2ZvcihzPXQtZCxkPXQsZy5lbWl0KFwicHJlcmVuZGVyXCIpLGk9MDtpPGwubGVuZ3RoO2krKylsW2ldLmNhbGwodGhpcyk7Zm9yKGwuc3BsaWNlKDApO2YubGVuZ3RoJiZEYXRlLm5vdygpLXQ8TzspZi5zaGlmdCgpLmNhbGwodGhpcyk7Zm9yKGk9MDtpPHUubGVuZ3RoO2krKyl1W2ldLnVwZGF0ZSgpO2cuZW1pdChcInBvc3RyZW5kZXJcIil9fSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsbiwhMSksbigpO3ZhciBTPSExO3AucGlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5zdWJzY3JpYmUgaW5zdGFuY2VvZiBGdW5jdGlvbj90LnN1YnNjcmliZShwKTpnLnBpcGUodCl9LHAudW5waXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnVuc3Vic2NyaWJlIGluc3RhbmNlb2YgRnVuY3Rpb24/dC51bnN1YnNjcmliZShwKTpnLnVucGlwZSh0KX0scC5vbj1mdW5jdGlvbih0LGkpe3JldHVybiB0IGluIHl8fCh5W3RdPWcuZW1pdC5iaW5kKGcsdCksZG9jdW1lbnQuYm9keT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIodCx5W3RdKTpwLm5leHRUaWNrKGZ1bmN0aW9uKHQsaSl7ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKHQsaSl9LmJpbmQodGhpcyx0LHlbdF0pKSksZy5vbih0LGkpfSxwLmVtaXQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gZy5lbWl0KHQsaSl9LHAucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxpKXtyZXR1cm4gZy5yZW1vdmVMaXN0ZW5lcih0LGkpfSxwLmdldEZQUz1mdW5jdGlvbigpe3JldHVybiAxZTMvc30scC5zZXRGUFNDYXA9ZnVuY3Rpb24odCl7cj1NYXRoLmZsb29yKDFlMy90KX0scC5nZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiBtLmdldE9wdGlvbnModCl9LHAuc2V0T3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiBtLnNldE9wdGlvbnMuYXBwbHkobSxhcmd1bWVudHMpfSxwLmNyZWF0ZUNvbnRleHQ9ZnVuY3Rpb24odCl7IVMmJnYuYXBwTW9kZSYmcC5uZXh0VGljayhvKTt2YXIgaT0hMTt0fHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHYuY29udGFpbmVyVHlwZSksdC5jbGFzc0xpc3QuYWRkKHYuY29udGFpbmVyQ2xhc3MpLGk9ITApO3ZhciBlPW5ldyBhKHQpO3JldHVybiBwLnJlZ2lzdGVyQ29udGV4dChlKSxpJiZwLm5leHRUaWNrKGZ1bmN0aW9uKHQsaSl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKSx0LmVtaXQoXCJyZXNpemVcIil9LmJpbmQodGhpcyxlLHQpKSxlfSxwLnJlZ2lzdGVyQ29udGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdS5wdXNoKHQpLHR9LHAuZ2V0Q29udGV4dHM9ZnVuY3Rpb24oKXtyZXR1cm4gdX0scC5kZXJlZ2lzdGVyQ29udGV4dD1mdW5jdGlvbih0KXt2YXIgaT11LmluZGV4T2YodCk7aT49MCYmdS5zcGxpY2UoaSwxKX0scC5uZXh0VGljaz1mdW5jdGlvbih0KXtsLnB1c2godCl9LHAuZGVmZXI9ZnVuY3Rpb24odCl7Zi5wdXNoKHQpfSxtLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24odCl7XCJmcHNDYXBcIj09PXQuaWQ/cC5zZXRGUFNDYXAodC52YWx1ZSk6XCJydW5Mb29wXCI9PT10LmlkJiYhXyYmdC52YWx1ZSYmKF89ITAsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShlKSl9KSxpLmV4cG9ydHM9cH0se1wiLi9Db250ZXh0XCI6MSxcIi4vRXZlbnRIYW5kbGVyXCI6NyxcIi4vT3B0aW9uc01hbmFnZXJcIjoxMH1dLDU6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gclt0XX1mdW5jdGlvbiBuKHQsaSl7clt0XT1pfWZ1bmN0aW9uIG8odCl7dmFyIGk9ci5sZW5ndGg7cmV0dXJuIG4oaSx0KSxpfWZ1bmN0aW9uIHModCl7bih0LG51bGwpfXZhciByPVtdO2kuZXhwb3J0cz17cmVnaXN0ZXI6byx1bnJlZ2lzdGVyOnMsZ2V0OmUsc2V0Om59fSx7fV0sNjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKCl7dGhpcy5saXN0ZW5lcnM9e30sdGhpcy5fb3duZXI9dGhpc31lLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcy5saXN0ZW5lcnNbdF07aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyllW25dLmNhbGwodGhpcy5fb3duZXIsaSk7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsaSl7dCBpbiB0aGlzLmxpc3RlbmVyc3x8KHRoaXMubGlzdGVuZXJzW3RdPVtdKTt2YXIgZT10aGlzLmxpc3RlbmVyc1t0XS5pbmRleE9mKGkpO3JldHVybiAwPmUmJnRoaXMubGlzdGVuZXJzW3RdLnB1c2goaSksdGhpc30sZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZS5wcm90b3R5cGUub24sZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzLmxpc3RlbmVyc1t0XTtpZih2b2lkIDAhPT1lKXt2YXIgbj1lLmluZGV4T2YoaSk7bj49MCYmZS5zcGxpY2UobiwxKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuYmluZFRoaXM9ZnVuY3Rpb24odCl7dGhpcy5fb3duZXI9dH0saS5leHBvcnRzPWV9LHt9XSw3OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUoKXtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmRvd25zdHJlYW09W10sdGhpcy5kb3duc3RyZWFtRm49W10sdGhpcy51cHN0cmVhbT1bXSx0aGlzLnVwc3RyZWFtTGlzdGVuZXJzPXt9fXZhciBuPXQoXCIuL0V2ZW50RW1pdHRlclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuc2V0SW5wdXRIYW5kbGVyPWZ1bmN0aW9uKHQsaSl7dC50cmlnZ2VyPWkudHJpZ2dlci5iaW5kKGkpLGkuc3Vic2NyaWJlJiZpLnVuc3Vic2NyaWJlJiYodC5zdWJzY3JpYmU9aS5zdWJzY3JpYmUuYmluZChpKSx0LnVuc3Vic2NyaWJlPWkudW5zdWJzY3JpYmUuYmluZChpKSl9LGUuc2V0T3V0cHV0SGFuZGxlcj1mdW5jdGlvbih0LGkpe2kgaW5zdGFuY2VvZiBlJiZpLmJpbmRUaGlzKHQpLHQucGlwZT1pLnBpcGUuYmluZChpKSx0LnVucGlwZT1pLnVucGlwZS5iaW5kKGkpLHQub249aS5vbi5iaW5kKGkpLHQuYWRkTGlzdGVuZXI9dC5vbix0LnJlbW92ZUxpc3RlbmVyPWkucmVtb3ZlTGlzdGVuZXIuYmluZChpKX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGkpe24ucHJvdG90eXBlLmVtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPTA7Zm9yKGU9MDtlPHRoaXMuZG93bnN0cmVhbS5sZW5ndGg7ZSsrKXRoaXMuZG93bnN0cmVhbVtlXS50cmlnZ2VyJiZ0aGlzLmRvd25zdHJlYW1bZV0udHJpZ2dlcih0LGkpO2ZvcihlPTA7ZTx0aGlzLmRvd25zdHJlYW1Gbi5sZW5ndGg7ZSsrKXRoaXMuZG93bnN0cmVhbUZuW2VdKHQsaSk7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnRyaWdnZXI9ZS5wcm90b3R5cGUuZW1pdCxlLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQpe2lmKHQuc3Vic2NyaWJlIGluc3RhbmNlb2YgRnVuY3Rpb24pcmV0dXJuIHQuc3Vic2NyaWJlKHRoaXMpO3ZhciBpPXQgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLmRvd25zdHJlYW1Gbjp0aGlzLmRvd25zdHJlYW0sZT1pLmluZGV4T2YodCk7cmV0dXJuIDA+ZSYmaS5wdXNoKHQpLHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90KFwicGlwZVwiLG51bGwpOnQudHJpZ2dlciYmdC50cmlnZ2VyKFwicGlwZVwiLG51bGwpLHR9LGUucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbih0KXtpZih0LnVuc3Vic2NyaWJlIGluc3RhbmNlb2YgRnVuY3Rpb24pcmV0dXJuIHQudW5zdWJzY3JpYmUodGhpcyk7dmFyIGk9dCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3RoaXMuZG93bnN0cmVhbUZuOnRoaXMuZG93bnN0cmVhbSxlPWkuaW5kZXhPZih0KTtyZXR1cm4gZT49MD8oaS5zcGxpY2UoZSwxKSx0IGluc3RhbmNlb2YgRnVuY3Rpb24/dChcInVucGlwZVwiLG51bGwpOnQudHJpZ2dlciYmdC50cmlnZ2VyKFwidW5waXBlXCIsbnVsbCksdCk6ITF9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQpe2lmKG4ucHJvdG90eXBlLm9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSwhKHQgaW4gdGhpcy51cHN0cmVhbUxpc3RlbmVycykpe3ZhciBpPXRoaXMudHJpZ2dlci5iaW5kKHRoaXMsdCk7dGhpcy51cHN0cmVhbUxpc3RlbmVyc1t0XT1pO2Zvcih2YXIgZT0wO2U8dGhpcy51cHN0cmVhbS5sZW5ndGg7ZSsrKXRoaXMudXBzdHJlYW1bZV0ub24odCxpKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZS5wcm90b3R5cGUub24sZS5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMudXBzdHJlYW0uaW5kZXhPZih0KTtpZigwPmkpe3RoaXMudXBzdHJlYW0ucHVzaCh0KTtmb3IodmFyIGUgaW4gdGhpcy51cHN0cmVhbUxpc3RlbmVycyl0Lm9uKGUsdGhpcy51cHN0cmVhbUxpc3RlbmVyc1tlXSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMudXBzdHJlYW0uaW5kZXhPZih0KTtpZihpPj0wKXt0aGlzLnVwc3RyZWFtLnNwbGljZShpLDEpO2Zvcih2YXIgZSBpbiB0aGlzLnVwc3RyZWFtTGlzdGVuZXJzKXQucmVtb3ZlTGlzdGVuZXIoZSx0aGlzLnVwc3RyZWFtTGlzdGVuZXJzW2VdKX1yZXR1cm4gdGhpc30saS5leHBvcnRzPWV9LHtcIi4vRXZlbnRFbWl0dGVyXCI6Nn1dLDg6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtzLmNhbGwodGhpcyx0KSx0aGlzLl9zaG91bGRSZWNhbGN1bGF0ZVNpemU9ITEsdGhpcy5fY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx0aGlzLmNvbnRleHQ9bmV3IG4odGhpcy5fY29udGFpbmVyKSx0aGlzLnNldENvbnRlbnQodGhpcy5fY29udGFpbmVyKSx0aGlzLl9ncm91cFNpemU9W3ZvaWQgMCx2b2lkIDBdfXZhciBuPXQoXCIuL0NvbnRleHRcIiksbz10KFwiLi9UcmFuc2Zvcm1cIikscz10KFwiLi9TdXJmYWNlXCIpO2UuU0laRV9aRVJPPVswLDBdLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocy5wcm90b3R5cGUpLGUucHJvdG90eXBlLmVsZW1lbnRUeXBlPVwiZGl2XCIsZS5wcm90b3R5cGUuZWxlbWVudENsYXNzPVwiZmFtb3VzLWdyb3VwXCIsZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5hZGQuYXBwbHkodGhpcy5jb250ZXh0LGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBzLnByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVwbG95PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dC5taWdyYXRlKHQpfSxlLnByb3RvdHlwZS5yZWNhbGw9ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHRoaXMuY29udGV4dC5taWdyYXRlKHRoaXMuX2NvbnRhaW5lcil9LGUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXt2YXIgaT10LnRyYW5zZm9ybSxuPXQub3JpZ2luLHI9dC5vcGFjaXR5LGE9dC5zaXplLGg9cy5wcm90b3R5cGUuY29tbWl0LmNhbGwodGhpcyx7YWxsb2NhdG9yOnQuYWxsb2NhdG9yLHRyYW5zZm9ybTpvLnRoZW5Nb3ZlKGksWy1uWzBdKmFbMF0sLW5bMV0qYVsxXSwwXSksb3BhY2l0eTpyLG9yaWdpbjpuLHNpemU6ZS5TSVpFX1pFUk99KTtyZXR1cm4oYVswXSE9PXRoaXMuX2dyb3VwU2l6ZVswXXx8YVsxXSE9PXRoaXMuX2dyb3VwU2l6ZVsxXSkmJih0aGlzLl9ncm91cFNpemVbMF09YVswXSx0aGlzLl9ncm91cFNpemVbMV09YVsxXSx0aGlzLmNvbnRleHQuc2V0U2l6ZShhKSksdGhpcy5jb250ZXh0LnVwZGF0ZSh7dHJhbnNmb3JtOm8udHJhbnNsYXRlKC1uWzBdKmFbMF0sLW5bMV0qYVsxXSwwKSxvcmlnaW46bixzaXplOmF9KSxofSxpLmV4cG9ydHM9ZX0se1wiLi9Db250ZXh0XCI6MSxcIi4vU3VyZmFjZVwiOjE0LFwiLi9UcmFuc2Zvcm1cIjoxNX1dLDk6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLl90cmFuc2Zvcm1HZXR0ZXI9bnVsbCx0aGlzLl9vcGFjaXR5R2V0dGVyPW51bGwsdGhpcy5fb3JpZ2luR2V0dGVyPW51bGwsdGhpcy5fYWxpZ25HZXR0ZXI9bnVsbCx0aGlzLl9zaXplR2V0dGVyPW51bGwsdGhpcy5fcHJvcG9ydGlvbkdldHRlcj1udWxsLHRoaXMuX2xlZ2FjeVN0YXRlcz17fSx0aGlzLl9vdXRwdXQ9e3RyYW5zZm9ybTpvLmlkZW50aXR5LG9wYWNpdHk6MSxvcmlnaW46bnVsbCxhbGlnbjpudWxsLHNpemU6bnVsbCxwcm9wb3J0aW9uczpudWxsLHRhcmdldDpudWxsfSx0JiYodC50cmFuc2Zvcm0mJnRoaXMudHJhbnNmb3JtRnJvbSh0LnRyYW5zZm9ybSksdm9pZCAwIT09dC5vcGFjaXR5JiZ0aGlzLm9wYWNpdHlGcm9tKHQub3BhY2l0eSksdC5vcmlnaW4mJnRoaXMub3JpZ2luRnJvbSh0Lm9yaWdpbiksdC5hbGlnbiYmdGhpcy5hbGlnbkZyb20odC5hbGlnbiksdC5zaXplJiZ0aGlzLnNpemVGcm9tKHQuc2l6ZSksdC5wcm9wb3J0aW9ucyYmdGhpcy5wcm9wb3J0aW9uc0Zyb20odC5wcm9wb3J0aW9ucykpfWZ1bmN0aW9uIG4oKXt0aGlzLl90cmFuc2Zvcm1HZXR0ZXImJih0aGlzLl9vdXRwdXQudHJhbnNmb3JtPXRoaXMuX3RyYW5zZm9ybUdldHRlcigpKSx0aGlzLl9vcGFjaXR5R2V0dGVyJiYodGhpcy5fb3V0cHV0Lm9wYWNpdHk9dGhpcy5fb3BhY2l0eUdldHRlcigpKSx0aGlzLl9vcmlnaW5HZXR0ZXImJih0aGlzLl9vdXRwdXQub3JpZ2luPXRoaXMuX29yaWdpbkdldHRlcigpKSx0aGlzLl9hbGlnbkdldHRlciYmKHRoaXMuX291dHB1dC5hbGlnbj10aGlzLl9hbGlnbkdldHRlcigpKSx0aGlzLl9zaXplR2V0dGVyJiYodGhpcy5fb3V0cHV0LnNpemU9dGhpcy5fc2l6ZUdldHRlcigpKSx0aGlzLl9wcm9wb3J0aW9uR2V0dGVyJiYodGhpcy5fb3V0cHV0LnByb3BvcnRpb25zPXRoaXMuX3Byb3BvcnRpb25HZXR0ZXIoKSl9dmFyIG89dChcIi4vVHJhbnNmb3JtXCIpLHM9dChcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCIpLHI9dChcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlVHJhbnNmb3JtXCIpO2UucHJvdG90eXBlLnRyYW5zZm9ybUZyb209ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLl90cmFuc2Zvcm1HZXR0ZXI9dDp0IGluc3RhbmNlb2YgT2JqZWN0JiZ0LmdldD90aGlzLl90cmFuc2Zvcm1HZXR0ZXI9dC5nZXQuYmluZCh0KToodGhpcy5fdHJhbnNmb3JtR2V0dGVyPW51bGwsdGhpcy5fb3V0cHV0LnRyYW5zZm9ybT10KSx0aGlzfSxlLnByb3RvdHlwZS5vcGFjaXR5RnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3RoaXMuX29wYWNpdHlHZXR0ZXI9dDp0IGluc3RhbmNlb2YgT2JqZWN0JiZ0LmdldD90aGlzLl9vcGFjaXR5R2V0dGVyPXQuZ2V0LmJpbmQodCk6KHRoaXMuX29wYWNpdHlHZXR0ZXI9bnVsbCx0aGlzLl9vdXRwdXQub3BhY2l0eT10KSx0aGlzfSxlLnByb3RvdHlwZS5vcmlnaW5Gcm9tPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fb3JpZ2luR2V0dGVyPXQ6dCBpbnN0YW5jZW9mIE9iamVjdCYmdC5nZXQ/dGhpcy5fb3JpZ2luR2V0dGVyPXQuZ2V0LmJpbmQodCk6KHRoaXMuX29yaWdpbkdldHRlcj1udWxsLHRoaXMuX291dHB1dC5vcmlnaW49dCksdGhpc30sZS5wcm90b3R5cGUuYWxpZ25Gcm9tPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fYWxpZ25HZXR0ZXI9dDp0IGluc3RhbmNlb2YgT2JqZWN0JiZ0LmdldD90aGlzLl9hbGlnbkdldHRlcj10LmdldC5iaW5kKHQpOih0aGlzLl9hbGlnbkdldHRlcj1udWxsLHRoaXMuX291dHB1dC5hbGlnbj10KSx0aGlzfSxlLnByb3RvdHlwZS5zaXplRnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3RoaXMuX3NpemVHZXR0ZXI9dDp0IGluc3RhbmNlb2YgT2JqZWN0JiZ0LmdldD90aGlzLl9zaXplR2V0dGVyPXQuZ2V0LmJpbmQodCk6KHRoaXMuX3NpemVHZXR0ZXI9bnVsbCx0aGlzLl9vdXRwdXQuc2l6ZT10KSx0aGlzfSxlLnByb3RvdHlwZS5wcm9wb3J0aW9uc0Zyb209ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLl9wcm9wb3J0aW9uR2V0dGVyPXQ6dCBpbnN0YW5jZW9mIE9iamVjdCYmdC5nZXQ/dGhpcy5fcHJvcG9ydGlvbkdldHRlcj10LmdldC5iaW5kKHQpOih0aGlzLl9wcm9wb3J0aW9uR2V0dGVyPW51bGwsdGhpcy5fb3V0cHV0LnByb3BvcnRpb25zPXQpLHRoaXN9LGUucHJvdG90eXBlLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGksZSl7cmV0dXJuIGl8fHRoaXMuX2xlZ2FjeVN0YXRlcy50cmFuc2Zvcm0/KHRoaXMuX2xlZ2FjeVN0YXRlcy50cmFuc2Zvcm18fCh0aGlzLl9sZWdhY3lTdGF0ZXMudHJhbnNmb3JtPW5ldyByKHRoaXMuX291dHB1dC50cmFuc2Zvcm0pKSx0aGlzLl90cmFuc2Zvcm1HZXR0ZXJ8fHRoaXMudHJhbnNmb3JtRnJvbSh0aGlzLl9sZWdhY3lTdGF0ZXMudHJhbnNmb3JtKSx0aGlzLl9sZWdhY3lTdGF0ZXMudHJhbnNmb3JtLnNldCh0LGksZSksdGhpcyk6dGhpcy50cmFuc2Zvcm1Gcm9tKHQpfSxlLnByb3RvdHlwZS5zZXRPcGFjaXR5PWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gaXx8dGhpcy5fbGVnYWN5U3RhdGVzLm9wYWNpdHk/KHRoaXMuX2xlZ2FjeVN0YXRlcy5vcGFjaXR5fHwodGhpcy5fbGVnYWN5U3RhdGVzLm9wYWNpdHk9bmV3IHModGhpcy5fb3V0cHV0Lm9wYWNpdHkpKSx0aGlzLl9vcGFjaXR5R2V0dGVyfHx0aGlzLm9wYWNpdHlGcm9tKHRoaXMuX2xlZ2FjeVN0YXRlcy5vcGFjaXR5KSx0aGlzLl9sZWdhY3lTdGF0ZXMub3BhY2l0eS5zZXQodCxpLGUpKTp0aGlzLm9wYWNpdHlGcm9tKHQpfSxlLnByb3RvdHlwZS5zZXRPcmlnaW49ZnVuY3Rpb24odCxpLGUpe3JldHVybiBpfHx0aGlzLl9sZWdhY3lTdGF0ZXMub3JpZ2luPyh0aGlzLl9sZWdhY3lTdGF0ZXMub3JpZ2lufHwodGhpcy5fbGVnYWN5U3RhdGVzLm9yaWdpbj1uZXcgcyh0aGlzLl9vdXRwdXQub3JpZ2lufHxbMCwwXSkpLHRoaXMuX29yaWdpbkdldHRlcnx8dGhpcy5vcmlnaW5Gcm9tKHRoaXMuX2xlZ2FjeVN0YXRlcy5vcmlnaW4pLHRoaXMuX2xlZ2FjeVN0YXRlcy5vcmlnaW4uc2V0KHQsaSxlKSx0aGlzKTp0aGlzLm9yaWdpbkZyb20odCl9LGUucHJvdG90eXBlLnNldEFsaWduPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gaXx8dGhpcy5fbGVnYWN5U3RhdGVzLmFsaWduPyh0aGlzLl9sZWdhY3lTdGF0ZXMuYWxpZ258fCh0aGlzLl9sZWdhY3lTdGF0ZXMuYWxpZ249bmV3IHModGhpcy5fb3V0cHV0LmFsaWdufHxbMCwwXSkpLHRoaXMuX2FsaWduR2V0dGVyfHx0aGlzLmFsaWduRnJvbSh0aGlzLl9sZWdhY3lTdGF0ZXMuYWxpZ24pLHRoaXMuX2xlZ2FjeVN0YXRlcy5hbGlnbi5zZXQodCxpLGUpLHRoaXMpOnRoaXMuYWxpZ25Gcm9tKHQpfSxlLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdCYmKGl8fHRoaXMuX2xlZ2FjeVN0YXRlcy5zaXplKT8odGhpcy5fbGVnYWN5U3RhdGVzLnNpemV8fCh0aGlzLl9sZWdhY3lTdGF0ZXMuc2l6ZT1uZXcgcyh0aGlzLl9vdXRwdXQuc2l6ZXx8WzAsMF0pKSx0aGlzLl9zaXplR2V0dGVyfHx0aGlzLnNpemVGcm9tKHRoaXMuX2xlZ2FjeVN0YXRlcy5zaXplKSx0aGlzLl9sZWdhY3lTdGF0ZXMuc2l6ZS5zZXQodCxpLGUpLHRoaXMpOnRoaXMuc2l6ZUZyb20odCl9LGUucHJvdG90eXBlLnNldFByb3BvcnRpb25zPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdCYmKGl8fHRoaXMuX2xlZ2FjeVN0YXRlcy5wcm9wb3J0aW9ucyk/KHRoaXMuX2xlZ2FjeVN0YXRlcy5wcm9wb3J0aW9uc3x8KHRoaXMuX2xlZ2FjeVN0YXRlcy5wcm9wb3J0aW9ucz1uZXcgcyh0aGlzLl9vdXRwdXQucHJvcG9ydGlvbnN8fFswLDBdKSksdGhpcy5fcHJvcG9ydGlvbkdldHRlcnx8dGhpcy5wcm9wb3J0aW9uc0Zyb20odGhpcy5fbGVnYWN5U3RhdGVzLnByb3BvcnRpb25zKSx0aGlzLl9sZWdhY3lTdGF0ZXMucHJvcG9ydGlvbnMuc2V0KHQsaSxlKSx0aGlzKTp0aGlzLnByb3BvcnRpb25zRnJvbSh0KX0sZS5wcm90b3R5cGUuaGFsdD1mdW5jdGlvbigpe3RoaXMuX2xlZ2FjeVN0YXRlcy50cmFuc2Zvcm0mJnRoaXMuX2xlZ2FjeVN0YXRlcy50cmFuc2Zvcm0uaGFsdCgpLHRoaXMuX2xlZ2FjeVN0YXRlcy5vcGFjaXR5JiZ0aGlzLl9sZWdhY3lTdGF0ZXMub3BhY2l0eS5oYWx0KCksdGhpcy5fbGVnYWN5U3RhdGVzLm9yaWdpbiYmdGhpcy5fbGVnYWN5U3RhdGVzLm9yaWdpbi5oYWx0KCksdGhpcy5fbGVnYWN5U3RhdGVzLmFsaWduJiZ0aGlzLl9sZWdhY3lTdGF0ZXMuYWxpZ24uaGFsdCgpLHRoaXMuX2xlZ2FjeVN0YXRlcy5zaXplJiZ0aGlzLl9sZWdhY3lTdGF0ZXMuc2l6ZS5oYWx0KCksdGhpcy5fbGVnYWN5U3RhdGVzLnByb3BvcnRpb25zJiZ0aGlzLl9sZWdhY3lTdGF0ZXMucHJvcG9ydGlvbnMuaGFsdCgpLHRoaXMuX3RyYW5zZm9ybUdldHRlcj1udWxsLHRoaXMuX29wYWNpdHlHZXR0ZXI9bnVsbCx0aGlzLl9vcmlnaW5HZXR0ZXI9bnVsbCx0aGlzLl9hbGlnbkdldHRlcj1udWxsLHRoaXMuX3NpemVHZXR0ZXI9bnVsbCx0aGlzLl9wcm9wb3J0aW9uR2V0dGVyPW51bGx9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1HZXR0ZXIoKX0sZS5wcm90b3R5cGUuZ2V0RmluYWxUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVnYWN5U3RhdGVzLnRyYW5zZm9ybT90aGlzLl9sZWdhY3lTdGF0ZXMudHJhbnNmb3JtLmdldEZpbmFsKCk6dGhpcy5fb3V0cHV0LnRyYW5zZm9ybX0sZS5wcm90b3R5cGUuZ2V0T3BhY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcGFjaXR5R2V0dGVyKCl9LGUucHJvdG90eXBlLmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmlnaW5HZXR0ZXIoKX0sZS5wcm90b3R5cGUuZ2V0QWxpZ249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxpZ25HZXR0ZXIoKX0sZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplR2V0dGVyP3RoaXMuX3NpemVHZXR0ZXIoKTp0aGlzLl9vdXRwdXQuc2l6ZX0sZS5wcm90b3R5cGUuZ2V0UHJvcG9ydGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvcG9ydGlvbkdldHRlcj90aGlzLl9wcm9wb3J0aW9uR2V0dGVyKCk6dGhpcy5fb3V0cHV0LnByb3BvcnRpb25zfSxlLnByb3RvdHlwZS5tb2RpZnk9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0aGlzKSx0aGlzLl9vdXRwdXQudGFyZ2V0PXQsdGhpcy5fb3V0cHV0fSxpLmV4cG9ydHM9ZX0se1wiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIjo4OCxcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlVHJhbnNmb3JtXCI6ODksXCIuL1RyYW5zZm9ybVwiOjE1fV0sMTA6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLl92YWx1ZT10LHRoaXMuZXZlbnRPdXRwdXQ9bnVsbH1mdW5jdGlvbiBuKCl7dGhpcy5ldmVudE91dHB1dD1uZXcgbyx0aGlzLmV2ZW50T3V0cHV0LmJpbmRUaGlzKHRoaXMpLG8uc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuZXZlbnRPdXRwdXQpfXZhciBvPXQoXCIuL0V2ZW50SGFuZGxlclwiKTtlLnBhdGNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1uZXcgZSh0KSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKylpLnBhdGNoKGFyZ3VtZW50c1tuXSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLnBhdGNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3ZhbHVlLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgZT1hcmd1bWVudHNbaV07Zm9yKHZhciBuIGluIGUpbiBpbiB0JiZlW25dJiZlW25dLmNvbnN0cnVjdG9yPT09T2JqZWN0JiZ0W25dJiZ0W25dLmNvbnN0cnVjdG9yPT09T2JqZWN0Pyh0Lmhhc093blByb3BlcnR5KG4pfHwodFtuXT1PYmplY3QuY3JlYXRlKHRbbl0pKSx0aGlzLmtleShuKS5wYXRjaChlW25dKSx0aGlzLmV2ZW50T3V0cHV0JiZ0aGlzLmV2ZW50T3V0cHV0LmVtaXQoXCJjaGFuZ2VcIix7aWQ6bix2YWx1ZTp0aGlzLmtleShuKS52YWx1ZSgpfSkpOnRoaXMuc2V0KG4sZVtuXSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZS5wcm90b3R5cGUucGF0Y2gsZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBlKHRoaXMuX3ZhbHVlW3RdKTtyZXR1cm4oIShpLl92YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCl8fGkuX3ZhbHVlIGluc3RhbmNlb2YgQXJyYXkpJiYoaS5fdmFsdWU9e30pLGl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLl92YWx1ZVt0XTp0aGlzLl92YWx1ZX0sZS5wcm90b3R5cGUuZ2V0T3B0aW9ucz1lLnByb3RvdHlwZS5nZXQsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcy5nZXQodCk7cmV0dXJuIHRoaXMuX3ZhbHVlW3RdPWksdGhpcy5ldmVudE91dHB1dCYmaSE9PWUmJnRoaXMuZXZlbnRPdXRwdXQuZW1pdChcImNoYW5nZVwiLHtpZDp0LHZhbHVlOml9KSx0aGlzfSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcyksdGhpcy5vbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbCh0aGlzKSx0aGlzLnJlbW92ZUxpc3RlbmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcyksdGhpcy5waXBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbCh0aGlzKSx0aGlzLnVucGlwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZXhwb3J0cz1lfSx7XCIuL0V2ZW50SGFuZGxlclwiOjd9XSwxMTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMuX29iamVjdD1udWxsLHRoaXMuX2NoaWxkPW51bGwsdGhpcy5faGFzTXVsdGlwbGVDaGlsZHJlbj0hMSx0aGlzLl9pc1JlbmRlcmFibGU9ITEsdGhpcy5faXNNb2RpZmllcj0hMSx0aGlzLl9yZXN1bHRDYWNoZT17fSx0aGlzLl9wcmV2UmVzdWx0cz17fSx0aGlzLl9jaGlsZFJlc3VsdD1udWxsLHQmJnRoaXMuc2V0KHQpfWZ1bmN0aW9uIG4odCxpLGUpe2Zvcih2YXIgcj1zLnBhcnNlKHQsaSksYT1PYmplY3Qua2V5cyhyKSxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBjPWFbaF0scD1vLmdldChjKSx1PXJbY107dS5hbGxvY2F0b3I9aS5hbGxvY2F0b3I7dmFyIGw9cC5jb21taXQodSk7bD9uKGwsaSxlKTplW2NdPXV9fXZhciBvPXQoXCIuL0VudGl0eVwiKSxzPXQoXCIuL1NwZWNQYXJzZXJcIik7ZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBpPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7cmV0dXJuIHRoaXMuX2NoaWxkIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fY2hpbGQucHVzaChpKTp0aGlzLl9jaGlsZD8odGhpcy5fY2hpbGQ9W3RoaXMuX2NoaWxkLGldLHRoaXMuX2hhc011bHRpcGxlQ2hpbGRyZW49ITAsdGhpcy5fY2hpbGRSZXN1bHQ9W10pOnRoaXMuX2NoaWxkPWksaX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29iamVjdHx8KHRoaXMuX2hhc011bHRpcGxlQ2hpbGRyZW4/bnVsbDp0aGlzLl9jaGlsZD90aGlzLl9jaGlsZC5nZXQoKTpudWxsKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGlsZFJlc3VsdD1udWxsLHRoaXMuX2hhc011bHRpcGxlQ2hpbGRyZW49ITEsdGhpcy5faXNSZW5kZXJhYmxlPXQucmVuZGVyPyEwOiExLHRoaXMuX2lzTW9kaWZpZXI9dC5tb2RpZnk/ITA6ITEsdGhpcy5fb2JqZWN0PXQsdGhpcy5fY2hpbGQ9bnVsbCx0IGluc3RhbmNlb2YgZT90OnRoaXN9LGUucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD1udWxsLGk9dGhpcy5nZXQoKTtyZXR1cm4gaSYmaS5nZXRTaXplJiYodD1pLmdldFNpemUoKSksIXQmJnRoaXMuX2NoaWxkJiZ0aGlzLl9jaGlsZC5nZXRTaXplJiYodD10aGlzLl9jaGlsZC5nZXRTaXplKCkpLHR9LGUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXtmb3IodmFyIGk9T2JqZWN0LmtleXModGhpcy5fcHJldlJlc3VsdHMpLGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHM9aVtlXTtpZih2b2lkIDA9PT10aGlzLl9yZXN1bHRDYWNoZVtzXSl7dmFyIHI9by5nZXQocyk7ci5jbGVhbnVwJiZyLmNsZWFudXAodC5hbGxvY2F0b3IpfX10aGlzLl9wcmV2UmVzdWx0cz10aGlzLl9yZXN1bHRDYWNoZSx0aGlzLl9yZXN1bHRDYWNoZT17fSxuKHRoaXMucmVuZGVyKCksdCx0aGlzLl9yZXN1bHRDYWNoZSl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe2lmKHRoaXMuX2lzUmVuZGVyYWJsZSlyZXR1cm4gdGhpcy5fb2JqZWN0LnJlbmRlcigpO3ZhciB0PW51bGw7aWYodGhpcy5faGFzTXVsdGlwbGVDaGlsZHJlbil7dD10aGlzLl9jaGlsZFJlc3VsdDtmb3IodmFyIGk9dGhpcy5fY2hpbGQsZT0wO2U8aS5sZW5ndGg7ZSsrKXRbZV09aVtlXS5yZW5kZXIoKX1lbHNlIHRoaXMuX2NoaWxkJiYodD10aGlzLl9jaGlsZC5yZW5kZXIoKSk7cmV0dXJuIHRoaXMuX2lzTW9kaWZpZXI/dGhpcy5fb2JqZWN0Lm1vZGlmeSh0KTp0fSxpLmV4cG9ydHM9ZX0se1wiLi9FbnRpdHlcIjo1LFwiLi9TcGVjUGFyc2VyXCI6MTN9XSwxMjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMuaWQ9bnVsbCx0aGlzLl9vYmplY3RzPW51bGwsdGhpcy5ub2RlPW5ldyBjLHRoaXMuX2RlZmluaXRpb249bnVsbCx0JiZ0aGlzLmxvYWQodCl9ZnVuY3Rpb24gbih0KXtmb3IodmFyIGkgaW4gcClpZihpIGluIHQpe3ZhciBlPXRbaV07cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheXx8KGU9W2VdKSxwW2ldLmFwcGx5KHRoaXMsZSl9fWZ1bmN0aW9uIG8odCl7dmFyIGk9dC50cmFuc2Zvcm0sZT10Lm9wYWNpdHksbz10Lm9yaWdpbixzPXQuYWxpZ24scj10LnNpemUsYz1hLmlkZW50aXR5O2lmKGkgaW5zdGFuY2VvZiBBcnJheSlpZigxNj09PWkubGVuZ3RoJiZcIm51bWJlclwiPT10eXBlb2YgaVswXSljPWk7ZWxzZSBmb3IodmFyIHA9MDtwPGkubGVuZ3RoO3ArKyljPWEubXVsdGlwbHkoYyxuKGlbcF0pKTtlbHNlIGkgaW5zdGFuY2VvZiBGdW5jdGlvbj9jPWk6aSBpbnN0YW5jZW9mIE9iamVjdCYmKGM9bihpKSk7dmFyIHU9bmV3IGgoe3RyYW5zZm9ybTpjLG9wYWNpdHk6ZSxvcmlnaW46byxhbGlnbjpzLHNpemU6cn0pO3JldHVybiB1fWZ1bmN0aW9uIHModCl7Zm9yKHZhciBpPW5ldyBjLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49ci5jYWxsKHRoaXMsdFtlXSk7biYmaS5hZGQobil9cmV0dXJuIGl9ZnVuY3Rpb24gcih0KXt2YXIgaSxlO2lmKHQgaW5zdGFuY2VvZiBBcnJheSlpPXMuY2FsbCh0aGlzLHQpO2Vsc2UgaWYoZT10aGlzLl9vYmplY3RzLmxlbmd0aCx0LnJlbmRlciYmdC5yZW5kZXIgaW5zdGFuY2VvZiBGdW5jdGlvbilpPXQ7ZWxzZSBpZih0LnRhcmdldCl7dmFyIG49ci5jYWxsKHRoaXMsdC50YXJnZXQpLGE9by5jYWxsKHRoaXMsdCk7aT1uZXcgYyhhKSxpLmFkZChuKSx0LmlkJiYodGhpcy5pZFt0LmlkXT1hKX1lbHNlIHQuaWQmJihpPW5ldyBjLHRoaXMuaWRbdC5pZF09aSk7cmV0dXJuIHRoaXMuX29iamVjdHNbZV09aSxpfXZhciBhPXQoXCIuL1RyYW5zZm9ybVwiKSxoPXQoXCIuL01vZGlmaWVyXCIpLGM9dChcIi4vUmVuZGVyTm9kZVwiKSxwPXt0cmFuc2xhdGU6YS50cmFuc2xhdGUscm90YXRlOmEucm90YXRlLHJvdGF0ZVg6YS5yb3RhdGVYLHJvdGF0ZVk6YS5yb3RhdGVZLHJvdGF0ZVo6YS5yb3RhdGVaLHJvdGF0ZUF4aXM6YS5yb3RhdGVBeGlzLHNjYWxlOmEuc2NhbGUsc2tldzphLnNrZXcsbWF0cml4M2Q6ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfX07ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuX2RlZmluaXRpb24pfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe3RoaXMuX2RlZmluaXRpb249dCx0aGlzLmlkPXt9LHRoaXMuX29iamVjdHM9W10sdGhpcy5ub2RlLnNldChyLmNhbGwodGhpcyx0KSl9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuYWRkLmFwcGx5KHRoaXMubm9kZSxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLnJlbmRlci5hcHBseSh0aGlzLm5vZGUsYXJndW1lbnRzKX0saS5leHBvcnRzPWV9LHtcIi4vTW9kaWZpZXJcIjo5LFwiLi9SZW5kZXJOb2RlXCI6MTEsXCIuL1RyYW5zZm9ybVwiOjE1fV0sMTM6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe3RoaXMucmVzdWx0PXt9fWZ1bmN0aW9uIG4odCxpKXtyZXR1cm5bdFswXSppWzBdK3RbMV0qaVs0XSt0WzJdKmlbOF0sdFswXSppWzFdK3RbMV0qaVs1XSt0WzJdKmlbOV0sdFswXSppWzJdK3RbMV0qaVs2XSt0WzJdKmlbMTBdXX12YXIgbz10KFwiLi9UcmFuc2Zvcm1cIik7ZS5faW5zdGFuY2U9bmV3IGUsZS5wYXJzZT1mdW5jdGlvbih0LGkpe3JldHVybiBlLl9pbnN0YW5jZS5wYXJzZSh0LGkpfSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLnJlc2V0KCksdGhpcy5fcGFyc2VTcGVjKHQsaSxvLmlkZW50aXR5KSx0aGlzLnJlc3VsdH0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnJlc3VsdD17fX07dmFyIHM9WzAsMF07ZS5wcm90b3R5cGUuX3BhcnNlU3BlYz1mdW5jdGlvbih0LGksZSl7dmFyIHIsYSxoLGMscCx1LGw7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2lmKHI9dCxoPWkudHJhbnNmb3JtLHU9aS5hbGlnbnx8cyxpLnNpemUmJnUmJih1WzBdfHx1WzFdKSl7dmFyIGY9W3VbMF0qaS5zaXplWzBdLHVbMV0qaS5zaXplWzFdLDBdO2g9by50aGVuTW92ZShoLG4oZixlKSl9dGhpcy5yZXN1bHRbcl09e3RyYW5zZm9ybTpoLG9wYWNpdHk6aS5vcGFjaXR5LG9yaWdpbjppLm9yaWdpbnx8cyxhbGlnbjppLmFsaWdufHxzLHNpemU6aS5zaXplfX1lbHNle2lmKCF0KXJldHVybjtpZih0IGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBkPTA7ZDx0Lmxlbmd0aDtkKyspdGhpcy5fcGFyc2VTcGVjKHRbZF0saSxlKTtlbHNle2E9dC50YXJnZXQsaD1pLnRyYW5zZm9ybSxjPWkub3BhY2l0eSxwPWkub3JpZ2luLHU9aS5hbGlnbixsPWkuc2l6ZTt2YXIgXz1lO2lmKHZvaWQgMCE9PXQub3BhY2l0eSYmKGM9aS5vcGFjaXR5KnQub3BhY2l0eSksdC50cmFuc2Zvcm0mJihoPW8ubXVsdGlwbHkoaS50cmFuc2Zvcm0sdC50cmFuc2Zvcm0pKSx0Lm9yaWdpbiYmKHA9dC5vcmlnaW4sXz1pLnRyYW5zZm9ybSksdC5hbGlnbiYmKHU9dC5hbGlnbiksdC5zaXplfHx0LnByb3BvcnRpb25zKXt2YXIgeT1sO2w9W2xbMF0sbFsxXV0sdC5zaXplJiYodm9pZCAwIT09dC5zaXplWzBdJiYobFswXT10LnNpemVbMF0pLHZvaWQgMCE9PXQuc2l6ZVsxXSYmKGxbMV09dC5zaXplWzFdKSksdC5wcm9wb3J0aW9ucyYmKHZvaWQgMCE9PXQucHJvcG9ydGlvbnNbMF0mJihsWzBdPWxbMF0qdC5wcm9wb3J0aW9uc1swXSksdm9pZCAwIT09dC5wcm9wb3J0aW9uc1sxXSYmKGxbMV09bFsxXSp0LnByb3BvcnRpb25zWzFdKSkseSYmKHUmJih1WzBdfHx1WzFdKSYmKGg9by50aGVuTW92ZShoLG4oW3VbMF0qeVswXSx1WzFdKnlbMV0sMF0sZSkpKSxwJiYocFswXXx8cFsxXSkmJihoPW8ubW92ZVRoZW4oWy1wWzBdKmxbMF0sLXBbMV0qbFsxXSwwXSxoKSkpLF89aS50cmFuc2Zvcm0scD1udWxsLHU9bnVsbH10aGlzLl9wYXJzZVNwZWMoYSx7dHJhbnNmb3JtOmgsb3BhY2l0eTpjLG9yaWdpbjpwLGFsaWduOnUsc2l6ZTpsfSxfKX19fSxpLmV4cG9ydHM9ZX0se1wiLi9UcmFuc2Zvcm1cIjoxNX1dLDE0OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7Yy5jYWxsKHRoaXMpLHRoaXMub3B0aW9ucz17fSx0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMuY29udGVudD1cIlwiLHRoaXMuY2xhc3NMaXN0PVtdLHRoaXMuc2l6ZT1udWxsLHRoaXMuX2NsYXNzZXNEaXJ0eT0hMCx0aGlzLl9zdHlsZXNEaXJ0eT0hMCx0aGlzLl9hdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fc2l6ZURpcnR5PSEwLHRoaXMuX2NvbnRlbnREaXJ0eT0hMCx0aGlzLl90cnVlU2l6ZUNoZWNrPSEwLHRoaXMuX2RpcnR5Q2xhc3Nlcz1bXSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5fY3VycmVudFRhcmdldD1udWxsfWZ1bmN0aW9uIG4odCl7Zm9yKHZhciBpPTA7aTx0aGlzLl9kaXJ0eUNsYXNzZXMubGVuZ3RoO2krKyl0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZGlydHlDbGFzc2VzW2ldKTt0aGlzLl9kaXJ0eUNsYXNzZXM9W119ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGkgaW4gdGhpcy5wcm9wZXJ0aWVzKXQuc3R5bGVbaV09dGhpcy5wcm9wZXJ0aWVzW2ldfWZ1bmN0aW9uIHModCl7Zm9yKHZhciBpIGluIHRoaXMucHJvcGVydGllcyl0LnN0eWxlW2ldPVwiXCJ9ZnVuY3Rpb24gcih0KXtmb3IodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKXQuc2V0QXR0cmlidXRlKGksdGhpcy5hdHRyaWJ1dGVzW2ldKX1mdW5jdGlvbiBhKHQpe2Zvcih2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpdC5yZW1vdmVBdHRyaWJ1dGUoaSl9ZnVuY3Rpb24gaCh0LGkpe3JldHVybiB0JiZpP3RbMF0hPT1pWzBdfHx0WzFdIT09aVsxXTp0IT09aX12YXIgYz10KFwiLi9FbGVtZW50T3V0cHV0XCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZWxlbWVudFR5cGU9XCJkaXZcIixlLnByb3RvdHlwZS5lbGVtZW50Q2xhc3M9XCJmYW1vdXMtc3VyZmFjZVwiLGUucHJvdG90eXBlLnNldEF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpe2lmKFwic3R5bGVcIj09PWkpdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IHN0eWxlcyB2aWEgXCJzZXRBdHRyaWJ1dGVzXCIgYXMgaXQgd2lsbCBicmVhayBGYW1vLnVzLiAgVXNlIFwic2V0UHJvcGVydGllc1wiIGluc3RlYWQuJyk7dGhpcy5hdHRyaWJ1dGVzW2ldPXRbaV19dGhpcy5fYXR0cmlidXRlc0RpcnR5PSEwfSxlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc30sZS5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1mdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gdCl0aGlzLnByb3BlcnRpZXNbaV09dFtpXTtyZXR1cm4gdGhpcy5fc3R5bGVzRGlydHk9ITAsdGhpc30sZS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BlcnRpZXN9LGUucHJvdG90eXBlLmFkZENsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsYXNzTGlzdC5pbmRleE9mKHQpPDAmJih0aGlzLmNsYXNzTGlzdC5wdXNoKHQpLHRoaXMuX2NsYXNzZXNEaXJ0eT0hMCksdGhpc30sZS5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jbGFzc0xpc3QuaW5kZXhPZih0KTtyZXR1cm4gaT49MCYmKHRoaXMuX2RpcnR5Q2xhc3Nlcy5wdXNoKHRoaXMuY2xhc3NMaXN0LnNwbGljZShpLDEpWzBdKSx0aGlzLl9jbGFzc2VzRGlydHk9ITApLHRoaXN9LGUucHJvdG90eXBlLnRvZ2dsZUNsYXNzPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY2xhc3NMaXN0LmluZGV4T2YodCk7cmV0dXJuIGk+PTA/dGhpcy5yZW1vdmVDbGFzcyh0KTp0aGlzLmFkZENsYXNzKHQpLHRoaXN9LGUucHJvdG90eXBlLnNldENsYXNzZXM9ZnVuY3Rpb24odCl7dmFyIGk9MCxlPVtdO2ZvcihpPTA7aTx0aGlzLmNsYXNzTGlzdC5sZW5ndGg7aSsrKXQuaW5kZXhPZih0aGlzLmNsYXNzTGlzdFtpXSk8MCYmZS5wdXNoKHRoaXMuY2xhc3NMaXN0W2ldKTtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKXRoaXMucmVtb3ZlQ2xhc3MoZVtpXSk7Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyl0aGlzLmFkZENsYXNzKHRbaV0pO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXRDbGFzc0xpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbGFzc0xpc3R9LGUucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudCE9PXQmJih0aGlzLmNvbnRlbnQ9dCx0aGlzLl9jb250ZW50RGlydHk9ITApLHRoaXN9LGUucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50fSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNpemUmJnRoaXMuc2V0U2l6ZSh0LnNpemUpLHQuY2xhc3NlcyYmdGhpcy5zZXRDbGFzc2VzKHQuY2xhc3NlcyksdC5wcm9wZXJ0aWVzJiZ0aGlzLnNldFByb3BlcnRpZXModC5wcm9wZXJ0aWVzKSx0LmF0dHJpYnV0ZXMmJnRoaXMuc2V0QXR0cmlidXRlcyh0LmF0dHJpYnV0ZXMpLHQuY29udGVudCYmdGhpcy5zZXRDb250ZW50KHQuY29udGVudCksdGhpc30sZS5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24odCl7dmFyIGk9dC5hbGxvY2F0ZSh0aGlzLmVsZW1lbnRUeXBlKTtpZih0aGlzLmVsZW1lbnRDbGFzcylpZih0aGlzLmVsZW1lbnRDbGFzcyBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgZT0wO2U8dGhpcy5lbGVtZW50Q2xhc3MubGVuZ3RoO2UrKylpLmNsYXNzTGlzdC5hZGQodGhpcy5lbGVtZW50Q2xhc3NbZV0pO2Vsc2UgaS5jbGFzc0xpc3QuYWRkKHRoaXMuZWxlbWVudENsYXNzKTtpLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzLmF0dGFjaChpKSx0aGlzLl9vcGFjaXR5PW51bGwsdGhpcy5fY3VycmVudFRhcmdldD1pLHRoaXMuX3N0eWxlc0RpcnR5PSEwLHRoaXMuX2NsYXNzZXNEaXJ0eT0hMCx0aGlzLl9hdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fc2l6ZURpcnR5PSEwLHRoaXMuX2NvbnRlbnREaXJ0eT0hMCx0aGlzLl9vcmlnaW5EaXJ0eT0hMCx0aGlzLl90cmFuc2Zvcm1EaXJ0eT0hMH0sZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKHQpe3RoaXMuX2N1cnJlbnRUYXJnZXR8fHRoaXMuc2V0dXAodC5hbGxvY2F0b3IpO3ZhciBpPXRoaXMuX2N1cnJlbnRUYXJnZXQsZT10LnNpemU7aWYodGhpcy5fY2xhc3Nlc0RpcnR5KXtuLmNhbGwodGhpcyxpKTtmb3IodmFyIHM9dGhpcy5nZXRDbGFzc0xpc3QoKSxhPTA7YTxzLmxlbmd0aDthKyspaS5jbGFzc0xpc3QuYWRkKHNbYV0pO3RoaXMuX2NsYXNzZXNEaXJ0eT0hMSx0aGlzLl90cnVlU2l6ZUNoZWNrPSEwfWlmKHRoaXMuX3N0eWxlc0RpcnR5JiYoby5jYWxsKHRoaXMsaSksdGhpcy5fc3R5bGVzRGlydHk9ITEsdGhpcy5fdHJ1ZVNpemVDaGVjaz0hMCksdGhpcy5fYXR0cmlidXRlc0RpcnR5JiYoci5jYWxsKHRoaXMsaSksdGhpcy5fYXR0cmlidXRlc0RpcnR5PSExLHRoaXMuX3RydWVTaXplQ2hlY2s9ITApLHRoaXMuc2l6ZSl7dmFyIHA9dC5zaXplO2lmKGU9W3RoaXMuc2l6ZVswXSx0aGlzLnNpemVbMV1dLHZvaWQgMD09PWVbMF0mJihlWzBdPXBbMF0pLHZvaWQgMD09PWVbMV0mJihlWzFdPXBbMV0pLGVbMF09PT0hMHx8ZVsxXT09PSEwKXtpZihlWzBdIT09ITB8fCF0aGlzLl90cnVlU2l6ZUNoZWNrJiYwIT09dGhpcy5fc2l6ZVswXSl0aGlzLl9zaXplJiYoZVswXT10aGlzLl9zaXplWzBdKTtlbHNle3ZhciB1PWkub2Zmc2V0V2lkdGg7dGhpcy5fc2l6ZSYmdGhpcy5fc2l6ZVswXSE9PXUmJih0aGlzLl9zaXplWzBdPXUsdGhpcy5fc2l6ZURpcnR5PSEwKSxlWzBdPXV9aWYoZVsxXSE9PSEwfHwhdGhpcy5fdHJ1ZVNpemVDaGVjayYmMCE9PXRoaXMuX3NpemVbMV0pdGhpcy5fc2l6ZSYmKGVbMV09dGhpcy5fc2l6ZVsxXSk7ZWxzZXt2YXIgbD1pLm9mZnNldEhlaWdodDt0aGlzLl9zaXplJiZ0aGlzLl9zaXplWzFdIT09bCYmKHRoaXMuX3NpemVbMV09bCx0aGlzLl9zaXplRGlydHk9ITApLGVbMV09bH10aGlzLl90cnVlU2l6ZUNoZWNrPSExfX1oKHRoaXMuX3NpemUsZSkmJih0aGlzLl9zaXplfHwodGhpcy5fc2l6ZT1bMCwwXSksdGhpcy5fc2l6ZVswXT1lWzBdLHRoaXMuX3NpemVbMV09ZVsxXSx0aGlzLl9zaXplRGlydHk9ITApLHRoaXMuX3NpemVEaXJ0eSYmKHRoaXMuX3NpemUmJihpLnN0eWxlLndpZHRoPXRoaXMuc2l6ZSYmdGhpcy5zaXplWzBdPT09ITA/XCJcIjp0aGlzLl9zaXplWzBdK1wicHhcIixpLnN0eWxlLmhlaWdodD10aGlzLnNpemUmJnRoaXMuc2l6ZVsxXT09PSEwP1wiXCI6dGhpcy5fc2l6ZVsxXStcInB4XCIpLHRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJyZXNpemVcIikpLHRoaXMuX2NvbnRlbnREaXJ0eSYmKHRoaXMuZGVwbG95KGkpLHRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJkZXBsb3lcIiksdGhpcy5fY29udGVudERpcnR5PSExLHRoaXMuX3RydWVTaXplQ2hlY2s9ITApLGMucHJvdG90eXBlLmNvbW1pdC5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24odCl7dmFyIGk9MCxlPXRoaXMuX2N1cnJlbnRUYXJnZXQ7dGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcInJlY2FsbFwiKSx0aGlzLnJlY2FsbChlKSxlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5zdHlsZS5vcGFjaXR5PVwiXCIsZS5zdHlsZS53aWR0aD1cIlwiLGUuc3R5bGUuaGVpZ2h0PVwiXCIscy5jYWxsKHRoaXMsZSksYS5jYWxsKHRoaXMsZSk7dmFyIG89dGhpcy5nZXRDbGFzc0xpc3QoKTtmb3Iobi5jYWxsKHRoaXMsZSksaT0wO2k8by5sZW5ndGg7aSsrKWUuY2xhc3NMaXN0LnJlbW92ZShvW2ldKTtpZih0aGlzLmVsZW1lbnRDbGFzcylpZih0aGlzLmVsZW1lbnRDbGFzcyBpbnN0YW5jZW9mIEFycmF5KWZvcihpPTA7aTx0aGlzLmVsZW1lbnRDbGFzcy5sZW5ndGg7aSsrKWUuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmVsZW1lbnRDbGFzc1tpXSk7ZWxzZSBlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5lbGVtZW50Q2xhc3MpO3RoaXMuZGV0YWNoKGUpLHRoaXMuX2N1cnJlbnRUYXJnZXQ9bnVsbCx0LmRlYWxsb2NhdGUoZSl9LGUucHJvdG90eXBlLmRlcGxveT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldENvbnRlbnQoKTtpZihpIGluc3RhbmNlb2YgTm9kZSl7Zm9yKDt0Lmhhc0NoaWxkTm9kZXMoKTspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3QuYXBwZW5kQ2hpbGQoaSl9ZWxzZSB0LmlubmVySFRNTD1pfSxlLnByb3RvdHlwZS5yZWNhbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTt0Lmhhc0NoaWxkTm9kZXMoKTspaS5hcHBlbmRDaGlsZCh0LmZpcnN0Q2hpbGQpO3RoaXMuc2V0Q29udGVudChpKX0sZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplP3RoaXMuX3NpemU6dGhpcy5zaXplfSxlLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNpemU9dD9bdFswXSx0WzFdXTpudWxsLHRoaXMuX3NpemVEaXJ0eT0hMCx0aGlzfSxpLmV4cG9ydHM9ZX0se1wiLi9FbGVtZW50T3V0cHV0XCI6M31dLDE1OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIDI9PT10Lmxlbmd0aD90WzBdKnRbMF0rdFsxXSp0WzFdOnRbMF0qdFswXSt0WzFdKnRbMV0rdFsyXSp0WzJdfWZ1bmN0aW9uIG4odCl7cmV0dXJuIE1hdGguc3FydChlKHQpKX1mdW5jdGlvbiBvKHQpe3JldHVybiAwPnQ/LTE6MX12YXIgcz17fTtzLnByZWNpc2lvbj0xZS02LHMuaWRlbnRpdHk9WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdLHMubXVsdGlwbHk0eDQ9ZnVuY3Rpb24odCxpKXtyZXR1cm5bdFswXSppWzBdK3RbNF0qaVsxXSt0WzhdKmlbMl0rdFsxMl0qaVszXSx0WzFdKmlbMF0rdFs1XSppWzFdK3RbOV0qaVsyXSt0WzEzXSppWzNdLHRbMl0qaVswXSt0WzZdKmlbMV0rdFsxMF0qaVsyXSt0WzE0XSppWzNdLHRbM10qaVswXSt0WzddKmlbMV0rdFsxMV0qaVsyXSt0WzE1XSppWzNdLHRbMF0qaVs0XSt0WzRdKmlbNV0rdFs4XSppWzZdK3RbMTJdKmlbN10sdFsxXSppWzRdK3RbNV0qaVs1XSt0WzldKmlbNl0rdFsxM10qaVs3XSx0WzJdKmlbNF0rdFs2XSppWzVdK3RbMTBdKmlbNl0rdFsxNF0qaVs3XSx0WzNdKmlbNF0rdFs3XSppWzVdK3RbMTFdKmlbNl0rdFsxNV0qaVs3XSx0WzBdKmlbOF0rdFs0XSppWzldK3RbOF0qaVsxMF0rdFsxMl0qaVsxMV0sdFsxXSppWzhdK3RbNV0qaVs5XSt0WzldKmlbMTBdK3RbMTNdKmlbMTFdLHRbMl0qaVs4XSt0WzZdKmlbOV0rdFsxMF0qaVsxMF0rdFsxNF0qaVsxMV0sdFszXSppWzhdK3RbN10qaVs5XSt0WzExXSppWzEwXSt0WzE1XSppWzExXSx0WzBdKmlbMTJdK3RbNF0qaVsxM10rdFs4XSppWzE0XSt0WzEyXSppWzE1XSx0WzFdKmlbMTJdK3RbNV0qaVsxM10rdFs5XSppWzE0XSt0WzEzXSppWzE1XSx0WzJdKmlbMTJdK3RbNl0qaVsxM10rdFsxMF0qaVsxNF0rdFsxNF0qaVsxNV0sdFszXSppWzEyXSt0WzddKmlbMTNdK3RbMTFdKmlbMTRdK3RbMTVdKmlbMTVdXX0scy5tdWx0aXBseT1mdW5jdGlvbih0LGkpe3JldHVyblt0WzBdKmlbMF0rdFs0XSppWzFdK3RbOF0qaVsyXSx0WzFdKmlbMF0rdFs1XSppWzFdK3RbOV0qaVsyXSx0WzJdKmlbMF0rdFs2XSppWzFdK3RbMTBdKmlbMl0sMCx0WzBdKmlbNF0rdFs0XSppWzVdK3RbOF0qaVs2XSx0WzFdKmlbNF0rdFs1XSppWzVdK3RbOV0qaVs2XSx0WzJdKmlbNF0rdFs2XSppWzVdK3RbMTBdKmlbNl0sMCx0WzBdKmlbOF0rdFs0XSppWzldK3RbOF0qaVsxMF0sdFsxXSppWzhdK3RbNV0qaVs5XSt0WzldKmlbMTBdLHRbMl0qaVs4XSt0WzZdKmlbOV0rdFsxMF0qaVsxMF0sMCx0WzBdKmlbMTJdK3RbNF0qaVsxM10rdFs4XSppWzE0XSt0WzEyXSx0WzFdKmlbMTJdK3RbNV0qaVsxM10rdFs5XSppWzE0XSt0WzEzXSx0WzJdKmlbMTJdK3RbNl0qaVsxM10rdFsxMF0qaVsxNF0rdFsxNF0sMV1cbn0scy50aGVuTW92ZT1mdW5jdGlvbih0LGkpe3JldHVybiBpWzJdfHwoaVsyXT0wKSxbdFswXSx0WzFdLHRbMl0sMCx0WzRdLHRbNV0sdFs2XSwwLHRbOF0sdFs5XSx0WzEwXSwwLHRbMTJdK2lbMF0sdFsxM10raVsxXSx0WzE0XStpWzJdLDFdfSxzLm1vdmVUaGVuPWZ1bmN0aW9uKHQsaSl7dFsyXXx8KHRbMl09MCk7dmFyIGU9dFswXSppWzBdK3RbMV0qaVs0XSt0WzJdKmlbOF0sbj10WzBdKmlbMV0rdFsxXSppWzVdK3RbMl0qaVs5XSxvPXRbMF0qaVsyXSt0WzFdKmlbNl0rdFsyXSppWzEwXTtyZXR1cm4gcy50aGVuTW92ZShpLFtlLG4sb10pfSxzLnRyYW5zbGF0ZT1mdW5jdGlvbih0LGksZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCx0LGksZSwxXX0scy50aGVuU2NhbGU9ZnVuY3Rpb24odCxpKXtyZXR1cm5baVswXSp0WzBdLGlbMV0qdFsxXSxpWzJdKnRbMl0sMCxpWzBdKnRbNF0saVsxXSp0WzVdLGlbMl0qdFs2XSwwLGlbMF0qdFs4XSxpWzFdKnRbOV0saVsyXSp0WzEwXSwwLGlbMF0qdFsxMl0saVsxXSp0WzEzXSxpWzJdKnRbMTRdLDFdfSxzLnNjYWxlPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09aSYmKGk9dCksW3QsMCwwLDAsMCxpLDAsMCwwLDAsZSwwLDAsMCwwLDFdfSxzLnJvdGF0ZVg9ZnVuY3Rpb24odCl7dmFyIGk9TWF0aC5jb3ModCksZT1NYXRoLnNpbih0KTtyZXR1cm5bMSwwLDAsMCwwLGksZSwwLDAsLWUsaSwwLDAsMCwwLDFdfSxzLnJvdGF0ZVk9ZnVuY3Rpb24odCl7dmFyIGk9TWF0aC5jb3ModCksZT1NYXRoLnNpbih0KTtyZXR1cm5baSwwLC1lLDAsMCwxLDAsMCxlLDAsaSwwLDAsMCwwLDFdfSxzLnJvdGF0ZVo9ZnVuY3Rpb24odCl7dmFyIGk9TWF0aC5jb3ModCksZT1NYXRoLnNpbih0KTtyZXR1cm5baSxlLDAsMCwtZSxpLDAsMCwwLDAsMSwwLDAsMCwwLDFdfSxzLnJvdGF0ZT1mdW5jdGlvbih0LGksZSl7dmFyIG49TWF0aC5jb3ModCksbz1NYXRoLnNpbih0KSxzPU1hdGguY29zKGkpLHI9TWF0aC5zaW4oaSksYT1NYXRoLmNvcyhlKSxoPU1hdGguc2luKGUpLGM9W3MqYSxuKmgrbypyKmEsbypoLW4qciphLDAsLXMqaCxuKmEtbypyKmgsbyphK24qcipoLDAsciwtbypzLG4qcywwLDAsMCwwLDFdO3JldHVybiBjfSxzLnJvdGF0ZUF4aXM9ZnVuY3Rpb24odCxpKXt2YXIgZT1NYXRoLnNpbihpKSxuPU1hdGguY29zKGkpLG89MS1uLHM9dFswXSp0WzBdKm8scj10WzBdKnRbMV0qbyxhPXRbMF0qdFsyXSpvLGg9dFsxXSp0WzFdKm8sYz10WzFdKnRbMl0qbyxwPXRbMl0qdFsyXSpvLHU9dFswXSplLGw9dFsxXSplLGY9dFsyXSplLGQ9W3MrbixyK2YsYS1sLDAsci1mLGgrbixjK3UsMCxhK2wsYy11LHArbiwwLDAsMCwwLDFdO3JldHVybiBkfSxzLmFib3V0T3JpZ2luPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dFswXS0odFswXSppWzBdK3RbMV0qaVs0XSt0WzJdKmlbOF0pLG49dFsxXS0odFswXSppWzFdK3RbMV0qaVs1XSt0WzJdKmlbOV0pLG89dFsyXS0odFswXSppWzJdK3RbMV0qaVs2XSt0WzJdKmlbMTBdKTtyZXR1cm4gcy50aGVuTW92ZShpLFtlLG4sb10pfSxzLnNrZXc9ZnVuY3Rpb24odCxpLGUpe3JldHVyblsxLE1hdGgudGFuKGkpLDAsMCxNYXRoLnRhbihlKSwxLDAsMCwwLE1hdGgudGFuKHQpLDEsMCwwLDAsMCwxXX0scy5za2V3WD1mdW5jdGlvbih0KXtyZXR1cm5bMSwwLDAsMCxNYXRoLnRhbih0KSwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdfSxzLnNrZXdZPWZ1bmN0aW9uKHQpe3JldHVyblsxLE1hdGgudGFuKHQpLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV19LHMucGVyc3BlY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwtMS90LDAsMCwwLDFdfSxzLmdldFRyYW5zbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm5bdFsxMl0sdFsxM10sdFsxNF1dfSxzLmludmVyc2U9ZnVuY3Rpb24odCl7dmFyIGk9dFs1XSp0WzEwXS10WzZdKnRbOV0sZT10WzRdKnRbMTBdLXRbNl0qdFs4XSxuPXRbNF0qdFs5XS10WzVdKnRbOF0sbz10WzFdKnRbMTBdLXRbMl0qdFs5XSxzPXRbMF0qdFsxMF0tdFsyXSp0WzhdLHI9dFswXSp0WzldLXRbMV0qdFs4XSxhPXRbMV0qdFs2XS10WzJdKnRbNV0saD10WzBdKnRbNl0tdFsyXSp0WzRdLGM9dFswXSp0WzVdLXRbMV0qdFs0XSxwPXRbMF0qaS10WzFdKmUrdFsyXSpuLHU9MS9wLGw9W3UqaSwtdSpvLHUqYSwwLC11KmUsdSpzLC11KmgsMCx1Km4sLXUqcix1KmMsMCwwLDAsMCwxXTtyZXR1cm4gbFsxMl09LXRbMTJdKmxbMF0tdFsxM10qbFs0XS10WzE0XSpsWzhdLGxbMTNdPS10WzEyXSpsWzFdLXRbMTNdKmxbNV0tdFsxNF0qbFs5XSxsWzE0XT0tdFsxMl0qbFsyXS10WzEzXSpsWzZdLXRbMTRdKmxbMTBdLGx9LHMudHJhbnNwb3NlPWZ1bmN0aW9uKHQpe3JldHVyblt0WzBdLHRbNF0sdFs4XSx0WzEyXSx0WzFdLHRbNV0sdFs5XSx0WzEzXSx0WzJdLHRbNl0sdFsxMF0sdFsxNF0sdFszXSx0WzddLHRbMTFdLHRbMTVdXX0scy5pbnRlcnByZXQ9ZnVuY3Rpb24odCl7dmFyIGk9W3RbMF0sdFsxXSx0WzJdXSxyPW8oaVswXSksYT1uKGkpLGg9W2lbMF0rciphLGlbMV0saVsyXV0sYz0yL2UoaCk7aWYoYz49MS8wKXJldHVybnt0cmFuc2xhdGU6cy5nZXRUcmFuc2xhdGUodCkscm90YXRlOlswLDAsMF0sc2NhbGU6WzAsMCwwXSxza2V3OlswLDAsMF19O3ZhciBwPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXTtwWzBdPTEtYypoWzBdKmhbMF0scFs1XT0xLWMqaFsxXSpoWzFdLHBbMTBdPTEtYypoWzJdKmhbMl0scFsxXT0tYypoWzBdKmhbMV0scFsyXT0tYypoWzBdKmhbMl0scFs2XT0tYypoWzFdKmhbMl0scFs0XT1wWzFdLHBbOF09cFsyXSxwWzldPXBbNl07dmFyIHU9cy5tdWx0aXBseShwLHQpLGw9W3VbNV0sdVs2XV0sZj1vKGxbMF0pLGQ9bihsKSxfPVtsWzBdK2YqZCxsWzFdXSx5PTIvZShfKSxnPVsxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXTtnWzVdPTEteSpfWzBdKl9bMF0sZ1sxMF09MS15Kl9bMV0qX1sxXSxnWzZdPS15Kl9bMF0qX1sxXSxnWzldPWdbNl07dmFyIHY9cy5tdWx0aXBseShnLHApLG09cy5tdWx0aXBseSh2LHQpLE89cy5zY2FsZShtWzBdPDA/LTE6MSxtWzVdPDA/LTE6MSxtWzEwXTwwPy0xOjEpO209cy5tdWx0aXBseShtLE8pLHY9cy5tdWx0aXBseShPLHYpO3ZhciBTPXt9O3JldHVybiBTLnRyYW5zbGF0ZT1zLmdldFRyYW5zbGF0ZSh0KSxTLnJvdGF0ZT1bTWF0aC5hdGFuMigtdls2XSx2WzEwXSksTWF0aC5hc2luKHZbMl0pLE1hdGguYXRhbjIoLXZbMV0sdlswXSldLFMucm90YXRlWzBdfHwoUy5yb3RhdGVbMF09MCxTLnJvdGF0ZVsyXT1NYXRoLmF0YW4yKHZbNF0sdls1XSkpLFMuc2NhbGU9W21bMF0sbVs1XSxtWzEwXV0sUy5za2V3PVtNYXRoLmF0YW4yKG1bOV0sUy5zY2FsZVsyXSksTWF0aC5hdGFuMihtWzhdLFMuc2NhbGVbMl0pLE1hdGguYXRhbjIobVs0XSxTLnNjYWxlWzBdKV0sTWF0aC5hYnMoUy5yb3RhdGVbMF0pK01hdGguYWJzKFMucm90YXRlWzJdKT4xLjUqTWF0aC5QSSYmKFMucm90YXRlWzFdPU1hdGguUEktUy5yb3RhdGVbMV0sUy5yb3RhdGVbMV0+TWF0aC5QSSYmKFMucm90YXRlWzFdLT0yKk1hdGguUEkpLFMucm90YXRlWzFdPC1NYXRoLlBJJiYoUy5yb3RhdGVbMV0rPTIqTWF0aC5QSSksUy5yb3RhdGVbMF08MD9TLnJvdGF0ZVswXSs9TWF0aC5QSTpTLnJvdGF0ZVswXS09TWF0aC5QSSxTLnJvdGF0ZVsyXTwwP1Mucm90YXRlWzJdKz1NYXRoLlBJOlMucm90YXRlWzJdLT1NYXRoLlBJKSxTfSxzLmF2ZXJhZ2U9ZnVuY3Rpb24odCxpLGUpe2U9dm9pZCAwPT09ZT8uNTplO2Zvcih2YXIgbj1zLmludGVycHJldCh0KSxvPXMuaW50ZXJwcmV0KGkpLHI9e3RyYW5zbGF0ZTpbMCwwLDBdLHJvdGF0ZTpbMCwwLDBdLHNjYWxlOlswLDAsMF0sc2tldzpbMCwwLDBdfSxhPTA7Mz5hO2ErKylyLnRyYW5zbGF0ZVthXT0oMS1lKSpuLnRyYW5zbGF0ZVthXStlKm8udHJhbnNsYXRlW2FdLHIucm90YXRlW2FdPSgxLWUpKm4ucm90YXRlW2FdK2Uqby5yb3RhdGVbYV0sci5zY2FsZVthXT0oMS1lKSpuLnNjYWxlW2FdK2Uqby5zY2FsZVthXSxyLnNrZXdbYV09KDEtZSkqbi5za2V3W2FdK2Uqby5za2V3W2FdO3JldHVybiBzLmJ1aWxkKHIpfSxzLmJ1aWxkPWZ1bmN0aW9uKHQpe3ZhciBpPXMuc2NhbGUodC5zY2FsZVswXSx0LnNjYWxlWzFdLHQuc2NhbGVbMl0pLGU9cy5za2V3KHQuc2tld1swXSx0LnNrZXdbMV0sdC5za2V3WzJdKSxuPXMucm90YXRlKHQucm90YXRlWzBdLHQucm90YXRlWzFdLHQucm90YXRlWzJdKTtyZXR1cm4gcy50aGVuTW92ZShzLm11bHRpcGx5KHMubXVsdGlwbHkobixlKSxpKSx0LnRyYW5zbGF0ZSl9LHMuZXF1YWxzPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIXMubm90RXF1YWxzKHQsaSl9LHMubm90RXF1YWxzPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQ9PT1pPyExOiEodCYmaSl8fHRbMTJdIT09aVsxMl18fHRbMTNdIT09aVsxM118fHRbMTRdIT09aVsxNF18fHRbMF0hPT1pWzBdfHx0WzFdIT09aVsxXXx8dFsyXSE9PWlbMl18fHRbNF0hPT1pWzRdfHx0WzVdIT09aVs1XXx8dFs2XSE9PWlbNl18fHRbOF0hPT1pWzhdfHx0WzldIT09aVs5XXx8dFsxMF0hPT1pWzEwXX0scy5ub3JtYWxpemVSb3RhdGlvbj1mdW5jdGlvbih0KXt2YXIgaT10LnNsaWNlKDApO2ZvcigoaVswXT09PS41Kk1hdGguUEl8fGlbMF09PT0uNSotTWF0aC5QSSkmJihpWzBdPS1pWzBdLGlbMV09TWF0aC5QSS1pWzFdLGlbMl0tPU1hdGguUEkpLGlbMF0+LjUqTWF0aC5QSSYmKGlbMF09aVswXS1NYXRoLlBJLGlbMV09TWF0aC5QSS1pWzFdLGlbMl0tPU1hdGguUEkpLGlbMF08LjUqLU1hdGguUEkmJihpWzBdPWlbMF0rTWF0aC5QSSxpWzFdPS1NYXRoLlBJLWlbMV0saVsyXS09TWF0aC5QSSk7aVsxXTwtTWF0aC5QSTspaVsxXSs9MipNYXRoLlBJO2Zvcig7aVsxXT49TWF0aC5QSTspaVsxXS09MipNYXRoLlBJO2Zvcig7aVsyXTwtTWF0aC5QSTspaVsyXSs9MipNYXRoLlBJO2Zvcig7aVsyXT49TWF0aC5QSTspaVsyXS09MipNYXRoLlBJO3JldHVybiBpfSxzLmluRnJvbnQ9WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwuMDAxLDFdLHMuYmVoaW5kPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsLS4wMDEsMV0saS5leHBvcnRzPXN9LHt9XSwxNjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMuX25vZGU9bmV3IHMsdGhpcy5fZXZlbnRJbnB1dD1uZXcgbix0aGlzLl9ldmVudE91dHB1dD1uZXcgbixuLnNldElucHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50SW5wdXQpLG4uc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KSx0aGlzLm9wdGlvbnM9ci5jbG9uZSh0aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRfT1BUSU9OU3x8ZS5ERUZBVUxUX09QVElPTlMpLHRoaXMuX29wdGlvbnNNYW5hZ2VyPW5ldyBvKHRoaXMub3B0aW9ucyksdCYmdGhpcy5zZXRPcHRpb25zKHQpfXZhciBuPXQoXCIuL0V2ZW50SGFuZGxlclwiKSxvPXQoXCIuL09wdGlvbnNNYW5hZ2VyXCIpLHM9dChcIi4vUmVuZGVyTm9kZVwiKSxyPXQoXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiKTtlLkRFRkFVTFRfT1BUSU9OUz17fSxlLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vcHRpb25zTWFuYWdlci5nZXRPcHRpb25zKHQpfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3RoaXMuX29wdGlvbnNNYW5hZ2VyLnBhdGNoKHQpfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZS5hZGQuYXBwbHkodGhpcy5fbm9kZSxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5fYWRkPWUucHJvdG90eXBlLmFkZCxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZS5yZW5kZXIoKX0sZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlJiZ0aGlzLl9ub2RlLmdldFNpemU/dGhpcy5fbm9kZS5nZXRTaXplLmFwcGx5KHRoaXMuX25vZGUsYXJndW1lbnRzKXx8dGhpcy5vcHRpb25zLnNpemU6dGhpcy5vcHRpb25zLnNpemV9LGkuZXhwb3J0cz1lfSx7XCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiOjk1LFwiLi9FdmVudEhhbmRsZXJcIjo3LFwiLi9PcHRpb25zTWFuYWdlclwiOjEwLFwiLi9SZW5kZXJOb2RlXCI6MTF9XSwxNzpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3R8fCh0PVtdKSx0IGluc3RhbmNlb2YgQXJyYXkmJih0PXthcnJheTp0fSksdGhpcy5fPW51bGwsdGhpcy5pbmRleD10LmluZGV4fHwwLHQuYXJyYXk/dGhpcy5fPW5ldyB0aGlzLmNvbnN0cnVjdG9yLkJhY2tpbmcodC5hcnJheSk6dC5fJiYodGhpcy5fPXQuXyksdGhpcy5pbmRleD09PXRoaXMuXy5maXJzdEluZGV4JiYodGhpcy5fLmZpcnN0Tm9kZT10aGlzKSx0aGlzLmluZGV4PT09dGhpcy5fLmZpcnN0SW5kZXgrdGhpcy5fLmFycmF5Lmxlbmd0aC0xJiYodGhpcy5fLmxhc3ROb2RlPXRoaXMpLHZvaWQgMCE9PXQubG9vcCYmKHRoaXMuXy5sb29wPXQubG9vcCksdm9pZCAwIT09dC50cmFja1NpemUmJih0aGlzLl8udHJhY2tTaXplPXQudHJhY2tTaXplKSx0aGlzLl9wcmV2aW91c05vZGU9bnVsbCx0aGlzLl9uZXh0Tm9kZT1udWxsfWUuQmFja2luZz1mdW5jdGlvbih0KXt0aGlzLmFycmF5PXQsdGhpcy5maXJzdEluZGV4PTAsdGhpcy5sb29wPSExLHRoaXMuZmlyc3ROb2RlPW51bGwsdGhpcy5sYXN0Tm9kZT1udWxsLHRoaXMuY3VtdWxhdGl2ZVNpemVzPVtbMCwwXV0sdGhpcy5zaXplRGlydHk9ITAsdGhpcy50cmFja1NpemU9ITF9LGUuQmFja2luZy5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGk9dC10aGlzLmZpcnN0SW5kZXg7cmV0dXJuIDA+aXx8aT49dGhpcy5hcnJheS5sZW5ndGg/bnVsbDp0aGlzLmFycmF5W2ldfSxlLkJhY2tpbmcucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsaSl7dGhpcy5hcnJheVt0LXRoaXMuZmlyc3RJbmRleF09aX0sZS5CYWNraW5nLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1bXVsYXRpdmVTaXplc1t0XX0sZS5CYWNraW5nLnByb3RvdHlwZS5jYWxjdWxhdGVTaXplPWZ1bmN0aW9uKHQpe3Q9dHx8dGhpcy5hcnJheS5sZW5ndGg7Zm9yKHZhciBpPVswLDBdLGU9MDt0PmU7ZSsrKXt2YXIgbj10aGlzLmFycmF5W2VdLmdldFNpemUoKTtpZighbilyZXR1cm4gdm9pZCAwO3ZvaWQgMCE9PWlbMF0mJih2b2lkIDA9PT1uWzBdP2lbMF09dm9pZCAwOmlbMF0rPW5bMF0pLHZvaWQgMCE9PWlbMV0mJih2b2lkIDA9PT1uWzFdP2lbMV09dm9pZCAwOmlbMV0rPW5bMV0pLHRoaXMuY3VtdWxhdGl2ZVNpemVzW2UrMV09aS5zbGljZSgpfXJldHVybiB0aGlzLnNpemVEaXJ0eT0hMSxpfSxlLkJhY2tpbmcucHJvdG90eXBlLnJlaW5kZXg9ZnVuY3Rpb24odCxpLGUpe2lmKHRoaXMuYXJyYXlbMF0pe2Zvcih2YXIgbj0wLG89dGhpcy5maXJzdEluZGV4LHM9ZS1pLHI9dGhpcy5maXJzdE5vZGU7dC0xPm87KXI9ci5nZXROZXh0KCksbysrO3ZhciBhPXI7Zm9yKG49MDtpPm47bisrKXI9ci5nZXROZXh0KCksciYmKHIuX3ByZXZpb3VzTm9kZT1hKTt2YXIgaD1yP3IuZ2V0TmV4dCgpOm51bGw7Zm9yKGEuX25leHROb2RlPW51bGwscj1hLG49MDtlPm47bisrKXI9ci5nZXROZXh0KCk7aWYobys9ZSxyIT09aCYmKHIuX25leHROb2RlPWgsaCYmKGguX3ByZXZpb3VzTm9kZT1yKSksaClmb3Iocj1oLG8rKztyJiZvPHRoaXMuYXJyYXkubGVuZ3RoK3RoaXMuZmlyc3RJbmRleDspci5fbmV4dE5vZGU/ci5pbmRleCs9czpyLmluZGV4PW8scj1yLmdldE5leHQoKSxvKys7dGhpcy50cmFja1NpemUmJih0aGlzLnNpemVEaXJ0eT0hMCl9fSxlLnByb3RvdHlwZS5nZXRQcmV2aW91cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuXy5hcnJheS5sZW5ndGg7cmV0dXJuIHQ/dGhpcy5pbmRleD09PXRoaXMuXy5maXJzdEluZGV4P3RoaXMuXy5sb29wPyh0aGlzLl9wcmV2aW91c05vZGU9dGhpcy5fLmxhc3ROb2RlfHxuZXcgdGhpcy5jb25zdHJ1Y3Rvcih7Xzp0aGlzLl8saW5kZXg6dGhpcy5fLmZpcnN0SW5kZXgrdC0xfSksdGhpcy5fcHJldmlvdXNOb2RlLl9uZXh0Tm9kZT10aGlzKTp0aGlzLl9wcmV2aW91c05vZGU9bnVsbDp0aGlzLl9wcmV2aW91c05vZGV8fCh0aGlzLl9wcmV2aW91c05vZGU9bmV3IHRoaXMuY29uc3RydWN0b3Ioe186dGhpcy5fLGluZGV4OnRoaXMuaW5kZXgtMX0pLHRoaXMuX3ByZXZpb3VzTm9kZS5fbmV4dE5vZGU9dGhpcyk6dGhpcy5fcHJldmlvdXNOb2RlPW51bGwsdGhpcy5fcHJldmlvdXNOb2RlfSxlLnByb3RvdHlwZS5nZXROZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fLmFycmF5Lmxlbmd0aDtyZXR1cm4gdD90aGlzLmluZGV4PT09dGhpcy5fLmZpcnN0SW5kZXgrdC0xP3RoaXMuXy5sb29wPyh0aGlzLl9uZXh0Tm9kZT10aGlzLl8uZmlyc3ROb2RlfHxuZXcgdGhpcy5jb25zdHJ1Y3Rvcih7Xzp0aGlzLl8saW5kZXg6dGhpcy5fLmZpcnN0SW5kZXh9KSx0aGlzLl9uZXh0Tm9kZS5fcHJldmlvdXNOb2RlPXRoaXMpOnRoaXMuX25leHROb2RlPW51bGw6dGhpcy5fbmV4dE5vZGV8fCh0aGlzLl9uZXh0Tm9kZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih7Xzp0aGlzLl8saW5kZXg6dGhpcy5pbmRleCsxfSksdGhpcy5fbmV4dE5vZGUuX3ByZXZpb3VzTm9kZT10aGlzKTp0aGlzLl9uZXh0Tm9kZT1udWxsLHRoaXMuX25leHROb2RlfSxlLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl8uYXJyYXkuaW5kZXhPZih0KX0sZS5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleH0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlwiK3RoaXMuaW5kZXh9LGUucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oKXt0aGlzLl8uYXJyYXkudW5zaGlmdC5hcHBseSh0aGlzLl8uYXJyYXksYXJndW1lbnRzKSx0aGlzLl8uZmlyc3RJbmRleC09YXJndW1lbnRzLmxlbmd0aCx0aGlzLl8udHJhY2tTaXplJiYodGhpcy5fLnNpemVEaXJ0eT0hMCl9LGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt0aGlzLl8uYXJyYXkucHVzaC5hcHBseSh0aGlzLl8uYXJyYXksYXJndW1lbnRzKSx0aGlzLl8udHJhY2tTaXplJiYodGhpcy5fLnNpemVEaXJ0eT0hMCl9LGUucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbih0LGkpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTt0aGlzLl8uYXJyYXkuc3BsaWNlLmFwcGx5KHRoaXMuXy5hcnJheSxbdC10aGlzLl8uZmlyc3RJbmRleCxpXS5jb25jYXQoZSkpLHRoaXMuXy5yZWluZGV4KHQsaSxlLmxlbmd0aCl9LGUucHJvdG90eXBlLnN3YXA9ZnVuY3Rpb24odCl7dmFyIGk9dC5nZXQoKSxlPXRoaXMuZ2V0KCk7dGhpcy5fLnNldFZhbHVlKHRoaXMuaW5kZXgsaSksdGhpcy5fLnNldFZhbHVlKHQuaW5kZXgsZSk7dmFyIG49dGhpcy5fcHJldmlvdXNOb2RlLG89dGhpcy5fbmV4dE5vZGUscz10aGlzLmluZGV4LHI9dC5fcHJldmlvdXNOb2RlLGE9dC5fbmV4dE5vZGUsaD10LmluZGV4O3RoaXMuaW5kZXg9aCx0aGlzLl9wcmV2aW91c05vZGU9cj09PXRoaXM/dDpyLHRoaXMuX3ByZXZpb3VzTm9kZSYmKHRoaXMuX3ByZXZpb3VzTm9kZS5fbmV4dE5vZGU9dGhpcyksdGhpcy5fbmV4dE5vZGU9YT09PXRoaXM/dDphLHRoaXMuX25leHROb2RlJiYodGhpcy5fbmV4dE5vZGUuX3ByZXZpb3VzTm9kZT10aGlzKSx0LmluZGV4PXMsdC5fcHJldmlvdXNOb2RlPW49PT10P3RoaXM6bix0Ll9wcmV2aW91c05vZGUmJih0Ll9wcmV2aW91c05vZGUuX25leHROb2RlPXQpLHQuX25leHROb2RlPW89PT10P3RoaXM6byx0Ll9uZXh0Tm9kZSYmKHQuX25leHROb2RlLl9wcmV2aW91c05vZGU9dCksdGhpcy5pbmRleD09PXRoaXMuXy5maXJzdEluZGV4P3RoaXMuXy5maXJzdE5vZGU9dGhpczp0aGlzLmluZGV4PT09dGhpcy5fLmZpcnN0SW5kZXgrdGhpcy5fLmFycmF5Lmxlbmd0aC0xJiYodGhpcy5fLmxhc3ROb2RlPXRoaXMpLHQuaW5kZXg9PT10aGlzLl8uZmlyc3RJbmRleD90aGlzLl8uZmlyc3ROb2RlPXQ6dC5pbmRleD09PXRoaXMuXy5maXJzdEluZGV4K3RoaXMuXy5hcnJheS5sZW5ndGgtMSYmKHRoaXMuXy5sYXN0Tm9kZT10KSx0aGlzLl8udHJhY2tTaXplJiYodGhpcy5fLnNpemVEaXJ0eT0hMCl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VmFsdWUodGhpcy5pbmRleCl9LGUucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldCgpO3JldHVybiB0P3QuZ2V0U2l6ZSgpOm51bGx9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3RoaXMuXy50cmFja1NpemUmJnRoaXMuXy5zaXplRGlydHkmJnRoaXMuXy5jYWxjdWxhdGVTaXplKCk7dmFyIHQ9dGhpcy5nZXQoKTtyZXR1cm4gdD90LnJlbmRlci5hcHBseSh0LGFyZ3VtZW50cyk6bnVsbH0saS5leHBvcnRzPWV9LHt9XSwxODpbZnVuY3Rpb24odCxpKXtpLmV4cG9ydHM9e0NvbnRleHQ6dChcIi4vQ29udGV4dFwiKSxFbGVtZW50QWxsb2NhdG9yOnQoXCIuL0VsZW1lbnRBbGxvY2F0b3JcIiksRWxlbWVudE91dHB1dDp0KFwiLi9FbGVtZW50T3V0cHV0XCIpLEVuZ2luZTp0KFwiLi9FbmdpbmVcIiksRW50aXR5OnQoXCIuL0VudGl0eVwiKSxFdmVudEVtaXR0ZXI6dChcIi4vRXZlbnRFbWl0dGVyXCIpLEV2ZW50SGFuZGxlcjp0KFwiLi9FdmVudEhhbmRsZXJcIiksR3JvdXA6dChcIi4vR3JvdXBcIiksTW9kaWZpZXI6dChcIi4vTW9kaWZpZXJcIiksT3B0aW9uc01hbmFnZXI6dChcIi4vT3B0aW9uc01hbmFnZXJcIiksUmVuZGVyTm9kZTp0KFwiLi9SZW5kZXJOb2RlXCIpLFNjZW5lOnQoXCIuL1NjZW5lXCIpLFNwZWNQYXJzZXI6dChcIi4vU3BlY1BhcnNlclwiKSxTdXJmYWNlOnQoXCIuL1N1cmZhY2VcIiksVHJhbnNmb3JtOnQoXCIuL1RyYW5zZm9ybVwiKSxWaWV3OnQoXCIuL1ZpZXdcIiksVmlld1NlcXVlbmNlOnQoXCIuL1ZpZXdTZXF1ZW5jZVwiKX19LHtcIi4vQ29udGV4dFwiOjEsXCIuL0VsZW1lbnRBbGxvY2F0b3JcIjoyLFwiLi9FbGVtZW50T3V0cHV0XCI6MyxcIi4vRW5naW5lXCI6NCxcIi4vRW50aXR5XCI6NSxcIi4vRXZlbnRFbWl0dGVyXCI6NixcIi4vRXZlbnRIYW5kbGVyXCI6NyxcIi4vR3JvdXBcIjo4LFwiLi9Nb2RpZmllclwiOjksXCIuL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuL1JlbmRlck5vZGVcIjoxMSxcIi4vU2NlbmVcIjoxMixcIi4vU3BlY1BhcnNlclwiOjEzLFwiLi9TdXJmYWNlXCI6MTQsXCIuL1RyYW5zZm9ybVwiOjE1LFwiLi9WaWV3XCI6MTYsXCIuL1ZpZXdTZXF1ZW5jZVwiOjE3fV0sMTk6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLmRpc3BhdGNoZXJzPXt9LHRoaXMuY3Vyck1vZGU9dm9pZCAwLHRoaXMuc2V0TW9kZSh0KX12YXIgbj10KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIik7ZS5wcm90b3R5cGUuc2V0TW9kZT1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyTW9kZSl7dmFyIGk9dGhpcy5jdXJyTW9kZTt0aGlzLmRpc3BhdGNoZXJzW3RoaXMuY3Vyck1vZGVdJiZ0aGlzLmRpc3BhdGNoZXJzW3RoaXMuY3Vyck1vZGVdLnRyaWdnZXIoXCJ1bnBpcGVcIiksdGhpcy5jdXJyTW9kZT10LHRoaXMuZGlzcGF0Y2hlcnNbdF0mJnRoaXMuZGlzcGF0Y2hlcnNbdF0uZW1pdChcInBpcGVcIiksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2Zyb206aSx0bzp0fSl9fSxlLnByb3RvdHlwZS5mb3JNb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpc3BhdGNoZXJzW3RdfHwodGhpcy5kaXNwYXRjaGVyc1t0XT1uZXcgbiksdGhpcy5kaXNwYXRjaGVyc1t0XX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGkpe2lmKHZvaWQgMD09PXRoaXMuY3Vyck1vZGUpcmV0dXJuITE7aXx8KGk9e30pO3ZhciBlPXRoaXMuZGlzcGF0Y2hlcnNbdGhpcy5jdXJyTW9kZV07cmV0dXJuIGU/ZS50cmlnZ2VyKHQsaSk6dm9pZCAwfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3fV0sMjA6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtuLmNhbGwodGhpcyksdGhpcy5fY29uZGl0aW9uPXR9dmFyIG49dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLl9jb25kaXRpb24odCxpKT9uLnByb3RvdHlwZS5lbWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9LGUucHJvdG90eXBlLnRyaWdnZXI9ZS5wcm90b3R5cGUuZW1pdCxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3fV0sMjE6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtuLmNhbGwodGhpcyksdGhpcy5fbWFwcGluZ0Z1bmN0aW9uPXR9dmFyIG49dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc3Vic2NyaWJlPW51bGwsZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9bnVsbCxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcy5fbWFwcGluZ0Z1bmN0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZlLmVtaXQgaW5zdGFuY2VvZiBGdW5jdGlvbiYmZS5lbWl0KHQsaSl9LGUucHJvdG90eXBlLnRyaWdnZXI9ZS5wcm90b3R5cGUuZW1pdCxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3fV0sMjI6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtFdmVudEFyYml0ZXI6dChcIi4vRXZlbnRBcmJpdGVyXCIpLEV2ZW50RmlsdGVyOnQoXCIuL0V2ZW50RmlsdGVyXCIpLEV2ZW50TWFwcGVyOnQoXCIuL0V2ZW50TWFwcGVyXCIpfX0se1wiLi9FdmVudEFyYml0ZXJcIjoxOSxcIi4vRXZlbnRGaWx0ZXJcIjoyMCxcIi4vRXZlbnRNYXBwZXJcIjoyMX1dLDIzOltmdW5jdGlvbih0LGkpe2kuZXhwb3J0cz17ZXZlbnRzOnQoXCIuL2V2ZW50c1wiKSxjb3JlOnQoXCIuL2NvcmVcIiksbWF0aDp0KFwiLi9tYXRoXCIpLGlucHV0czp0KFwiLi9pbnB1dHNcIikscGh5c2ljczp0KFwiLi9waHlzaWNzXCIpLG1vZGlmaWVyczp0KFwiLi9tb2RpZmllcnNcIiksc3VyZmFjZXM6dChcIi4vc3VyZmFjZXNcIiksdHJhbnNpdGlvbnM6dChcIi4vdHJhbnNpdGlvbnNcIiksdXRpbGl0aWVzOnQoXCIuL3V0aWxpdGllc1wiKSx2aWV3czp0KFwiLi92aWV3c1wiKSx3aWRnZXRzOnQoXCIuL3dpZGdldHNcIil9fSx7XCIuL2NvcmVcIjoxOCxcIi4vZXZlbnRzXCI6MjIsXCIuL2lucHV0c1wiOjM2LFwiLi9tYXRoXCI6NDIsXCIuL21vZGlmaWVyc1wiOjQ3LFwiLi9waHlzaWNzXCI6NzEsXCIuL3N1cmZhY2VzXCI6ODIsXCIuL3RyYW5zaXRpb25zXCI6OTIsXCIuL3V0aWxpdGllc1wiOjk2LFwiLi92aWV3c1wiOjExMSxcIi4vd2lkZ2V0c1wiOjExNn1dLDI0OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCxpKXt2b2lkIDA9PT1pJiYoaT1cInVwZGF0ZVwiKSx0aGlzLl9zdGF0ZT10JiZ0LmdldCYmdC5zZXQ/dDpuZXcgcyh0fHwwKSx0aGlzLl9ldmVudElucHV0PW5ldyBvLG8uc2V0SW5wdXRIYW5kbGVyKHRoaXMsdGhpcy5fZXZlbnRJbnB1dCksdGhpcy5fZXZlbnRJbnB1dC5vbihpLG4uYmluZCh0aGlzKSl9ZnVuY3Rpb24gbih0KXt2YXIgaT10LmRlbHRhLGU9dGhpcy5nZXQoKTtpZihpLmNvbnN0cnVjdG9yPT09ZS5jb25zdHJ1Y3Rvcil7dmFyIG49aSBpbnN0YW5jZW9mIEFycmF5P1tlWzBdK2lbMF0sZVsxXStpWzFdXTplK2k7dGhpcy5zZXQobil9fXZhciBvPXQoXCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiKSxzPXQoXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiKTtlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGUuZ2V0KCl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdGF0ZS5zZXQodCl9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjcsXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiOjg4fV0sMjU6W2Z1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0LGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpLCExfSwhMCl9dmFyIGk9XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdztpJiYodChcIm1vdXNlZG93blwiKSx0KFwibW91c2Vtb3ZlXCIpLHQoXCJtb3VzZXVwXCIpLHQoXCJtb3VzZWxlYXZlXCIpKX0se31dLDI2OltmdW5jdGlvbigpeyFmdW5jdGlvbigpe2lmKHdpbmRvdy5DdXN0b21FdmVudCl7dmFyIHQ9MzAwLGk9NTAwLGU9e30sbj17fSxvPURhdGUubm93O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1vKCksbj0wO248dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7bisrKXt2YXIgcz10LmNoYW5nZWRUb3VjaGVzW25dO2Vbcy5pZGVudGlmaWVyXT1pfX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsZnVuY3Rpb24odCl7Zm9yKHZhciBpPTA7aTx0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpKyspe3ZhciBuPXQuY2hhbmdlZFRvdWNoZXNbaV07ZGVsZXRlIGVbbi5pZGVudGlmaWVyXX19KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsZnVuY3Rpb24oaSl7Zm9yKHZhciBzPW8oKSxyPTA7cjxpLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtyKyspe3ZhciBhPWkuY2hhbmdlZFRvdWNoZXNbcl0saD1lW2EuaWRlbnRpZmllcl07aWYoaCYmdD5zLWgpe3ZhciBjPW5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoXCJjbGlja1wiLHtidWJibGVzOiEwLGRldGFpbDphfSk7bltzXT1pLGkudGFyZ2V0LmRpc3BhdGNoRXZlbnQoYyl9ZGVsZXRlIGVbYS5pZGVudGlmaWVyXX19KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7dmFyIGU9bygpO2Zvcih2YXIgcyBpbiBuKXt2YXIgcj1uW3NdO2k+ZS1zP3QgaW5zdGFuY2VvZiB3aW5kb3cuTW91c2VFdmVudCYmdC50YXJnZXQ9PT1yLnRhcmdldCYmdC5zdG9wUHJvcGFnYXRpb24oKTpkZWxldGUgbltzXX19LCEwKX19KCl9LHt9XSwyNzpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQsaSl7dGhpcy5fZXZlbnRJbnB1dD1uZXcgbyx0aGlzLl9ldmVudE91dHB1dD1uZXcgbyxvLnNldElucHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50SW5wdXQpLG8uc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KSx0aGlzLl9zeW5jcz17fSx0JiZ0aGlzLmFkZFN5bmModCksaSYmdGhpcy5zZXRPcHRpb25zKGkpfWZ1bmN0aW9uIG4odCxpKXtzW3RdJiYodGhpcy5fc3luY3NbdF09bmV3IHNbdF0oaSksdGhpcy5waXBlU3luYyh0KSl9dmFyIG89dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpO2UuRElSRUNUSU9OX1g9MCxlLkRJUkVDVElPTl9ZPTEsZS5ESVJFQ1RJT05fWj0yO3ZhciBzPXt9O2UucmVnaXN0ZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpe2lmKHNbaV0pe2lmKHNbaV09PT10W2ldKXJldHVybjt0aHJvdyBuZXcgRXJyb3IoXCJ0aGlzIGtleSBpcyByZWdpc3RlcmVkIHRvIGEgZGlmZmVyZW50IHN5bmMgY2xhc3NcIil9c1tpXT10W2ldfX0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gdGhpcy5fc3luY3MpdGhpcy5fc3luY3NbaV0uc2V0T3B0aW9ucyh0KX0sZS5wcm90b3R5cGUucGlwZVN5bmM9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fc3luY3NbdF07dGhpcy5fZXZlbnRJbnB1dC5waXBlKGkpLGkucGlwZSh0aGlzLl9ldmVudE91dHB1dCl9LGUucHJvdG90eXBlLnVucGlwZVN5bmM9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fc3luY3NbdF07dGhpcy5fZXZlbnRJbnB1dC51bnBpcGUoaSksaS51bnBpcGUodGhpcy5fZXZlbnRPdXRwdXQpfSxlLnByb3RvdHlwZS5hZGRTeW5jPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBBcnJheSlmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyluLmNhbGwodGhpcyx0W2ldKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBPYmplY3QpZm9yKHZhciBlIGluIHQpbi5jYWxsKHRoaXMsZSx0W2VdKX0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCI6N31dLDI4OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMuX29wdGlvbnNNYW5hZ2VyPW5ldyBoKHRoaXMub3B0aW9ucyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuX2V2ZW50SW5wdXQ9bmV3IGEsdGhpcy5fZXZlbnRPdXRwdXQ9bmV3IGEsYS5zZXRJbnB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudElucHV0KSxhLnNldE91dHB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudE91dHB1dCksdGhpcy5fZXZlbnRJbnB1dC5vbihcIm1vdXNlZG93blwiLG4uYmluZCh0aGlzKSksdGhpcy5fZXZlbnRJbnB1dC5vbihcIm1vdXNlbW92ZVwiLG8uYmluZCh0aGlzKSksdGhpcy5fZXZlbnRJbnB1dC5vbihcIm1vdXNldXBcIixzLmJpbmQodGhpcykpLHRoaXMub3B0aW9ucy5wcm9wb2dhdGU/dGhpcy5fZXZlbnRJbnB1dC5vbihcIm1vdXNlbGVhdmVcIixyLmJpbmQodGhpcykpOnRoaXMuX2V2ZW50SW5wdXQub24oXCJtb3VzZWxlYXZlXCIscy5iaW5kKHRoaXMpKSx0aGlzLl9wYXlsb2FkPXtkZWx0YTpudWxsLHBvc2l0aW9uOm51bGwsdmVsb2NpdHk6bnVsbCxjbGllbnRYOjAsY2xpZW50WTowLG9mZnNldFg6MCxvZmZzZXRZOjB9LHRoaXMuX3Bvc2l0aW9uSGlzdG9yeT1bXSx0aGlzLl9wb3NpdGlvbj1udWxsLHRoaXMuX3ByZXZDb29yZD12b2lkIDAsdGhpcy5fcHJldlRpbWU9dm9pZCAwLHRoaXMuX2Rvd249ITEsdGhpcy5fbW92ZWQ9ITEsdGhpcy5fZG9jdW1lbnRBY3RpdmU9ITF9ZnVuY3Rpb24gbih0KXt2YXIgaSxlO3RoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXQuY2xpZW50WCxvPXQuY2xpZW50WTt0aGlzLl9wcmV2Q29vcmQ9W24sb10sdGhpcy5fcHJldlRpbWU9RGF0ZS5ub3coKSx0aGlzLl9kb3duPSEwLHRoaXMuX21vdmU9ITEsdm9pZCAwIT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbj8odGhpcy5fcG9zaXRpb249MCxpPTAsZT0wKToodGhpcy5fcG9zaXRpb249WzAsMF0saT1bMCwwXSxlPVswLDBdKTt2YXIgcz10aGlzLl9wYXlsb2FkO3MuZGVsdGE9aSxzLnBvc2l0aW9uPXRoaXMuX3Bvc2l0aW9uLHMudmVsb2NpdHk9ZSxzLmNsaWVudFg9bixzLmNsaWVudFk9byxzLm9mZnNldFg9dC5vZmZzZXRYLHMub2Zmc2V0WT10Lm9mZnNldFksdGhpcy5fcG9zaXRpb25IaXN0b3J5LnB1c2goe3Bvc2l0aW9uOnMucG9zaXRpb24uc2xpY2U/cy5wb3NpdGlvbi5zbGljZSgwKTpzLnBvc2l0aW9uLHRpbWU6dGhpcy5fcHJldlRpbWV9KSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwic3RhcnRcIixzKSx0aGlzLl9kb2N1bWVudEFjdGl2ZT0hMX1mdW5jdGlvbiBvKHQpe2lmKHRoaXMuX3ByZXZDb29yZCl7dmFyIGk9dGhpcy5fcHJldkNvb3JkLG49KHRoaXMuX3ByZXZUaW1lLHQuY2xpZW50WCksbz10LmNsaWVudFkscz1EYXRlLm5vdygpLHI9bi1pWzBdLGE9by1pWzFdO3RoaXMub3B0aW9ucy5yYWlscyYmKE1hdGguYWJzKHIpPk1hdGguYWJzKGEpP2E9MDpyPTApO3ZhciBoLHAsdT1NYXRoLm1heChzLXRoaXMuX3Bvc2l0aW9uSGlzdG9yeVswXS50aW1lLGMpLGw9dGhpcy5vcHRpb25zLnNjYWxlO3RoaXMub3B0aW9ucy5kaXJlY3Rpb249PT1lLkRJUkVDVElPTl9YPyhwPWwqcix0aGlzLl9wb3NpdGlvbis9cCxoPWwqKHRoaXMuX3Bvc2l0aW9uLXRoaXMuX3Bvc2l0aW9uSGlzdG9yeVswXS5wb3NpdGlvbikvdSk6dGhpcy5vcHRpb25zLmRpcmVjdGlvbj09PWUuRElSRUNUSU9OX1k/KHA9bCphLHRoaXMuX3Bvc2l0aW9uKz1wLGg9bCoodGhpcy5fcG9zaXRpb24tdGhpcy5fcG9zaXRpb25IaXN0b3J5WzBdLnBvc2l0aW9uKS91KToocD1bbCpyLGwqYV0saD1bbCoodGhpcy5fcG9zaXRpb25bMF0tdGhpcy5fcG9zaXRpb25IaXN0b3J5WzBdLnBvc2l0aW9uWzBdKS91LGwqKHRoaXMuX3Bvc2l0aW9uWzFdLXRoaXMuX3Bvc2l0aW9uSGlzdG9yeVswXS5wb3NpdGlvblsxXSkvdV0sdGhpcy5fcG9zaXRpb25bMF0rPXBbMF0sdGhpcy5fcG9zaXRpb25bMV0rPXBbMV0pO3ZhciBmPXRoaXMuX3BheWxvYWQ7Zi5kZWx0YT1wLGYucG9zaXRpb249dGhpcy5fcG9zaXRpb24sZi52ZWxvY2l0eT1oLGYuY2xpZW50WD1uLGYuY2xpZW50WT1vLGYub2Zmc2V0WD10Lm9mZnNldFgsZi5vZmZzZXRZPXQub2Zmc2V0WSx0aGlzLl9wb3NpdGlvbkhpc3RvcnkubGVuZ3RoPT09dGhpcy5vcHRpb25zLnZlbG9jaXR5U2FtcGxlTGVuZ3RoJiZ0aGlzLl9wb3NpdGlvbkhpc3Rvcnkuc2hpZnQoKSx0aGlzLl9wb3NpdGlvbkhpc3RvcnkucHVzaCh7cG9zaXRpb246Zi5wb3NpdGlvbi5zbGljZT9mLnBvc2l0aW9uLnNsaWNlKDApOmYucG9zaXRpb24sdGltZTpzfSksdGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcInVwZGF0ZVwiLGYpLHRoaXMuX3ByZXZDb29yZD1bbixvXSx0aGlzLl9wcmV2VGltZT1zLHRoaXMuX21vdmU9ITB9fWZ1bmN0aW9uIHMoKXt0aGlzLl9kb3duJiYodGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcImVuZFwiLHRoaXMuX3BheWxvYWQpLHRoaXMuX3ByZXZDb29yZD12b2lkIDAsdGhpcy5fcHJldlRpbWU9dm9pZCAwLHRoaXMuX2Rvd249ITEsdGhpcy5fbW92ZT0hMSx0aGlzLl9wb3NpdGlvbkhpc3Rvcnk9W10pfWZ1bmN0aW9uIHIodCl7aWYodGhpcy5fZG93biYmdGhpcy5fbW92ZSYmIXRoaXMuX2RvY3VtZW50QWN0aXZlKXt2YXIgaT1vLmJpbmQodGhpcyksZT1mdW5jdGlvbih0KXtzLmNhbGwodGhpcyx0KSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsaSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixlKX0uYmluZCh0aGlzLHQpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixpKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGUpLHRoaXMuX2RvY3VtZW50QWN0aXZlPSEwfX12YXIgYT10KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIiksaD10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKTtlLkRFRkFVTFRfT1BUSU9OUz17ZGlyZWN0aW9uOnZvaWQgMCxyYWlsczohMSxzY2FsZToxLHByb3BvZ2F0ZTohMCx2ZWxvY2l0eVNhbXBsZUxlbmd0aDoxMCxwcmV2ZW50RGVmYXVsdDohMH0sZS5ESVJFQ1RJT05fWD0wLGUuRElSRUNUSU9OX1k9MTt2YXIgYz04O2UucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiOjEwfV0sMjk6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtuLmNhbGwodGhpcyksdGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMuX29wdGlvbnNNYW5hZ2VyPW5ldyBvKHRoaXMub3B0aW9ucyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuX2Rpc3BsYWNlbWVudD0wLHRoaXMuX3ByZXZpb3VzRGlzdGFuY2U9MH12YXIgbj10KFwiLi9Ud29GaW5nZXJTeW5jXCIpLG89dChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLkRFRkFVTFRfT1BUSU9OUz17c2NhbGU6MX0sZS5wcm90b3R5cGUuX3N0YXJ0VXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3ByZXZpb3VzRGlzdGFuY2U9bi5jYWxjdWxhdGVEaXN0YW5jZSh0aGlzLnBvc0EsdGhpcy5wb3NCKSx0aGlzLl9kaXNwbGFjZW1lbnQ9MCx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwic3RhcnRcIix7Y291bnQ6dC50b3VjaGVzLmxlbmd0aCx0b3VjaGVzOlt0aGlzLnRvdWNoQUlkLHRoaXMudG91Y2hCSWRdLGRpc3RhbmNlOnRoaXMuX2Rpc3QsY2VudGVyOm4uY2FsY3VsYXRlQ2VudGVyKHRoaXMucG9zQSx0aGlzLnBvc0IpfSl9LGUucHJvdG90eXBlLl9tb3ZlVXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBpPW4uY2FsY3VsYXRlRGlzdGFuY2UodGhpcy5wb3NBLHRoaXMucG9zQiksZT1uLmNhbGN1bGF0ZUNlbnRlcih0aGlzLnBvc0EsdGhpcy5wb3NCKSxvPXRoaXMub3B0aW9ucy5zY2FsZSxzPW8qKGktdGhpcy5fcHJldmlvdXNEaXN0YW5jZSkscj1zL3Q7dGhpcy5fcHJldmlvdXNEaXN0YW5jZT1pLHRoaXMuX2Rpc3BsYWNlbWVudCs9cyx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwidXBkYXRlXCIse2RlbHRhOnMsdmVsb2NpdHk6cixkaXN0YW5jZTppLGRpc3BsYWNlbWVudDp0aGlzLl9kaXNwbGFjZW1lbnQsY2VudGVyOmUsdG91Y2hlczpbdGhpcy50b3VjaEFJZCx0aGlzLnRvdWNoQklkXX0pfSxlLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc30sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uc01hbmFnZXIuc2V0T3B0aW9ucyh0KX0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIjoxMCxcIi4vVHdvRmluZ2VyU3luY1wiOjM1fV0sMzA6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtuLmNhbGwodGhpcyksdGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMuX29wdGlvbnNNYW5hZ2VyPW5ldyBvKHRoaXMub3B0aW9ucyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuX2FuZ2xlPTAsdGhpcy5fcHJldmlvdXNBbmdsZT0wfXZhciBuPXQoXCIuL1R3b0ZpbmdlclN5bmNcIiksbz10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXtzY2FsZToxfSxlLnByb3RvdHlwZS5fc3RhcnRVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fYW5nbGU9MCx0aGlzLl9wcmV2aW91c0FuZ2xlPW4uY2FsY3VsYXRlQW5nbGUodGhpcy5wb3NBLHRoaXMucG9zQik7dmFyIGk9bi5jYWxjdWxhdGVDZW50ZXIodGhpcy5wb3NBLHRoaXMucG9zQik7dGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcInN0YXJ0XCIse2NvdW50OnQudG91Y2hlcy5sZW5ndGgsYW5nbGU6dGhpcy5fYW5nbGUsY2VudGVyOmksdG91Y2hlczpbdGhpcy50b3VjaEFJZCx0aGlzLnRvdWNoQklkXX0pfSxlLnByb3RvdHlwZS5fbW92ZVVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuc2NhbGUsZT1uLmNhbGN1bGF0ZUFuZ2xlKHRoaXMucG9zQSx0aGlzLnBvc0IpLG89bi5jYWxjdWxhdGVDZW50ZXIodGhpcy5wb3NBLHRoaXMucG9zQikscz1pKihlLXRoaXMuX3ByZXZpb3VzQW5nbGUpLHI9cy90O3RoaXMuX2FuZ2xlKz1zLHRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJ1cGRhdGVcIix7ZGVsdGE6cyx2ZWxvY2l0eTpyLGFuZ2xlOnRoaXMuX2FuZ2xlLGNlbnRlcjpvLHRvdWNoZXM6W3RoaXMudG91Y2hBSWQsdGhpcy50b3VjaEJJZF19KSx0aGlzLl9wcmV2aW91c0FuZ2xlPWV9LGUucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiOjEwLFwiLi9Ud29GaW5nZXJTeW5jXCI6MzV9XSwzMTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe28uY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5fb3B0aW9uc01hbmFnZXI9bmV3IHModGhpcy5vcHRpb25zKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5fc2NhbGVGYWN0b3I9MSx0aGlzLl9zdGFydERpc3Q9MCx0aGlzLl9ldmVudElucHV0Lm9uKFwicGlwZVwiLG4uYmluZCh0aGlzKSl9ZnVuY3Rpb24gbigpe3RoaXMudG91Y2hBSWQ9dm9pZCAwLHRoaXMudG91Y2hCSWQ9dm9pZCAwfXZhciBvPXQoXCIuL1R3b0ZpbmdlclN5bmNcIikscz10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXtzY2FsZToxfSxlLnByb3RvdHlwZS5fc3RhcnRVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc2NhbGVGYWN0b3I9MSx0aGlzLl9zdGFydERpc3Q9by5jYWxjdWxhdGVEaXN0YW5jZSh0aGlzLnBvc0EsdGhpcy5wb3NCKSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwic3RhcnRcIix7Y291bnQ6dC50b3VjaGVzLmxlbmd0aCx0b3VjaGVzOlt0aGlzLnRvdWNoQUlkLHRoaXMudG91Y2hCSWRdLGRpc3RhbmNlOnRoaXMuX3N0YXJ0RGlzdCxjZW50ZXI6by5jYWxjdWxhdGVDZW50ZXIodGhpcy5wb3NBLHRoaXMucG9zQil9KX0sZS5wcm90b3R5cGUuX21vdmVVcGRhdGU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLnNjYWxlLGU9by5jYWxjdWxhdGVEaXN0YW5jZSh0aGlzLnBvc0EsdGhpcy5wb3NCKSxuPW8uY2FsY3VsYXRlQ2VudGVyKHRoaXMucG9zQSx0aGlzLnBvc0IpLHM9KGUtdGhpcy5fc3RhcnREaXN0KS90aGlzLl9zdGFydERpc3Qscj1NYXRoLm1heCgxK2kqcywwKSxhPShyLXRoaXMuX3NjYWxlRmFjdG9yKS90O3RoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJ1cGRhdGVcIix7ZGVsdGE6cyxzY2FsZTpyLHZlbG9jaXR5OmEsZGlzdGFuY2U6ZSxjZW50ZXI6bix0b3VjaGVzOlt0aGlzLnRvdWNoQUlkLHRoaXMudG91Y2hCSWRdfSksdGhpcy5fc2NhbGVGYWN0b3I9cn0sZS5wcm90b3R5cGUuZ2V0T3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnN9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29wdGlvbnNNYW5hZ2VyLnNldE9wdGlvbnModCl9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuL1R3b0ZpbmdlclN5bmNcIjozNX1dLDMyOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMuX29wdGlvbnNNYW5hZ2VyPW5ldyBhKHRoaXMub3B0aW9ucyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuX3BheWxvYWQ9e2RlbHRhOm51bGwscG9zaXRpb246bnVsbCx2ZWxvY2l0eTpudWxsLHNsaXA6ITB9LHRoaXMuX2V2ZW50SW5wdXQ9bmV3IHMsdGhpcy5fZXZlbnRPdXRwdXQ9bmV3IHMscy5zZXRJbnB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudElucHV0KSxzLnNldE91dHB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudE91dHB1dCksdGhpcy5fcG9zaXRpb249dm9pZCAwPT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbj9bMCwwXTowLHRoaXMuX3ByZXZUaW1lPXZvaWQgMCx0aGlzLl9wcmV2VmVsPXZvaWQgMCx0aGlzLl9ldmVudElucHV0Lm9uKFwibW91c2V3aGVlbFwiLG8uYmluZCh0aGlzKSksdGhpcy5fZXZlbnRJbnB1dC5vbihcIndoZWVsXCIsby5iaW5kKHRoaXMpKSx0aGlzLl9pblByb2dyZXNzPSExLHRoaXMuX2xvb3BCb3VuZD0hMX1mdW5jdGlvbiBuKCl7aWYodGhpcy5faW5Qcm9ncmVzcyYmYygpLXRoaXMuX3ByZXZUaW1lPnRoaXMub3B0aW9ucy5zdGFsbFRpbWUpe3RoaXMuX2luUHJvZ3Jlc3M9ITE7dmFyIHQ9TWF0aC5hYnModGhpcy5fcHJldlZlbCk+PXRoaXMub3B0aW9ucy5taW5pbXVtRW5kU3BlZWQ/dGhpcy5fcHJldlZlbDowLGk9dGhpcy5fcGF5bG9hZDtpLnBvc2l0aW9uPXRoaXMuX3Bvc2l0aW9uLGkudmVsb2NpdHk9dCxpLnNsaXA9ITAsdGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcImVuZFwiLGkpfX1mdW5jdGlvbiBvKHQpe3RoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2luUHJvZ3Jlc3N8fCh0aGlzLl9pblByb2dyZXNzPSEwLHRoaXMuX3Bvc2l0aW9uPXZvaWQgMD09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24/WzAsMF06MCx5PXRoaXMuX3BheWxvYWQseS5zbGlwPSEwLHkucG9zaXRpb249dGhpcy5fcG9zaXRpb24seS5jbGllbnRYPXQuY2xpZW50WCx5LmNsaWVudFk9dC5jbGllbnRZLHkub2Zmc2V0WD10Lm9mZnNldFgseS5vZmZzZXRZPXQub2Zmc2V0WSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwic3RhcnRcIix5KSx0aGlzLl9sb29wQm91bmR8fChyLm9uKFwicHJlcmVuZGVyXCIsbi5iaW5kKHRoaXMpKSx0aGlzLl9sb29wQm91bmQ9ITApKTt2YXIgaT1jKCksbz10aGlzLl9wcmV2VGltZXx8aSxzPXZvaWQgMCE9PXQud2hlZWxEZWx0YVg/dC53aGVlbERlbHRhWDotdC5kZWx0YVgsYT12b2lkIDAhPT10LndoZWVsRGVsdGFZP3Qud2hlZWxEZWx0YVk6LXQuZGVsdGFZOzE9PT10LmRlbHRhTW9kZSYmKHMqPXRoaXMub3B0aW9ucy5saW5lSGVpZ2h0LGEqPXRoaXMub3B0aW9ucy5saW5lSGVpZ2h0KSx0aGlzLm9wdGlvbnMucmFpbHMmJihNYXRoLmFicyhzKT5NYXRoLmFicyhhKT9hPTA6cz0wKTt2YXIgcCx1LGw9TWF0aC5tYXgoaS1vLGgpLGY9cy9sLGQ9YS9sLF89dGhpcy5vcHRpb25zLnNjYWxlO3RoaXMub3B0aW9ucy5kaXJlY3Rpb249PT1lLkRJUkVDVElPTl9YPyh1PV8qcyxwPV8qZix0aGlzLl9wb3NpdGlvbis9dSk6dGhpcy5vcHRpb25zLmRpcmVjdGlvbj09PWUuRElSRUNUSU9OX1k/KHU9XyphLHA9XypkLHRoaXMuX3Bvc2l0aW9uKz11KToodT1bXypzLF8qYV0scD1bXypmLF8qZF0sdGhpcy5fcG9zaXRpb25bMF0rPXVbMF0sdGhpcy5fcG9zaXRpb25bMV0rPXVbMV0pO3ZhciB5PXRoaXMuX3BheWxvYWQ7eS5kZWx0YT11LHkudmVsb2NpdHk9cCx5LnBvc2l0aW9uPXRoaXMuX3Bvc2l0aW9uLHkuc2xpcD0hMCx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwidXBkYXRlXCIseSksdGhpcy5fcHJldlRpbWU9aSx0aGlzLl9wcmV2VmVsPXB9dmFyIHM9dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpLHI9dChcIi4uL2NvcmUvRW5naW5lXCIpLGE9dChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIik7ZS5ERUZBVUxUX09QVElPTlM9e2RpcmVjdGlvbjp2b2lkIDAsbWluaW11bUVuZFNwZWVkOjEvMCxyYWlsczohMSxzY2FsZToxLHN0YWxsVGltZTo1MCxsaW5lSGVpZ2h0OjQwLHByZXZlbnREZWZhdWx0OiEwfSxlLkRJUkVDVElPTl9YPTAsZS5ESVJFQ1RJT05fWT0xO3ZhciBoPTgsYz1EYXRlLm5vdztlLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc30sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uc01hbmFnZXIuc2V0T3B0aW9ucyh0KX0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvRW5naW5lXCI6NCxcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCI6NyxcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIjoxMH1dLDMzOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMuX29wdGlvbnNNYW5hZ2VyPW5ldyBoKHRoaXMub3B0aW9ucyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuX2V2ZW50T3V0cHV0PW5ldyBhLHRoaXMuX3RvdWNoVHJhY2tlcj1uZXcgcih7dG91Y2hMaW1pdDp0aGlzLm9wdGlvbnMudG91Y2hMaW1pdH0pLGEuc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KSxhLnNldElucHV0SGFuZGxlcih0aGlzLHRoaXMuX3RvdWNoVHJhY2tlciksdGhpcy5fdG91Y2hUcmFja2VyLm9uKFwidHJhY2tzdGFydFwiLG4uYmluZCh0aGlzKSksdGhpcy5fdG91Y2hUcmFja2VyLm9uKFwidHJhY2ttb3ZlXCIsby5iaW5kKHRoaXMpKSx0aGlzLl90b3VjaFRyYWNrZXIub24oXCJ0cmFja2VuZFwiLHMuYmluZCh0aGlzKSksdGhpcy5fcGF5bG9hZD17ZGVsdGE6bnVsbCxwb3NpdGlvbjpudWxsLHZlbG9jaXR5Om51bGwsY2xpZW50WDp2b2lkIDAsY2xpZW50WTp2b2lkIDAsY291bnQ6MCx0b3VjaDp2b2lkIDB9LHRoaXMuX3Bvc2l0aW9uPW51bGx9ZnVuY3Rpb24gbih0KXt2YXIgaSxlO3ZvaWQgMCE9PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24/KHRoaXMuX3Bvc2l0aW9uPTAsaT0wLGU9MCk6KHRoaXMuX3Bvc2l0aW9uPVswLDBdLGk9WzAsMF0sZT1bMCwwXSk7dmFyIG49dGhpcy5fcGF5bG9hZDtuLmRlbHRhPWUsbi5wb3NpdGlvbj10aGlzLl9wb3NpdGlvbixuLnZlbG9jaXR5PWksbi5jbGllbnRYPXQueCxuLmNsaWVudFk9dC55LG4uY291bnQ9dC5jb3VudCxuLnRvdWNoPXQuaWRlbnRpZmllcix0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwic3RhcnRcIixuKX1mdW5jdGlvbiBvKHQpe3ZhciBpPXQuaGlzdG9yeSxuPWlbaS5sZW5ndGgtMV0sbz1pW2kubGVuZ3RoLTJdLHM9aVtpLmxlbmd0aC10aGlzLm9wdGlvbnMudmVsb2NpdHlTYW1wbGVMZW5ndGhdP2lbaS5sZW5ndGgtdGhpcy5vcHRpb25zLnZlbG9jaXR5U2FtcGxlTGVuZ3RoXTppW2kubGVuZ3RoLTJdLHI9cy50aW1lc3RhbXAsYT1uLnRpbWVzdGFtcCxoPW4ueC1vLngscD1uLnktby55LHU9bi54LXMueCxsPW4ueS1zLnk7dGhpcy5vcHRpb25zLnJhaWxzJiYoTWF0aC5hYnMoaCk+TWF0aC5hYnMocCk/cD0wOmg9MCxNYXRoLmFicyh1KT5NYXRoLmFicyhsKT9sPTA6dT0wKTt2YXIgZixkLF89TWF0aC5tYXgoYS1yLGMpLHk9dS9fLGc9bC9fLHY9dGhpcy5vcHRpb25zLnNjYWxlO3RoaXMub3B0aW9ucy5kaXJlY3Rpb249PT1lLkRJUkVDVElPTl9YPyhkPXYqaCxmPXYqeSx0aGlzLl9wb3NpdGlvbis9ZCk6dGhpcy5vcHRpb25zLmRpcmVjdGlvbj09PWUuRElSRUNUSU9OX1k/KGQ9dipwLGY9dipnLHRoaXMuX3Bvc2l0aW9uKz1kKTooZD1bdipoLHYqcF0sZj1bdip5LHYqZ10sdGhpcy5fcG9zaXRpb25bMF0rPWRbMF0sdGhpcy5fcG9zaXRpb25bMV0rPWRbMV0pO3ZhciBtPXRoaXMuX3BheWxvYWQ7bS5kZWx0YT1kLG0udmVsb2NpdHk9ZixtLnBvc2l0aW9uPXRoaXMuX3Bvc2l0aW9uLG0uY2xpZW50WD10LngsbS5jbGllbnRZPXQueSxtLmNvdW50PXQuY291bnQsbS50b3VjaD10LmlkZW50aWZpZXIsdGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcInVwZGF0ZVwiLG0pfWZ1bmN0aW9uIHModCl7dGhpcy5fcGF5bG9hZC5jb3VudD10LmNvdW50LHRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJlbmRcIix0aGlzLl9wYXlsb2FkKX12YXIgcj10KFwiLi9Ub3VjaFRyYWNrZXJcIiksYT10KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIiksaD10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKTtlLkRFRkFVTFRfT1BUSU9OUz17ZGlyZWN0aW9uOnZvaWQgMCxyYWlsczohMSx0b3VjaExpbWl0OjEsdmVsb2NpdHlTYW1wbGVMZW5ndGg6MTAsc2NhbGU6MX0sZS5ESVJFQ1RJT05fWD0wLGUuRElSRUNUSU9OX1k9MTt2YXIgYz04O2UucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29wdGlvbnNNYW5hZ2VyLnNldE9wdGlvbnModCl9LGUucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiOjEwLFwiLi9Ub3VjaFRyYWNrZXJcIjozNH1dLDM0OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCxpLGUpe3JldHVybnt4OnQuY2xpZW50WCx5OnQuY2xpZW50WSxpZGVudGlmaWVyOnQuaWRlbnRpZmllcixvcmlnaW46aS5vcmlnaW4sdGltZXN0YW1wOmMoKSxjb3VudDppLnRvdWNoZXMubGVuZ3RoLGhpc3Rvcnk6ZX19ZnVuY3Rpb24gbih0KXtpZighKHQudG91Y2hlcy5sZW5ndGg+dGhpcy50b3VjaExpbWl0KSl7dGhpcy5pc1RvdWNoZWQ9ITA7Zm9yKHZhciBpPTA7aTx0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpKyspe3ZhciBuPXQuY2hhbmdlZFRvdWNoZXNbaV0sbz1lKG4sdCxudWxsKTt0aGlzLmV2ZW50T3V0cHV0LmVtaXQoXCJ0cmFja3N0YXJ0XCIsbyksdGhpcy5zZWxlY3RpdmV8fHRoaXMudG91Y2hIaXN0b3J5W24uaWRlbnRpZmllcl18fHRoaXMudHJhY2sobyl9fX1mdW5jdGlvbiBvKHQpe2lmKCEodC50b3VjaGVzLmxlbmd0aD50aGlzLnRvdWNoTGltaXQpKWZvcih2YXIgaT0wO2k8dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7aSsrKXt2YXIgbj10LmNoYW5nZWRUb3VjaGVzW2ldLG89dGhpcy50b3VjaEhpc3Rvcnlbbi5pZGVudGlmaWVyXTtpZihvKXt2YXIgcz1lKG4sdCxvKTt0aGlzLnRvdWNoSGlzdG9yeVtuLmlkZW50aWZpZXJdLnB1c2gocyksdGhpcy5ldmVudE91dHB1dC5lbWl0KFwidHJhY2ttb3ZlXCIscyl9fX1mdW5jdGlvbiBzKHQpe2lmKHRoaXMuaXNUb3VjaGVkKXtmb3IodmFyIGk9MDtpPHQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO2krKyl7dmFyIG49dC5jaGFuZ2VkVG91Y2hlc1tpXSxvPXRoaXMudG91Y2hIaXN0b3J5W24uaWRlbnRpZmllcl07aWYobyl7dmFyIHM9ZShuLHQsbyk7dGhpcy5ldmVudE91dHB1dC5lbWl0KFwidHJhY2tlbmRcIixzKSxkZWxldGUgdGhpcy50b3VjaEhpc3Rvcnlbbi5pZGVudGlmaWVyXX19dGhpcy5pc1RvdWNoZWQ9ITF9fWZ1bmN0aW9uIHIoKXtmb3IodmFyIHQgaW4gdGhpcy50b3VjaEhpc3Rvcnkpe3ZhciBpPXRoaXMudG91Y2hIaXN0b3J5W3RdO3RoaXMuZXZlbnRPdXRwdXQuZW1pdChcInRyYWNrZW5kXCIse3RvdWNoOmlbaS5sZW5ndGgtMV0udG91Y2gsdGltZXN0YW1wOkRhdGUubm93KCksY291bnQ6MCxoaXN0b3J5Oml9KSxkZWxldGUgdGhpcy50b3VjaEhpc3RvcnlbdF19fWZ1bmN0aW9uIGEodCl7dGhpcy5zZWxlY3RpdmU9dC5zZWxlY3RpdmUsdGhpcy50b3VjaExpbWl0PXQudG91Y2hMaW1pdHx8MSx0aGlzLnRvdWNoSGlzdG9yeT17fSx0aGlzLmV2ZW50SW5wdXQ9bmV3IGgsdGhpcy5ldmVudE91dHB1dD1uZXcgaCxoLnNldElucHV0SGFuZGxlcih0aGlzLHRoaXMuZXZlbnRJbnB1dCksaC5zZXRPdXRwdXRIYW5kbGVyKHRoaXMsdGhpcy5ldmVudE91dHB1dCksdGhpcy5ldmVudElucHV0Lm9uKFwidG91Y2hzdGFydFwiLG4uYmluZCh0aGlzKSksdGhpcy5ldmVudElucHV0Lm9uKFwidG91Y2htb3ZlXCIsby5iaW5kKHRoaXMpKSx0aGlzLmV2ZW50SW5wdXQub24oXCJ0b3VjaGVuZFwiLHMuYmluZCh0aGlzKSksdGhpcy5ldmVudElucHV0Lm9uKFwidG91Y2hjYW5jZWxcIixzLmJpbmQodGhpcykpLHRoaXMuZXZlbnRJbnB1dC5vbihcInVucGlwZVwiLHIuYmluZCh0aGlzKSksdGhpcy5pc1RvdWNoZWQ9ITF9dmFyIGg9dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpLGM9RGF0ZS5ub3c7YS5wcm90b3R5cGUudHJhY2s9ZnVuY3Rpb24odCl7dGhpcy50b3VjaEhpc3RvcnlbdC5pZGVudGlmaWVyXT1bdF19LGkuZXhwb3J0cz1hfSx7XCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjd9XSwzNTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKCl7dGhpcy5fZXZlbnRJbnB1dD1uZXcgbix0aGlzLl9ldmVudE91dHB1dD1uZXcgbixuLnNldElucHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50SW5wdXQpLG4uc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KSx0aGlzLnRvdWNoQUVuYWJsZWQ9ITEsdGhpcy50b3VjaEFJZD0wLHRoaXMucG9zQT1udWxsLHRoaXMudGltZXN0YW1wQT0wLHRoaXMudG91Y2hCRW5hYmxlZD0hMSx0aGlzLnRvdWNoQklkPTAsdGhpcy5wb3NCPW51bGwsdGhpcy50aW1lc3RhbXBCPTAsdGhpcy5fZXZlbnRJbnB1dC5vbihcInRvdWNoc3RhcnRcIix0aGlzLmhhbmRsZVN0YXJ0LmJpbmQodGhpcykpLHRoaXMuX2V2ZW50SW5wdXQub24oXCJ0b3VjaG1vdmVcIix0aGlzLmhhbmRsZU1vdmUuYmluZCh0aGlzKSksdGhpcy5fZXZlbnRJbnB1dC5vbihcInRvdWNoZW5kXCIsdGhpcy5oYW5kbGVFbmQuYmluZCh0aGlzKSksdGhpcy5fZXZlbnRJbnB1dC5vbihcInRvdWNoY2FuY2VsXCIsdGhpcy5oYW5kbGVFbmQuYmluZCh0aGlzKSl9dmFyIG49dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpO2UuY2FsY3VsYXRlQW5nbGU9ZnVuY3Rpb24odCxpKXt2YXIgZT1pWzBdLXRbMF0sbj1pWzFdLXRbMV07cmV0dXJuIE1hdGguYXRhbjIobixlKX0sZS5jYWxjdWxhdGVEaXN0YW5jZT1mdW5jdGlvbih0LGkpe3ZhciBlPWlbMF0tdFswXSxuPWlbMV0tdFsxXTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStuKm4pfSxlLmNhbGN1bGF0ZUNlbnRlcj1mdW5jdGlvbih0LGkpe3JldHVyblsodFswXStpWzBdKS8yLCh0WzFdK2lbMV0pLzJdfTt2YXIgbz1EYXRlLm5vdztlLnByb3RvdHlwZS5oYW5kbGVTdGFydD1mdW5jdGlvbih0KXtmb3IodmFyIGk9MDtpPHQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO2krKyl7dmFyIGU9dC5jaGFuZ2VkVG91Y2hlc1tpXTt0aGlzLnRvdWNoQUVuYWJsZWQ/dGhpcy50b3VjaEJFbmFibGVkfHwodGhpcy50b3VjaEJJZD1lLmlkZW50aWZpZXIsdGhpcy50b3VjaEJFbmFibGVkPSEwLHRoaXMucG9zQj1bZS5wYWdlWCxlLnBhZ2VZXSx0aGlzLnRpbWVzdGFtcEI9bygpLHRoaXMuX3N0YXJ0VXBkYXRlKHQpKToodGhpcy50b3VjaEFJZD1lLmlkZW50aWZpZXIsdGhpcy50b3VjaEFFbmFibGVkPSEwLHRoaXMucG9zQT1bZS5wYWdlWCxlLnBhZ2VZXSx0aGlzLnRpbWVzdGFtcEE9bygpKX19LGUucHJvdG90eXBlLmhhbmRsZU1vdmU9ZnVuY3Rpb24odCl7aWYodGhpcy50b3VjaEFFbmFibGVkJiZ0aGlzLnRvdWNoQkVuYWJsZWQpe2Zvcih2YXIgaSxlPXRoaXMudGltZXN0YW1wQSxuPXRoaXMudGltZXN0YW1wQixzPTA7czx0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtzKyspe3ZhciByPXQuY2hhbmdlZFRvdWNoZXNbc107ci5pZGVudGlmaWVyPT09dGhpcy50b3VjaEFJZD8odGhpcy5wb3NBPVtyLnBhZ2VYLHIucGFnZVldLHRoaXMudGltZXN0YW1wQT1vKCksaT10aGlzLnRpbWVzdGFtcEEtZSk6ci5pZGVudGlmaWVyPT09dGhpcy50b3VjaEJJZCYmKHRoaXMucG9zQj1bci5wYWdlWCxyLnBhZ2VZXSx0aGlzLnRpbWVzdGFtcEI9bygpLGk9dGhpcy50aW1lc3RhbXBCLW4pfWkmJnRoaXMuX21vdmVVcGRhdGUoaSl9fSxlLnByb3RvdHlwZS5oYW5kbGVFbmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTA7aTx0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpKyspe3ZhciBlPXQuY2hhbmdlZFRvdWNoZXNbaV07KGUuaWRlbnRpZmllcj09PXRoaXMudG91Y2hBSWR8fGUuaWRlbnRpZmllcj09PXRoaXMudG91Y2hCSWQpJiYodGhpcy50b3VjaEFFbmFibGVkJiZ0aGlzLnRvdWNoQkVuYWJsZWQmJnRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJlbmRcIix7dG91Y2hlczpbdGhpcy50b3VjaEFJZCx0aGlzLnRvdWNoQklkXSxhbmdsZTp0aGlzLl9hbmdsZX0pLHRoaXMudG91Y2hBRW5hYmxlZD0hMSx0aGlzLnRvdWNoQUlkPTAsdGhpcy50b3VjaEJFbmFibGVkPSExLHRoaXMudG91Y2hCSWQ9MCl9fSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3fV0sMzY6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtBY2N1bXVsYXRvcjp0KFwiLi9BY2N1bXVsYXRvclwiKSxEZXNrdG9wRW11bGF0aW9uTW9kZTp0KFwiLi9EZXNrdG9wRW11bGF0aW9uTW9kZVwiKSxGYXN0Q2xpY2s6dChcIi4vRmFzdENsaWNrXCIpLEdlbmVyaWNTeW5jOnQoXCIuL0dlbmVyaWNTeW5jXCIpLE1vdXNlU3luYzp0KFwiLi9Nb3VzZVN5bmNcIiksUGluY2hTeW5jOnQoXCIuL1BpbmNoU3luY1wiKSxSb3RhdGVTeW5jOnQoXCIuL1JvdGF0ZVN5bmNcIiksU2NhbGVTeW5jOnQoXCIuL1NjYWxlU3luY1wiKSxTY3JvbGxTeW5jOnQoXCIuL1Njcm9sbFN5bmNcIiksVG91Y2hTeW5jOnQoXCIuL1RvdWNoU3luY1wiKSxUb3VjaFRyYWNrZXI6dChcIi4vVG91Y2hUcmFja2VyXCIpLFR3b0ZpbmdlclN5bmM6dChcIi4vVHdvRmluZ2VyU3luY1wiKX19LHtcIi4vQWNjdW11bGF0b3JcIjoyNCxcIi4vRGVza3RvcEVtdWxhdGlvbk1vZGVcIjoyNSxcIi4vRmFzdENsaWNrXCI6MjYsXCIuL0dlbmVyaWNTeW5jXCI6MjcsXCIuL01vdXNlU3luY1wiOjI4LFwiLi9QaW5jaFN5bmNcIjoyOSxcIi4vUm90YXRlU3luY1wiOjMwLFwiLi9TY2FsZVN5bmNcIjozMSxcIi4vU2Nyb2xsU3luY1wiOjMyLFwiLi9Ub3VjaFN5bmNcIjozMyxcIi4vVG91Y2hUcmFja2VyXCI6MzQsXCIuL1R3b0ZpbmdlclN5bmNcIjozNX1dLDM3OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHRoaXMudmFsdWVzPXR8fFtbMSwwLDBdLFswLDEsMF0sWzAsMCwxXV0sdGhpc312YXIgbj10KFwiLi9WZWN0b3JcIiksbz1uZXcgZSxzPW5ldyBuO1xuZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy52YWx1ZXM9dH0sZS5wcm90b3R5cGUudmVjdG9yTXVsdGlwbHk9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXQoKSxlPXQueCxuPXQueSxvPXQueixyPWlbMF0sYT1pWzFdLGg9aVsyXSxjPXJbMF0scD1yWzFdLHU9clsyXSxsPWFbMF0sZj1hWzFdLGQ9YVsyXSxfPWhbMF0seT1oWzFdLGc9aFsyXTtyZXR1cm4gcy5zZXRYWVooYyplK3Aqbit1Km8sbCplK2YqbitkKm8sXyplK3kqbitnKm8pfSxlLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbih0KXtmb3IodmFyIGk9dGhpcy5nZXQoKSxlPVtbXV0sbj0wOzM+bjtuKyspe2Vbbl09W107Zm9yKHZhciBzPTA7Mz5zO3MrKyl7Zm9yKHZhciByPTAsYT0wOzM+YTthKyspcis9aVtuXVthXSp0W2FdW3NdO2Vbbl1bc109cn19cmV0dXJuIG8uc2V0KGUpfSxlLnByb3RvdHlwZS50cmFuc3Bvc2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10saT10aGlzLmdldCgpLGU9MDszPmU7ZSsrKWZvcih2YXIgbj0wOzM+bjtuKyspdFtlXVtuXT1pW25dW2VdO3JldHVybiBvLnNldCh0KX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXQoKSxpPVtdLG49MDszPm47bisrKWlbbl09dFtuXS5zbGljZSgpO3JldHVybiBuZXcgZShpKX0saS5leHBvcnRzPWV9LHtcIi4vVmVjdG9yXCI6NDF9XSwzODpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQsaSxlLG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLnNldCh0KToodGhpcy53PXZvaWQgMCE9PXQ/dDoxLHRoaXMueD12b2lkIDAhPT1pP2k6MCx0aGlzLnk9dm9pZCAwIT09ZT9lOjAsdGhpcy56PXZvaWQgMCE9PW4/bjowKSx0aGlzfXZhciBuPXQoXCIuL01hdHJpeFwiKSxvPW5ldyBlKDEsMCwwLDApO2UucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gby5zZXRXWFlaKHRoaXMudyt0LncsdGhpcy54K3QueCx0aGlzLnkrdC55LHRoaXMueit0LnopfSxlLnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24odCl7cmV0dXJuIG8uc2V0V1hZWih0aGlzLnctdC53LHRoaXMueC10LngsdGhpcy55LXQueSx0aGlzLnotdC56KX0sZS5wcm90b3R5cGUuc2NhbGFyRGl2aWRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjYWxhck11bHRpcGx5KDEvdCl9LGUucHJvdG90eXBlLnNjYWxhck11bHRpcGx5PWZ1bmN0aW9uKHQpe3JldHVybiBvLnNldFdYWVoodGhpcy53KnQsdGhpcy54KnQsdGhpcy55KnQsdGhpcy56KnQpfSxlLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLngsZT10aGlzLnksbj10aGlzLnoscz10aGlzLncscj10LngsYT10LnksaD10LnosYz10Lnd8fDA7cmV0dXJuIG8uc2V0V1hZWihzKmMtaSpyLWUqYS1uKmgsaSpjK3IqcythKm4tZSpoLGUqYythKnMraSpoLXIqbixuKmMraCpzK3IqZS1pKmEpfTt2YXIgcz1uZXcgZSgxLDAsMCwwKTtlLnByb3RvdHlwZS5yb3RhdGVWZWN0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIHMuc2V0KHRoaXMuY29uaigpKSxvLnNldCh0aGlzLm11bHRpcGx5KHQpLm11bHRpcGx5KHMpKX0sZS5wcm90b3R5cGUuaW52ZXJzZT1mdW5jdGlvbigpe3JldHVybiBvLnNldCh0aGlzLmNvbmooKS5zY2FsYXJEaXZpZGUodGhpcy5ub3JtU3F1YXJlZCgpKSl9LGUucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYWxhck11bHRpcGx5KC0xKX0sZS5wcm90b3R5cGUuY29uaj1mdW5jdGlvbigpe3JldHVybiBvLnNldFdYWVoodGhpcy53LC10aGlzLngsLXRoaXMueSwtdGhpcy56KX0sZS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0PXZvaWQgMD09PXQ/MTp0LHRoaXMuc2NhbGFyRGl2aWRlKHQqdGhpcy5ub3JtKCkpfSxlLnByb3RvdHlwZS5tYWtlRnJvbUFuZ2xlQW5kQXhpcz1mdW5jdGlvbih0LGkpe3ZhciBlPWkubm9ybWFsaXplKCksbj0uNSp0LG89LU1hdGguc2luKG4pO3JldHVybiB0aGlzLng9byplLngsdGhpcy55PW8qZS55LHRoaXMuej1vKmUueix0aGlzLnc9TWF0aC5jb3MobiksdGhpc30sZS5wcm90b3R5cGUuc2V0V1hZWj1mdW5jdGlvbih0LGksZSxuKXtyZXR1cm4gby5jbGVhcigpLHRoaXMudz10LHRoaXMueD1pLHRoaXMueT1lLHRoaXMuej1uLHRoaXN9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5Pyh0aGlzLnc9MCx0aGlzLng9dFswXSx0aGlzLnk9dFsxXSx0aGlzLno9dFsyXSk6KHRoaXMudz10LncsdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMuej10LnopLHRoaXMhPT1vJiZvLmNsZWFyKCksdGhpc30sZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKHQpe3Quc2V0KG8pfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzKX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53PTEsdGhpcy54PTAsdGhpcy55PTAsdGhpcy56PTAsdGhpc30sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdC53PT09dGhpcy53JiZ0Lng9PT10aGlzLngmJnQueT09PXRoaXMueSYmdC56PT09dGhpcy56fSxlLnByb3RvdHlwZS5kb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudyp0LncrdGhpcy54KnQueCt0aGlzLnkqdC55K3RoaXMueip0Lnp9LGUucHJvdG90eXBlLm5vcm1TcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG90KHRoaXMpfSxlLnByb3RvdHlwZS5ub3JtPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLm5vcm1TcXVhcmVkKCkpfSxlLnByb3RvdHlwZS5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4hKHRoaXMueHx8dGhpcy55fHx0aGlzLnopfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5vcm1hbGl6ZSgxKSxpPXQueCxlPXQueSxuPXQueixvPXQudztyZXR1cm5bMS0yKmUqZS0yKm4qbiwyKmkqZS0yKm4qbywyKmkqbisyKmUqbywwLDIqaSplKzIqbipvLDEtMippKmktMipuKm4sMiplKm4tMippKm8sMCwyKmkqbi0yKmUqbywyKmUqbisyKmkqbywxLTIqaSppLTIqZSplLDAsMCwwLDAsMV19O3ZhciByPW5ldyBuO2UucHJvdG90eXBlLmdldE1hdHJpeD1mdW5jdGlvbigpe3ZhciB0PXRoaXMubm9ybWFsaXplKDEpLGk9dC54LGU9dC55LG49dC56LG89dC53O3JldHVybiByLnNldChbWzEtMiplKmUtMipuKm4sMippKmUrMipuKm8sMippKm4tMiplKm9dLFsyKmkqZS0yKm4qbywxLTIqaSppLTIqbipuLDIqZSpuKzIqaSpvXSxbMippKm4rMiplKm8sMiplKm4tMippKm8sMS0yKmkqaS0yKmUqZV1dKX07dmFyIGE9MWUtNTtlLnByb3RvdHlwZS5zbGVycD1mdW5jdGlvbih0LGkpe3ZhciBlLG4scyxyLGg7cmV0dXJuIG49dGhpcy5kb3QodCksMS1uPmE/KGU9TWF0aC5hY29zKG4pLHM9TWF0aC5zaW4oZSkscj1NYXRoLnNpbigoMS1pKSplKS9zLGg9TWF0aC5zaW4oaSplKS9zKToocj0xLWksaD1pKSxvLnNldCh0aGlzLnNjYWxhck11bHRpcGx5KHIvaCkuYWRkKHQpLm11bHRpcGx5KGgpKX0saS5leHBvcnRzPWV9LHtcIi4vTWF0cml4XCI6Mzd9XSwzOTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQsaSl7cmV0dXJuIHQrbygpKihpLXQpfWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gdCtvKCkqKGktdCsxKT4+MH12YXIgbz1NYXRoLnJhbmRvbSxzPXt9O3MuaW50ZWdlcj1mdW5jdGlvbih0LGksZSl7aWYodD12b2lkIDAhPT10P3Q6MCxpPXZvaWQgMCE9PWk/aToxLHZvaWQgMCE9PWUpe2Zvcih2YXIgbz1bXSxzPTA7ZT5zO3MrKylvLnB1c2gobih0LGkpKTtyZXR1cm4gb31yZXR1cm4gbih0LGkpfSxzLnJhbmdlPWZ1bmN0aW9uKHQsaSxuKXtpZih0PXZvaWQgMCE9PXQ/dDowLGk9dm9pZCAwIT09aT9pOjEsdm9pZCAwIT09bil7Zm9yKHZhciBvPVtdLHM9MDtuPnM7cysrKW8ucHVzaChlKHQsaSkpO3JldHVybiBvfXJldHVybiBlKHQsaSl9LHMuc2lnbj1mdW5jdGlvbih0KXtyZXR1cm4gdD12b2lkIDAhPT10P3Q6LjUsbygpPHQ/MTotMX0scy5ib29sPWZ1bmN0aW9uKHQpe3JldHVybiB0PXZvaWQgMCE9PXQ/dDouNSxvKCk8dH0saS5leHBvcnRzPXN9LHt9XSw0MDpbZnVuY3Rpb24odCxpKXt2YXIgZT17fTtlLmNsYW1wPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHQsaVsxXSksaVswXSl9LGUubGVuZ3RoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wLGU9MDtlPHQubGVuZ3RoO2UrKylpKz10W2VdKnRbZV07cmV0dXJuIE1hdGguc3FydChpKX0saS5leHBvcnRzPWV9LHt9XSw0MTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQsaSxlKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dGhpcy5zZXQodCk6KHRoaXMueD10fHwwLHRoaXMueT1pfHwwLHRoaXMuej1lfHwwKSx0aGlzfWZ1bmN0aW9uIG4odCxpLGUpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9aSx0aGlzLno9ZSx0aGlzfWZ1bmN0aW9uIG8odCl7cmV0dXJuIG4uY2FsbCh0aGlzLHRbMF0sdFsxXSx0WzJdfHwwKX1mdW5jdGlvbiBzKHQpe3JldHVybiBuLmNhbGwodGhpcyx0LngsdC55LHQueil9ZnVuY3Rpb24gcih0KXtyZXR1cm4gbi5jYWxsKHRoaXMsdCwwLDApfXZhciBhPW5ldyBlKDAsMCwwKTtlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbChhLHRoaXMueCt0LngsdGhpcy55K3QueSx0aGlzLnordC56KX0sZS5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwoYSx0aGlzLngtdC54LHRoaXMueS10LnksdGhpcy56LXQueil9LGUucHJvdG90eXBlLm11bHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbChhLHQqdGhpcy54LHQqdGhpcy55LHQqdGhpcy56KX0sZS5wcm90b3R5cGUuZGl2PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm11bHQoMS90KX0sZS5wcm90b3R5cGUuY3Jvc3M9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy54LGU9dGhpcy55LG89dGhpcy56LHM9dC54LHI9dC55LGg9dC56O3JldHVybiBuLmNhbGwoYSxvKnItZSpoLGkqaC1vKnMsZSpzLWkqcil9LGUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnkmJnQuej09PXRoaXMuen0sZS5wcm90b3R5cGUucm90YXRlWD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLngsZT10aGlzLnksbz10aGlzLnoscz1NYXRoLmNvcyh0KSxyPU1hdGguc2luKHQpO3JldHVybiBuLmNhbGwoYSxpLGUqcy1vKnIsZSpyK28qcyl9LGUucHJvdG90eXBlLnJvdGF0ZVk9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy54LGU9dGhpcy55LG89dGhpcy56LHM9TWF0aC5jb3ModCkscj1NYXRoLnNpbih0KTtyZXR1cm4gbi5jYWxsKGEsbypyK2kqcyxlLG8qcy1pKnIpfSxlLnByb3RvdHlwZS5yb3RhdGVaPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMueCxlPXRoaXMueSxvPXRoaXMueixzPU1hdGguY29zKHQpLHI9TWF0aC5zaW4odCk7cmV0dXJuIG4uY2FsbChhLGkqcy1lKnIsaSpyK2UqcyxvKX0sZS5wcm90b3R5cGUuZG90PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0LnkrdGhpcy56KnQuen0sZS5wcm90b3R5cGUubm9ybVNxdWFyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb3QodGhpcyl9LGUucHJvdG90eXBlLm5vcm09ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMubm9ybVNxdWFyZWQoKSl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXswPT09YXJndW1lbnRzLmxlbmd0aCYmKHQ9MSk7dmFyIGk9dGhpcy5ub3JtKCk7cmV0dXJuIGk+MWUtNz9zLmNhbGwoYSx0aGlzLm11bHQodC9pKSk6bi5jYWxsKGEsdCwwLDApfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzKX0sZS5wcm90b3R5cGUuaXNaZXJvPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLnh8fHRoaXMueXx8dGhpcy56KX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXk/by5jYWxsKHRoaXMsdCk6XCJudW1iZXJcIj09dHlwZW9mIHQ/ci5jYWxsKHRoaXMsdCk6cy5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLnNldFhZWj1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuc2V0MUQ9ZnVuY3Rpb24odCl7cmV0dXJuIHIuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCl7dGhpcz09PWE/cy5jYWxsKHQsYSk6cy5jYWxsKHQsdGhpcyl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbCh0aGlzLDAsMCwwKX0sZS5wcm90b3R5cGUuY2FwPWZ1bmN0aW9uIGgoaCl7aWYoMS8wPT09aClyZXR1cm4gcy5jYWxsKGEsdGhpcyk7dmFyIHQ9dGhpcy5ub3JtKCk7cmV0dXJuIHQ+aD9zLmNhbGwoYSx0aGlzLm11bHQoaC90KSk6cy5jYWxsKGEsdGhpcyl9LGUucHJvdG90eXBlLnByb2plY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQubXVsdCh0aGlzLmRvdCh0KSl9LGUucHJvdG90eXBlLnJlZmxlY3RBY3Jvc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9ybWFsaXplKCkucHV0KHQpLHMoYSx0aGlzLnN1Yih0aGlzLnByb2plY3QodCkubXVsdCgyKSkpfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy54LHRoaXMueSx0aGlzLnpdfSxlLnByb3RvdHlwZS5nZXQxRD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnh9LGkuZXhwb3J0cz1lfSx7fV0sNDI6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtNYXRyaXg6dChcIi4vTWF0cml4XCIpLFF1YXRlcm5pb246dChcIi4vUXVhdGVybmlvblwiKSxSYW5kb206dChcIi4vUmFuZG9tXCIpLFV0aWxpdGllczp0KFwiLi9VdGlsaXRpZXNcIiksVmVjdG9yOnQoXCIuL1ZlY3RvclwiKX19LHtcIi4vTWF0cml4XCI6MzcsXCIuL1F1YXRlcm5pb25cIjozOCxcIi4vUmFuZG9tXCI6MzksXCIuL1V0aWxpdGllc1wiOjQwLFwiLi9WZWN0b3JcIjo0MX1dLDQzOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLl9wb3NpdGlvblN0YXRlPW5ldyBjKFswLDBdKSx0aGlzLl9kaWZmZXJlbnRpYWw9WzAsMF0sdGhpcy5fYWN0aXZlPSEwLHRoaXMuc3luYz1uZXcgbChbXCJtb3VzZVwiLFwidG91Y2hcIl0se3NjYWxlOnRoaXMub3B0aW9ucy5zY2FsZX0pLHRoaXMuZXZlbnRPdXRwdXQ9bmV3IHAscC5zZXRJbnB1dEhhbmRsZXIodGhpcyx0aGlzLnN5bmMpLHAuc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuZXZlbnRPdXRwdXQpLGEuY2FsbCh0aGlzKX1mdW5jdGlvbiBuKHQpe3ZhciBpPXRoaXMub3B0aW9ucyxlPWkucHJvamVjdGlvbixuPWkuc25hcFgsbz1pLnNuYXBZLHM9ZSZfLng/dFswXTowLHI9ZSZfLnk/dFsxXTowO3JldHVybiBuPjAmJihzLT1zJW4pLG8+MCYmKHItPXIlbyksW3Mscl19ZnVuY3Rpb24gbygpe3RoaXMuX2FjdGl2ZSYmKHRoaXMuX3Bvc2l0aW9uU3RhdGUuaXNBY3RpdmUoKSYmdGhpcy5fcG9zaXRpb25TdGF0ZS5oYWx0KCksdGhpcy5ldmVudE91dHB1dC5lbWl0KFwic3RhcnRcIix7cG9zaXRpb246dGhpcy5nZXRQb3NpdGlvbigpfSkpfWZ1bmN0aW9uIHModCl7aWYodGhpcy5fYWN0aXZlKXt2YXIgaT10aGlzLm9wdGlvbnM7dGhpcy5fZGlmZmVyZW50aWFsPXQucG9zaXRpb247dmFyIGU9bi5jYWxsKHRoaXMsdGhpcy5fZGlmZmVyZW50aWFsKTt0aGlzLl9kaWZmZXJlbnRpYWxbMF0tPWVbMF0sdGhpcy5fZGlmZmVyZW50aWFsWzFdLT1lWzFdO3ZhciBvPXRoaXMuZ2V0UG9zaXRpb24oKTtpZihvWzBdKz1lWzBdLG9bMV0rPWVbMV0saS54UmFuZ2Upe3ZhciBzPVtpLnhSYW5nZVswXSsuNSppLnNuYXBYLGkueFJhbmdlWzFdLS41Kmkuc25hcFhdO29bMF09eShvWzBdLHMpfWlmKGkueVJhbmdlKXt2YXIgcj1baS55UmFuZ2VbMF0rLjUqaS5zbmFwWSxpLnlSYW5nZVsxXS0uNSppLnNuYXBZXTtvWzFdPXkob1sxXSxyKX10aGlzLmV2ZW50T3V0cHV0LmVtaXQoXCJ1cGRhdGVcIix7cG9zaXRpb246b30pfX1mdW5jdGlvbiByKCl7dGhpcy5fYWN0aXZlJiZ0aGlzLmV2ZW50T3V0cHV0LmVtaXQoXCJlbmRcIix7cG9zaXRpb246dGhpcy5nZXRQb3NpdGlvbigpfSl9ZnVuY3Rpb24gYSgpe3RoaXMuc3luYy5vbihcInN0YXJ0XCIsby5iaW5kKHRoaXMpKSx0aGlzLnN5bmMub24oXCJ1cGRhdGVcIixzLmJpbmQodGhpcykpLHRoaXMuc3luYy5vbihcImVuZFwiLHIuYmluZCh0aGlzKSl9dmFyIGg9dChcIi4uL2NvcmUvVHJhbnNmb3JtXCIpLGM9dChcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCIpLHA9dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpLHU9dChcIi4uL21hdGgvVXRpbGl0aWVzXCIpLGw9dChcIi4uL2lucHV0cy9HZW5lcmljU3luY1wiKSxmPXQoXCIuLi9pbnB1dHMvTW91c2VTeW5jXCIpLGQ9dChcIi4uL2lucHV0cy9Ub3VjaFN5bmNcIik7bC5yZWdpc3Rlcih7bW91c2U6Zix0b3VjaDpkfSk7dmFyIF89e3g6MSx5OjJ9O2UuRElSRUNUSU9OX1g9Xy54LGUuRElSRUNUSU9OX1k9Xy55O3ZhciB5PXUuY2xhbXA7ZS5ERUZBVUxUX09QVElPTlM9e3Byb2plY3Rpb246Xy54fF8ueSxzY2FsZToxLHhSYW5nZTpudWxsLHlSYW5nZTpudWxsLHNuYXBYOjAsc25hcFk6MCx0cmFuc2l0aW9uOntkdXJhdGlvbjowfX0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnM7aWYodm9pZCAwIT09dC5wcm9qZWN0aW9uKXt2YXIgZT10LnByb2plY3Rpb247dGhpcy5vcHRpb25zLnByb2plY3Rpb249MCxbXCJ4XCIsXCJ5XCJdLmZvckVhY2goZnVuY3Rpb24odCl7LTEhPT1lLmluZGV4T2YodCkmJihpLnByb2plY3Rpb258PV9bdF0pfSl9dm9pZCAwIT09dC5zY2FsZSYmKGkuc2NhbGU9dC5zY2FsZSx0aGlzLnN5bmMuc2V0T3B0aW9ucyh7c2NhbGU6dC5zY2FsZX0pKSx2b2lkIDAhPT10LnhSYW5nZSYmKGkueFJhbmdlPXQueFJhbmdlKSx2b2lkIDAhPT10LnlSYW5nZSYmKGkueVJhbmdlPXQueVJhbmdlKSx2b2lkIDAhPT10LnNuYXBYJiYoaS5zbmFwWD10LnNuYXBYKSx2b2lkIDAhPT10LnNuYXBZJiYoaS5zbmFwWT10LnNuYXBZKX0sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb25TdGF0ZS5nZXQoKX0sZS5wcm90b3R5cGUuc2V0UmVsYXRpdmVQb3NpdGlvbj1mdW5jdGlvbih0LGksZSl7dmFyIG49dGhpcy5nZXRQb3NpdGlvbigpLG89W25bMF0rdFswXSxuWzFdK3RbMV1dO3RoaXMuc2V0UG9zaXRpb24obyxpLGUpfSxlLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0LGksZSl7dGhpcy5fcG9zaXRpb25TdGF0ZS5pc0FjdGl2ZSgpJiZ0aGlzLl9wb3NpdGlvblN0YXRlLmhhbHQoKSx0aGlzLl9wb3NpdGlvblN0YXRlLnNldCh0LGksZSl9LGUucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSEwfSxlLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExfSxlLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9IXRoaXMuX2FjdGl2ZX0sZS5wcm90b3R5cGUubW9kaWZ5PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZ2V0UG9zaXRpb24oKTtyZXR1cm57dHJhbnNmb3JtOmgudHJhbnNsYXRlKGlbMF0saVsxXSksdGFyZ2V0OnR9fSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL2lucHV0cy9HZW5lcmljU3luY1wiOjI3LFwiLi4vaW5wdXRzL01vdXNlU3luY1wiOjI4LFwiLi4vaW5wdXRzL1RvdWNoU3luY1wiOjMzLFwiLi4vbWF0aC9VdGlsaXRpZXNcIjo0MCxcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCI6ODh9XSw0NDpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQsaSl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMuX29wdGlvbnNNYW5hZ2VyPW5ldyBvKHRoaXMub3B0aW9ucyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLGl8fChpPTApLHRoaXMudHJhbnNpdGlvbkhlbHBlcj1uZXcgbihpKX12YXIgbj10KFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIiksbz10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKTtlLkRFRkFVTFRfT1BUSU9OUz17Y3VsbDohMSx0cmFuc2l0aW9uOiEwLHB1bHNlSW5UcmFuc2l0aW9uOiEwLHB1bHNlT3V0VHJhbnNpdGlvbjohMH0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uc01hbmFnZXIuc2V0T3B0aW9ucyh0KX0sZS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbih0LGkpe3Q9dHx8dGhpcy5vcHRpb25zLnRyYW5zaXRpb24sdGhpcy5zZXQoMSx0LGkpfSxlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKHQsaSl7dD10fHx0aGlzLm9wdGlvbnMudHJhbnNpdGlvbix0aGlzLnNldCgwLHQsaSl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGksZSl7dGhpcy5oYWx0KCksdGhpcy50cmFuc2l0aW9uSGVscGVyLnNldCh0LGksZSl9LGUucHJvdG90eXBlLmhhbHQ9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25IZWxwZXIuaGFsdCgpfSxlLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2l0aW9uSGVscGVyLmdldCgpPjB9LGUucHJvdG90eXBlLm1vZGlmeT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLnRyYW5zaXRpb25IZWxwZXIuZ2V0KCk7cmV0dXJuIHRoaXMub3B0aW9ucy5jdWxsJiYhaT92b2lkIDA6e29wYWNpdHk6aSx0YXJnZXQ6dH19LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiOjg4fV0sNDU6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe3RoaXMuX2NoYWluPVtdLGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuYWRkTW9kaWZpZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWUucHJvdG90eXBlLmFkZE1vZGlmaWVyPWZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5fY2hhaW4sYXJndW1lbnRzKX0sZS5wcm90b3R5cGUucmVtb3ZlTW9kaWZpZXI9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fY2hhaW4uaW5kZXhPZih0KTswPml8fHRoaXMuX2NoYWluLnNwbGljZShpLDEpfSxlLnByb3RvdHlwZS5tb2RpZnk9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXRoaXMuX2NoYWluLGU9dCxuPTA7bjxpLmxlbmd0aDtuKyspZT1pW25dLm1vZGlmeShlKTtyZXR1cm4gZX0saS5leHBvcnRzPWV9LHt9XSw0NjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMuX3RyYW5zZm9ybVN0YXRlPW5ldyByKG8uaWRlbnRpdHkpLHRoaXMuX29wYWNpdHlTdGF0ZT1uZXcgcygxKSx0aGlzLl9vcmlnaW5TdGF0ZT1uZXcgcyhbMCwwXSksdGhpcy5fYWxpZ25TdGF0ZT1uZXcgcyhbMCwwXSksdGhpcy5fc2l6ZVN0YXRlPW5ldyBzKFswLDBdKSx0aGlzLl9wcm9wb3J0aW9uc1N0YXRlPW5ldyBzKFswLDBdKSx0aGlzLl9tb2RpZmllcj1uZXcgbih7dHJhbnNmb3JtOnRoaXMuX3RyYW5zZm9ybVN0YXRlLG9wYWNpdHk6dGhpcy5fb3BhY2l0eVN0YXRlLG9yaWdpbjpudWxsLGFsaWduOm51bGwsc2l6ZTpudWxsLHByb3BvcnRpb25zOm51bGx9KSx0aGlzLl9oYXNPcmlnaW49ITEsdGhpcy5faGFzQWxpZ249ITEsdGhpcy5faGFzU2l6ZT0hMSx0aGlzLl9oYXNQcm9wb3J0aW9ucz0hMSx0JiYodC50cmFuc2Zvcm0mJnRoaXMuc2V0VHJhbnNmb3JtKHQudHJhbnNmb3JtKSx2b2lkIDAhPT10Lm9wYWNpdHkmJnRoaXMuc2V0T3BhY2l0eSh0Lm9wYWNpdHkpLHQub3JpZ2luJiZ0aGlzLnNldE9yaWdpbih0Lm9yaWdpbiksdC5hbGlnbiYmdGhpcy5zZXRBbGlnbih0LmFsaWduKSx0LnNpemUmJnRoaXMuc2V0U2l6ZSh0LnNpemUpLHQucHJvcG9ydGlvbnMmJnRoaXMuc2V0UHJvcG9ydGlvbnModC5wcm9wb3J0aW9ucykpfXZhciBuPXQoXCIuLi9jb3JlL01vZGlmaWVyXCIpLG89dChcIi4uL2NvcmUvVHJhbnNmb3JtXCIpLHM9dChcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCIpLHI9dChcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlVHJhbnNmb3JtXCIpO2UucHJvdG90eXBlLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGksZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLnNldCh0LGksZSksdGhpc30sZS5wcm90b3R5cGUuc2V0T3BhY2l0eT1mdW5jdGlvbih0LGksZSl7cmV0dXJuIHRoaXMuX29wYWNpdHlTdGF0ZS5zZXQodCxpLGUpLHRoaXN9LGUucHJvdG90eXBlLnNldE9yaWdpbj1mdW5jdGlvbih0LGksZSl7cmV0dXJuIG51bGw9PT10Pyh0aGlzLl9oYXNPcmlnaW4mJih0aGlzLl9tb2RpZmllci5vcmlnaW5Gcm9tKG51bGwpLHRoaXMuX2hhc09yaWdpbj0hMSksdGhpcyk6KHRoaXMuX2hhc09yaWdpbnx8KHRoaXMuX2hhc09yaWdpbj0hMCx0aGlzLl9tb2RpZmllci5vcmlnaW5Gcm9tKHRoaXMuX29yaWdpblN0YXRlKSksdGhpcy5fb3JpZ2luU3RhdGUuc2V0KHQsaSxlKSx0aGlzKX0sZS5wcm90b3R5cGUuc2V0QWxpZ249ZnVuY3Rpb24odCxpLGUpe3JldHVybiBudWxsPT09dD8odGhpcy5faGFzQWxpZ24mJih0aGlzLl9tb2RpZmllci5hbGlnbkZyb20obnVsbCksdGhpcy5faGFzQWxpZ249ITEpLHRoaXMpOih0aGlzLl9oYXNBbGlnbnx8KHRoaXMuX2hhc0FsaWduPSEwLHRoaXMuX21vZGlmaWVyLmFsaWduRnJvbSh0aGlzLl9hbGlnblN0YXRlKSksdGhpcy5fYWxpZ25TdGF0ZS5zZXQodCxpLGUpLHRoaXMpfSxlLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gbnVsbD09PXQ/KHRoaXMuX2hhc1NpemUmJih0aGlzLl9tb2RpZmllci5zaXplRnJvbShudWxsKSx0aGlzLl9oYXNTaXplPSExKSx0aGlzKToodGhpcy5faGFzU2l6ZXx8KHRoaXMuX2hhc1NpemU9ITAsdGhpcy5fbW9kaWZpZXIuc2l6ZUZyb20odGhpcy5fc2l6ZVN0YXRlKSksdGhpcy5fc2l6ZVN0YXRlLnNldCh0LGksZSksdGhpcyl9LGUucHJvdG90eXBlLnNldFByb3BvcnRpb25zPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gbnVsbD09PXQ/KHRoaXMuX2hhc1Byb3BvcnRpb25zJiYodGhpcy5fbW9kaWZpZXIucHJvcG9ydGlvbnNGcm9tKG51bGwpLHRoaXMuX2hhc1Byb3BvcnRpb25zPSExKSx0aGlzKToodGhpcy5faGFzUHJvcG9ydGlvbnN8fCh0aGlzLl9oYXNQcm9wb3J0aW9ucz0hMCx0aGlzLl9tb2RpZmllci5wcm9wb3J0aW9uc0Zyb20odGhpcy5fcHJvcG9ydGlvbnNTdGF0ZSkpLHRoaXMuX3Byb3BvcnRpb25zU3RhdGUuc2V0KHQsaSxlKSx0aGlzKX0sZS5wcm90b3R5cGUuaGFsdD1mdW5jdGlvbigpe3RoaXMuX3RyYW5zZm9ybVN0YXRlLmhhbHQoKSx0aGlzLl9vcGFjaXR5U3RhdGUuaGFsdCgpLHRoaXMuX29yaWdpblN0YXRlLmhhbHQoKSx0aGlzLl9hbGlnblN0YXRlLmhhbHQoKSx0aGlzLl9zaXplU3RhdGUuaGFsdCgpLHRoaXMuX3Byb3BvcnRpb25zU3RhdGUuaGFsdCgpfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RhdGUuZ2V0KCl9LGUucHJvdG90eXBlLmdldEZpbmFsVHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLmdldEZpbmFsKCl9LGUucHJvdG90eXBlLmdldE9wYWNpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BhY2l0eVN0YXRlLmdldCgpfSxlLnByb3RvdHlwZS5nZXRPcmlnaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzT3JpZ2luP3RoaXMuX29yaWdpblN0YXRlLmdldCgpOm51bGx9LGUucHJvdG90eXBlLmdldEFsaWduPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc0FsaWduP3RoaXMuX2FsaWduU3RhdGUuZ2V0KCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNTaXplP3RoaXMuX3NpemVTdGF0ZS5nZXQoKTpudWxsfSxlLnByb3RvdHlwZS5nZXRQcm9wb3J0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNQcm9wb3J0aW9ucz90aGlzLl9wcm9wb3J0aW9uc1N0YXRlLmdldCgpOm51bGx9LGUucHJvdG90eXBlLm1vZGlmeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbW9kaWZpZXIubW9kaWZ5KHQpfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9Nb2RpZmllclwiOjksXCIuLi9jb3JlL1RyYW5zZm9ybVwiOjE1LFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIjo4OCxcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlVHJhbnNmb3JtXCI6ODl9XSw0NzpbZnVuY3Rpb24odCxpKXtpLmV4cG9ydHM9e0RyYWdnYWJsZTp0KFwiLi9EcmFnZ2FibGVcIiksRmFkZXI6dChcIi4vRmFkZXJcIiksTW9kaWZpZXJDaGFpbjp0KFwiLi9Nb2RpZmllckNoYWluXCIpLFN0YXRlTW9kaWZpZXI6dChcIi4vU3RhdGVNb2RpZmllclwiKX19LHtcIi4vRHJhZ2dhYmxlXCI6NDMsXCIuL0ZhZGVyXCI6NDQsXCIuL01vZGlmaWVyQ2hhaW5cIjo0NSxcIi4vU3RhdGVNb2RpZmllclwiOjQ2fV0sNDg6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuX3BhcnRpY2xlcz1bXSx0aGlzLl9ib2RpZXM9W10sdGhpcy5fYWdlbnREYXRhPXt9LHRoaXMuX2ZvcmNlcz1bXSx0aGlzLl9jb25zdHJhaW50cz1bXSx0aGlzLl9idWZmZXI9MCx0aGlzLl9wcmV2VGltZT1TKCksdGhpcy5faXNTbGVlcGluZz0hMSx0aGlzLl9ldmVudEhhbmRsZXI9bnVsbCx0aGlzLl9jdXJyQWdlbnRJZD0wLHRoaXMuX2hhc0JvZGllcz0hMSx0aGlzLl9ldmVudEhhbmRsZXI9bnVsbH1mdW5jdGlvbiBuKHQpe3JldHVybiB0LmFwcGx5Rm9yY2U/dGhpcy5fZm9yY2VzOnQuYXBwbHlDb25zdHJhaW50P3RoaXMuX2NvbnN0cmFpbnRzOnZvaWQgMH1mdW5jdGlvbiBvKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9dGhpcy5nZXRQYXJ0aWNsZXNBbmRCb2RpZXMoKSksaSBpbnN0YW5jZW9mIEFycmF5fHwoaT1baV0pLHQub24oXCJjaGFuZ2VcIix0aGlzLndha2UuYmluZCh0aGlzKSksdGhpcy5fYWdlbnREYXRhW3RoaXMuX2N1cnJBZ2VudElkXT17YWdlbnQ6dCxpZDp0aGlzLl9jdXJyQWdlbnRJZCx0YXJnZXRzOmksc291cmNlOmV9LG4uY2FsbCh0aGlzLHQpLnB1c2godGhpcy5fY3VyckFnZW50SWQpLHRoaXMuX2N1cnJBZ2VudElkKyt9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdGhpcy5fYWdlbnREYXRhW3RdfWZ1bmN0aW9uIHIodCl7dmFyIGk9cy5jYWxsKHRoaXMsdGhpcy5fZm9yY2VzW3RdKTtpLmFnZW50LmFwcGx5Rm9yY2UoaS50YXJnZXRzLGkuc291cmNlKX1mdW5jdGlvbiBhKCl7Zm9yKHZhciB0PXRoaXMuX2ZvcmNlcy5sZW5ndGgtMTt0Pi0xO3QtLSlyLmNhbGwodGhpcyx0KX1mdW5jdGlvbiBoKHQsaSl7dmFyIGU9dGhpcy5fYWdlbnREYXRhW3RoaXMuX2NvbnN0cmFpbnRzW3RdXTtyZXR1cm4gZS5hZ2VudC5hcHBseUNvbnN0cmFpbnQoZS50YXJnZXRzLGUuc291cmNlLGkpfWZ1bmN0aW9uIGModCl7Zm9yKHZhciBpPTA7aTx0aGlzLm9wdGlvbnMuY29uc3RyYWludFN0ZXBzOyl7Zm9yKHZhciBlPXRoaXMuX2NvbnN0cmFpbnRzLmxlbmd0aC0xO2U+LTE7ZS0tKWguY2FsbCh0aGlzLGUsdCk7aSsrfX1mdW5jdGlvbiBwKHQsaSl7dC5pbnRlZ3JhdGVWZWxvY2l0eShpKSx0aGlzLm9wdGlvbnMudmVsb2NpdHlDYXAmJnQudmVsb2NpdHkuY2FwKHRoaXMub3B0aW9ucy52ZWxvY2l0eUNhcCkucHV0KHQudmVsb2NpdHkpfWZ1bmN0aW9uIHUodCxpKXt0LmludGVncmF0ZUFuZ3VsYXJNb21lbnR1bShpKSx0LnVwZGF0ZUFuZ3VsYXJWZWxvY2l0eSgpLHRoaXMub3B0aW9ucy5hbmd1bGFyVmVsb2NpdHlDYXAmJnQuYW5ndWxhclZlbG9jaXR5LmNhcCh0aGlzLm9wdGlvbnMuYW5ndWxhclZlbG9jaXR5Q2FwKS5wdXQodC5hbmd1bGFyVmVsb2NpdHkpfWZ1bmN0aW9uIGwodCxpKXt0LmludGVncmF0ZU9yaWVudGF0aW9uKGkpfWZ1bmN0aW9uIGYodCxpKXt0LmludGVncmF0ZVBvc2l0aW9uKGkpLHQuZW1pdChULnVwZGF0ZSx0KX1mdW5jdGlvbiBkKHQpe2EuY2FsbCh0aGlzLHQpLHRoaXMuZm9yRWFjaChwLHQpLHRoaXMuZm9yRWFjaEJvZHkodSx0KSxjLmNhbGwodGhpcyx0KSx0aGlzLmZvckVhY2hCb2R5KGwsdCksdGhpcy5mb3JFYWNoKGYsdCl9ZnVuY3Rpb24gXygpe3ZhciB0PTAsaT0wO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZSl7aT1lLmdldEVuZXJneSgpLHQrPWl9KSx0fWZ1bmN0aW9uIHkoKXt2YXIgdD0wO2Zvcih2YXIgaSBpbiB0aGlzLl9hZ2VudERhdGEpdCs9dGhpcy5nZXRBZ2VudEVuZXJneShpKTtyZXR1cm4gdH12YXIgZz10KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIiksdj0xNyxtPTFlMy8xMjAsTz0xNyxTPURhdGUubm93LFQ9e3N0YXJ0Olwic3RhcnRcIix1cGRhdGU6XCJ1cGRhdGVcIixlbmQ6XCJlbmRcIn07ZS5ERUZBVUxUX09QVElPTlM9e2NvbnN0cmFpbnRTdGVwczoxLHNsZWVwVG9sZXJhbmNlOjFlLTcsdmVsb2NpdHlDYXA6dm9pZCAwLGFuZ3VsYXJWZWxvY2l0eUNhcDp2b2lkIDB9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpdGhpcy5vcHRpb25zW2ldJiYodGhpcy5vcHRpb25zW2ldPXRbaV0pfSxlLnByb3RvdHlwZS5hZGRCb2R5PWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9lbmdpbmU9dGhpcyx0LmlzQm9keT8odGhpcy5fYm9kaWVzLnB1c2godCksdGhpcy5faGFzQm9kaWVzPSEwKTp0aGlzLl9wYXJ0aWNsZXMucHVzaCh0KSx0Lm9uKFwic3RhcnRcIix0aGlzLndha2UuYmluZCh0aGlzKSksdH0sZS5wcm90b3R5cGUucmVtb3ZlQm9keT1mdW5jdGlvbih0KXt2YXIgaT10LmlzQm9keT90aGlzLl9ib2RpZXM6dGhpcy5fcGFydGljbGVzLGU9aS5pbmRleE9mKHQpO2lmKGU+LTEpe2Zvcih2YXIgbiBpbiB0aGlzLl9hZ2VudERhdGEpdGhpcy5kZXRhY2hGcm9tKG4uaWQsdCk7aS5zcGxpY2UoZSwxKX0wPT09dGhpcy5nZXRCb2RpZXMoKS5sZW5ndGgmJih0aGlzLl9oYXNCb2RpZXM9ITEpfSxlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24odCxpLGUpe2lmKHRoaXMud2FrZSgpLHQgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBuPVtdLHM9MDtzPHQubGVuZ3RoO3MrKyluW3NdPW8uY2FsbCh0aGlzLHRbc10saSxlKTtyZXR1cm4gbn1yZXR1cm4gby5jYWxsKHRoaXMsdCxpLGUpfSxlLnByb3RvdHlwZS5hdHRhY2hUbz1mdW5jdGlvbih0LGkpe3MuY2FsbCh0aGlzLHQpLnRhcmdldHMucHVzaChpKX0sZS5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZ2V0QWdlbnQodCksZT1uLmNhbGwodGhpcyxpKSxvPWUuaW5kZXhPZih0KTtlLnNwbGljZShvLDEpLGRlbGV0ZSB0aGlzLl9hZ2VudERhdGFbdF19LGUucHJvdG90eXBlLmRldGFjaEZyb209ZnVuY3Rpb24odCxpKXt2YXIgZT1zLmNhbGwodGhpcyx0KTtpZihlLnNvdXJjZT09PWkpdGhpcy5kZXRhY2godCk7ZWxzZXt2YXIgbj1lLnRhcmdldHMsbz1uLmluZGV4T2YoaSk7bz4tMSYmbi5zcGxpY2UobywxKX19LGUucHJvdG90eXBlLmRldGFjaEFsbD1mdW5jdGlvbigpe3RoaXMuX2FnZW50RGF0YT17fSx0aGlzLl9mb3JjZXM9W10sdGhpcy5fY29uc3RyYWludHM9W10sdGhpcy5fY3VyckFnZW50SWQ9MH0sZS5wcm90b3R5cGUuZ2V0QWdlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHMuY2FsbCh0aGlzLHQpLmFnZW50fSxlLnByb3RvdHlwZS5nZXRQYXJ0aWNsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFydGljbGVzfSxlLnByb3RvdHlwZS5nZXRCb2RpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9kaWVzfSxlLnByb3RvdHlwZS5nZXRQYXJ0aWNsZXNBbmRCb2RpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQYXJ0aWNsZXMoKS5jb25jYXQodGhpcy5nZXRCb2RpZXMoKSl9LGUucHJvdG90eXBlLmZvckVhY2hQYXJ0aWNsZT1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZT10aGlzLmdldFBhcnRpY2xlcygpLG49MCxvPWUubGVuZ3RoO28+bjtuKyspdC5jYWxsKHRoaXMsZVtuXSxpKX0sZS5wcm90b3R5cGUuZm9yRWFjaEJvZHk9ZnVuY3Rpb24odCxpKXtpZih0aGlzLl9oYXNCb2RpZXMpZm9yKHZhciBlPXRoaXMuZ2V0Qm9kaWVzKCksbj0wLG89ZS5sZW5ndGg7bz5uO24rKyl0LmNhbGwodGhpcyxlW25dLGkpfSxlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQsaSl7dGhpcy5mb3JFYWNoUGFydGljbGUodCxpKSx0aGlzLmZvckVhY2hCb2R5KHQsaSl9LGUucHJvdG90eXBlLmdldEFnZW50RW5lcmd5PWZ1bmN0aW9uKHQpe3ZhciBpPXMuY2FsbCh0aGlzLHQpO3JldHVybiBpLmFnZW50LmdldEVuZXJneShpLnRhcmdldHMsaS5zb3VyY2UpfSxlLnByb3RvdHlwZS5nZXRFbmVyZ3k9ZnVuY3Rpb24oKXtyZXR1cm4gXy5jYWxsKHRoaXMpK3kuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc3RlcD1mdW5jdGlvbigpe2lmKCF0aGlzLmlzU2xlZXBpbmcoKSl7dmFyIHQ9UygpLGk9dC10aGlzLl9wcmV2VGltZTt0aGlzLl9wcmV2VGltZT10LG0+aXx8KGk+TyYmKGk9TyksZC5jYWxsKHRoaXMsdiksdGhpcy5lbWl0KFQudXBkYXRlLHRoaXMpLHRoaXMuZ2V0RW5lcmd5KCk8dGhpcy5vcHRpb25zLnNsZWVwVG9sZXJhbmNlJiZ0aGlzLnNsZWVwKCkpfX0sZS5wcm90b3R5cGUuaXNTbGVlcGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NsZWVwaW5nfSxlLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pc1NsZWVwaW5nfSxlLnByb3RvdHlwZS5zbGVlcD1mdW5jdGlvbigpe3RoaXMuX2lzU2xlZXBpbmd8fCh0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7dC5zbGVlcCgpfSksdGhpcy5lbWl0KFQuZW5kLHRoaXMpLHRoaXMuX2lzU2xlZXBpbmc9ITApfSxlLnByb3RvdHlwZS53YWtlPWZ1bmN0aW9uKCl7dGhpcy5faXNTbGVlcGluZyYmKHRoaXMuX3ByZXZUaW1lPVMoKSx0aGlzLmVtaXQoVC5zdGFydCx0aGlzKSx0aGlzLl9pc1NsZWVwaW5nPSExKX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGkpe251bGwhPT10aGlzLl9ldmVudEhhbmRsZXImJnRoaXMuX2V2ZW50SGFuZGxlci5lbWl0KHQsaSl9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsaSl7bnVsbD09PXRoaXMuX2V2ZW50SGFuZGxlciYmKHRoaXMuX2V2ZW50SGFuZGxlcj1uZXcgZyksdGhpcy5fZXZlbnRIYW5kbGVyLm9uKHQsaSl9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjd9XSw0OTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe24uY2FsbCh0aGlzLHQpLHQ9dHx8e30sdGhpcy5vcmllbnRhdGlvbj1uZXcgcix0aGlzLmFuZ3VsYXJWZWxvY2l0eT1uZXcgcyx0aGlzLmFuZ3VsYXJNb21lbnR1bT1uZXcgcyx0aGlzLnRvcnF1ZT1uZXcgcyx0Lm9yaWVudGF0aW9uJiZ0aGlzLm9yaWVudGF0aW9uLnNldCh0Lm9yaWVudGF0aW9uKSx0LmFuZ3VsYXJWZWxvY2l0eSYmdGhpcy5hbmd1bGFyVmVsb2NpdHkuc2V0KHQuYW5ndWxhclZlbG9jaXR5KSx0LmFuZ3VsYXJNb21lbnR1bSYmdGhpcy5hbmd1bGFyTW9tZW50dW0uc2V0KHQuYW5ndWxhck1vbWVudHVtKSx0LnRvcnF1ZSYmdGhpcy50b3JxdWUuc2V0KHQudG9ycXVlKSx0aGlzLmFuZ3VsYXJWZWxvY2l0eS53PTAsdGhpcy5zZXRNb21lbnRzT2ZJbmVydGlhKCksdGhpcy5wV29ybGQ9bmV3IHN9dmFyIG49dChcIi4vUGFydGljbGVcIiksbz10KFwiLi4vLi4vY29yZS9UcmFuc2Zvcm1cIikscz10KFwiLi4vLi4vbWF0aC9WZWN0b3JcIikscj10KFwiLi4vLi4vbWF0aC9RdWF0ZXJuaW9uXCIpLGE9dChcIi4uLy4uL21hdGgvTWF0cml4XCIpLGg9dChcIi4uL2ludGVncmF0b3JzL1N5bXBsZWN0aWNFdWxlclwiKTtlLkRFRkFVTFRfT1BUSU9OUz1uLkRFRkFVTFRfT1BUSU9OUyxlLkRFRkFVTFRfT1BUSU9OUy5vcmllbnRhdGlvbj1bMCwwLDAsMV0sZS5ERUZBVUxUX09QVElPTlMuYW5ndWxhclZlbG9jaXR5PVswLDAsMF0sZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5pc0JvZHk9ITAsZS5wcm90b3R5cGUuc2V0TWFzcz1mdW5jdGlvbigpe24ucHJvdG90eXBlLnNldE1hc3MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc2V0TW9tZW50c09mSW5lcnRpYSgpfSxlLnByb3RvdHlwZS5zZXRNb21lbnRzT2ZJbmVydGlhPWZ1bmN0aW9uKCl7dGhpcy5pbmVydGlhPW5ldyBhLHRoaXMuaW52ZXJzZUluZXJ0aWE9bmV3IGF9LGUucHJvdG90eXBlLnVwZGF0ZUFuZ3VsYXJWZWxvY2l0eT1mdW5jdGlvbigpe3RoaXMuYW5ndWxhclZlbG9jaXR5LnNldCh0aGlzLmludmVyc2VJbmVydGlhLnZlY3Rvck11bHRpcGx5KHRoaXMuYW5ndWxhck1vbWVudHVtKSl9LGUucHJvdG90eXBlLnRvV29ybGRDb29yZGluYXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wV29ybGQuc2V0KHRoaXMub3JpZW50YXRpb24ucm90YXRlVmVjdG9yKHQpKX0sZS5wcm90b3R5cGUuZ2V0RW5lcmd5PWZ1bmN0aW9uKCl7cmV0dXJuIG4ucHJvdG90eXBlLmdldEVuZXJneS5jYWxsKHRoaXMpKy41KnRoaXMuaW5lcnRpYS52ZWN0b3JNdWx0aXBseSh0aGlzLmFuZ3VsYXJWZWxvY2l0eSkuZG90KHRoaXMuYW5ndWxhclZlbG9jaXR5KX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxpLGUsbyl7bi5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzLHQsaSksdGhpcy5hbmd1bGFyVmVsb2NpdHkuY2xlYXIoKSx0aGlzLnNldE9yaWVudGF0aW9uKGV8fFsxLDAsMCwwXSksdGhpcy5zZXRBbmd1bGFyTW9tZW50dW0ob3x8WzAsMCwwXSl9LGUucHJvdG90eXBlLnNldE9yaWVudGF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMub3JpZW50YXRpb24uc2V0KHQpfSxlLnByb3RvdHlwZS5zZXRBbmd1bGFyVmVsb2NpdHk9ZnVuY3Rpb24odCl7dGhpcy53YWtlKCksdGhpcy5hbmd1bGFyVmVsb2NpdHkuc2V0KHQpfSxlLnByb3RvdHlwZS5zZXRBbmd1bGFyTW9tZW50dW09ZnVuY3Rpb24odCl7dGhpcy53YWtlKCksdGhpcy5hbmd1bGFyTW9tZW50dW0uc2V0KHQpfSxlLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQsaSl7bi5wcm90b3R5cGUuYXBwbHlGb3JjZS5jYWxsKHRoaXMsdCksdm9pZCAwIT09aSYmdGhpcy5hcHBseVRvcnF1ZShpLmNyb3NzKHQpKX0sZS5wcm90b3R5cGUuYXBwbHlUb3JxdWU9ZnVuY3Rpb24odCl7dGhpcy53YWtlKCksdGhpcy50b3JxdWUuc2V0KHRoaXMudG9ycXVlLmFkZCh0KSl9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBvLnRoZW5Nb3ZlKHRoaXMub3JpZW50YXRpb24uZ2V0VHJhbnNmb3JtKCksby5nZXRUcmFuc2xhdGUobi5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtLmNhbGwodGhpcykpKX0sZS5wcm90b3R5cGUuX2ludGVncmF0ZT1mdW5jdGlvbih0KXtuLnByb3RvdHlwZS5faW50ZWdyYXRlLmNhbGwodGhpcyx0KSx0aGlzLmludGVncmF0ZUFuZ3VsYXJNb21lbnR1bSh0KSx0aGlzLnVwZGF0ZUFuZ3VsYXJWZWxvY2l0eSh0KSx0aGlzLmludGVncmF0ZU9yaWVudGF0aW9uKHQpfSxlLnByb3RvdHlwZS5pbnRlZ3JhdGVBbmd1bGFyTW9tZW50dW09ZnVuY3Rpb24odCl7aC5pbnRlZ3JhdGVBbmd1bGFyTW9tZW50dW0odGhpcyx0KX0sZS5wcm90b3R5cGUuaW50ZWdyYXRlT3JpZW50YXRpb249ZnVuY3Rpb24odCl7aC5pbnRlZ3JhdGVPcmllbnRhdGlvbih0aGlzLHQpfSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uLy4uL21hdGgvTWF0cml4XCI6MzcsXCIuLi8uLi9tYXRoL1F1YXRlcm5pb25cIjozOCxcIi4uLy4uL21hdGgvVmVjdG9yXCI6NDEsXCIuLi9pbnRlZ3JhdG9ycy9TeW1wbGVjdGljRXVsZXJcIjo3MixcIi4vUGFydGljbGVcIjo1MX1dLDUwOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dD10fHx7fSx0aGlzLnNldFJhZGl1cyh0LnJhZGl1c3x8MCksbi5jYWxsKHRoaXMsdCl9dmFyIG49dChcIi4vQm9keVwiKSxvPXQoXCIuLi8uLi9tYXRoL01hdHJpeFwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldFJhZGl1cz1mdW5jdGlvbih0KXt0aGlzLnJhZGl1cz10LHRoaXMuc2l6ZT1bMip0aGlzLnJhZGl1cywyKnRoaXMucmFkaXVzXSx0aGlzLnNldE1vbWVudHNPZkluZXJ0aWEoKX0sZS5wcm90b3R5cGUuc2V0TW9tZW50c09mSW5lcnRpYT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubWFzcyxpPXRoaXMucmFkaXVzO3RoaXMuaW5lcnRpYT1uZXcgbyhbWy4yNSp0KmkqaSwwLDBdLFswLC4yNSp0KmkqaSwwXSxbMCwwLC41KnQqaSppXV0pLHRoaXMuaW52ZXJzZUluZXJ0aWE9bmV3IG8oW1s0Lyh0KmkqaSksMCwwXSxbMCw0Lyh0KmkqaSksMF0sWzAsMCwyLyh0KmkqaSldXSl9LGkuZXhwb3J0cz1lfSx7XCIuLi8uLi9tYXRoL01hdHJpeFwiOjM3LFwiLi9Cb2R5XCI6NDl9XSw1MTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3Q9dHx8e307dmFyIGk9ZS5ERUZBVUxUX09QVElPTlM7dGhpcy5wb3NpdGlvbj1uZXcgbyx0aGlzLnZlbG9jaXR5PW5ldyBvLHRoaXMuZm9yY2U9bmV3IG8sdGhpcy5fZW5naW5lPW51bGwsdGhpcy5faXNTbGVlcGluZz0hMCx0aGlzLl9ldmVudE91dHB1dD1udWxsLHRoaXMubWFzcz12b2lkIDAhPT10Lm1hc3M/dC5tYXNzOmkubWFzcyx0aGlzLmludmVyc2VNYXNzPTEvdGhpcy5tYXNzLHRoaXMuc2V0UG9zaXRpb24odC5wb3NpdGlvbnx8aS5wb3NpdGlvbiksdGhpcy5zZXRWZWxvY2l0eSh0LnZlbG9jaXR5fHxpLnZlbG9jaXR5KSx0aGlzLmZvcmNlLnNldCh0LmZvcmNlfHxbMCwwLDBdKSx0aGlzLnRyYW5zZm9ybT1zLmlkZW50aXR5LnNsaWNlKCksdGhpcy5fc3BlYz17c2l6ZTpbITAsITBdLHRhcmdldDp7dHJhbnNmb3JtOnRoaXMudHJhbnNmb3JtLG9yaWdpbjpbLjUsLjVdLHRhcmdldDpudWxsfX19ZnVuY3Rpb24gbigpe3RoaXMuX2V2ZW50T3V0cHV0PW5ldyByLHRoaXMuX2V2ZW50T3V0cHV0LmJpbmRUaGlzKHRoaXMpLHIuc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KX12YXIgbz10KFwiLi4vLi4vbWF0aC9WZWN0b3JcIikscz10KFwiLi4vLi4vY29yZS9UcmFuc2Zvcm1cIikscj10KFwiLi4vLi4vY29yZS9FdmVudEhhbmRsZXJcIiksYT10KFwiLi4vaW50ZWdyYXRvcnMvU3ltcGxlY3RpY0V1bGVyXCIpO2UuREVGQVVMVF9PUFRJT05TPXtwb3NpdGlvbjpbMCwwLDBdLHZlbG9jaXR5OlswLDAsMF0sbWFzczoxfTt2YXIgaD17c3RhcnQ6XCJzdGFydFwiLHVwZGF0ZTpcInVwZGF0ZVwiLGVuZDpcImVuZFwifSxjPURhdGUubm93O2UucHJvdG90eXBlLmlzQm9keT0hMSxlLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pc1NsZWVwaW5nfSxlLnByb3RvdHlwZS5zbGVlcD1mdW5jdGlvbigpe3RoaXMuX2lzU2xlZXBpbmd8fCh0aGlzLmVtaXQoaC5lbmQsdGhpcyksdGhpcy5faXNTbGVlcGluZz0hMCl9LGUucHJvdG90eXBlLndha2U9ZnVuY3Rpb24oKXt0aGlzLl9pc1NsZWVwaW5nJiYodGhpcy5lbWl0KGguc3RhcnQsdGhpcyksdGhpcy5faXNTbGVlcGluZz0hMSx0aGlzLl9wcmV2VGltZT1jKCksdGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUud2FrZSgpKX0sZS5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbi5zZXQodCl9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uMUQ9ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbi54PXR9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZS5zdGVwKCksdGhpcy5wb3NpdGlvbi5nZXQoKX0sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb24xRD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmdpbmUuc3RlcCgpLHRoaXMucG9zaXRpb24ueH0sZS5wcm90b3R5cGUuc2V0VmVsb2NpdHk9ZnVuY3Rpb24odCl7dGhpcy52ZWxvY2l0eS5zZXQodCksKDAhPT10WzBdfHwwIT09dFsxXXx8MCE9PXRbMl0pJiZ0aGlzLndha2UoKX0sZS5wcm90b3R5cGUuc2V0VmVsb2NpdHkxRD1mdW5jdGlvbih0KXt0aGlzLnZlbG9jaXR5Lng9dCwwIT09dCYmdGhpcy53YWtlKCl9LGUucHJvdG90eXBlLmdldFZlbG9jaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVsb2NpdHkuZ2V0KCl9LGUucHJvdG90eXBlLnNldEZvcmNlPWZ1bmN0aW9uKHQpe3RoaXMuZm9yY2Uuc2V0KHQpLHRoaXMud2FrZSgpfSxlLnByb3RvdHlwZS5nZXRWZWxvY2l0eTFEPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVsb2NpdHkueH0sZS5wcm90b3R5cGUuc2V0TWFzcz1mdW5jdGlvbih0KXt0aGlzLm1hc3M9dCx0aGlzLmludmVyc2VNYXNzPTEvdH0sZS5wcm90b3R5cGUuZ2V0TWFzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hc3N9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsaSl7dGhpcy5zZXRQb3NpdGlvbih0fHxbMCwwLDBdKSx0aGlzLnNldFZlbG9jaXR5KGl8fFswLDAsMF0pfSxlLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQpe3QuaXNaZXJvKCl8fCh0aGlzLmZvcmNlLmFkZCh0KS5wdXQodGhpcy5mb3JjZSksdGhpcy53YWtlKCkpfSxlLnByb3RvdHlwZS5hcHBseUltcHVsc2U9ZnVuY3Rpb24odCl7aWYoIXQuaXNaZXJvKCkpe3ZhciBpPXRoaXMudmVsb2NpdHk7aS5hZGQodC5tdWx0KHRoaXMuaW52ZXJzZU1hc3MpKS5wdXQoaSl9fSxlLnByb3RvdHlwZS5pbnRlZ3JhdGVWZWxvY2l0eT1mdW5jdGlvbih0KXthLmludGVncmF0ZVZlbG9jaXR5KHRoaXMsdCl9LGUucHJvdG90eXBlLmludGVncmF0ZVBvc2l0aW9uPWZ1bmN0aW9uKHQpe2EuaW50ZWdyYXRlUG9zaXRpb24odGhpcyx0KX0sZS5wcm90b3R5cGUuX2ludGVncmF0ZT1mdW5jdGlvbih0KXt0aGlzLmludGVncmF0ZVZlbG9jaXR5KHQpLHRoaXMuaW50ZWdyYXRlUG9zaXRpb24odCl9LGUucHJvdG90eXBlLmdldEVuZXJneT1mdW5jdGlvbigpe3JldHVybi41KnRoaXMubWFzcyp0aGlzLnZlbG9jaXR5Lm5vcm1TcXVhcmVkKCl9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMuX2VuZ2luZS5zdGVwKCk7dmFyIHQ9dGhpcy5wb3NpdGlvbixpPXRoaXMudHJhbnNmb3JtO3JldHVybiBpWzEyXT10LngsaVsxM109dC55LGlbMTRdPXQueixpfSxlLnByb3RvdHlwZS5tb2RpZnk9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fc3BlYy50YXJnZXQ7cmV0dXJuIGkudHJhbnNmb3JtPXRoaXMuZ2V0VHJhbnNmb3JtKCksaS50YXJnZXQ9dCx0aGlzLl9zcGVjfSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsaSl7dGhpcy5fZXZlbnRPdXRwdXQmJnRoaXMuX2V2ZW50T3V0cHV0LmVtaXQodCxpKX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHRoaXMpLHRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcyksdGhpcy5yZW1vdmVMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHRoaXMpLHRoaXMucGlwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcyksdGhpcy51bnBpcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uLy4uL21hdGgvVmVjdG9yXCI6NDEsXCIuLi9pbnRlZ3JhdG9ycy9TeW1wbGVjdGljRXVsZXJcIjo3Mn1dLDUyOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dD10fHx7fSx0aGlzLnNpemU9dC5zaXplfHxbMCwwXSxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9Cb2R5XCIpLG89dChcIi4uLy4uL21hdGgvTWF0cml4XCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbih0KXt0aGlzLnNpemU9dCx0aGlzLnNldE1vbWVudHNPZkluZXJ0aWEoKX0sZS5wcm90b3R5cGUuc2V0TW9tZW50c09mSW5lcnRpYT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubWFzcyxpPXRoaXMuc2l6ZVswXSxlPXRoaXMuc2l6ZVsxXTt0aGlzLmluZXJ0aWE9bmV3IG8oW1t0KmUqZS8xMiwwLDBdLFswLHQqaSppLzEyLDBdLFswLDAsdCooaSppK2UqZSkvMTJdXSksdGhpcy5pbnZlcnNlSW5lcnRpYT1uZXcgbyhbWzEyLyh0KmUqZSksMCwwXSxbMCwxMi8odCppKmkpLDBdLFswLDAsMTIvKHQqKGkqaStlKmUpKV1dKX0saS5leHBvcnRzPWV9LHtcIi4uLy4uL21hdGgvTWF0cml4XCI6MzcsXCIuL0JvZHlcIjo0OX1dLDUzOltmdW5jdGlvbih0LGkpe2kuZXhwb3J0cz17Qm9keTp0KFwiLi9Cb2R5XCIpLENpcmNsZTp0KFwiLi9DaXJjbGVcIiksUGFydGljbGU6dChcIi4vUGFydGljbGVcIiksUmVjdGFuZ2xlOnQoXCIuL1JlY3RhbmdsZVwiKX19LHtcIi4vQm9keVwiOjQ5LFwiLi9DaXJjbGVcIjo1MCxcIi4vUGFydGljbGVcIjo1MSxcIi4vUmVjdGFuZ2xlXCI6NTJ9XSw1NDpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMub3B0aW9ucz1PYmplY3QuY3JlYXRlKGUuREVGQVVMVF9PUFRJT05TKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5ub3JtYWw9bmV3IG8sdGhpcy5wRGlmZj1uZXcgbyx0aGlzLnZEaWZmPW5ldyBvLHRoaXMuaW1wdWxzZTE9bmV3IG8sdGhpcy5pbXB1bHNlMj1uZXcgbyxuLmNhbGwodGhpcyl9dmFyIG49dChcIi4vQ29uc3RyYWludFwiKSxvPXQoXCIuLi8uLi9tYXRoL1ZlY3RvclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXtyZXN0aXR1dGlvbjouNSxkcmlmdDouNSxzbG9wOjB9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpdGhpcy5vcHRpb25zW2ldPXRbaV19LGUucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludD1mdW5jdGlvbih0LGksZSl7aWYodm9pZCAwIT09aSlmb3IodmFyIG49aS52ZWxvY2l0eSxvPWkucG9zaXRpb24scz1pLmludmVyc2VNYXNzLHI9aS5yYWRpdXMsYT10aGlzLm9wdGlvbnMsaD1hLmRyaWZ0LGM9LWEuc2xvcCxwPWEucmVzdGl0dXRpb24sdT10aGlzLm5vcm1hbCxsPXRoaXMucERpZmYsZj10aGlzLnZEaWZmLGQ9dGhpcy5pbXB1bHNlMSxfPXRoaXMuaW1wdWxzZTIseT0wO3k8dC5sZW5ndGg7eSsrKXt2YXIgZz10W3ldO2lmKGchPT1pKXt2YXIgdj1nLnZlbG9jaXR5LG09Zy5wb3NpdGlvbixPPWcuaW52ZXJzZU1hc3MsUz1nLnJhZGl1cztsLnNldChtLnN1YihvKSksZi5zZXQodi5zdWIobikpO3ZhciBUPWwubm9ybSgpLHc9VC0ocitTKSxiPTEvKHMrTyksRT0wO2lmKDA+dyl7aWYodS5zZXQobC5ub3JtYWxpemUoKSksdGhpcy5fZXZlbnRPdXRwdXQpe3ZhciBJPXt0YXJnZXQ6Zyxzb3VyY2U6aSxvdmVybGFwOncsbm9ybWFsOnV9O3RoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJwcmVDb2xsaXNpb25cIixJKSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwiY29sbGlzaW9uXCIsSSl9dmFyIHg9Yz49dz8oKDErcCkqdS5kb3QoZikraC9lKih3LWMpKS8oRStlL2IpOigxK3ApKnUuZG90KGYpLyhFK2UvYik7dS5tdWx0KGUqeCkucHV0KGQpLGQubXVsdCgtMSkucHV0KF8pLGkuYXBwbHlJbXB1bHNlKGQpLGcuYXBwbHlJbXB1bHNlKF8pLHRoaXMuX2V2ZW50T3V0cHV0JiZ0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwicG9zdENvbGxpc2lvblwiLEkpfX19fSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vbWF0aC9WZWN0b3JcIjo0MSxcIi4vQ29uc3RyYWludFwiOjU1fV0sNTU6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe3RoaXMub3B0aW9ucz10aGlzLm9wdGlvbnN8fHt9LHRoaXMuX2V2ZW50T3V0cHV0PW5ldyBuLG4uc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KX12YXIgbj10KFwiLi4vLi4vY29yZS9FdmVudEhhbmRsZXJcIik7ZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwiY2hhbmdlXCIsdCl9LGUucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZ2V0RW5lcmd5PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGkuZXhwb3J0cz1lfSx7XCIuLi8uLi9jb3JlL0V2ZW50SGFuZGxlclwiOjd9XSw1NjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMub3B0aW9ucz1PYmplY3QuY3JlYXRlKGUuREVGQVVMVF9PUFRJT05TKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5KPW5ldyBvLHRoaXMuaW1wdWxzZT1uZXcgbyxuLmNhbGwodGhpcyl9dmFyIG49dChcIi4vQ29uc3RyYWludFwiKSxvPXQoXCIuLi8uLi9tYXRoL1ZlY3RvclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBzPTFlLTcscj1NYXRoLlBJO2UuREVGQVVMVF9PUFRJT05TPXtlcXVhdGlvbjpmdW5jdGlvbigpe3JldHVybiAwfSxwbGFuZTpmdW5jdGlvbih0LGksZSl7cmV0dXJuIGV9LHBlcmlvZDowLGRhbXBpbmdSYXRpbzowfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSBpbiB0KXRoaXMub3B0aW9uc1tpXT10W2ldfSxlLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnQ9ZnVuY3Rpb24odCxpLGUpe2Zvcih2YXIgbj10aGlzLm9wdGlvbnMsbz10aGlzLmltcHVsc2UsYT10aGlzLkosaD1uLmVxdWF0aW9uLGM9bi5wbGFuZSxwPW4uZGFtcGluZ1JhdGlvLHU9bi5wZXJpb2QsbD0wO2w8dC5sZW5ndGg7bCsrKXt2YXIgZixkLF89dFtsXSx5PV8udmVsb2NpdHksZz1fLnBvc2l0aW9uLHY9Xy5tYXNzO2lmKDA9PT11KWY9MCxkPTE7ZWxzZXt2YXIgbT00KnYqcipwL3UsTz00KnYqcipyLyh1KnUpO2Y9MS8obStlKk8pLGQ9ZSpPLyhtK2UqTyl9dmFyIFM9Zy54LFQ9Zy55LHc9Zy56LGI9aChTLFQsdyksRT0oaChTK3MsZyxnKS1iKS9zLEk9KGgoUyxUK3MsZyktYikvcyx4PShoKFMsVCxnK3MpLWIpL3MsTT1jKFMsVCx3KSx6PShjKFMrcyxULHcpLU0pL3MsQz0oYyhTLFQrcyx3KS1NKS9zLFA9KGMoUyxULHcrcyktTSkvczthLnNldFhZWihFK3osSStDLHgrUCk7dmFyIEY9ZC9lKihiK00pLEQ9LShhLmRvdCh5KStGKS8oZitlKmEubm9ybVNxdWFyZWQoKS92KTtvLnNldChhLm11bHQoZSpEKSksXy5hcHBseUltcHVsc2Uobyl9fSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vbWF0aC9WZWN0b3JcIjo0MSxcIi4vQ29uc3RyYWludFwiOjU1fV0sNTc6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRfT1BUSU9OUyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuaW1wdWxzZT1uZXcgbyx0aGlzLm5vcm1hbD1uZXcgbyx0aGlzLmRpZmZQPW5ldyBvLHRoaXMuZGlmZlY9bmV3IG8sbi5jYWxsKHRoaXMpfXZhciBuPXQoXCIuL0NvbnN0cmFpbnRcIiksbz10KFwiLi4vLi4vbWF0aC9WZWN0b3JcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLkRFRkFVTFRfT1BUSU9OUz17YW5jaG9yOm51bGwsbGVuZ3RoOjAsbWluTGVuZ3RoOjAscGVyaW9kOjAsZGFtcGluZ1JhdGlvOjB9O3ZhciBzPU1hdGguUEk7ZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt0LmFuY2hvciYmKHQuYW5jaG9yLnBvc2l0aW9uIGluc3RhbmNlb2YgbyYmKHRoaXMub3B0aW9ucy5hbmNob3I9dC5hbmNob3IucG9zaXRpb24pLHQuYW5jaG9yIGluc3RhbmNlb2YgbyYmKHRoaXMub3B0aW9ucy5hbmNob3I9dC5hbmNob3IpLHQuYW5jaG9yIGluc3RhbmNlb2YgQXJyYXkmJih0aGlzLm9wdGlvbnMuYW5jaG9yPW5ldyBvKHQuYW5jaG9yKSkpLHZvaWQgMCE9PXQubGVuZ3RoJiYodGhpcy5vcHRpb25zLmxlbmd0aD10Lmxlbmd0aCksdm9pZCAwIT09dC5kYW1waW5nUmF0aW8mJih0aGlzLm9wdGlvbnMuZGFtcGluZ1JhdGlvPXQuZGFtcGluZ1JhdGlvKSx2b2lkIDAhPT10LnBlcmlvZCYmKHRoaXMub3B0aW9ucy5wZXJpb2Q9dC5wZXJpb2QpLHZvaWQgMCE9PXQubWluTGVuZ3RoJiYodGhpcy5vcHRpb25zLm1pbkxlbmd0aD10Lm1pbkxlbmd0aCl9LGUucHJvdG90eXBlLnNldEFuY2hvcj1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbnMuYW5jaG9yfHwodGhpcy5vcHRpb25zLmFuY2hvcj1uZXcgbyksdGhpcy5vcHRpb25zLmFuY2hvci5zZXQodCl9LGUucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludD1mdW5jdGlvbih0LGksZSl7dmFyIG4sbyxyPXRoaXMubm9ybWFsLGE9dGhpcy5kaWZmUCxoPXRoaXMuZGlmZlYsYz10aGlzLmltcHVsc2UscD10aGlzLm9wdGlvbnMsdT1wLmRhbXBpbmdSYXRpbyxsPXAucGVyaW9kLGY9cC5taW5MZW5ndGg7aWYoaSl7dmFyIGQ9aS52ZWxvY2l0eTtuPWkucG9zaXRpb24sbz1pLmludmVyc2VNYXNzfWVsc2Ugbj10aGlzLm9wdGlvbnMuYW5jaG9yLG89MDtmb3IodmFyIF89dGhpcy5vcHRpb25zLmxlbmd0aCx5PTA7eTx0Lmxlbmd0aDt5Kyspe3ZhciBnPXRbeV0sdj1nLnZlbG9jaXR5LG09Zy5wb3NpdGlvbixPPWcuaW52ZXJzZU1hc3M7YS5zZXQobS5zdWIobikpLHIuc2V0KGEubm9ybWFsaXplKCkpO3ZhciBTPWEubm9ybSgpLV87aWYoTWF0aC5hYnMoUyk8ZilyZXR1cm47aC5zZXQoaT92LnN1YihkKTp2KTt2YXIgVCx3LGI9MS8oTytvKTtpZigwPT09bClUPTAsdz0xO2Vsc2V7dmFyIEU9NCpiKnMqdS9sLEk9NCpiKnMqcy8obCpsKTtUPTEvKEUrZSpJKSx3PWUqSS8oRStlKkkpfXZhciB4PXcvZSpTLE09LShyLmRvdChoKSt4KS8oVCtlL2IpO2Muc2V0KHIubXVsdChlKk0pKSxnLmFwcGx5SW1wdWxzZShjKSxpJiZpLmFwcGx5SW1wdWxzZShjLm11bHQoLTEpKX19LGkuZXhwb3J0cz1lfSx7XCIuLi8uLi9tYXRoL1ZlY3RvclwiOjQxLFwiLi9Db25zdHJhaW50XCI6NTV9XSw1ODpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe24uY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRfT1BUSU9OUyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMucERpZmY9bmV3IG8sdGhpcy52RGlmZj1uZXcgbyx0aGlzLmltcHVsc2UxPW5ldyBvLHRoaXMuaW1wdWxzZTI9bmV3IG99dmFyIG49dChcIi4vQ29uc3RyYWludFwiKSxvPXQoXCIuLi8uLi9tYXRoL1ZlY3RvclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXtwZXJpb2Q6MzAwLGRhbXBpbmdSYXRpbzouMSxsZW5ndGg6MCxhbmNob3I6dm9pZCAwfTt2YXIgcz1NYXRoLlBJO2UucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5hbmNob3ImJih0LmFuY2hvciBpbnN0YW5jZW9mIG8mJih0aGlzLm9wdGlvbnMuYW5jaG9yPXQuYW5jaG9yKSx0LmFuY2hvci5wb3NpdGlvbiBpbnN0YW5jZW9mIG8mJih0aGlzLm9wdGlvbnMuYW5jaG9yPXQuYW5jaG9yLnBvc2l0aW9uKSx0LmFuY2hvciBpbnN0YW5jZW9mIEFycmF5JiYodGhpcy5vcHRpb25zLmFuY2hvcj1uZXcgbyh0LmFuY2hvcikpKSx2b2lkIDAhPT10Lmxlbmd0aCYmKHRoaXMub3B0aW9ucy5sZW5ndGg9dC5sZW5ndGgpLHZvaWQgMCE9PXQuZGFtcGluZ1JhdGlvJiYodGhpcy5vcHRpb25zLmRhbXBpbmdSYXRpbz10LmRhbXBpbmdSYXRpbyksdm9pZCAwIT09dC5wZXJpb2QmJih0aGlzLm9wdGlvbnMucGVyaW9kPXQucGVyaW9kKSxuLnByb3RvdHlwZS5zZXRPcHRpb25zLmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuZ2V0RW5lcmd5PWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPXRoaXMub3B0aW9ucyxuPWUubGVuZ3RoLG89ZS5hbmNob3J8fGkucG9zaXRpb24scj1NYXRoLnBvdygyKnMvZS5wZXJpb2QsMiksYT0wLGg9MDtoPHQubGVuZ3RoO2grKyl7dmFyIGM9dFtoXSxwPW8uc3ViKGMucG9zaXRpb24pLm5vcm0oKS1uO2ErPS41KnIqcCpwfXJldHVybiBhfSxlLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnQ9ZnVuY3Rpb24odCxpLGUpe2Zvcih2YXIgbj10aGlzLm9wdGlvbnMsbz10aGlzLnBEaWZmLHI9dGhpcy52RGlmZixhPXRoaXMuaW1wdWxzZTEsaD10aGlzLmltcHVsc2UyLGM9bi5sZW5ndGgscD1uLmFuY2hvcnx8aS5wb3NpdGlvbix1PW4ucGVyaW9kLGw9bi5kYW1waW5nUmF0aW8sZj0wO2Y8dC5sZW5ndGg7ZisrKXt2YXIgZD10W2ZdLF89ZC5wb3NpdGlvbix5PWQudmVsb2NpdHksZz1kLm1hc3Msdj1kLmludmVyc2VNYXNzO1xuby5zZXQoXy5zdWIocCkpO3ZhciBtLE89by5ub3JtKCktYztpZihpKXt2YXIgUz1pLmludmVyc2VNYXNzLFQ9aS52ZWxvY2l0eTtyLnNldCh5LnN1YihUKSksbT0xLyh2K1MpfWVsc2Ugci5zZXQoeSksbT1nO3ZhciB3LGI7aWYoMD09PXRoaXMub3B0aW9ucy5wZXJpb2Qpdz0wLGI9MTtlbHNle3ZhciBFPTQqbSpzKnMvKHUqdSksST00Km0qcypsL3U7Yj1lKkUvKEkrZSpFKSx3PTEvKEkrZSpFKX12YXIgeD1iL2UqTztvLm5vcm1hbGl6ZSgteCkuc3ViKHIpLm11bHQoZS8odytlL20pKS5wdXQoYSksZC5hcHBseUltcHVsc2UoYSksaSYmKGEubXVsdCgtMSkucHV0KGgpLGkuYXBwbHlJbXB1bHNlKGgpKX19LGkuZXhwb3J0cz1lfSx7XCIuLi8uLi9tYXRoL1ZlY3RvclwiOjQxLFwiLi9Db25zdHJhaW50XCI6NTV9XSw1OTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMub3B0aW9ucz1PYmplY3QuY3JlYXRlKGUuREVGQVVMVF9PUFRJT05TKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5KPW5ldyBvLHRoaXMuaW1wdWxzZT1uZXcgbyxuLmNhbGwodGhpcyl9dmFyIG49dChcIi4vQ29uc3RyYWludFwiKSxvPXQoXCIuLi8uLi9tYXRoL1ZlY3RvclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXtlcXVhdGlvbjp2b2lkIDAscGVyaW9kOjAsZGFtcGluZ1JhdGlvOjB9O3ZhciBzPTFlLTcscj1NYXRoLlBJO2UucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpdGhpcy5vcHRpb25zW2ldPXRbaV19LGUucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludD1mdW5jdGlvbih0LGksZSl7Zm9yKHZhciBuPXRoaXMuaW1wdWxzZSxvPXRoaXMuSixhPXRoaXMub3B0aW9ucyxoPWEuZXF1YXRpb24sYz1hLmRhbXBpbmdSYXRpbyxwPWEucGVyaW9kLHU9MDt1PHQubGVuZ3RoO3UrKyl7dmFyIGwsZixkPXRbdV0sXz1kLnZlbG9jaXR5LHk9ZC5wb3NpdGlvbixnPWQubWFzcztpZigwPT09cClsPTAsZj0xO2Vsc2V7dmFyIHY9NCpnKnIqYy9wLG09NCpnKnIqci8ocCpwKTtsPTEvKHYrZSptKSxmPWUqbS8oditlKm0pfXZhciBPPXkueCxTPXkueSxUPXkueix3PWgoTyxTLFQpLGI9KGgoTytzLHkseSktdykvcyxFPShoKE8sUytzLHkpLXcpL3MsST0oaChPLFMseStzKS13KS9zO28uc2V0WFlaKGIsRSxJKTt2YXIgeD1mL2UqdyxNPS0oby5kb3QoXykreCkvKGwrZSpvLm5vcm1TcXVhcmVkKCkvZyk7bi5zZXQoby5tdWx0KGUqTSkpLGQuYXBwbHlJbXB1bHNlKG4pfX0saS5leHBvcnRzPWV9LHtcIi4uLy4uL21hdGgvVmVjdG9yXCI6NDEsXCIuL0NvbnN0cmFpbnRcIjo1NX1dLDYwOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLmRpZmY9bmV3IGgsdGhpcy5pbXB1bHNlPW5ldyBoLGEuY2FsbCh0aGlzKX1mdW5jdGlvbiBuKHQsaSl7cmV0dXJuIGkuZG90KHQpfWZ1bmN0aW9uIG8odCl7dmFyIGk9dGhpcy5vcHRpb25zLm5vcm1hbCxlPXRoaXMub3B0aW9ucy5kaXN0YW5jZTtyZXR1cm4gdC5kb3QoaSkrZX1mdW5jdGlvbiBzKHQsaSxuKXt2YXIgbz10LnBvc2l0aW9uLHM9dC52ZWxvY2l0eSxyPXQubWFzcyxhPXRoaXMub3B0aW9ucy5ub3JtYWwsaD10aGlzLm9wdGlvbnMub25Db250YWN0LGM9dGhpcy5vcHRpb25zLnJlc3RpdHV0aW9uLHA9dGhpcy5pbXB1bHNlLHU9dGhpcy5vcHRpb25zLmRyaWZ0LGw9LXRoaXMub3B0aW9ucy5zbG9wLGY9MDtpZih0aGlzLl9ldmVudE91dHB1dCl7dmFyIGQ9e3BhcnRpY2xlOnQsd2FsbDp0aGlzLG92ZXJsYXA6aSxub3JtYWw6YX07dGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcInByZUNvbGxpc2lvblwiLGQpLHRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJjb2xsaXNpb25cIixkKX1zd2l0Y2goaCl7Y2FzZSBlLk9OX0NPTlRBQ1QuUkVGTEVDVDp2YXIgXz1sPmk/LSgoMStjKSphLmRvdChzKSt1L24qKGktbCkpLyhyKm4rZik6LSgoMStjKSphLmRvdChzKSkvKHIqbitmKTtwLnNldChhLm11bHQobipfKSksdC5hcHBseUltcHVsc2UocCksdC5zZXRQb3NpdGlvbihvLmFkZChhLm11bHQoLWkpKSl9dGhpcy5fZXZlbnRPdXRwdXQmJnRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJwb3N0Q29sbGlzaW9uXCIsZCl9ZnVuY3Rpb24gcih0LGkpe3ZhciBuPXRoaXMub3B0aW9ucy5vbkNvbnRhY3Qsbz10LnBvc2l0aW9uLHM9dGhpcy5vcHRpb25zLm5vcm1hbDtuPT09ZS5PTl9DT05UQUNULlJFRkxFQ1QmJnQuc2V0UG9zaXRpb24oby5hZGQocy5tdWx0KC1pKSkpfXZhciBhPXQoXCIuL0NvbnN0cmFpbnRcIiksaD10KFwiLi4vLi4vbWF0aC9WZWN0b3JcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLk9OX0NPTlRBQ1Q9e1JFRkxFQ1Q6MCxTSUxFTlQ6MX0sZS5ERUZBVUxUX09QVElPTlM9e3Jlc3RpdHV0aW9uOi41LGRyaWZ0Oi41LHNsb3A6MCxub3JtYWw6WzEsMCwwXSxkaXN0YW5jZTowLG9uQ29udGFjdDplLk9OX0NPTlRBQ1QuUkVGTEVDVH0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt2b2lkIDAhPT10Lm5vcm1hbCYmKHQubm9ybWFsIGluc3RhbmNlb2YgaCYmKHRoaXMub3B0aW9ucy5ub3JtYWw9dC5ub3JtYWwuY2xvbmUoKSksdC5ub3JtYWwgaW5zdGFuY2VvZiBBcnJheSYmKHRoaXMub3B0aW9ucy5ub3JtYWw9bmV3IGgodC5ub3JtYWwpKSksdm9pZCAwIT09dC5yZXN0aXR1dGlvbiYmKHRoaXMub3B0aW9ucy5yZXN0aXR1dGlvbj10LnJlc3RpdHV0aW9uKSx2b2lkIDAhPT10LmRyaWZ0JiYodGhpcy5vcHRpb25zLmRyaWZ0PXQuZHJpZnQpLHZvaWQgMCE9PXQuc2xvcCYmKHRoaXMub3B0aW9ucy5zbG9wPXQuc2xvcCksdm9pZCAwIT09dC5kaXN0YW5jZSYmKHRoaXMub3B0aW9ucy5kaXN0YW5jZT10LmRpc3RhbmNlKSx2b2lkIDAhPT10Lm9uQ29udGFjdCYmKHRoaXMub3B0aW9ucy5vbkNvbnRhY3Q9dC5vbkNvbnRhY3QpfSxlLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnQ9ZnVuY3Rpb24odCxpLGUpe2Zvcih2YXIgYT10aGlzLm9wdGlvbnMubm9ybWFsLGg9MDtoPHQubGVuZ3RoO2grKyl7dmFyIGM9dFtoXSxwPWMucG9zaXRpb24sdT1jLnZlbG9jaXR5LGw9Yy5yYWRpdXN8fDAsZj1vLmNhbGwodGhpcyxwLmFkZChhLm11bHQoLWwpKSksZD1uLmNhbGwodGhpcyxhLHUpOzA+PWYmJigwPmQ/cy5jYWxsKHRoaXMsYyxmLGUpOnIuY2FsbCh0aGlzLGMsZixlKSl9fSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vbWF0aC9WZWN0b3JcIjo0MSxcIi4vQ29uc3RyYWludFwiOjU1fV0sNjE6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLG8uY2FsbCh0aGlzLHQuc2lkZXN8fHRoaXMub3B0aW9ucy5zaWRlcyksci5jYWxsKHRoaXMpfWZ1bmN0aW9uIG4odCxpLG4pe3ZhciBvLHM9ZS5TSURFUztzd2l0Y2gocGFyc2VJbnQodCkpe2Nhc2Ugcy5MRUZUOm89aVswXSpuWzBdO2JyZWFrO2Nhc2Ugcy5UT1A6bz1pWzFdKm5bMV07YnJlYWs7Y2FzZSBzLkZST05UOm89aVsyXSpuWzJdO2JyZWFrO2Nhc2Ugcy5SSUdIVDpvPWlbMF0qKDEtblswXSk7YnJlYWs7Y2FzZSBzLkJPVFRPTTpvPWlbMV0qKDEtblsxXSk7YnJlYWs7Y2FzZSBzLkJBQ0s6bz1pWzJdKigxLW5bMl0pfXJldHVybiBvfWZ1bmN0aW9uIG8odCl7dGhpcy5jb21wb25lbnRzPXt9O2Zvcih2YXIgaT10aGlzLmNvbXBvbmVudHMsZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbz10W2VdO2lbZV09bmV3IGEoe25vcm1hbDpjW29dLmNsb25lKCksZGlzdGFuY2U6bihvLHRoaXMub3B0aW9ucy5zaXplLHRoaXMub3B0aW9ucy5vcmlnaW4pfSl9fWZ1bmN0aW9uIHModCl7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGkpe2kuc2V0T3B0aW9ucyh0KX0pO2Zvcih2YXIgaSBpbiB0KXRoaXMub3B0aW9uc1tpXT10W2ldfXZhciByPXQoXCIuL0NvbnN0cmFpbnRcIiksYT10KFwiLi9XYWxsXCIpLGg9dChcIi4uLy4uL21hdGgvVmVjdG9yXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5PTl9DT05UQUNUPWEuT05fQ09OVEFDVCxlLlNJREVTPXtMRUZUOjAsUklHSFQ6MSxUT1A6MixCT1RUT006MyxGUk9OVDo0LEJBQ0s6NSxUV09fRElNRU5TSU9OQUw6WzAsMSwyLDNdLFRIUkVFX0RJTUVOU0lPTkFMOlswLDEsMiwzLDQsNV19LGUuREVGQVVMVF9PUFRJT05TPXtzaWRlczplLlNJREVTLlRXT19ESU1FTlNJT05BTCxzaXplOlt3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQsMF0sb3JpZ2luOlsuNSwuNSwuNV0sZHJpZnQ6LjUsc2xvcDowLHJlc3RpdHV0aW9uOi41LG9uQ29udGFjdDplLk9OX0NPTlRBQ1QuUkVGTEVDVH07dmFyIGM9ezA6bmV3IGgoMSwwLDApLDE6bmV3IGgoLTEsMCwwKSwyOm5ldyBoKDAsMSwwKSwzOm5ldyBoKDAsLTEsMCksNDpuZXcgaCgwLDAsMSksNTpuZXcgaCgwLDAsLTEpfTtlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBpPSExO3ZvaWQgMCE9PXQucmVzdGl0dXRpb24mJnMuY2FsbCh0aGlzLHtyZXN0aXR1dGlvbjp0LnJlc3RpdHV0aW9ufSksdm9pZCAwIT09dC5kcmlmdCYmcy5jYWxsKHRoaXMse2RyaWZ0OnQuZHJpZnR9KSx2b2lkIDAhPT10LnNsb3AmJnMuY2FsbCh0aGlzLHtzbG9wOnQuc2xvcH0pLHZvaWQgMCE9PXQub25Db250YWN0JiZzLmNhbGwodGhpcyx7b25Db250YWN0OnQub25Db250YWN0fSksdm9pZCAwIT09dC5zaXplJiYoaT0hMCksdm9pZCAwIT09dC5zaWRlcyYmKHRoaXMub3B0aW9ucy5zaWRlcz10LnNpZGVzKSx2b2lkIDAhPT10Lm9yaWdpbiYmKGk9ITApLGkmJnRoaXMuc2V0U2l6ZSh0LnNpemUsdC5vcmlnaW4pfSxlLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQsaSl7aT1pfHx0aGlzLm9wdGlvbnMub3JpZ2luLGkubGVuZ3RoPDMmJihpWzJdPS41KSx0aGlzLmZvckVhY2goZnVuY3Rpb24oZSxvKXt2YXIgcz1uKG8sdCxpKTtlLnNldE9wdGlvbnMoe2Rpc3RhbmNlOnN9KX0pLHRoaXMub3B0aW9ucy5zaXplPXQsdGhpcy5vcHRpb25zLm9yaWdpbj1pfSxlLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnQ9ZnVuY3Rpb24odCxpLGUpe3RoaXMuZm9yRWFjaChmdW5jdGlvbihuKXtuLmFwcGx5Q29uc3RyYWludCh0LGksZSl9KX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuc2lkZXM7Zm9yKHZhciBlIGluIHRoaXMuc2lkZXMpdChpW2VdLGUpfSxlLnByb3RvdHlwZS5yb3RhdGVaPWZ1bmN0aW9uKHQpe3RoaXMuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgZT1pLm9wdGlvbnMubm9ybWFsO2Uucm90YXRlWih0KS5wdXQoZSl9KX0sZS5wcm90b3R5cGUucm90YXRlWD1mdW5jdGlvbih0KXt0aGlzLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIGU9aS5vcHRpb25zLm5vcm1hbDtlLnJvdGF0ZVgodCkucHV0KGUpfSl9LGUucHJvdG90eXBlLnJvdGF0ZVk9ZnVuY3Rpb24odCl7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBlPWkub3B0aW9ucy5ub3JtYWw7ZS5yb3RhdGVZKHQpLnB1dChlKX0pfSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vbWF0aC9WZWN0b3JcIjo0MSxcIi4vQ29uc3RyYWludFwiOjU1LFwiLi9XYWxsXCI6NjB9XSw2MjpbZnVuY3Rpb24odCxpKXtpLmV4cG9ydHM9e0NvbGxpc2lvbjp0KFwiLi9Db2xsaXNpb25cIiksQ29uc3RyYWludDp0KFwiLi9Db25zdHJhaW50XCIpLEN1cnZlOnQoXCIuL0N1cnZlXCIpLERpc3RhbmNlOnQoXCIuL0Rpc3RhbmNlXCIpLFNuYXA6dChcIi4vU25hcFwiKSxTdXJmYWNlOnQoXCIuL1N1cmZhY2VcIiksV2FsbDp0KFwiLi9XYWxsXCIpLFdhbGxzOnQoXCIuL1dhbGxzXCIpfX0se1wiLi9Db2xsaXNpb25cIjo1NCxcIi4vQ29uc3RyYWludFwiOjU1LFwiLi9DdXJ2ZVwiOjU2LFwiLi9EaXN0YW5jZVwiOjU3LFwiLi9TbmFwXCI6NTgsXCIuL1N1cmZhY2VcIjo1OSxcIi4vV2FsbFwiOjYwLFwiLi9XYWxsc1wiOjYxfV0sNjM6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRfT1BUSU9OUyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLG4uY2FsbCh0aGlzKX12YXIgbj10KFwiLi9Gb3JjZVwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuRk9SQ0VfRlVOQ1RJT05TPXtMSU5FQVI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LFFVQURSQVRJQzpmdW5jdGlvbih0KXtyZXR1cm4gdC5tdWx0KHQubm9ybSgpKX19LGUuREVGQVVMVF9PUFRJT05TPXtzdHJlbmd0aDouMDEsZm9yY2VGdW5jdGlvbjplLkZPUkNFX0ZVTkNUSU9OUy5MSU5FQVJ9LGUucHJvdG90eXBlLmFwcGx5Rm9yY2U9ZnVuY3Rpb24odCl7dmFyIGksZSxuPXRoaXMub3B0aW9ucy5zdHJlbmd0aCxvPXRoaXMub3B0aW9ucy5mb3JjZUZ1bmN0aW9uLHM9dGhpcy5mb3JjZTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWU9dFtpXSxvKGUudmVsb2NpdHkpLm11bHQoLW4pLnB1dChzKSxlLmFwcGx5Rm9yY2Uocyl9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpdGhpcy5vcHRpb25zW2ldPXRbaV19LGkuZXhwb3J0cz1lfSx7XCIuL0ZvcmNlXCI6NjR9XSw2NDpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMuZm9yY2U9bmV3IG4odCksdGhpcy5fZXZlbnRPdXRwdXQ9bmV3IG8sby5zZXRPdXRwdXRIYW5kbGVyKHRoaXMsdGhpcy5fZXZlbnRPdXRwdXQpfXZhciBuPXQoXCIuLi8uLi9tYXRoL1ZlY3RvclwiKSxvPXQoXCIuLi8uLi9jb3JlL0V2ZW50SGFuZGxlclwiKTtlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3RoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJjaGFuZ2VcIix0KX0sZS5wcm90b3R5cGUuYXBwbHlGb3JjZT1mdW5jdGlvbih0KXtmb3IodmFyIGk9dC5sZW5ndGg7aS0tOyl0W2ldLmFwcGx5Rm9yY2UodGhpcy5mb3JjZSl9LGUucHJvdG90eXBlLmdldEVuZXJneT1mdW5jdGlvbigpe3JldHVybiAwfSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vLi4vbWF0aC9WZWN0b3JcIjo0MX1dLDY1OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLmRpc3A9bmV3IG8sbi5jYWxsKHRoaXMpfXZhciBuPXQoXCIuL0ZvcmNlXCIpLG89dChcIi4uLy4uL21hdGgvVmVjdG9yXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5ERUNBWV9GVU5DVElPTlM9e0xJTkVBUjpmdW5jdGlvbih0LGkpe3JldHVybiBNYXRoLm1heCgxLTEvaSp0LDApfSxNT1JTRTpmdW5jdGlvbih0LGkpe3ZhciBlPTA9PT1pPzEwMDppLG49dCtlKigxLU1hdGgubG9nKDIpKTtyZXR1cm4gTWF0aC5tYXgoMS1NYXRoLnBvdygxLU1hdGguZXhwKG4vZS0xKSwyKSwwKX0sSU5WRVJTRTpmdW5jdGlvbih0LGkpe3JldHVybiAxLygxLWkrdCl9LEdSQVZJVFk6ZnVuY3Rpb24odCxpKXtyZXR1cm4gMS8oMS1pK3QqdCl9fSxlLkRFRkFVTFRfT1BUSU9OUz17c3RyZW5ndGg6MSxhbmNob3I6dm9pZCAwLHJhbmdlOlswLDEvMF0sY3V0b2ZmOjAsY2FwOjEvMCxkZWNheUZ1bmN0aW9uOmUuREVDQVlfRlVOQ1RJT05TLkdSQVZJVFl9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5hbmNob3ImJih0LmFuY2hvci5wb3NpdGlvbiBpbnN0YW5jZW9mIG8mJih0aGlzLm9wdGlvbnMuYW5jaG9yPXQuYW5jaG9yLnBvc2l0aW9uKSx0LmFuY2hvciBpbnN0YW5jZW9mIEFycmF5JiYodGhpcy5vcHRpb25zLmFuY2hvcj1uZXcgbyh0LmFuY2hvcikpLGRlbGV0ZSB0LmFuY2hvcik7Zm9yKHZhciBpIGluIHQpdGhpcy5vcHRpb25zW2ldPXRbaV19LGUucHJvdG90eXBlLmFwcGx5Rm9yY2U9ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzLm9wdGlvbnMsbj10aGlzLmZvcmNlLG89dGhpcy5kaXNwLHM9ZS5zdHJlbmd0aCxyPWUuYW5jaG9yfHxpLnBvc2l0aW9uLGE9ZS5jYXAsaD1lLmN1dG9mZixjPWUucmFuZ2VbMF0scD1lLnJhbmdlWzFdLHU9ZS5kZWNheUZ1bmN0aW9uO2lmKDAhPT1zKWZvcih2YXIgbCxmLGQsXyx5PXQubGVuZ3RoO3ktLTspbD10W3ldLGwhPT1pJiYoZj1sLm1hc3MsZD1sLnBvc2l0aW9uLG8uc2V0KGQuc3ViKHIpKSxfPW8ubm9ybSgpLHA+XyYmXz5jJiYobi5zZXQoby5ub3JtYWxpemUocypmKnUoXyxoKSkuY2FwKGEpKSxsLmFwcGx5Rm9yY2UobikpKX0saS5leHBvcnRzPWV9LHtcIi4uLy4uL21hdGgvVmVjdG9yXCI6NDEsXCIuL0ZvcmNlXCI6NjR9XSw2NjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe24uY2FsbCh0aGlzLHQpfXZhciBuPXQoXCIuL0RyYWdcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLkRFRkFVTFRfT1BUSU9OUz1uLkRFRkFVTFRfT1BUSU9OUyxlLkZPUkNFX0ZVTkNUSU9OUz1uLkZPUkNFX0ZVTkNUSU9OUyxlLkZPUkNFX0ZVTkNUSU9OUz17TElORUFSOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxRVUFEUkFUSUM6ZnVuY3Rpb24odCl7cmV0dXJuIHQubXVsdCh0Lm5vcm0oKSl9fSxlLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQpe3ZhciBpLGUsbj10aGlzLm9wdGlvbnMuc3RyZW5ndGgsbz10aGlzLm9wdGlvbnMuZm9yY2VGdW5jdGlvbixzPXRoaXMuZm9yY2U7Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyllPXRbaV0sbyhlLmFuZ3VsYXJWZWxvY2l0eSkubXVsdCgtMTAwKm4pLnB1dChzKSxlLmFwcGx5VG9ycXVlKHMpfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSBpbiB0KXRoaXMub3B0aW9uc1tpXT10W2ldfSxpLmV4cG9ydHM9ZX0se1wiLi9EcmFnXCI6NjN9XSw2NzpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe2EuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIG4oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5zdGlmZm5lc3M9TWF0aC5wb3coMipjL3QucGVyaW9kLDIpfWZ1bmN0aW9uIG8oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5kYW1waW5nPTQqYyp0LmRhbXBpbmdSYXRpby90LnBlcmlvZH1mdW5jdGlvbiBzKCl7bi5jYWxsKHRoaXMpLG8uY2FsbCh0aGlzKX12YXIgcj10KFwiLi9Gb3JjZVwiKSxhPXQoXCIuL1NwcmluZ1wiKSxoPXQoXCIuLi8uLi9tYXRoL1F1YXRlcm5pb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLkRFRkFVTFRfT1BUSU9OUz1hLkRFRkFVTFRfT1BUSU9OUyxlLkZPUkNFX0ZVTkNUSU9OUz1hLkZPUkNFX0ZVTkNUSU9OUzt2YXIgYz1NYXRoLlBJO2UucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5hbmNob3ImJih0LmFuY2hvciBpbnN0YW5jZW9mIGgmJih0aGlzLm9wdGlvbnMuYW5jaG9yPXQuYW5jaG9yKSx0LmFuY2hvciBpbnN0YW5jZW9mIEFycmF5JiYodGhpcy5vcHRpb25zLmFuY2hvcj1uZXcgaCh0LmFuY2hvcikpKSx2b2lkIDAhPT10LnBlcmlvZCYmKHRoaXMub3B0aW9ucy5wZXJpb2Q9dC5wZXJpb2QpLHZvaWQgMCE9PXQuZGFtcGluZ1JhdGlvJiYodGhpcy5vcHRpb25zLmRhbXBpbmdSYXRpbz10LmRhbXBpbmdSYXRpbyksdm9pZCAwIT09dC5sZW5ndGgmJih0aGlzLm9wdGlvbnMubGVuZ3RoPXQubGVuZ3RoKSx2b2lkIDAhPT10LmZvcmNlRnVuY3Rpb24mJih0aGlzLm9wdGlvbnMuZm9yY2VGdW5jdGlvbj10LmZvcmNlRnVuY3Rpb24pLHZvaWQgMCE9PXQubWF4TGVuZ3RoJiYodGhpcy5vcHRpb25zLm1heExlbmd0aD10Lm1heExlbmd0aCkscy5jYWxsKHRoaXMpLHIucHJvdG90eXBlLnNldE9wdGlvbnMuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQpe3ZhciBpLGUsbixvLHM9dGhpcy5mb3JjZSxyPXRoaXMub3B0aW9ucyxhPXRoaXMuZGlzcCxoPXIuc3RpZmZuZXNzLGM9ci5kYW1waW5nLHA9ci5sZW5ndGgsdT1yLmFuY2hvcixsPXIuZm9yY2VGdW5jdGlvbixmPXIubWF4TGVuZ3RoO2ZvcihpPTA7aTx0Lmxlbmd0aDtpKyspe2lmKGU9dFtpXSxhLnNldCh1LnN1YihlLm9yaWVudGF0aW9uKSksbj1hLm5vcm0oKS1wLDA9PT1uKXJldHVybjtvPWUubWFzcyxoKj1vLGMqPW8scy5zZXQoYS5ub3JtYWxpemUoaCpsKG4sZikpKSxjJiZzLmFkZChlLmFuZ3VsYXJWZWxvY2l0eS5tdWx0KC1jKSkucHV0KHMpLGUuYXBwbHlUb3JxdWUocyl9fSxlLnByb3RvdHlwZS5nZXRFbmVyZ3k9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXRoaXMub3B0aW9ucyxlPWkubGVuZ3RoLG49aS5hbmNob3Isbz1pLnN0aWZmbmVzcyxzPTAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgYT10W3JdLGg9bi5zdWIoYS5vcmllbnRhdGlvbikubm9ybSgpLWU7cys9LjUqbypoKmh9cmV0dXJuIHN9LGkuZXhwb3J0cz1lfSx7XCIuLi8uLi9tYXRoL1F1YXRlcm5pb25cIjozOCxcIi4vRm9yY2VcIjo2NCxcIi4vU3ByaW5nXCI6Njh9XSw2ODpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3IuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRfT1BUSU9OUyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuZGlzcD1uZXcgYSgwLDAsMCkscy5jYWxsKHRoaXMpfWZ1bmN0aW9uIG4oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5zdGlmZm5lc3M9TWF0aC5wb3coMipoL3QucGVyaW9kLDIpfWZ1bmN0aW9uIG8oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5kYW1waW5nPTQqaCp0LmRhbXBpbmdSYXRpby90LnBlcmlvZH1mdW5jdGlvbiBzKCl7bi5jYWxsKHRoaXMpLG8uY2FsbCh0aGlzKX12YXIgcj10KFwiLi9Gb3JjZVwiKSxhPXQoXCIuLi8uLi9tYXRoL1ZlY3RvclwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBoPU1hdGguUEksYz0xNTA7ZS5GT1JDRV9GVU5DVElPTlM9e0ZFTkU6ZnVuY3Rpb24odCxpKXt2YXIgZT0uOTkqaSxuPU1hdGgubWF4KE1hdGgubWluKHQsZSksLWUpO3JldHVybiBuLygxLW4qbi8oaSppKSl9LEhPT0s6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fSxlLkRFRkFVTFRfT1BUSU9OUz17cGVyaW9kOjMwMCxkYW1waW5nUmF0aW86LjEsbGVuZ3RoOjAsbWF4TGVuZ3RoOjEvMCxhbmNob3I6dm9pZCAwLGZvcmNlRnVuY3Rpb246ZS5GT1JDRV9GVU5DVElPTlMuSE9PS30sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt2b2lkIDAhPT10LmFuY2hvciYmKHQuYW5jaG9yLnBvc2l0aW9uIGluc3RhbmNlb2YgYSYmKHRoaXMub3B0aW9ucy5hbmNob3I9dC5hbmNob3IucG9zaXRpb24pLHQuYW5jaG9yIGluc3RhbmNlb2YgYSYmKHRoaXMub3B0aW9ucy5hbmNob3I9dC5hbmNob3IpLHQuYW5jaG9yIGluc3RhbmNlb2YgQXJyYXkmJih0aGlzLm9wdGlvbnMuYW5jaG9yPW5ldyBhKHQuYW5jaG9yKSkpLHZvaWQgMCE9PXQucGVyaW9kJiYodC5wZXJpb2Q8YyYmKHQucGVyaW9kPWMsY29uc29sZS53YXJuKFwiVGhlIHBlcmlvZCBvZiBhIFNwcmluZ1RyYW5zaXRpb24gaXMgY2FwcGVkIGF0IFwiK2MrXCIgbXMuIFVzZSBhIFNuYXBUcmFuc2l0aW9uIGZvciBmYXN0ZXIgdHJhbnNpdGlvbnNcIikpLHRoaXMub3B0aW9ucy5wZXJpb2Q9dC5wZXJpb2QpLHZvaWQgMCE9PXQuZGFtcGluZ1JhdGlvJiYodGhpcy5vcHRpb25zLmRhbXBpbmdSYXRpbz10LmRhbXBpbmdSYXRpbyksdm9pZCAwIT09dC5sZW5ndGgmJih0aGlzLm9wdGlvbnMubGVuZ3RoPXQubGVuZ3RoKSx2b2lkIDAhPT10LmZvcmNlRnVuY3Rpb24mJih0aGlzLm9wdGlvbnMuZm9yY2VGdW5jdGlvbj10LmZvcmNlRnVuY3Rpb24pLHZvaWQgMCE9PXQubWF4TGVuZ3RoJiYodGhpcy5vcHRpb25zLm1heExlbmd0aD10Lm1heExlbmd0aCkscy5jYWxsKHRoaXMpLHIucHJvdG90eXBlLnNldE9wdGlvbnMuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQsaSl7dmFyIGUsbixvLHMscixhLGg9dGhpcy5mb3JjZSxjPXRoaXMuZGlzcCxwPXRoaXMub3B0aW9ucyx1PXAuc3RpZmZuZXNzLGw9cC5kYW1waW5nLGY9cC5sZW5ndGgsZD1wLm1heExlbmd0aCxfPXAuYW5jaG9yfHxpLnBvc2l0aW9uLHk9cC5mb3JjZUZ1bmN0aW9uO2ZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspe2lmKG49dFtlXSxvPW4ucG9zaXRpb24scz1uLnZlbG9jaXR5LF8uc3ViKG8pLnB1dChjKSxyPWMubm9ybSgpLWYsMD09PXIpcmV0dXJuO2E9bi5tYXNzLHUqPWEsbCo9YSxjLm5vcm1hbGl6ZSh1KnkocixkKSkucHV0KGgpLGwmJihpP2guYWRkKHMuc3ViKGkudmVsb2NpdHkpLm11bHQoLWwpKS5wdXQoaCk6aC5hZGQocy5tdWx0KC1sKSkucHV0KGgpKSxuLmFwcGx5Rm9yY2UoaCksaSYmaS5hcHBseUZvcmNlKGgubXVsdCgtMSkpfX0sZS5wcm90b3R5cGUuZ2V0RW5lcmd5PWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPXRoaXMub3B0aW9ucyxuPWUubGVuZ3RoLG89aT9pLnBvc2l0aW9uOmUuYW5jaG9yLHM9ZS5zdGlmZm5lc3Mscj0wLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGg9dFthXSxjPW8uc3ViKGgucG9zaXRpb24pLm5vcm0oKS1uO3IrPS41KnMqYypjfXJldHVybiByfSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vbWF0aC9WZWN0b3JcIjo0MSxcIi4vRm9yY2VcIjo2NH1dLDY5OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7by5jYWxsKHRoaXMpLHRoaXMub3B0aW9ucz1PYmplY3QuY3JlYXRlKGUuREVGQVVMVF9PUFRJT05TKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5ldmFsdWF0aW9uPW5ldyBzfWZ1bmN0aW9uIG4odCl7dmFyIGk9ZS5GSUVMRFM7c3dpdGNoKHQpe2Nhc2UgaS5DT05TVEFOVDp0aGlzLm9wdGlvbnMuZGlyZWN0aW9uP3RoaXMub3B0aW9ucy5kaXJlY3Rpb24gaW5zdGFuY2VvZiBBcnJheSYmKHRoaXMub3B0aW9ucy5kaXJlY3Rpb249bmV3IHModGhpcy5vcHRpb25zLmRpcmVjdGlvbikpOnRoaXMub3B0aW9ucy5kaXJlY3Rpb249bmV3IHMoMCwxLDApO2JyZWFrO2Nhc2UgaS5QT0lOVF9BVFRSQUNUT1I6dGhpcy5vcHRpb25zLnBvc2l0aW9uP3RoaXMub3B0aW9ucy5wb3NpdGlvbiBpbnN0YW5jZW9mIEFycmF5JiYodGhpcy5vcHRpb25zLnBvc2l0aW9uPW5ldyBzKHRoaXMub3B0aW9ucy5wb3NpdGlvbikpOnRoaXMub3B0aW9ucy5wb3NpdGlvbj1uZXcgcygwLDAsMCl9fXZhciBvPXQoXCIuL0ZvcmNlXCIpLHM9dChcIi4uLy4uL21hdGgvVmVjdG9yXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5GSUVMRFM9e0NPTlNUQU5UOmZ1bmN0aW9uKHQsaSl7aS5kaXJlY3Rpb24ucHV0KHRoaXMuZXZhbHVhdGlvbil9LExJTkVBUjpmdW5jdGlvbih0KXt0LnB1dCh0aGlzLmV2YWx1YXRpb24pfSxSQURJQUw6ZnVuY3Rpb24odCl7dC5tdWx0KC0xKS5wdXQodGhpcy5ldmFsdWF0aW9uKX0sUE9JTlRfQVRUUkFDVE9SOmZ1bmN0aW9uKHQsaSl7aS5wb3NpdGlvbi5zdWIodCkucHV0KHRoaXMuZXZhbHVhdGlvbil9fSxlLkRFRkFVTFRfT1BUSU9OUz17c3RyZW5ndGg6LjAxLGZpZWxkOmUuRklFTERTLkNPTlNUQU5UfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuc3RyZW5ndGgmJih0aGlzLm9wdGlvbnMuc3RyZW5ndGg9dC5zdHJlbmd0aCksdm9pZCAwIT09dC5maWVsZCYmKHRoaXMub3B0aW9ucy5maWVsZD10LmZpZWxkLG4uY2FsbCh0aGlzLHRoaXMub3B0aW9ucy5maWVsZCkpfSxlLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQpe3ZhciBpLGUsbj10aGlzLmZvcmNlLG89dGhpcy5vcHRpb25zLnN0cmVuZ3RoLHM9dGhpcy5vcHRpb25zLmZpZWxkO2ZvcihpPTA7aTx0Lmxlbmd0aDtpKyspZT10W2ldLHMuY2FsbCh0aGlzLGUucG9zaXRpb24sdGhpcy5vcHRpb25zKSx0aGlzLmV2YWx1YXRpb24ubXVsdChlLm1hc3MqbykucHV0KG4pLGUuYXBwbHlGb3JjZShuKX0sZS5wcm90b3R5cGUuZ2V0RW5lcmd5PWZ1bmN0aW9uKHQpe3ZhciBpLG4sbz10aGlzLm9wdGlvbnMuZmllbGQscz1lLkZJRUxEUyxyPTA7c3dpdGNoKG8pe2Nhc2Ugcy5DT05TVEFOVDpyPXQubGVuZ3RoKnRoaXMub3B0aW9ucy5kaXJlY3Rpb24ubm9ybSgpO2JyZWFrO2Nhc2Ugcy5SQURJQUw6Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyluPXRbaV0scis9bi5wb3NpdGlvbi5ub3JtKCk7YnJlYWs7Y2FzZSBzLlBPSU5UX0FUVFJBQ1RPUjpmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKW49dFtpXSxyKz1uLnBvc2l0aW9uLnN1Yih0aGlzLm9wdGlvbnMucG9zaXRpb24pLm5vcm0oKX1yZXR1cm4gcio9dGhpcy5vcHRpb25zLnN0cmVuZ3RofSxpLmV4cG9ydHM9ZX0se1wiLi4vLi4vbWF0aC9WZWN0b3JcIjo0MSxcIi4vRm9yY2VcIjo2NH1dLDcwOltmdW5jdGlvbih0LGkpe2kuZXhwb3J0cz17RHJhZzp0KFwiLi9EcmFnXCIpLEZvcmNlOnQoXCIuL0ZvcmNlXCIpLFJlcHVsc2lvbjp0KFwiLi9SZXB1bHNpb25cIiksUm90YXRpb25hbERyYWc6dChcIi4vUm90YXRpb25hbERyYWdcIiksUm90YXRpb25hbFNwcmluZzp0KFwiLi9Sb3RhdGlvbmFsU3ByaW5nXCIpLFNwcmluZzp0KFwiLi9TcHJpbmdcIiksVmVjdG9yRmllbGQ6dChcIi4vVmVjdG9yRmllbGRcIil9fSx7XCIuL0RyYWdcIjo2MyxcIi4vRm9yY2VcIjo2NCxcIi4vUmVwdWxzaW9uXCI6NjUsXCIuL1JvdGF0aW9uYWxEcmFnXCI6NjYsXCIuL1JvdGF0aW9uYWxTcHJpbmdcIjo2NyxcIi4vU3ByaW5nXCI6NjgsXCIuL1ZlY3RvckZpZWxkXCI6Njl9XSw3MTpbZnVuY3Rpb24odCxpKXtpLmV4cG9ydHM9e1BoeXNpY3NFbmdpbmU6dChcIi4vUGh5c2ljc0VuZ2luZVwiKSxib2RpZXM6dChcIi4vYm9kaWVzXCIpLGNvbnN0cmFpbnRzOnQoXCIuL2NvbnN0cmFpbnRzXCIpLGZvcmNlczp0KFwiLi9mb3JjZXNcIiksaW50ZWdyYXRvcnM6dChcIi4vaW50ZWdyYXRvcnNcIil9fSx7XCIuL1BoeXNpY3NFbmdpbmVcIjo0OCxcIi4vYm9kaWVzXCI6NTMsXCIuL2NvbnN0cmFpbnRzXCI6NjIsXCIuL2ZvcmNlc1wiOjcwLFwiLi9pbnRlZ3JhdG9yc1wiOjczfV0sNzI6W2Z1bmN0aW9uKHQsaSl7dmFyIGU9e307ZS5pbnRlZ3JhdGVWZWxvY2l0eT1mdW5jdGlvbih0LGkpe3ZhciBlPXQudmVsb2NpdHksbj10LmludmVyc2VNYXNzLG89dC5mb3JjZTtvLmlzWmVybygpfHwoZS5hZGQoby5tdWx0KGkqbikpLnB1dChlKSxvLmNsZWFyKCkpfSxlLmludGVncmF0ZVBvc2l0aW9uPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5wb3NpdGlvbixuPXQudmVsb2NpdHk7ZS5hZGQobi5tdWx0KGkpKS5wdXQoZSl9LGUuaW50ZWdyYXRlQW5ndWxhck1vbWVudHVtPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5hbmd1bGFyTW9tZW50dW0sbj10LnRvcnF1ZTtuLmlzWmVybygpfHwoZS5hZGQobi5tdWx0KGkpKS5wdXQoZSksbi5jbGVhcigpKX0sZS5pbnRlZ3JhdGVPcmllbnRhdGlvbj1mdW5jdGlvbih0LGkpe3ZhciBlPXQub3JpZW50YXRpb24sbj10LmFuZ3VsYXJWZWxvY2l0eTtuLmlzWmVybygpfHxlLmFkZChlLm11bHRpcGx5KG4pLnNjYWxhck11bHRpcGx5KC41KmkpKS5wdXQoZSl9LGkuZXhwb3J0cz1lfSx7fV0sNzM6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtTeW1wbGVjdGljRXVsZXI6dChcIi4vU3ltcGxlY3RpY0V1bGVyXCIpfX0se1wiLi9TeW1wbGVjdGljRXVsZXJcIjo3Mn1dLDc0OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dCYmdC5jYW52YXNTaXplJiYodGhpcy5fY2FudmFzU2l6ZT10LmNhbnZhc1NpemUpLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NhbnZhc1NpemV8fCh0aGlzLl9jYW52YXNTaXplPXRoaXMuZ2V0U2l6ZSgpKSx0aGlzLl9iYWNrQnVmZmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5fY2FudmFzU2l6ZSYmKHRoaXMuX2JhY2tCdWZmZXIud2lkdGg9dGhpcy5fY2FudmFzU2l6ZVswXSx0aGlzLl9iYWNrQnVmZmVyLmhlaWdodD10aGlzLl9jYW52YXNTaXplWzFdKSx0aGlzLl9jb250ZXh0SWQ9dm9pZCAwfXZhciBuPXQoXCIuLi9jb3JlL1N1cmZhY2VcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5lbGVtZW50VHlwZT1cImNhbnZhc1wiLGUucHJvdG90eXBlLmVsZW1lbnRDbGFzcz1cImZhbW91cy1zdXJmYWNlXCIsZS5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZGVwbG95PWZ1bmN0aW9uKHQpe3RoaXMuX2NhbnZhc1NpemUmJih0LndpZHRoPXRoaXMuX2NhbnZhc1NpemVbMF0sdC5oZWlnaHQ9dGhpcy5fY2FudmFzU2l6ZVsxXSksXCIyZFwiPT09dGhpcy5fY29udGV4dElkJiYodC5nZXRDb250ZXh0KHRoaXMuX2NvbnRleHRJZCkuZHJhd0ltYWdlKHRoaXMuX2JhY2tCdWZmZXIsMCwwKSx0aGlzLl9iYWNrQnVmZmVyLndpZHRoPTAsdGhpcy5fYmFja0J1ZmZlci5oZWlnaHQ9MCl9LGUucHJvdG90eXBlLnJlY2FsbD1mdW5jdGlvbih0KXt0aGlzLmdldFNpemUoKTt0aGlzLl9iYWNrQnVmZmVyLndpZHRoPXQud2lkdGgsdGhpcy5fYmFja0J1ZmZlci5oZWlnaHQ9dC5oZWlnaHQsXCIyZFwiPT09dGhpcy5fY29udGV4dElkJiYodGhpcy5fYmFja0J1ZmZlci5nZXRDb250ZXh0KHRoaXMuX2NvbnRleHRJZCkuZHJhd0ltYWdlKHQsMCwwKSx0LndpZHRoPTAsdC5oZWlnaHQ9MCl9LGUucHJvdG90eXBlLmdldENvbnRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbnRleHRJZD10LHRoaXMuX2N1cnJlbnRUYXJnZXQ/dGhpcy5fY3VycmVudFRhcmdldC5nZXRDb250ZXh0KHQpOnRoaXMuX2JhY2tCdWZmZXIuZ2V0Q29udGV4dCh0KX0sZS5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbih0LGkpe24ucHJvdG90eXBlLnNldFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGkmJih0aGlzLl9jYW52YXNTaXplPVtpWzBdLGlbMV1dKSx0aGlzLl9jdXJyZW50VGFyZ2V0JiYodGhpcy5fY3VycmVudFRhcmdldC53aWR0aD10aGlzLl9jYW52YXNTaXplWzBdLHRoaXMuX2N1cnJlbnRUYXJnZXQuaGVpZ2h0PXRoaXMuX2NhbnZhc1NpemVbMV0pfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9TdXJmYWNlXCI6MTR9XSw3NTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe24uY2FsbCh0aGlzLHQpLHRoaXMuX2NvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZmFtb3VzLWdyb3VwXCIpLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZmFtb3VzLWNvbnRhaW5lci1ncm91cFwiKSx0aGlzLl9zaG91bGRSZWNhbGN1bGF0ZVNpemU9ITEsdGhpcy5jb250ZXh0PW5ldyBvKHRoaXMuX2NvbnRhaW5lciksdGhpcy5zZXRDb250ZW50KHRoaXMuX2NvbnRhaW5lcil9dmFyIG49dChcIi4uL2NvcmUvU3VyZmFjZVwiKSxvPXQoXCIuLi9jb3JlL0NvbnRleHRcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5lbGVtZW50VHlwZT1cImRpdlwiLGUucHJvdG90eXBlLmVsZW1lbnRDbGFzcz1cImZhbW91cy1zdXJmYWNlXCIsZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5hZGQuYXBwbHkodGhpcy5jb250ZXh0LGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplRGlydHkmJih0aGlzLl9zaG91bGRSZWNhbGN1bGF0ZVNpemU9ITApLG4ucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmRlcGxveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaG91bGRSZWNhbGN1bGF0ZVNpemU9ITAsbi5wcm90b3R5cGUuZGVwbG95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2l6ZT9bdGhpcy5fc2l6ZVswXSx0aGlzLl9zaXplWzFdXTpudWxsLGk9bi5wcm90b3R5cGUuY29tbWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4odGhpcy5fc2hvdWxkUmVjYWxjdWxhdGVTaXplfHx0JiYodGhpcy5fc2l6ZVswXSE9PXRbMF18fHRoaXMuX3NpemVbMV0hPT10WzFdKSkmJih0aGlzLmNvbnRleHQuc2V0U2l6ZSgpLHRoaXMuX3Nob3VsZFJlY2FsY3VsYXRlU2l6ZT0hMSksdGhpcy5jb250ZXh0LnVwZGF0ZSgpLGl9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0NvbnRleHRcIjoxLFwiLi4vY29yZS9TdXJmYWNlXCI6MTR9XSw3NjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3QmJih0aGlzLl9tZXRob2Q9dC5tZXRob2R8fFwiXCIpLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBuPXQoXCIuL0NvbnRhaW5lclN1cmZhY2VcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5lbGVtZW50VHlwZT1cImZvcm1cIixlLnByb3RvdHlwZS5kZXBsb3k9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21ldGhvZCYmKHQubWV0aG9kPXRoaXMuX21ldGhvZCksbi5wcm90b3R5cGUuZGVwbG95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saS5leHBvcnRzPWV9LHtcIi4vQ29udGFpbmVyU3VyZmFjZVwiOjc1fV0sNzc6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe3RoaXMuX2ltYWdlVXJsPXZvaWQgMCxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10KFwiLi4vY29yZS9TdXJmYWNlXCIpLG89W10scz1bXSxyPVtdLGE9ITA7ZS5lbmFibGVDYWNoZT1mdW5jdGlvbigpe2E9ITB9LGUuZGlzYWJsZUNhY2hlPWZ1bmN0aW9uKCl7YT0hMX0sZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7bz1bXSxzPVtdLHI9W119LGUuZ2V0Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm57dXJsQ2FjaGU6byxjb3VudENhY2hlOnMsbm9kZUNhY2hlOnN9fSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmVsZW1lbnRUeXBlPVwiaW1nXCIsZS5wcm90b3R5cGUuZWxlbWVudENsYXNzPVwiZmFtb3VzLXN1cmZhY2VcIixlLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQpe3ZhciBpPW8uaW5kZXhPZih0aGlzLl9pbWFnZVVybCk7LTEhPT1pJiYoMT09PXNbaV0/KG8uc3BsaWNlKGksMSkscy5zcGxpY2UoaSwxKSxyLnNwbGljZShpLDEpKTpzW2ldLS0pLGk9by5pbmRleE9mKHQpLC0xPT09aT8oby5wdXNoKHQpLHMucHVzaCgxKSk6c1tpXSsrLHRoaXMuX2ltYWdlVXJsPXQsdGhpcy5fY29udGVudERpcnR5PSEwfSxlLnByb3RvdHlwZS5kZXBsb3k9ZnVuY3Rpb24odCl7dmFyIGk9by5pbmRleE9mKHRoaXMuX2ltYWdlVXJsKTtpZih2b2lkIDA9PT1yW2ldJiZhKXt2YXIgZT1uZXcgSW1hZ2U7ZS5zcmM9dGhpcy5faW1hZ2VVcmx8fFwiXCIscltpXT1lfXQuc3JjPXRoaXMuX2ltYWdlVXJsfHxcIlwifSxlLnByb3RvdHlwZS5yZWNhbGw9ZnVuY3Rpb24odCl7dC5zcmM9XCJcIn0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvU3VyZmFjZVwiOjE0fV0sNzg6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLl9wbGFjZWhvbGRlcj10LnBsYWNlaG9sZGVyfHxcIlwiLHRoaXMuX3ZhbHVlPXQudmFsdWV8fFwiXCIsdGhpcy5fdHlwZT10LnR5cGV8fFwidGV4dFwiLHRoaXMuX25hbWU9dC5uYW1lfHxcIlwiLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMub24oXCJjbGlja1wiLHRoaXMuZm9jdXMuYmluZCh0aGlzKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QudGFyZ2V0IT09dGhpcy5fY3VycmVudFRhcmdldCYmdGhpcy5ibHVyKCl9LmJpbmQodGhpcykpfXZhciBuPXQoXCIuLi9jb3JlL1N1cmZhY2VcIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5lbGVtZW50VHlwZT1cImlucHV0XCIsZS5wcm90b3R5cGUuZWxlbWVudENsYXNzPVwiZmFtb3VzLXN1cmZhY2VcIixlLnByb3RvdHlwZS5zZXRQbGFjZWhvbGRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXI9dCx0aGlzLl9jb250ZW50RGlydHk9ITAsdGhpc30sZS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldCYmdGhpcy5fY3VycmVudFRhcmdldC5mb2N1cygpLHRoaXN9LGUucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldCYmdGhpcy5fY3VycmVudFRhcmdldC5ibHVyKCksdGhpc30sZS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ZhbHVlPXQsdGhpcy5fY29udGVudERpcnR5PSEwLHRoaXN9LGUucHJvdG90eXBlLnNldFR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3R5cGU9dCx0aGlzLl9jb250ZW50RGlydHk9ITAsdGhpc30sZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldD90aGlzLl9jdXJyZW50VGFyZ2V0LnZhbHVlOnRoaXMuX3ZhbHVlfSxlLnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9uYW1lPXQsdGhpcy5fY29udGVudERpcnR5PSEwLHRoaXN9LGUucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX0sZS5wcm90b3R5cGUuZGVwbG95PWZ1bmN0aW9uKHQpe1wiXCIhPT10aGlzLl9wbGFjZWhvbGRlciYmKHQucGxhY2Vob2xkZXI9dGhpcy5fcGxhY2Vob2xkZXIpLHQudmFsdWU9dGhpcy5fdmFsdWUsdC50eXBlPXRoaXMuX3R5cGUsdC5uYW1lPXRoaXMuX25hbWV9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL1N1cmZhY2VcIjoxNH1dLDc5OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHlwZT1cInN1Ym1pdFwiLHQmJnQub25DbGljayYmdGhpcy5zZXRPbkNsaWNrKHQub25DbGljayl9dmFyIG49dChcIi4vSW5wdXRTdXJmYWNlXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0T25DbGljaz1mdW5jdGlvbih0KXt0aGlzLm9uQ2xpY2s9dH0sZS5wcm90b3R5cGUuZGVwbG95PWZ1bmN0aW9uKHQpe3RoaXMub25jbGljayYmKHQub25DbGljaz10aGlzLm9uQ2xpY2spLG4ucHJvdG90eXBlLmRlcGxveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZXhwb3J0cz1lfSx7XCIuL0lucHV0U3VyZmFjZVwiOjc4fV0sODA6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLl9wbGFjZWhvbGRlcj10LnBsYWNlaG9sZGVyfHxcIlwiLHRoaXMuX3ZhbHVlPXQudmFsdWV8fFwiXCIsdGhpcy5fbmFtZT10Lm5hbWV8fFwiXCIsdGhpcy5fd3JhcD10LndyYXB8fFwiXCIsdGhpcy5fY29scz10LmNvbHN8fFwiXCIsdGhpcy5fcm93cz10LnJvd3N8fFwiXCIsbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5vbihcImNsaWNrXCIsdGhpcy5mb2N1cy5iaW5kKHRoaXMpKX12YXIgbj10KFwiLi4vY29yZS9TdXJmYWNlXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZWxlbWVudFR5cGU9XCJ0ZXh0YXJlYVwiLGUucHJvdG90eXBlLmVsZW1lbnRDbGFzcz1cImZhbW91cy1zdXJmYWNlXCIsZS5wcm90b3R5cGUuc2V0UGxhY2Vob2xkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BsYWNlaG9sZGVyPXQsdGhpcy5fY29udGVudERpcnR5PSEwLHRoaXN9LGUucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUYXJnZXQmJnRoaXMuX2N1cnJlbnRUYXJnZXQuZm9jdXMoKSx0aGlzfSxlLnByb3RvdHlwZS5ibHVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUYXJnZXQmJnRoaXMuX2N1cnJlbnRUYXJnZXQuYmx1cigpLHRoaXN9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWx1ZT10LHRoaXMuX2NvbnRlbnREaXJ0eT0hMCx0aGlzfSxlLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50VGFyZ2V0P3RoaXMuX2N1cnJlbnRUYXJnZXQudmFsdWU6dGhpcy5fdmFsdWV9LGUucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25hbWU9dCx0aGlzLl9jb250ZW50RGlydHk9ITAsdGhpc30sZS5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxlLnByb3RvdHlwZS5zZXRXcmFwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl93cmFwPXQsdGhpcy5fY29udGVudERpcnR5PSEwLHRoaXN9LGUucHJvdG90eXBlLnNldENvbHVtbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbHM9dCx0aGlzLl9jb250ZW50RGlydHk9ITAsdGhpc30sZS5wcm90b3R5cGUuc2V0Um93cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcm93cz10LHRoaXMuX2NvbnRlbnREaXJ0eT0hMCx0aGlzfSxlLnByb3RvdHlwZS5kZXBsb3k9ZnVuY3Rpb24odCl7XCJcIiE9PXRoaXMuX3BsYWNlaG9sZGVyJiYodC5wbGFjZWhvbGRlcj10aGlzLl9wbGFjZWhvbGRlciksXCJcIiE9PXRoaXMuX3ZhbHVlJiYodC52YWx1ZT10aGlzLl92YWx1ZSksXCJcIiE9PXRoaXMuX25hbWUmJih0Lm5hbWU9dGhpcy5fbmFtZSksXCJcIiE9PXRoaXMuX3dyYXAmJih0LndyYXA9dGhpcy5fd3JhcCksXCJcIiE9PXRoaXMuX2NvbHMmJih0LmNvbHM9dGhpcy5fY29scyksXCJcIiE9PXRoaXMuX3Jvd3MmJih0LnJvd3M9dGhpcy5fcm93cyl9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL1N1cmZhY2VcIjoxNH1dLDgxOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdmlkZW9Vcmw9dm9pZCAwLHRoaXMub3B0aW9ucz1PYmplY3QuY3JlYXRlKGUuREVGQVVMVF9PUFRJT05TKSx0JiZ0aGlzLnNldE9wdGlvbnModCl9dmFyIG49dChcIi4uL2NvcmUvU3VyZmFjZVwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXthdXRvcGxheTohMX0sZS5wcm90b3R5cGUuZWxlbWVudFR5cGU9XCJ2aWRlb1wiLGUucHJvdG90eXBlLmVsZW1lbnRDbGFzcz1cImZhbW91cy1zdXJmYWNlXCIsZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt0LnNpemUmJnRoaXMuc2V0U2l6ZSh0LnNpemUpLHQuY2xhc3NlcyYmdGhpcy5zZXRDbGFzc2VzKHQuY2xhc3NlcyksdC5wcm9wZXJ0aWVzJiZ0aGlzLnNldFByb3BlcnRpZXModC5wcm9wZXJ0aWVzKSx0LmF1dG9wbGF5JiYodGhpcy5vcHRpb25zLmF1dG9wbGF5PXQuYXV0b3BsYXkpLHQuc3JjJiYodGhpcy5fdmlkZW9Vcmw9dC5zcmMsdGhpcy5fY29udGVudERpcnR5PSEwKX0sZS5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbih0KXt0aGlzLl92aWRlb1VybD10LHRoaXMuX2NvbnRlbnREaXJ0eT0hMH0sZS5wcm90b3R5cGUuZGVwbG95PWZ1bmN0aW9uKHQpe3Quc3JjPXRoaXMuX3ZpZGVvVXJsLHQuYXV0b3BsYXk9dGhpcy5vcHRpb25zLmF1dG9wbGF5fSxlLnByb3RvdHlwZS5yZWNhbGw9ZnVuY3Rpb24odCl7dC5zcmM9XCJcIn0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvU3VyZmFjZVwiOjE0fV0sODI6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtDYW52YXNTdXJmYWNlOnQoXCIuL0NhbnZhc1N1cmZhY2VcIiksQ29udGFpbmVyU3VyZmFjZTp0KFwiLi9Db250YWluZXJTdXJmYWNlXCIpLEZvcm1Db250YWluZXJTdXJmYWNlOnQoXCIuL0Zvcm1Db250YWluZXJTdXJmYWNlXCIpLEltYWdlU3VyZmFjZTp0KFwiLi9JbWFnZVN1cmZhY2VcIiksSW5wdXRTdXJmYWNlOnQoXCIuL0lucHV0U3VyZmFjZVwiKSxTdWJtaXRJbnB1dFN1cmZhY2U6dChcIi4vU3VibWl0SW5wdXRTdXJmYWNlXCIpLFRleHRhcmVhU3VyZmFjZTp0KFwiLi9UZXh0YXJlYVN1cmZhY2VcIiksVmlkZW9TdXJmYWNlOnQoXCIuL1ZpZGVvU3VyZmFjZVwiKX19LHtcIi4vQ2FudmFzU3VyZmFjZVwiOjc0LFwiLi9Db250YWluZXJTdXJmYWNlXCI6NzUsXCIuL0Zvcm1Db250YWluZXJTdXJmYWNlXCI6NzYsXCIuL0ltYWdlU3VyZmFjZVwiOjc3LFwiLi9JbnB1dFN1cmZhY2VcIjo3OCxcIi4vU3VibWl0SW5wdXRTdXJmYWNlXCI6NzksXCIuL1RleHRhcmVhU3VyZmFjZVwiOjgwLFwiLi9WaWRlb1N1cmZhY2VcIjo4MX1dLDgzOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5fbWFwPXR8fG51bGwsdGhpcy5fY2FjaGVkT3V0cHV0PW51bGwsdGhpcy5fY2FjaGVkSW5wdXQ9TnVtYmVyLk5hTn1lLmNyZWF0ZT1mdW5jdGlvbih0KXt2YXIgaT1uZXcgZSh0KTtyZXR1cm4gaS5nZXQuYmluZChpKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0IT09dGhpcy5fY2FjaGVkSW5wdXQmJih0aGlzLl9jYWNoZWRJbnB1dD10LHRoaXMuX2NhY2hlZE91dHB1dD10aGlzLl9tYXAodCkpLHRoaXMuX2NhY2hlZE91dHB1dH0saS5leHBvcnRzPWV9LHt9XSw4NDpbZnVuY3Rpb24odCxpKXt2YXIgZT17aW5RdWFkOmZ1bmN0aW9uKHQpe3JldHVybiB0KnR9LG91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuLSh0LT0xKSp0KzF9LGluT3V0UXVhZDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0Oi0uNSooLS10Kih0LTIpLTEpfSxpbkN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sb3V0Q3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxpbk91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8uNSp0KnQqdDouNSooKHQtPTIpKnQqdCsyKX0saW5RdWFydDpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdH0sb3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuLSgtLXQqdCp0KnQtMSl9LGluT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy41KnQqdCp0KnQ6LS41KigodC09MikqdCp0KnQtMil9LGluUXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnQqdH0sb3V0UXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCp0KnQrMX0saW5PdXRRdWludDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0KnQqdCp0Oi41KigodC09MikqdCp0KnQqdCsyKX0saW5TaW5lOmZ1bmN0aW9uKHQpe3JldHVybi0xKk1hdGguY29zKHQqKE1hdGguUEkvMikpKzF9LG91dFNpbmU6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc2luKHQqKE1hdGguUEkvMikpfSxpbk91dFNpbmU6ZnVuY3Rpb24odCl7cmV0dXJuLS41KihNYXRoLmNvcyhNYXRoLlBJKnQpLTEpfSxpbkV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6TWF0aC5wb3coMiwxMCoodC0xKSl9LG91dEV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10PzE6LU1hdGgucG93KDIsLTEwKnQpKzF9LGluT3V0RXhwbzpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Lz0uNSk8MT8uNSpNYXRoLnBvdygyLDEwKih0LTEpKTouNSooLU1hdGgucG93KDIsLTEwKi0tdCkrMil9LGluQ2lyYzpmdW5jdGlvbih0KXtyZXR1cm4tKE1hdGguc3FydCgxLXQqdCktMSl9LG91dENpcmM6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc3FydCgxLSAtLXQqdCl9LGluT3V0Q2lyYzpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LS41KihNYXRoLnNxcnQoMS10KnQpLTEpOi41KihNYXRoLnNxcnQoMS0odC09MikqdCkrMSl9LGluRWxhc3RpYzpmdW5jdGlvbih0KXt2YXIgaT0xLjcwMTU4LGU9MCxuPTE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooZXx8KGU9LjMpLGk9ZS8oMipNYXRoLlBJKSpNYXRoLmFzaW4oMS9uKSwtKG4qTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKDIqKHQtaSkqTWF0aC5QSS9lKSkpfSxvdXRFbGFzdGljOmZ1bmN0aW9uKHQpe3ZhciBpPTEuNzAxNTgsZT0wLG49MTtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOihlfHwoZT0uMyksaT1lLygyKk1hdGguUEkpKk1hdGguYXNpbigxL24pLG4qTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oMioodC1pKSpNYXRoLlBJL2UpKzEpfSxpbk91dEVsYXN0aWM6ZnVuY3Rpb24odCl7dmFyIGk9MS43MDE1OCxlPTAsbj0xO3JldHVybiAwPT09dD8wOjI9PT0odC89LjUpPzE6KGV8fChlPS4zKjEuNSksaT1lLygyKk1hdGguUEkpKk1hdGguYXNpbigxL24pLDE+dD8tLjUqbipNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oMioodC1pKSpNYXRoLlBJL2UpOm4qTWF0aC5wb3coMiwtMTAqKHQtPTEpKSpNYXRoLnNpbigyKih0LWkpKk1hdGguUEkvZSkqLjUrMSl9LGluQmFjazpmdW5jdGlvbih0LGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0xLjcwMTU4KSx0KnQqKChpKzEpKnQtaSl9LG91dEJhY2s6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MS43MDE1OCksLS10KnQqKChpKzEpKnQraSkrMX0saW5PdXRCYWNrOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTEuNzAxNTgpLCh0Lz0uNSk8MT8uNSp0KnQqKCgoaSo9MS41MjUpKzEpKnQtaSk6LjUqKCh0LT0yKSp0KigoKGkqPTEuNTI1KSsxKSp0K2kpKzIpfSxpbkJvdW5jZTpmdW5jdGlvbih0KXtyZXR1cm4gMS1lLm91dEJvdW5jZSgxLXQpfSxvdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuIDEvMi43NT50PzcuNTYyNSp0KnQ6Mi8yLjc1PnQ/Ny41NjI1Kih0LT0xLjUvMi43NSkqdCsuNzU6Mi41LzIuNzU+dD83LjU2MjUqKHQtPTIuMjUvMi43NSkqdCsuOTM3NTo3LjU2MjUqKHQtPTIuNjI1LzIuNzUpKnQrLjk4NDM3NX0saW5PdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuLjU+dD8uNSplLmluQm91bmNlKDIqdCk6LjUqZS5vdXRCb3VuY2UoMip0LTEpKy41fX07aS5leHBvcnRzPWV9LHt9XSw4NTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMubWV0aG9kPXQsdGhpcy5faW5zdGFuY2VzPVtdLHRoaXMuc3RhdGU9W119dmFyIG49dChcIi4uL3V0aWxpdGllcy9VdGlsaXR5XCIpO2UuU1VQUE9SVFNfTVVMVElQTEU9ITAsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9pbnN0YW5jZXMubGVuZ3RoO3QrKyl0aGlzLnN0YXRlW3RdPXRoaXMuX2luc3RhbmNlc1t0XS5nZXQoKTtyZXR1cm4gdGhpcy5zdGF0ZX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsaSxlKXtmb3IodmFyIG89bi5hZnRlcih0Lmxlbmd0aCxlKSxzPTA7czx0Lmxlbmd0aDtzKyspdGhpcy5faW5zdGFuY2VzW3NdfHwodGhpcy5faW5zdGFuY2VzW3NdPW5ldyB0aGlzLm1ldGhvZCksdGhpcy5faW5zdGFuY2VzW3NdLnNldCh0W3NdLGksbyl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuX2luc3RhbmNlc1tpXXx8KHRoaXMuX2luc3RhbmNlc1tpXT1uZXcgdGhpcy5tZXRob2QpLHRoaXMuX2luc3RhbmNlc1tpXS5yZXNldCh0W2ldKX0saS5leHBvcnRzPWV9LHtcIi4uL3V0aWxpdGllcy9VdGlsaXR5XCI6OTV9XSw4NjpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3Q9dHx8MCx0aGlzLmVuZFN0YXRlPW5ldyB2KHQpLHRoaXMuaW5pdFN0YXRlPW5ldyB2LHRoaXMuX2RpbWVuc2lvbnM9MSx0aGlzLl9yZXN0VG9sZXJhbmNlPTFlLTEwLHRoaXMuX2Fic1Jlc3RUb2xlcmFuY2U9dGhpcy5fcmVzdFRvbGVyYW5jZSx0aGlzLl9jYWxsYmFjaz12b2lkIDAsdGhpcy5QRT1uZXcgXyx0aGlzLnBhcnRpY2xlPW5ldyB5LHRoaXMuc3ByaW5nPW5ldyBnKHthbmNob3I6dGhpcy5lbmRTdGF0ZX0pLHRoaXMuUEUuYWRkQm9keSh0aGlzLnBhcnRpY2xlKSx0aGlzLlBFLmF0dGFjaCh0aGlzLnNwcmluZyx0aGlzLnBhcnRpY2xlKX1mdW5jdGlvbiBuKCl7cmV0dXJuIHRoaXMucGFydGljbGUuZ2V0RW5lcmd5KCkrdGhpcy5zcHJpbmcuZ2V0RW5lcmd5KFt0aGlzLnBhcnRpY2xlXSl9ZnVuY3Rpb24gbygpe3ZhciB0PXRoaXMuZW5kU3RhdGUuc3ViKHRoaXMuaW5pdFN0YXRlKS5ub3JtU3F1YXJlZCgpO3RoaXMuX2Fic1Jlc3RUb2xlcmFuY2U9MD09PXQ/dGhpcy5fcmVzdFRvbGVyYW5jZTp0aGlzLl9yZXN0VG9sZXJhbmNlKnR9ZnVuY3Rpb24gcyh0KXt0aGlzLmVuZFN0YXRlLnNldCh0KSxvLmNhbGwodGhpcyl9ZnVuY3Rpb24gcigpe3RoaXMuUEUud2FrZSgpfWZ1bmN0aW9uIGEoKXt0aGlzLlBFLnNsZWVwKCl9ZnVuY3Rpb24gaCh0KXt0aGlzLnBhcnRpY2xlLnBvc2l0aW9uLnNldCh0KX1mdW5jdGlvbiBjKHQpe3RoaXMucGFydGljbGUudmVsb2NpdHkuc2V0KHQpfWZ1bmN0aW9uIHAoKXtyZXR1cm4gMD09PXRoaXMuX2RpbWVuc2lvbnM/dGhpcy5wYXJ0aWNsZS5nZXRQb3NpdGlvbjFEKCk6dGhpcy5wYXJ0aWNsZS5nZXRQb3NpdGlvbigpfWZ1bmN0aW9uIHUoKXtyZXR1cm4gMD09PXRoaXMuX2RpbWVuc2lvbnM/dGhpcy5wYXJ0aWNsZS5nZXRWZWxvY2l0eTFEKCk6dGhpcy5wYXJ0aWNsZS5nZXRWZWxvY2l0eSgpfWZ1bmN0aW9uIGwodCl7dGhpcy5fY2FsbGJhY2s9dH1mdW5jdGlvbiBmKHQpe3ZhciBpPWUuREVGQVVMVF9PUFRJT05TO3ZvaWQgMD09PXQucGVyaW9kJiYodC5wZXJpb2Q9aS5wZXJpb2QpLHZvaWQgMD09PXQuZGFtcGluZ1JhdGlvJiYodC5kYW1waW5nUmF0aW89aS5kYW1waW5nUmF0aW8pLHZvaWQgMD09PXQudmVsb2NpdHkmJih0LnZlbG9jaXR5PWkudmVsb2NpdHkpLHRoaXMuc3ByaW5nLnNldE9wdGlvbnMoe3BlcmlvZDp0LnBlcmlvZCxkYW1waW5nUmF0aW86dC5kYW1waW5nUmF0aW99KSxjLmNhbGwodGhpcyx0LnZlbG9jaXR5KX1mdW5jdGlvbiBkKCl7aWYodGhpcy5QRS5pc1NsZWVwaW5nKCkpe2lmKHRoaXMuX2NhbGxiYWNrKXt2YXIgdD10aGlzLl9jYWxsYmFjazt0aGlzLl9jYWxsYmFjaz12b2lkIDAsdCgpfX1lbHNlIG4uY2FsbCh0aGlzKTx0aGlzLl9hYnNSZXN0VG9sZXJhbmNlJiYoaC5jYWxsKHRoaXMsdGhpcy5lbmRTdGF0ZSksYy5jYWxsKHRoaXMsWzAsMCwwXSksYS5jYWxsKHRoaXMpKX12YXIgXz10KFwiLi4vcGh5c2ljcy9QaHlzaWNzRW5naW5lXCIpLHk9dChcIi4uL3BoeXNpY3MvYm9kaWVzL1BhcnRpY2xlXCIpLGc9dChcIi4uL3BoeXNpY3MvY29uc3RyYWludHMvU25hcFwiKSx2PXQoXCIuLi9tYXRoL1ZlY3RvclwiKTtlLlNVUFBPUlRTX01VTFRJUExFPTMsZS5ERUZBVUxUX09QVElPTlM9e3BlcmlvZDoxMDAsZGFtcGluZ1JhdGlvOi4yLHZlbG9jaXR5OjB9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsaSl7dGhpcy5fZGltZW5zaW9ucz10IGluc3RhbmNlb2YgQXJyYXk/dC5sZW5ndGg6MCx0aGlzLmluaXRTdGF0ZS5zZXQodCksaC5jYWxsKHRoaXMsdCkscy5jYWxsKHRoaXMsdCksaSYmYy5jYWxsKHRoaXMsaSksbC5jYWxsKHRoaXMsdm9pZCAwKX0sZS5wcm90b3R5cGUuZ2V0VmVsb2NpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zZXRWZWxvY2l0eT1mdW5jdGlvbih0KXt0aGlzLmNhbGwodGhpcyxjKHQpKX0sZS5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5QRS5pc1NsZWVwaW5nKCl9LGUucHJvdG90eXBlLmhhbHQ9ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLmdldCgpKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKSxwLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGksZSl7cmV0dXJuIGk/KHRoaXMuX2RpbWVuc2lvbnM9dCBpbnN0YW5jZW9mIEFycmF5P3QubGVuZ3RoOjAsci5jYWxsKHRoaXMpLGYuY2FsbCh0aGlzLGkpLHMuY2FsbCh0aGlzLHQpLHZvaWQgbC5jYWxsKHRoaXMsZSkpOih0aGlzLnJlc2V0KHQpLHZvaWQoZSYmZSgpKSl9LGkuZXhwb3J0cz1lfSx7XCIuLi9tYXRoL1ZlY3RvclwiOjQxLFwiLi4vcGh5c2ljcy9QaHlzaWNzRW5naW5lXCI6NDgsXCIuLi9waHlzaWNzL2JvZGllcy9QYXJ0aWNsZVwiOjUxLFwiLi4vcGh5c2ljcy9jb25zdHJhaW50cy9TbmFwXCI6NTh9XSw4NzpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3Q9dHx8MCx0aGlzLmVuZFN0YXRlPW5ldyB2KHQpLHRoaXMuaW5pdFN0YXRlPW5ldyB2LHRoaXMuX2RpbWVuc2lvbnM9dm9pZCAwLHRoaXMuX3Jlc3RUb2xlcmFuY2U9MWUtMTAsdGhpcy5fYWJzUmVzdFRvbGVyYW5jZT10aGlzLl9yZXN0VG9sZXJhbmNlLHRoaXMuX2NhbGxiYWNrPXZvaWQgMCx0aGlzLlBFPW5ldyBfLHRoaXMuc3ByaW5nPW5ldyBnKHthbmNob3I6dGhpcy5lbmRTdGF0ZX0pLHRoaXMucGFydGljbGU9bmV3IHksdGhpcy5QRS5hZGRCb2R5KHRoaXMucGFydGljbGUpLHRoaXMuUEUuYXR0YWNoKHRoaXMuc3ByaW5nLHRoaXMucGFydGljbGUpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gdGhpcy5wYXJ0aWNsZS5nZXRFbmVyZ3koKSt0aGlzLnNwcmluZy5nZXRFbmVyZ3koW3RoaXMucGFydGljbGVdKX1mdW5jdGlvbiBvKHQpe3RoaXMucGFydGljbGUuc2V0UG9zaXRpb24odCl9ZnVuY3Rpb24gcyh0KXt0aGlzLnBhcnRpY2xlLnNldFZlbG9jaXR5KHQpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gMD09PXRoaXMuX2RpbWVuc2lvbnM/dGhpcy5wYXJ0aWNsZS5nZXRQb3NpdGlvbjFEKCk6dGhpcy5wYXJ0aWNsZS5nZXRQb3NpdGlvbigpfWZ1bmN0aW9uIGEoKXtyZXR1cm4gMD09PXRoaXMuX2RpbWVuc2lvbnM/dGhpcy5wYXJ0aWNsZS5nZXRWZWxvY2l0eTFEKCk6dGhpcy5wYXJ0aWNsZS5nZXRWZWxvY2l0eSgpfWZ1bmN0aW9uIGgodCl7dGhpcy5fY2FsbGJhY2s9dH1mdW5jdGlvbiBjKCl7dGhpcy5QRS53YWtlKCl9ZnVuY3Rpb24gcCgpe3RoaXMuUEUuc2xlZXAoKX1mdW5jdGlvbiB1KCl7aWYodGhpcy5QRS5pc1NsZWVwaW5nKCkpe2lmKHRoaXMuX2NhbGxiYWNrKXt2YXIgdD10aGlzLl9jYWxsYmFjazt0aGlzLl9jYWxsYmFjaz12b2lkIDAsdCgpfX1lbHNlIG4uY2FsbCh0aGlzKTx0aGlzLl9hYnNSZXN0VG9sZXJhbmNlJiYoby5jYWxsKHRoaXMsdGhpcy5lbmRTdGF0ZSkscy5jYWxsKHRoaXMsWzAsMCwwXSkscC5jYWxsKHRoaXMpKX1mdW5jdGlvbiBsKHQpe3ZhciBpPWUuREVGQVVMVF9PUFRJT05TO3ZvaWQgMD09PXQucGVyaW9kJiYodC5wZXJpb2Q9aS5wZXJpb2QpLHZvaWQgMD09PXQuZGFtcGluZ1JhdGlvJiYodC5kYW1waW5nUmF0aW89aS5kYW1waW5nUmF0aW8pLHZvaWQgMD09PXQudmVsb2NpdHkmJih0LnZlbG9jaXR5PWkudmVsb2NpdHkpLHQucGVyaW9kPDE1MCYmKHQucGVyaW9kPTE1MCxjb25zb2xlLndhcm4oXCJUaGUgcGVyaW9kIG9mIGEgU3ByaW5nVHJhbnNpdGlvbiBpcyBjYXBwZWQgYXQgMTUwIG1zLiBVc2UgYSBTbmFwVHJhbnNpdGlvbiBmb3IgZmFzdGVyIHRyYW5zaXRpb25zXCIpKSx0aGlzLnNwcmluZy5zZXRPcHRpb25zKHtwZXJpb2Q6dC5wZXJpb2QsZGFtcGluZ1JhdGlvOnQuZGFtcGluZ1JhdGlvfSkscy5jYWxsKHRoaXMsdC52ZWxvY2l0eSl9ZnVuY3Rpb24gZigpe3ZhciB0PXRoaXMuZW5kU3RhdGUuc3ViKHRoaXMuaW5pdFN0YXRlKS5ub3JtU3F1YXJlZCgpO3RoaXMuX2Fic1Jlc3RUb2xlcmFuY2U9MD09PXQ/dGhpcy5fcmVzdFRvbGVyYW5jZTp0aGlzLl9yZXN0VG9sZXJhbmNlKnR9ZnVuY3Rpb24gZCh0KXt0aGlzLmVuZFN0YXRlLnNldCh0KSxmLmNhbGwodGhpcyl9dmFyIF89dChcIi4uL3BoeXNpY3MvUGh5c2ljc0VuZ2luZVwiKSx5PXQoXCIuLi9waHlzaWNzL2JvZGllcy9QYXJ0aWNsZVwiKSxnPXQoXCIuLi9waHlzaWNzL2ZvcmNlcy9TcHJpbmdcIiksdj10KFwiLi4vbWF0aC9WZWN0b3JcIik7ZS5TVVBQT1JUU19NVUxUSVBMRT0zLGUuREVGQVVMVF9PUFRJT05TPXtwZXJpb2Q6MzAwLGRhbXBpbmdSYXRpbzouNSx2ZWxvY2l0eTowfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0LGkpe3RoaXMuX2RpbWVuc2lvbnM9dCBpbnN0YW5jZW9mIEFycmF5P3QubGVuZ3RoOjAsdGhpcy5pbml0U3RhdGUuc2V0KHQpLG8uY2FsbCh0aGlzLHQpLGQuY2FsbCh0aGlzLHQpLGkmJnMuY2FsbCh0aGlzLGkpLGguY2FsbCh0aGlzLHZvaWQgMCl9LGUucHJvdG90eXBlLmdldFZlbG9jaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc2V0VmVsb2NpdHk9ZnVuY3Rpb24odCl7dGhpcy5jYWxsKHRoaXMscyh0KSl9LGUucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuUEUuaXNTbGVlcGluZygpXG59LGUucHJvdG90eXBlLmhhbHQ9ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLmdldCgpKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHUuY2FsbCh0aGlzKSxyLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGksZSl7cmV0dXJuIGk/KHRoaXMuX2RpbWVuc2lvbnM9dCBpbnN0YW5jZW9mIEFycmF5P3QubGVuZ3RoOjAsYy5jYWxsKHRoaXMpLGwuY2FsbCh0aGlzLGkpLGQuY2FsbCh0aGlzLHQpLHZvaWQgaC5jYWxsKHRoaXMsZSkpOih0aGlzLnJlc2V0KHQpLHZvaWQoZSYmZSgpKSl9LGkuZXhwb3J0cz1lfSx7XCIuLi9tYXRoL1ZlY3RvclwiOjQxLFwiLi4vcGh5c2ljcy9QaHlzaWNzRW5naW5lXCI6NDgsXCIuLi9waHlzaWNzL2JvZGllcy9QYXJ0aWNsZVwiOjUxLFwiLi4vcGh5c2ljcy9mb3JjZXMvU3ByaW5nXCI6Njh9XSw4ODpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMuY3VycmVudEFjdGlvbj1udWxsLHRoaXMuYWN0aW9uUXVldWU9W10sdGhpcy5jYWxsYmFja1F1ZXVlPVtdLHRoaXMuc3RhdGU9MCx0aGlzLnZlbG9jaXR5PXZvaWQgMCx0aGlzLl9jYWxsYmFjaz12b2lkIDAsdGhpcy5fZW5naW5lSW5zdGFuY2U9bnVsbCx0aGlzLl9jdXJyZW50TWV0aG9kPW51bGwsdGhpcy5zZXQodCl9ZnVuY3Rpb24gbigpe2lmKHRoaXMuX2NhbGxiYWNrKXt2YXIgdD10aGlzLl9jYWxsYmFjazt0aGlzLl9jYWxsYmFjaz12b2lkIDAsdCgpfWlmKHRoaXMuYWN0aW9uUXVldWUubGVuZ3RoPD0wKXJldHVybiB2b2lkIHRoaXMuc2V0KHRoaXMuZ2V0KCkpO3RoaXMuY3VycmVudEFjdGlvbj10aGlzLmFjdGlvblF1ZXVlLnNoaWZ0KCksdGhpcy5fY2FsbGJhY2s9dGhpcy5jYWxsYmFja1F1ZXVlLnNoaWZ0KCk7dmFyIGk9bnVsbCxlPXRoaXMuY3VycmVudEFjdGlvblswXSxhPXRoaXMuY3VycmVudEFjdGlvblsxXTthIGluc3RhbmNlb2YgT2JqZWN0JiZhLm1ldGhvZD8oaT1hLm1ldGhvZCxcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9cltpXSkpOmk9cyx0aGlzLl9jdXJyZW50TWV0aG9kIT09aSYmKHRoaXMuX2VuZ2luZUluc3RhbmNlPSEoZSBpbnN0YW5jZW9mIE9iamVjdCl8fGkuU1VQUE9SVFNfTVVMVElQTEU9PT0hMHx8ZS5sZW5ndGg8PWkuU1VQUE9SVFNfTVVMVElQTEU/bmV3IGk6bmV3IG8oaSksdGhpcy5fY3VycmVudE1ldGhvZD1pKSx0aGlzLl9lbmdpbmVJbnN0YW5jZS5yZXNldCh0aGlzLnN0YXRlLHRoaXMudmVsb2NpdHkpLHZvaWQgMCE9PXRoaXMudmVsb2NpdHkmJihhLnZlbG9jaXR5PXRoaXMudmVsb2NpdHkpLHRoaXMuX2VuZ2luZUluc3RhbmNlLnNldChlLGEsbi5iaW5kKHRoaXMpKX12YXIgbz10KFwiLi9NdWx0aXBsZVRyYW5zaXRpb25cIikscz10KFwiLi9Ud2VlblRyYW5zaXRpb25cIikscj17fTtlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQpe3ZhciBpPSEwO2Zvcih2YXIgbiBpbiB0KWUucmVnaXN0ZXJNZXRob2Qobix0W25dKXx8KGk9ITEpO3JldHVybiBpfSxlLnJlZ2lzdGVyTWV0aG9kPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQgaW4gcj8hMTooclt0XT1pLCEwKX0sZS51bnJlZ2lzdGVyTWV0aG9kPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHI/KGRlbGV0ZSByW3RdLCEwKTohMX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsaSxlKXtpZighaSlyZXR1cm4gdGhpcy5yZXNldCh0KSxlJiZlKCksdGhpczt2YXIgbz1bdCxpXTtyZXR1cm4gdGhpcy5hY3Rpb25RdWV1ZS5wdXNoKG8pLHRoaXMuY2FsbGJhY2tRdWV1ZS5wdXNoKGUpLHRoaXMuY3VycmVudEFjdGlvbnx8bi5jYWxsKHRoaXMpLHRoaXN9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsaSl7dGhpcy5fY3VycmVudE1ldGhvZD1udWxsLHRoaXMuX2VuZ2luZUluc3RhbmNlPW51bGwsdGhpcy5fY2FsbGJhY2s9dm9pZCAwLHRoaXMuc3RhdGU9dCx0aGlzLnZlbG9jaXR5PWksdGhpcy5jdXJyZW50QWN0aW9uPW51bGwsdGhpcy5hY3Rpb25RdWV1ZT1bXSx0aGlzLmNhbGxiYWNrUXVldWU9W119LGUucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKHQsaSl7dGhpcy5zZXQodGhpcy5nZXQoKSx7ZHVyYXRpb246dCxjdXJ2ZTpmdW5jdGlvbigpe3JldHVybiAwfX0saSl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZW5naW5lSW5zdGFuY2UmJih0aGlzLl9lbmdpbmVJbnN0YW5jZS5nZXRWZWxvY2l0eSYmKHRoaXMudmVsb2NpdHk9dGhpcy5fZW5naW5lSW5zdGFuY2UuZ2V0VmVsb2NpdHkoKSksdGhpcy5zdGF0ZT10aGlzLl9lbmdpbmVJbnN0YW5jZS5nZXQodCkpLHRoaXMuc3RhdGV9LGUucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmN1cnJlbnRBY3Rpb259LGUucHJvdG90eXBlLmhhbHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXQodGhpcy5nZXQoKSl9LGkuZXhwb3J0cz1lfSx7XCIuL011bHRpcGxlVHJhbnNpdGlvblwiOjg1LFwiLi9Ud2VlblRyYW5zaXRpb25cIjo5MH1dLDg5OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5fZmluYWw9ci5pZGVudGl0eS5zbGljZSgpLHRoaXMuX2ZpbmFsVHJhbnNsYXRlPVswLDAsMF0sdGhpcy5fZmluYWxSb3RhdGU9WzAsMCwwXSx0aGlzLl9maW5hbFNrZXc9WzAsMCwwXSx0aGlzLl9maW5hbFNjYWxlPVsxLDEsMV0sdGhpcy50cmFuc2xhdGU9bmV3IHModGhpcy5fZmluYWxUcmFuc2xhdGUpLHRoaXMucm90YXRlPW5ldyBzKHRoaXMuX2ZpbmFsUm90YXRlKSx0aGlzLnNrZXc9bmV3IHModGhpcy5fZmluYWxTa2V3KSx0aGlzLnNjYWxlPW5ldyBzKHRoaXMuX2ZpbmFsU2NhbGUpLHQmJnRoaXMuc2V0KHQpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gci5idWlsZCh7dHJhbnNsYXRlOnRoaXMudHJhbnNsYXRlLmdldCgpLHJvdGF0ZTp0aGlzLnJvdGF0ZS5nZXQoKSxza2V3OnRoaXMuc2tldy5nZXQoKSxzY2FsZTp0aGlzLnNjYWxlLmdldCgpfSl9ZnVuY3Rpb24gbygpe3JldHVybiByLmJ1aWxkKHt0cmFuc2xhdGU6dGhpcy5fZmluYWxUcmFuc2xhdGUscm90YXRlOnRoaXMuX2ZpbmFsUm90YXRlLHNrZXc6dGhpcy5fZmluYWxTa2V3LHNjYWxlOnRoaXMuX2ZpbmFsU2NhbGV9KX12YXIgcz10KFwiLi9UcmFuc2l0aW9uYWJsZVwiKSxyPXQoXCIuLi9jb3JlL1RyYW5zZm9ybVwiKSxhPXQoXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiKTtlLnByb3RvdHlwZS5zZXRUcmFuc2xhdGU9ZnVuY3Rpb24odCxpLGUpe3JldHVybiB0aGlzLl9maW5hbFRyYW5zbGF0ZT10LHRoaXMuX2ZpbmFsPW8uY2FsbCh0aGlzKSx0aGlzLnRyYW5zbGF0ZS5zZXQodCxpLGUpLHRoaXN9LGUucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdGhpcy5fZmluYWxTY2FsZT10LHRoaXMuX2ZpbmFsPW8uY2FsbCh0aGlzKSx0aGlzLnNjYWxlLnNldCh0LGksZSksdGhpc30sZS5wcm90b3R5cGUuc2V0Um90YXRlPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdGhpcy5fZmluYWxSb3RhdGU9dCx0aGlzLl9maW5hbD1vLmNhbGwodGhpcyksdGhpcy5yb3RhdGUuc2V0KHQsaSxlKSx0aGlzfSxlLnByb3RvdHlwZS5zZXRTa2V3PWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdGhpcy5fZmluYWxTa2V3PXQsdGhpcy5fZmluYWw9by5jYWxsKHRoaXMpLHRoaXMuc2tldy5zZXQodCxpLGUpLHRoaXN9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGksZSl7dmFyIG49ci5pbnRlcnByZXQodCk7dGhpcy5fZmluYWxUcmFuc2xhdGU9bi50cmFuc2xhdGUsdGhpcy5fZmluYWxSb3RhdGU9bi5yb3RhdGUsdGhpcy5fZmluYWxTa2V3PW4uc2tldyx0aGlzLl9maW5hbFNjYWxlPW4uc2NhbGUsdGhpcy5fZmluYWw9dDt2YXIgbz1lP2EuYWZ0ZXIoNCxlKTpudWxsO3JldHVybiB0aGlzLnRyYW5zbGF0ZS5zZXQobi50cmFuc2xhdGUsaSxvKSx0aGlzLnJvdGF0ZS5zZXQobi5yb3RhdGUsaSxvKSx0aGlzLnNrZXcuc2V0KG4uc2tldyxpLG8pLHRoaXMuc2NhbGUuc2V0KG4uc2NhbGUsaSxvKSx0aGlzfSxlLnByb3RvdHlwZS5zZXREZWZhdWx0VHJhbnNpdGlvbj1mdW5jdGlvbih0KXt0aGlzLnRyYW5zbGF0ZS5zZXREZWZhdWx0KHQpLHRoaXMucm90YXRlLnNldERlZmF1bHQodCksdGhpcy5za2V3LnNldERlZmF1bHQodCksdGhpcy5zY2FsZS5zZXREZWZhdWx0KHQpfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0FjdGl2ZSgpP24uY2FsbCh0aGlzKTp0aGlzLl9maW5hbH0sZS5wcm90b3R5cGUuZ2V0RmluYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmluYWx9LGUucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlLmlzQWN0aXZlKCl8fHRoaXMucm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuc2NhbGUuaXNBY3RpdmUoKXx8dGhpcy5za2V3LmlzQWN0aXZlKCl9LGUucHJvdG90eXBlLmhhbHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2xhdGUuaGFsdCgpLHRoaXMucm90YXRlLmhhbHQoKSx0aGlzLnNrZXcuaGFsdCgpLHRoaXMuc2NhbGUuaGFsdCgpLHRoaXMuX2ZpbmFsPXRoaXMuZ2V0KCksdGhpcy5fZmluYWxUcmFuc2xhdGU9dGhpcy50cmFuc2xhdGUuZ2V0KCksdGhpcy5fZmluYWxSb3RhdGU9dGhpcy5yb3RhdGUuZ2V0KCksdGhpcy5fZmluYWxTa2V3PXRoaXMuc2tldy5nZXQoKSx0aGlzLl9maW5hbFNjYWxlPXRoaXMuc2NhbGUuZ2V0KCksdGhpc30saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvVHJhbnNmb3JtXCI6MTUsXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiOjk1LFwiLi9UcmFuc2l0aW9uYWJsZVwiOjg4fV0sOTA6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdCYmdGhpcy5zZXRPcHRpb25zKHQpLHRoaXMuX3N0YXJ0VGltZT0wLHRoaXMuX3N0YXJ0VmFsdWU9MCx0aGlzLl91cGRhdGVUaW1lPTAsdGhpcy5fZW5kVmFsdWU9MCx0aGlzLl9jdXJ2ZT12b2lkIDAsdGhpcy5fZHVyYXRpb249MCx0aGlzLl9hY3RpdmU9ITEsdGhpcy5fY2FsbGJhY2s9dm9pZCAwLHRoaXMuc3RhdGU9MCx0aGlzLnZlbG9jaXR5PXZvaWQgMH1mdW5jdGlvbiBuKHQsaSxlKXtyZXR1cm4oMS1lKSp0K2UqaX1mdW5jdGlvbiBvKHQpe3JldHVybiB0IGluc3RhbmNlb2YgT2JqZWN0P3QgaW5zdGFuY2VvZiBBcnJheT90LnNsaWNlKDApOk9iamVjdC5jcmVhdGUodCk6dH1mdW5jdGlvbiBzKHQsaSl7dmFyIG49e2N1cnZlOmkuY3VydmV9O3JldHVybiBpLmR1cmF0aW9uJiYobi5kdXJhdGlvbj1pLmR1cmF0aW9uKSxpLnNwZWVkJiYobi5zcGVlZD1pLnNwZWVkKSx0IGluc3RhbmNlb2YgT2JqZWN0JiYodm9pZCAwIT09dC5kdXJhdGlvbiYmKG4uZHVyYXRpb249dC5kdXJhdGlvbiksdC5jdXJ2ZSYmKG4uY3VydmU9dC5jdXJ2ZSksdC5zcGVlZCYmKG4uc3BlZWQ9dC5zcGVlZCkpLFwic3RyaW5nXCI9PXR5cGVvZiBuLmN1cnZlJiYobi5jdXJ2ZT1lLmdldEN1cnZlKG4uY3VydmUpKSxufWZ1bmN0aW9uIHIodCxpLGUsbixvKXt2YXIgcyxyPTFlLTcsYT0oZShvKS1lKG8tcikpL3I7aWYodCBpbnN0YW5jZW9mIEFycmF5KXtzPVtdO2Zvcih2YXIgaD0wO2g8dC5sZW5ndGg7aCsrKXNbaF09XCJudW1iZXJcIj09dHlwZW9mIHRbaF0/YSoodFtoXS1pW2hdKS9uOjB9ZWxzZSBzPWEqKHQtaSkvbjtyZXR1cm4gc31mdW5jdGlvbiBhKHQsaSxlKXt2YXIgbztpZih0IGluc3RhbmNlb2YgQXJyYXkpe289W107Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspb1tzXT1cIm51bWJlclwiPT10eXBlb2YgdFtzXT9uKHRbc10saVtzXSxlKTp0W3NdfWVsc2Ugbz1uKHQsaSxlKTtyZXR1cm4gb31lLkN1cnZlcz17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxlYXNlSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0sZWFzZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gdCooMi10KX0sZWFzZUluT3V0OmZ1bmN0aW9uKHQpe3JldHVybi41Pj10PzIqdCp0Oi0yKnQqdCs0KnQtMX0sZWFzZU91dEJvdW5jZTpmdW5jdGlvbih0KXtyZXR1cm4gdCooMy0yKnQpfSxzcHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuKDEtdCkqTWF0aC5zaW4oNipNYXRoLlBJKnQpK3R9fSxlLlNVUFBPUlRTX01VTFRJUExFPSEwLGUuREVGQVVMVF9PUFRJT05TPXtjdXJ2ZTplLkN1cnZlcy5saW5lYXIsZHVyYXRpb246NTAwLHNwZWVkOjB9O3ZhciBoPXt9O2UucmVnaXN0ZXJDdXJ2ZT1mdW5jdGlvbih0LGkpe3JldHVybiBoW3RdPyExOihoW3RdPWksITApfSxlLnVucmVnaXN0ZXJDdXJ2ZT1mdW5jdGlvbih0KXtyZXR1cm4gaFt0XT8oZGVsZXRlIGhbdF0sITApOiExfSxlLmdldEN1cnZlPWZ1bmN0aW9uKHQpe3ZhciBpPWhbdF07aWYodm9pZCAwIT09aSlyZXR1cm4gaTt0aHJvdyBuZXcgRXJyb3IoXCJjdXJ2ZSBub3QgcmVnaXN0ZXJlZFwiKX0sZS5nZXRDdXJ2ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaH0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt2b2lkIDAhPT10LmN1cnZlJiYodGhpcy5vcHRpb25zLmN1cnZlPXQuY3VydmUpLHZvaWQgMCE9PXQuZHVyYXRpb24mJih0aGlzLm9wdGlvbnMuZHVyYXRpb249dC5kdXJhdGlvbiksdm9pZCAwIT09dC5zcGVlZCYmKHRoaXMub3B0aW9ucy5zcGVlZD10LnNwZWVkKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsaSxlKXtpZighaSlyZXR1cm4gdGhpcy5yZXNldCh0KSx2b2lkKGUmJmUoKSk7aWYodGhpcy5fc3RhcnRWYWx1ZT1vKHRoaXMuZ2V0KCkpLGk9cyhpLHRoaXMub3B0aW9ucyksaS5zcGVlZCl7dmFyIG49dGhpcy5fc3RhcnRWYWx1ZTtpZihuIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgcj0wO2Zvcih2YXIgYSBpbiBuKXIrPSh0W2FdLW5bYV0pKih0W2FdLW5bYV0pO2kuZHVyYXRpb249TWF0aC5zcXJ0KHIpL2kuc3BlZWR9ZWxzZSBpLmR1cmF0aW9uPU1hdGguYWJzKHQtbikvaS5zcGVlZH10aGlzLl9zdGFydFRpbWU9RGF0ZS5ub3coKSx0aGlzLl9lbmRWYWx1ZT1vKHQpLHRoaXMuX3N0YXJ0VmVsb2NpdHk9byhpLnZlbG9jaXR5KSx0aGlzLl9kdXJhdGlvbj1pLmR1cmF0aW9uLHRoaXMuX2N1cnZlPWkuY3VydmUsdGhpcy5fYWN0aXZlPSEwLHRoaXMuX2NhbGxiYWNrPWV9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsaSl7aWYodGhpcy5fY2FsbGJhY2spe3ZhciBlPXRoaXMuX2NhbGxiYWNrO3RoaXMuX2NhbGxiYWNrPXZvaWQgMCxlKCl9dGhpcy5zdGF0ZT1vKHQpLHRoaXMudmVsb2NpdHk9byhpKSx0aGlzLl9zdGFydFRpbWU9MCx0aGlzLl9kdXJhdGlvbj0wLHRoaXMuX3VwZGF0ZVRpbWU9MCx0aGlzLl9zdGFydFZhbHVlPXRoaXMuc3RhdGUsdGhpcy5fc3RhcnRWZWxvY2l0eT10aGlzLnZlbG9jaXR5LHRoaXMuX2VuZFZhbHVlPXRoaXMuc3RhdGUsdGhpcy5fYWN0aXZlPSExfSxlLnByb3RvdHlwZS5nZXRWZWxvY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlbG9jaXR5fSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlKHQpLHRoaXMuc3RhdGV9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZih0aGlzLl9hY3RpdmUpe2lmKHR8fCh0PURhdGUubm93KCkpLCEodGhpcy5fdXBkYXRlVGltZT49dCkpe3RoaXMuX3VwZGF0ZVRpbWU9dDt2YXIgaT10LXRoaXMuX3N0YXJ0VGltZTtpZihpPj10aGlzLl9kdXJhdGlvbil0aGlzLnN0YXRlPXRoaXMuX2VuZFZhbHVlLHRoaXMudmVsb2NpdHk9cih0aGlzLnN0YXRlLHRoaXMuX3N0YXJ0VmFsdWUsdGhpcy5fY3VydmUsdGhpcy5fZHVyYXRpb24sMSksdGhpcy5fYWN0aXZlPSExO2Vsc2UgaWYoMD5pKXRoaXMuc3RhdGU9dGhpcy5fc3RhcnRWYWx1ZSx0aGlzLnZlbG9jaXR5PXRoaXMuX3N0YXJ0VmVsb2NpdHk7ZWxzZXt2YXIgZT1pL3RoaXMuX2R1cmF0aW9uO3RoaXMuc3RhdGU9YSh0aGlzLl9zdGFydFZhbHVlLHRoaXMuX2VuZFZhbHVlLHRoaXMuX2N1cnZlKGUpKSx0aGlzLnZlbG9jaXR5PXIodGhpcy5zdGF0ZSx0aGlzLl9zdGFydFZhbHVlLHRoaXMuX2N1cnZlLHRoaXMuX2R1cmF0aW9uLGUpfX19ZWxzZSBpZih0aGlzLl9jYWxsYmFjayl7dmFyIG49dGhpcy5fY2FsbGJhY2s7dGhpcy5fY2FsbGJhY2s9dm9pZCAwLG4oKX19LGUucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX0sZS5wcm90b3R5cGUuaGFsdD1mdW5jdGlvbigpe3RoaXMucmVzZXQodGhpcy5nZXQoKSl9LGUucmVnaXN0ZXJDdXJ2ZShcImxpbmVhclwiLGUuQ3VydmVzLmxpbmVhciksZS5yZWdpc3RlckN1cnZlKFwiZWFzZUluXCIsZS5DdXJ2ZXMuZWFzZUluKSxlLnJlZ2lzdGVyQ3VydmUoXCJlYXNlT3V0XCIsZS5DdXJ2ZXMuZWFzZU91dCksZS5yZWdpc3RlckN1cnZlKFwiZWFzZUluT3V0XCIsZS5DdXJ2ZXMuZWFzZUluT3V0KSxlLnJlZ2lzdGVyQ3VydmUoXCJlYXNlT3V0Qm91bmNlXCIsZS5DdXJ2ZXMuZWFzZU91dEJvdW5jZSksZS5yZWdpc3RlckN1cnZlKFwic3ByaW5nXCIsZS5DdXJ2ZXMuc3ByaW5nKSxlLmN1c3RvbUN1cnZlPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQ9dHx8MCxpPWl8fDAsZnVuY3Rpb24oZSl7cmV0dXJuIHQqZSsoLTIqdC1pKzMpKmUqZSsodCtpLTIpKmUqZSplfX0saS5leHBvcnRzPWV9LHt9XSw5MTpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3Q9dHx8MCx0aGlzLmVuZFN0YXRlPW5ldyBtKHQpLHRoaXMuaW5pdFN0YXRlPW5ldyBtLHRoaXMuc3ByaW5nPW5ldyBnKHthbmNob3I6dGhpcy5lbmRTdGF0ZX0pLHRoaXMud2FsbD1uZXcgdix0aGlzLl9yZXN0VG9sZXJhbmNlPTFlLTEwLHRoaXMuX2RpbWVuc2lvbnM9MSx0aGlzLl9hYnNSZXN0VG9sZXJhbmNlPXRoaXMuX3Jlc3RUb2xlcmFuY2UsdGhpcy5fY2FsbGJhY2s9dm9pZCAwLHRoaXMuUEU9bmV3IF8sdGhpcy5wYXJ0aWNsZT1uZXcgeSx0aGlzLlBFLmFkZEJvZHkodGhpcy5wYXJ0aWNsZSksdGhpcy5QRS5hdHRhY2goW3RoaXMud2FsbCx0aGlzLnNwcmluZ10sdGhpcy5wYXJ0aWNsZSl9ZnVuY3Rpb24gbigpe3JldHVybiB0aGlzLnBhcnRpY2xlLmdldEVuZXJneSgpK3RoaXMuc3ByaW5nLmdldEVuZXJneShbdGhpcy5wYXJ0aWNsZV0pfWZ1bmN0aW9uIG8oKXt2YXIgdD10aGlzLmVuZFN0YXRlLnN1Yih0aGlzLmluaXRTdGF0ZSkubm9ybVNxdWFyZWQoKTt0aGlzLl9hYnNSZXN0VG9sZXJhbmNlPTA9PT10P3RoaXMuX3Jlc3RUb2xlcmFuY2U6dGhpcy5fcmVzdFRvbGVyYW5jZSp0fWZ1bmN0aW9uIHMoKXt0aGlzLlBFLndha2UoKX1mdW5jdGlvbiByKCl7dGhpcy5QRS5zbGVlcCgpfWZ1bmN0aW9uIGEodCl7dGhpcy5lbmRTdGF0ZS5zZXQodCk7dmFyIGk9dGhpcy5lbmRTdGF0ZS5zdWIodGhpcy5pbml0U3RhdGUpLm5vcm0oKTt0aGlzLndhbGwuc2V0T3B0aW9ucyh7ZGlzdGFuY2U6dGhpcy5lbmRTdGF0ZS5ub3JtKCksbm9ybWFsOjA9PT1pP3RoaXMucGFydGljbGUudmVsb2NpdHkubm9ybWFsaXplKC0xKTp0aGlzLmVuZFN0YXRlLnN1Yih0aGlzLmluaXRTdGF0ZSkubm9ybWFsaXplKC0xKX0pLG8uY2FsbCh0aGlzKX1mdW5jdGlvbiBoKHQpe3RoaXMucGFydGljbGUucG9zaXRpb24uc2V0KHQpfWZ1bmN0aW9uIGModCl7dGhpcy5wYXJ0aWNsZS52ZWxvY2l0eS5zZXQodCl9ZnVuY3Rpb24gcCgpe3JldHVybiAwPT09dGhpcy5fZGltZW5zaW9ucz90aGlzLnBhcnRpY2xlLmdldFBvc2l0aW9uMUQoKTp0aGlzLnBhcnRpY2xlLmdldFBvc2l0aW9uKCl9ZnVuY3Rpb24gdSgpe3JldHVybiAwPT09dGhpcy5fZGltZW5zaW9ucz90aGlzLnBhcnRpY2xlLmdldFZlbG9jaXR5MUQoKTp0aGlzLnBhcnRpY2xlLmdldFZlbG9jaXR5KCl9ZnVuY3Rpb24gbCh0KXt0aGlzLl9jYWxsYmFjaz10fWZ1bmN0aW9uIGYoKXtpZih0aGlzLlBFLmlzU2xlZXBpbmcoKSl7aWYodGhpcy5fY2FsbGJhY2spe3ZhciB0PXRoaXMuX2NhbGxiYWNrO3RoaXMuX2NhbGxiYWNrPXZvaWQgMCx0KCl9fWVsc2V7dmFyIGk9bi5jYWxsKHRoaXMpO2k8dGhpcy5fYWJzUmVzdFRvbGVyYW5jZSYmKHIuY2FsbCh0aGlzKSxoLmNhbGwodGhpcyx0aGlzLmVuZFN0YXRlKSxjLmNhbGwodGhpcyxbMCwwLDBdKSl9fWZ1bmN0aW9uIGQodCl7dmFyIGk9ZS5ERUZBVUxUX09QVElPTlM7dm9pZCAwPT09dC5wZXJpb2QmJih0LnBlcmlvZD1pLnBlcmlvZCksdm9pZCAwPT09dC5kYW1waW5nUmF0aW8mJih0LmRhbXBpbmdSYXRpbz1pLmRhbXBpbmdSYXRpbyksdm9pZCAwPT09dC52ZWxvY2l0eSYmKHQudmVsb2NpdHk9aS52ZWxvY2l0eSksdm9pZCAwPT09dC5yZXN0aXR1dGlvbiYmKHQucmVzdGl0dXRpb249aS5yZXN0aXR1dGlvbiksdGhpcy5zcHJpbmcuc2V0T3B0aW9ucyh7cGVyaW9kOnQucGVyaW9kLGRhbXBpbmdSYXRpbzp0LmRhbXBpbmdSYXRpb30pLHRoaXMud2FsbC5zZXRPcHRpb25zKHtyZXN0aXR1dGlvbjp0LnJlc3RpdHV0aW9ufSksYy5jYWxsKHRoaXMsdC52ZWxvY2l0eSl9dmFyIF89dChcIi4uL3BoeXNpY3MvUGh5c2ljc0VuZ2luZVwiKSx5PXQoXCIuLi9waHlzaWNzL2JvZGllcy9QYXJ0aWNsZVwiKSxnPXQoXCIuLi9waHlzaWNzL2ZvcmNlcy9TcHJpbmdcIiksdj10KFwiLi4vcGh5c2ljcy9jb25zdHJhaW50cy9XYWxsXCIpLG09dChcIi4uL21hdGgvVmVjdG9yXCIpO2UuU1VQUE9SVFNfTVVMVElQTEU9MyxlLkRFRkFVTFRfT1BUSU9OUz17cGVyaW9kOjMwMCxkYW1waW5nUmF0aW86LjUsdmVsb2NpdHk6MCxyZXN0aXR1dGlvbjouNX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxpKXt0aGlzLl9kaW1lbnNpb25zPXQgaW5zdGFuY2VvZiBBcnJheT90Lmxlbmd0aDowLHRoaXMuaW5pdFN0YXRlLnNldCh0KSxoLmNhbGwodGhpcyx0KSxpJiZjLmNhbGwodGhpcyxpKSxhLmNhbGwodGhpcyx0KSxsLmNhbGwodGhpcyx2b2lkIDApfSxlLnByb3RvdHlwZS5nZXRWZWxvY2l0eT1mdW5jdGlvbigpe3JldHVybiB1LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNldFZlbG9jaXR5PWZ1bmN0aW9uKHQpe3RoaXMuY2FsbCh0aGlzLGModCkpfSxlLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLlBFLmlzU2xlZXBpbmcoKX0sZS5wcm90b3R5cGUuaGFsdD1mdW5jdGlvbigpe3RoaXMuc2V0KHRoaXMuZ2V0KCkpfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMpLHAuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gaT8odGhpcy5fZGltZW5zaW9ucz10IGluc3RhbmNlb2YgQXJyYXk/dC5sZW5ndGg6MCxzLmNhbGwodGhpcyksZC5jYWxsKHRoaXMsaSksYS5jYWxsKHRoaXMsdCksdm9pZCBsLmNhbGwodGhpcyxlKSk6KHRoaXMucmVzZXQodCksdm9pZChlJiZlKCkpKX0saS5leHBvcnRzPWV9LHtcIi4uL21hdGgvVmVjdG9yXCI6NDEsXCIuLi9waHlzaWNzL1BoeXNpY3NFbmdpbmVcIjo0OCxcIi4uL3BoeXNpY3MvYm9kaWVzL1BhcnRpY2xlXCI6NTEsXCIuLi9waHlzaWNzL2NvbnN0cmFpbnRzL1dhbGxcIjo2MCxcIi4uL3BoeXNpY3MvZm9yY2VzL1NwcmluZ1wiOjY4fV0sOTI6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtDYWNoZWRNYXA6dChcIi4vQ2FjaGVkTWFwXCIpLEVhc2luZzp0KFwiLi9FYXNpbmdcIiksTXVsdGlwbGVUcmFuc2l0aW9uOnQoXCIuL011bHRpcGxlVHJhbnNpdGlvblwiKSxTbmFwVHJhbnNpdGlvbjp0KFwiLi9TbmFwVHJhbnNpdGlvblwiKSxTcHJpbmdUcmFuc2l0aW9uOnQoXCIuL1NwcmluZ1RyYW5zaXRpb25cIiksVHJhbnNpdGlvbmFibGU6dChcIi4vVHJhbnNpdGlvbmFibGVcIiksVHJhbnNpdGlvbmFibGVUcmFuc2Zvcm06dChcIi4vVHJhbnNpdGlvbmFibGVUcmFuc2Zvcm1cIiksVHdlZW5UcmFuc2l0aW9uOnQoXCIuL1R3ZWVuVHJhbnNpdGlvblwiKSxXYWxsVHJhbnNpdGlvbjp0KFwiLi9XYWxsVHJhbnNpdGlvblwiKX19LHtcIi4vQ2FjaGVkTWFwXCI6ODMsXCIuL0Vhc2luZ1wiOjg0LFwiLi9NdWx0aXBsZVRyYW5zaXRpb25cIjo4NSxcIi4vU25hcFRyYW5zaXRpb25cIjo4NixcIi4vU3ByaW5nVHJhbnNpdGlvblwiOjg3LFwiLi9UcmFuc2l0aW9uYWJsZVwiOjg4LFwiLi9UcmFuc2l0aW9uYWJsZVRyYW5zZm9ybVwiOjg5LFwiLi9Ud2VlblRyYW5zaXRpb25cIjo5MCxcIi4vV2FsbFRyYW5zaXRpb25cIjo5MX1dLDkzOltmdW5jdGlvbih0LGkpe3ZhciBlPXswOjQ4LDE6NDksMjo1MCwzOjUxLDQ6NTIsNTo1Myw2OjU0LDc6NTUsODo1Niw5OjU3LGE6OTcsYjo5OCxjOjk5LGQ6MTAwLGU6MTAxLGY6MTAyLGc6MTAzLGg6MTA0LGk6MTA1LGo6MTA2LGs6MTA3LGw6MTA4LG06MTA5LG46MTEwLG86MTExLHA6MTEyLHE6MTEzLHI6MTE0LHM6MTE1LHQ6MTE2LHU6MTE3LHY6MTE4LHc6MTE5LHg6MTIwLHk6MTIxLHo6MTIyLEE6NjUsQjo2NixDOjY3LEQ6NjgsRTo2OSxGOjcwLEc6NzEsSDo3MixJOjczLEo6NzQsSzo3NSxMOjc2LE06NzcsTjo3OCxPOjc5LFA6ODAsUTo4MSxSOjgyLFM6ODMsVDo4NCxVOjg1LFY6ODYsVzo4NyxYOjg4LFk6ODksWjo5MCxFTlRFUjoxMyxMRUZUX0FSUk9XOjM3LFJJR0hUX0FSUk9XOjM5LFVQX0FSUk9XOjM4LERPV05fQVJST1c6NDAsU1BBQ0U6MzIsU0hJRlQ6MTYsVEFCOjl9O2kuZXhwb3J0cz1lfSx7fV0sOTQ6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gYy5vbihwLHQpLHR9ZnVuY3Rpb24gbih0LGkpe3ZhciBuPXUoKSxvPWZ1bmN0aW9uKCl7dmFyIGU9dSgpO2Utbj49aSYmKHQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGMucmVtb3ZlTGlzdGVuZXIocCxvKSl9O3JldHVybiBlKG8pfWZ1bmN0aW9uIG8odCxpKXt2YXIgbj11KCksbz1mdW5jdGlvbigpe3ZhciBlPXUoKTtlLW4+PWkmJih0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuPXUoKSl9O3JldHVybiBlKG8pfWZ1bmN0aW9uIHModCxpKXtpZih2b2lkIDA9PT1pKXJldHVybiB2b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtpLS0sMD49aSYmKHQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEobikpfTtyZXR1cm4gZShuKX1mdW5jdGlvbiByKHQsaSl7aT1pfHwxO3ZhciBuPWksbz1mdW5jdGlvbigpe2ktLSwwPj1pJiYodC5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT1uKX07cmV0dXJuIGUobyl9ZnVuY3Rpb24gYSh0KXtjLnJlbW92ZUxpc3RlbmVyKHAsdCl9ZnVuY3Rpb24gaCh0LGkpe3ZhciBlLG8scyxyLGg7cmV0dXJuIGZ1bmN0aW9uKCl7bz10aGlzLGg9YXJndW1lbnRzLHM9dSgpO3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGE9dS1zO2k+YT9lPW4oYyxpLWEpOihlPW51bGwscj10LmFwcGx5KG8saCkpfTtyZXR1cm4gYShlKSxlPW4oYyxpKSxyfX12YXIgYz10KFwiLi4vY29yZS9FbmdpbmVcIikscD1cInByZXJlbmRlclwiLHU9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P2Z1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX06ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKX07aS5leHBvcnRzPXtzZXRUaW1lb3V0Om4sc2V0SW50ZXJ2YWw6byxkZWJvdW5jZTpoLGFmdGVyOnMsZXZlcnk6cixjbGVhcjphfX0se1wiLi4vY29yZS9FbmdpbmVcIjo0fV0sOTU6W2Z1bmN0aW9uKHQsaSl7dmFyIGU9e307ZS5EaXJlY3Rpb249e1g6MCxZOjEsWjoyfSxlLmFmdGVyPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dDtyZXR1cm4gZnVuY3Rpb24oKXtlLS0sMD09PWUmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sZS5sb2FkVVJMPWZ1bmN0aW9uKHQsaSl7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O2Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXRoaXMucmVhZHlTdGF0ZSYmaSYmaSh0aGlzLnJlc3BvbnNlVGV4dCl9LGUub3BlbihcIkdFVFwiLHQpLGUuc2VuZCgpfSxlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnRGcm9tSFRNTD1mdW5jdGlvbih0KXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuaW5uZXJIVE1MPXQ7Zm9yKHZhciBlPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpLmhhc0NoaWxkTm9kZXMoKTspZS5hcHBlbmRDaGlsZChpLmZpcnN0Q2hpbGQpO3JldHVybiBlfSxlLmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtpPXQgaW5zdGFuY2VvZiBBcnJheT9bXTp7fTtmb3IodmFyIG4gaW4gdClpZihcIm9iamVjdFwiPT10eXBlb2YgdFtuXSYmbnVsbCE9PXRbbl0paWYodFtuXWluc3RhbmNlb2YgQXJyYXkpe2lbbl09bmV3IEFycmF5KHRbbl0ubGVuZ3RoKTtmb3IodmFyIG89MDtvPHRbbl0ubGVuZ3RoO28rKylpW25dW29dPWUuY2xvbmUodFtuXVtvXSl9ZWxzZSBpW25dPWUuY2xvbmUodFtuXSk7ZWxzZSBpW25dPXRbbl19ZWxzZSBpPXQ7cmV0dXJuIGl9LGkuZXhwb3J0cz1lfSx7fV0sOTY6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtLZXlDb2Rlczp0KFwiLi9LZXlDb2Rlc1wiKSxUaW1lcjp0KFwiLi9UaW1lclwiKSxVdGlsaXR5OnQoXCIuL1V0aWxpdHlcIil9fSx7XCIuL0tleUNvZGVzXCI6OTMsXCIuL1RpbWVyXCI6OTQsXCIuL1V0aWxpdHlcIjo5NX1dLDk3OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUodGhpcy5jb25zdHJ1Y3Rvci5ERUZBVUxUX09QVElPTlN8fGUuREVGQVVMVF9PUFRJT05TKSx0aGlzLl9vcHRpb25zTWFuYWdlcj1uZXcgcyh0aGlzLm9wdGlvbnMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLl9ldmVudElucHV0PW5ldyBvLHRoaXMuX2V2ZW50T3V0cHV0PW5ldyBvLG8uc2V0SW5wdXRIYW5kbGVyKHRoaXMsdGhpcy5fZXZlbnRJbnB1dCksby5zZXRPdXRwdXRIYW5kbGVyKHRoaXMsdGhpcy5fZXZlbnRPdXRwdXQpLHRoaXMuX2lkPW4ucmVnaXN0ZXIodGhpcyl9dmFyIG49dChcIi4uL2NvcmUvRW50aXR5XCIpLG89KHQoXCIuLi9jb3JlL1RyYW5zZm9ybVwiKSx0KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIikpLHM9dChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIik7ZS5ERUZBVUxUX09QVElPTlM9e30sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uc01hbmFnZXIuc2V0T3B0aW9ucyh0KX0sZS5wcm90b3R5cGUuZ2V0T3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uc01hbmFnZXIuZ2V0T3B0aW9ucyh0KX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXt9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0VudGl0eVwiOjUsXCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjcsXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi9jb3JlL1RyYW5zZm9ybVwiOjE1fV0sOTg6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3RhdGU9bmV3IGEoMCksdGhpcy5faXNPcGVuPSExLHRoaXMuc2V0T3V0cHV0RnVuY3Rpb24oZnVuY3Rpb24odCxpLGUpe3ZhciBvPW4uY2FsbCh0aGlzKSxyPXRoaXMub3B0aW9ucy5kaXJlY3Rpb249PT1oLkRpcmVjdGlvbi5YP3MudHJhbnNsYXRlKG8qaSwwLC4wMDEqKG8tMSkqaSk6cy50cmFuc2xhdGUoMCxvKmksLjAwMSooby0xKSppKSxhPXQucmVuZGVyKCk7aWYodGhpcy5vcHRpb25zLnN0YWNrUm90YXRpb24pe3ZhciBjPXRoaXMub3B0aW9ucy5zdGFja1JvdGF0aW9uKmUqKDEtbyk7YT17dHJhbnNmb3JtOnMucm90YXRlWihjKSxvcmlnaW46Wy41LC41XSx0YXJnZXQ6YX19cmV0dXJue3RyYW5zZm9ybTpyLHNpemU6dC5nZXRTaXplKCksdGFyZ2V0OmF9fSl9ZnVuY3Rpb24gbih0KXtyZXR1cm4gdD90aGlzLl9pc09wZW4/MTowOnRoaXMuc3RhdGUuZ2V0KCl9ZnVuY3Rpb24gbyh0LGksZSl7dGhpcy5zdGF0ZS5oYWx0KCksdGhpcy5zdGF0ZS5zZXQodCxpLGUpfXZhciBzPXQoXCIuLi9jb3JlL1RyYW5zZm9ybVwiKSxyPXQoXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCIpLGE9dChcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCIpLGg9dChcIi4uL3V0aWxpdGllcy9VdGlsaXR5XCIpLGM9dChcIi4vU2VxdWVudGlhbExheW91dFwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXIucGF0Y2goYy5ERUZBVUxUX09QVElPTlMse3RyYW5zaXRpb246e2N1cnZlOlwiZWFzZU91dEJvdW5jZVwiLGR1cmF0aW9uOjUwMH0sc3RhY2tSb3RhdGlvbjowfSksZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3ZhciB0PWMucHJvdG90eXBlLmdldFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dGhpcy5faXRlbXM/dGhpcy5faXRlbXMuZ2V0KCkuZ2V0U2l6ZSgpOlswLDBdO2l8fChpPVswLDBdKTt2YXIgZT1uLmNhbGwodGhpcyksbz0xLWU7cmV0dXJuW2lbMF0qbyt0WzBdKmUsaVsxXSpvK3RbMV0qZV19LGUucHJvdG90eXBlLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09wZW59LGUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCl7dGhpcy5faXNPcGVuPSEwLG8uY2FsbCh0aGlzLDEsdGhpcy5vcHRpb25zLnRyYW5zaXRpb24sdCl9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQpe3RoaXMuX2lzT3Blbj0hMSxvLmNhbGwodGhpcywwLHRoaXMub3B0aW9ucy50cmFuc2l0aW9uLHQpfSxlLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24odCl7dGhpcy5faXNPcGVuP3RoaXMuY2xvc2UodCk6dGhpcy5vcGVuKHQpfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiOjEwLFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCI6ODgsXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiOjk1LFwiLi9TZXF1ZW50aWFsTGF5b3V0XCI6MTEwfV0sOTk6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5fb3B0aW9uc01hbmFnZXI9bmV3IHAodGhpcy5vcHRpb25zKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5fcG9zaXRpb249bmV3IHUoMCksdGhpcy5fZGlyZWN0aW9uPW4odGhpcy5vcHRpb25zLnNpZGUpLHRoaXMuX29yaWVudGF0aW9uPW8odGhpcy5vcHRpb25zLnNpZGUpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jYWNoZWRMZW5ndGg9MCx0aGlzLmRyYXdlcj1uZXcgaCx0aGlzLmNvbnRlbnQ9bmV3IGgsdGhpcy5fZXZlbnRJbnB1dD1uZXcgbCx0aGlzLl9ldmVudE91dHB1dD1uZXcgbCxsLnNldElucHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50SW5wdXQpLGwuc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KSx0aGlzLl9ldmVudElucHV0Lm9uKFwidXBkYXRlXCIsci5iaW5kKHRoaXMpKSx0aGlzLl9ldmVudElucHV0Lm9uKFwiZW5kXCIsYS5iaW5kKHRoaXMpKX1mdW5jdGlvbiBuKHQpe3ZhciBpPWUuU0lERVM7cmV0dXJuIHQ9PT1pLkxFRlR8fHQ9PT1pLlJJR0hUP2Y6ZH1mdW5jdGlvbiBvKHQpe3ZhciBpPWUuU0lERVM7cmV0dXJuIHQ9PT1pLkxFRlR8fHQ9PT1pLlRPUD8xOi0xfWZ1bmN0aW9uIHModCl7dmFyIGksZT10aGlzLm9wdGlvbnM7aWYoZS5kcmF3ZXJMZW5ndGgpaT1lLmRyYXdlckxlbmd0aDtlbHNle3ZhciBuPXQuZ2V0U2l6ZSgpO2k9bj9uW3RoaXMuX2RpcmVjdGlvbl06ZS5kcmF3ZXJMZW5ndGh9cmV0dXJuIHRoaXMuX29yaWVudGF0aW9uKml9ZnVuY3Rpb24gcih0KXt2YXIgaSxlLG49dGhpcy5nZXRQb3NpdGlvbigpK3QuZGVsdGE7dGhpcy5fY2FjaGVkTGVuZ3RoPXMuY2FsbCh0aGlzLHRoaXMuZHJhd2VyKSwxPT09dGhpcy5fb3JpZW50YXRpb24/KGk9MCxlPXRoaXMuX2NhY2hlZExlbmd0aCk6KGk9dGhpcy5fY2FjaGVkTGVuZ3RoLGU9MCksbj5lP249ZTppPm4mJihuPWkpLHRoaXMuc2V0UG9zaXRpb24obil9ZnVuY3Rpb24gYSh0KXt2YXIgaT10LnZlbG9jaXR5LGU9dGhpcy5fb3JpZW50YXRpb24qdGhpcy5nZXRQb3NpdGlvbigpLG49dGhpcy5vcHRpb25zLG89dGhpcy5fb3JpZW50YXRpb24qdGhpcy5fY2FjaGVkTGVuZ3RoLHM9bi5wb3NpdGlvblRocmVzaG9sZHx8by8yLHI9bi52ZWxvY2l0eVRocmVzaG9sZDtpZihuLnRyYW5zaXRpb24gaW5zdGFuY2VvZiBPYmplY3QmJihuLnRyYW5zaXRpb24udmVsb2NpdHk9dC52ZWxvY2l0eSksMD09PWUpcmV0dXJuIHZvaWQodGhpcy5faXNPcGVuPSExKTtpZihlPT09bylyZXR1cm4gdm9pZCh0aGlzLl9pc09wZW49ITApO3ZhciBhPU1hdGguYWJzKGkpPnJ8fCF0aGlzLl9pc09wZW4mJmU+c3x8dGhpcy5faXNPcGVuJiZzPmU7YT90aGlzLnRvZ2dsZSgpOnRoaXMucmVzZXQoKX12YXIgaD10KFwiLi4vY29yZS9SZW5kZXJOb2RlXCIpLGM9dChcIi4uL2NvcmUvVHJhbnNmb3JtXCIpLHA9dChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIiksdT10KFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIiksbD10KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIiksZj0wLGQ9MTtlLlNJREVTPXtMRUZUOjAsVE9QOjEsUklHSFQ6MixCT1RUT006M30sZS5ERUZBVUxUX09QVElPTlM9e3NpZGU6ZS5TSURFUy5MRUZULGRyYXdlckxlbmd0aDowLHZlbG9jaXR5VGhyZXNob2xkOjAscG9zaXRpb25UaHJlc2hvbGQ6MCx0cmFuc2l0aW9uOiEwfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3RoaXMuX29wdGlvbnNNYW5hZ2VyLnNldE9wdGlvbnModCksdm9pZCAwIT09dC5zaWRlJiYodGhpcy5fZGlyZWN0aW9uPW4odC5zaWRlKSx0aGlzLl9vcmllbnRhdGlvbj1vKHQuc2lkZSkpfSxlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsaSl7dCBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYoaT10KSx2b2lkIDA9PT10JiYodD10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiksdGhpcy5fY2FjaGVkTGVuZ3RoPXMuY2FsbCh0aGlzLHRoaXMuZHJhd2VyKSx0aGlzLnNldFBvc2l0aW9uKHRoaXMuX2NhY2hlZExlbmd0aCx0LGkpLHRoaXMuX2lzT3Blbnx8KHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwib3BlblwiKSl9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQsaSl7dCBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYoaT10KSx2b2lkIDA9PT10JiYodD10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiksdGhpcy5zZXRQb3NpdGlvbigwLHQsaSksdGhpcy5faXNPcGVuJiYodGhpcy5faXNPcGVuPSExLHRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJjbG9zZVwiKSl9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHQsaSxlKXt0aGlzLl9wb3NpdGlvbi5pc0FjdGl2ZSgpJiZ0aGlzLl9wb3NpdGlvbi5oYWx0KCksdGhpcy5fcG9zaXRpb24uc2V0KHQsaSxlKX0sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb24uZ2V0KCl9LGUucHJvdG90eXBlLnNldFByb2dyZXNzPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdGhpcy5fcG9zaXRpb24uc2V0KHQqdGhpcy5fY2FjaGVkTGVuZ3RoLGksZSl9LGUucHJvdG90eXBlLmdldFByb2dyZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uLmdldCgpL3RoaXMuX2NhY2hlZExlbmd0aH0sZS5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKHQpe3RoaXMuX2lzT3Blbj90aGlzLmNsb3NlKHQpOnRoaXMub3Blbih0KX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7dGhpcy5faXNPcGVuP3RoaXMub3Blbih0KTp0aGlzLmNsb3NlKHQpfSxlLnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPcGVufSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFBvc2l0aW9uKCk7KCF0aGlzLl9pc09wZW4mJjA+dCYmMT09PXRoaXMuX29yaWVudGF0aW9ufHx0PjAmJi0xPT09dGhpcy5fb3JpZW50YXRpb24pJiYodD0wLHRoaXMuc2V0UG9zaXRpb24odCkpO3ZhciBpPXRoaXMuX2RpcmVjdGlvbj09PWY/Yy50cmFuc2xhdGUodCwwLDApOmMudHJhbnNsYXRlKDAsdCwwKTtyZXR1cm5be3RyYW5zZm9ybTpjLmJlaGluZCx0YXJnZXQ6dGhpcy5kcmF3ZXIucmVuZGVyKCl9LHt0cmFuc2Zvcm06aSx0YXJnZXQ6dGhpcy5jb250ZW50LnJlbmRlcigpfV19LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjcsXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi9jb3JlL1JlbmRlck5vZGVcIjoxMSxcIi4uL2NvcmUvVHJhbnNmb3JtXCI6MTUsXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiOjg4fV0sMTAwOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5fY3VycmVudFRhcmdldD1udWxsLHRoaXMuX3NpemU9W3ZvaWQgMCx2b2lkIDBdLHRoaXMuX2NvbnRyb2xsZXI9bmV3IGgodCksdGhpcy5fY29udHJvbGxlci5pblRyYW5zZm9ybUZyb20oby5jcmVhdGUobi5iaW5kKHRoaXMsMWUtNCkpKSx0aGlzLl9jb250cm9sbGVyLm91dFRyYW5zZm9ybUZyb20oby5jcmVhdGUobi5iaW5kKHRoaXMsLTFlLTQpKSksdGhpcy5fZXZlbnRJbnB1dD1uZXcgcixyLnNldElucHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50SW5wdXQpLHRoaXMuX2VudGl0eUlkPXMucmVnaXN0ZXIodGhpcyksdCYmdGhpcy5zZXRPcHRpb25zKHQpfWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gYS50cmFuc2xhdGUodGhpcy5fc2l6ZVswXSooMS1pKSwwLHQqKDEtaSkpfXZhciBvPXQoXCIuLi90cmFuc2l0aW9ucy9DYWNoZWRNYXBcIikscz10KFwiLi4vY29yZS9FbnRpdHlcIikscj10KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIiksYT10KFwiLi4vY29yZS9UcmFuc2Zvcm1cIiksaD10KFwiLi9SZW5kZXJDb250cm9sbGVyXCIpO2UucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCl7dGhpcy5fY3VycmVudFRhcmdldCYmdGhpcy5fZXZlbnRJbnB1dC51bnBpcGUodGhpcy5fY3VycmVudFRhcmdldCksdGhpcy5fY3VycmVudFRhcmdldD10LHRoaXMuX2N1cnJlbnRUYXJnZXQmJnRoaXMuX2N1cnJlbnRUYXJnZXQudHJpZ2dlciYmdGhpcy5fZXZlbnRJbnB1dC5waXBlKHRoaXMuX2N1cnJlbnRUYXJnZXQpLHRoaXMuX2NvbnRyb2xsZXIuc2hvdy5hcHBseSh0aGlzLl9jb250cm9sbGVyLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5fY29udHJvbGxlci5zZXRPcHRpb25zKHQpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW50aXR5SWR9LGUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2l6ZVswXT10LnNpemVbMF0sdGhpcy5fc2l6ZVsxXT10LnNpemVbMV0se3RyYW5zZm9ybTp0LnRyYW5zZm9ybSxvcGFjaXR5OnQub3BhY2l0eSxvcmlnaW46dC5vcmlnaW4sc2l6ZTp0LnNpemUsdGFyZ2V0OnRoaXMuX2NvbnRyb2xsZXIucmVuZGVyKCl9fSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FbnRpdHlcIjo1LFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL3RyYW5zaXRpb25zL0NhY2hlZE1hcFwiOjgzLFwiLi9SZW5kZXJDb250cm9sbGVyXCI6MTA2fV0sMTAxOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMub3B0aW9uc01hbmFnZXI9bmV3IGEodGhpcy5vcHRpb25zKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5pZD1zLnJlZ2lzdGVyKHRoaXMpLHRoaXMuX3JhdGlvcz1uZXcgYyh0aGlzLm9wdGlvbnMucmF0aW9zKSx0aGlzLl9ub2Rlcz1bXSx0aGlzLl9zaXplPVswLDBdLHRoaXMuX2NhY2hlZERpcmVjdGlvbj1udWxsLHRoaXMuX2NhY2hlZExlbmd0aHM9W10sdGhpcy5fY2FjaGVkVHJhbnNmb3Jtcz1udWxsLHRoaXMuX3JhdGlvc0RpcnR5PSExLHRoaXMuX2V2ZW50T3V0cHV0PW5ldyBoLGguc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KX1mdW5jdGlvbiBuKHQsaSxuKXt2YXIgbyxzLGEsaCxjPTAscD1pLHU9MDtmb3IodGhpcy5fY2FjaGVkTGVuZ3Rocz1bXSx0aGlzLl9jYWNoZWRUcmFuc2Zvcm1zPVtdLGg9MDtoPHQubGVuZ3RoO2grKylzPXRbaF0sYT10aGlzLl9ub2Rlc1toXSxcIm51bWJlclwiIT10eXBlb2Ygcz9wLT1hLmdldFNpemUoKVtuXXx8MDp1Kz1zO2ZvcihoPTA7aDx0Lmxlbmd0aDtoKyspYT10aGlzLl9ub2Rlc1toXSxzPXRbaF0saT1cIm51bWJlclwiPT10eXBlb2Ygcz9wKnMvdTphLmdldFNpemUoKVtuXSxvPW49PT1lLkRJUkVDVElPTl9YP3IudHJhbnNsYXRlKGMsMCwwKTpyLnRyYW5zbGF0ZSgwLGMsMCksdGhpcy5fY2FjaGVkVHJhbnNmb3Jtcy5wdXNoKG8pLHRoaXMuX2NhY2hlZExlbmd0aHMucHVzaChpKSxjKz1pfWZ1bmN0aW9uIG8odCxpKXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZihcIm51bWJlclwiIT10eXBlb2YgdFtlXSYmdGhpcy5fbm9kZXNbZV0uZ2V0U2l6ZSgpW2ldIT09dGhpcy5fY2FjaGVkTGVuZ3Roc1tlXSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgcz10KFwiLi4vY29yZS9FbnRpdHlcIikscj10KFwiLi4vY29yZS9UcmFuc2Zvcm1cIiksYT10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKSxoPXQoXCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiKSxjPXQoXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiKTtlLkRJUkVDVElPTl9YPTAsZS5ESVJFQ1RJT05fWT0xLGUuREVGQVVMVF9PUFRJT05TPXtkaXJlY3Rpb246ZS5ESVJFQ1RJT05fWCx0cmFuc2l0aW9uOiExLHJhdGlvczpbXX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpfSxlLnByb3RvdHlwZS5zZXF1ZW5jZUZyb209ZnVuY3Rpb24odCl7aWYodGhpcy5fbm9kZXM9dCwwPT09dGhpcy5fcmF0aW9zLmdldCgpLmxlbmd0aCl7Zm9yKHZhciBpPVtdLGU9MDtlPHRoaXMuX25vZGVzLmxlbmd0aDtlKyspaS5wdXNoKDEpO3RoaXMuc2V0UmF0aW9zKGkpfX0sZS5wcm90b3R5cGUuc2V0UmF0aW9zPWZ1bmN0aW9uKHQsaSxlKXt2b2lkIDA9PT1pJiYoaT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbik7dmFyIG49dGhpcy5fcmF0aW9zOzA9PT1uLmdldCgpLmxlbmd0aCYmKGk9dm9pZCAwKSxuLmlzQWN0aXZlKCkmJm4uaGFsdCgpLG4uc2V0KHQsaSxlKSx0aGlzLl9yYXRpb3NEaXJ0eT0hMH0sZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplfSxlLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24odCl7dmFyIGksZT10LnNpemUscz10LnRyYW5zZm9ybSxhPXQub3JpZ2luLGg9dC5vcGFjaXR5LGM9dGhpcy5fcmF0aW9zLmdldCgpLHA9dGhpcy5vcHRpb25zLmRpcmVjdGlvbix1PWVbcF07KHUhPT10aGlzLl9zaXplW3BdfHx0aGlzLl9yYXRpb3NEaXJ0eXx8dGhpcy5fcmF0aW9zLmlzQWN0aXZlKCl8fHAhPT10aGlzLl9jYWNoZWREaXJlY3Rpb258fG8uY2FsbCh0aGlzLGMscCkpJiYobi5jYWxsKHRoaXMsYyx1LHApLHUhPT10aGlzLl9zaXplW3BdJiYodGhpcy5fc2l6ZVswXT1lWzBdLHRoaXMuX3NpemVbMV09ZVsxXSkscCE9PXRoaXMuX2NhY2hlZERpcmVjdGlvbiYmKHRoaXMuX2NhY2hlZERpcmVjdGlvbj1wKSx0aGlzLl9yYXRpb3NEaXJ0eSYmKHRoaXMuX3JhdGlvc0RpcnR5PSExKSk7Zm9yKHZhciBsPVtdLGY9MDtmPGMubGVuZ3RoO2YrKylpPVt2b2lkIDAsdm9pZCAwXSx1PXRoaXMuX2NhY2hlZExlbmd0aHNbZl0saVtwXT11LGwucHVzaCh7dHJhbnNmb3JtOnRoaXMuX2NhY2hlZFRyYW5zZm9ybXNbZl0sc2l6ZTppLHRhcmdldDp0aGlzLl9ub2Rlc1tmXS5yZW5kZXIoKX0pO3JldHVybiBlJiYwIT09YVswXSYmMCE9PWFbMV0mJihzPXIubW92ZVRoZW4oWy1lWzBdKmFbMF0sLWVbMV0qYVsxXSwwXSxzKSkse3RyYW5zZm9ybTpzLHNpemU6ZSxvcGFjaXR5OmgsdGFyZ2V0Omx9fSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FbnRpdHlcIjo1LFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiOjEwLFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCI6ODh9XSwxMDI6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5fb3B0aW9uc01hbmFnZXI9bmV3IHModGhpcy5vcHRpb25zKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5hbmdsZT1uZXcgbygwKSx0aGlzLmZyb250Tm9kZT12b2lkIDAsdGhpcy5iYWNrTm9kZT12b2lkIDAsdGhpcy5mbGlwcGVkPSExfXZhciBuPXQoXCIuLi9jb3JlL1RyYW5zZm9ybVwiKSxvPXQoXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiKSxzPSh0KFwiLi4vY29yZS9SZW5kZXJOb2RlXCIpLHQoXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCIpKTtlLkRJUkVDVElPTl9YPTAsZS5ESVJFQ1RJT05fWT0xO3ZhciByPTE7ZS5ERUZBVUxUX09QVElPTlM9e3RyYW5zaXRpb246ITAsZGlyZWN0aW9uOmUuRElSRUNUSU9OX1h9LGUucHJvdG90eXBlLmZsaXA9ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzLmZsaXBwZWQ/MDpNYXRoLlBJO3RoaXMuc2V0QW5nbGUoZSx0LGkpLHRoaXMuZmxpcHBlZD0hdGhpcy5mbGlwcGVkfSxlLnByb3RvdHlwZS5zZXRBbmdsZT1mdW5jdGlvbih0LGksZSl7dm9pZCAwPT09aSYmKGk9dGhpcy5vcHRpb25zLnRyYW5zaXRpb24pLHRoaXMuYW5nbGUuaXNBY3RpdmUoKSYmdGhpcy5hbmdsZS5oYWx0KCksdGhpcy5hbmdsZS5zZXQodCxpLGUpfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpfSxlLnByb3RvdHlwZS5zZXRGcm9udD1mdW5jdGlvbih0KXt0aGlzLmZyb250Tm9kZT10fSxlLnByb3RvdHlwZS5zZXRCYWNrPWZ1bmN0aW9uKHQpe3RoaXMuYmFja05vZGU9dH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQsaSxvPXRoaXMuYW5nbGUuZ2V0KCk7dGhpcy5vcHRpb25zLmRpcmVjdGlvbj09PWUuRElSRUNUSU9OX1g/KHQ9bi5yb3RhdGVZKG8pLGk9bi5yb3RhdGVZKG8rTWF0aC5QSSkpOih0PW4ucm90YXRlWChvKSxpPW4ucm90YXRlWChvK01hdGguUEkpKTt2YXIgcz1bXTtyZXR1cm4gdGhpcy5mcm9udE5vZGUmJnMucHVzaCh7dHJhbnNmb3JtOnQsdGFyZ2V0OnRoaXMuZnJvbnROb2RlLnJlbmRlcigpfSksdGhpcy5iYWNrTm9kZSYmcy5wdXNoKHt0cmFuc2Zvcm06bi5tb3ZlVGhlbihbMCwwLHJdLGkpLHRhcmdldDp0aGlzLmJhY2tOb2RlLnJlbmRlcigpfSksc30saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIjoxMCxcIi4uL2NvcmUvUmVuZGVyTm9kZVwiOjExLFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL3RyYW5zaXRpb25zL1RyYW5zaXRpb25hYmxlXCI6ODh9XSwxMDM6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5vcHRpb25zTWFuYWdlcj1uZXcgdSh0aGlzLm9wdGlvbnMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLmlkPXIucmVnaXN0ZXIodGhpcyksdGhpcy5fbW9kaWZpZXJzPVtdLHRoaXMuX3N0YXRlcz1bXSx0aGlzLl9jb250ZXh0U2l6ZUNhY2hlPVswLDBdLHRoaXMuX2RpbWVuc2lvbnNDYWNoZT1bMCwwXSx0aGlzLl9hY3RpdmVDb3VudD0wLHRoaXMuX2V2ZW50T3V0cHV0PW5ldyBjLGMuc2V0T3V0cHV0SGFuZGxlcih0aGlzLHRoaXMuX2V2ZW50T3V0cHV0KX1mdW5jdGlvbiBuKHQsaSxlKXt2YXIgbj1bdFswXSx0WzFdXTtuWzBdLT10aGlzLm9wdGlvbnMuZ3V0dGVyU2l6ZVswXSooaS0xKSxuWzFdLT10aGlzLm9wdGlvbnMuZ3V0dGVyU2l6ZVsxXSooZS0xKTtmb3IodmFyIHIsYT1NYXRoLnJvdW5kKG5bMV0vZSksaD1NYXRoLnJvdW5kKG5bMF0vaSksYz0wLHA9MCx1PTA7ZT51O3UrKyl7cj0wO2Zvcih2YXIgbD0wO2k+bDtsKyspdm9pZCAwPT09dGhpcy5fbW9kaWZpZXJzW3BdP28uY2FsbCh0aGlzLHAsW2gsYV0sW3IsYywwXSwxKTpzLmNhbGwodGhpcyxwLFtoLGFdLFtyLGMsMF0sMSkscCsrLHIrPWgrdGhpcy5vcHRpb25zLmd1dHRlclNpemVbMF07Yys9YSt0aGlzLm9wdGlvbnMuZ3V0dGVyU2l6ZVsxXX1mb3IodGhpcy5fZGltZW5zaW9uc0NhY2hlPVt0aGlzLm9wdGlvbnMuZGltZW5zaW9uc1swXSx0aGlzLm9wdGlvbnMuZGltZW5zaW9uc1sxXV0sdGhpcy5fY29udGV4dFNpemVDYWNoZT1bdFswXSx0WzFdXSx0aGlzLl9hY3RpdmVDb3VudD1lKmksdT10aGlzLl9hY3RpdmVDb3VudDt1PHRoaXMuX21vZGlmaWVycy5sZW5ndGg7dSsrKXMuY2FsbCh0aGlzLHUsW01hdGgucm91bmQoaCksTWF0aC5yb3VuZChhKV0sWzAsMF0sMCk7dGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcInJlZmxvd1wiKX1mdW5jdGlvbiBvKHQsaSxlLG4pe3ZhciBvPXt0cmFuc2Zvcm06bmV3IGYoYS50cmFuc2xhdGUuYXBwbHkobnVsbCxlKSksb3BhY2l0eTpuZXcgbChuKSxzaXplOm5ldyBsKGkpfSxzPW5ldyBwKHt0cmFuc2Zvcm06by50cmFuc2Zvcm0sb3BhY2l0eTpvLm9wYWNpdHksc2l6ZTpvLnNpemV9KTt0aGlzLl9zdGF0ZXNbdF09byx0aGlzLl9tb2RpZmllcnNbdF09c31mdW5jdGlvbiBzKHQsaSxlLG4pe3ZhciBvPXRoaXMuX3N0YXRlc1t0XSxzPW8uc2l6ZSxyPW8ub3BhY2l0eSxhPW8udHJhbnNmb3JtLGg9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247YS5oYWx0KCksci5oYWx0KCkscy5oYWx0KCksYS5zZXRUcmFuc2xhdGUoZSxoKSxzLnNldChpLGgpLHIuc2V0KG4saCl9dmFyIHI9dChcIi4uL2NvcmUvRW50aXR5XCIpLGE9KHQoXCIuLi9jb3JlL1JlbmRlck5vZGVcIiksdChcIi4uL2NvcmUvVHJhbnNmb3JtXCIpKSxoPXQoXCIuLi9jb3JlL1ZpZXdTZXF1ZW5jZVwiKSxjPXQoXCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiKSxwPXQoXCIuLi9jb3JlL01vZGlmaWVyXCIpLHU9dChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIiksbD10KFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIiksZj10KFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVUcmFuc2Zvcm1cIik7ZS5ERUZBVUxUX09QVElPTlM9e2RpbWVuc2lvbnM6WzEsMV0sdHJhbnNpdGlvbjohMSxndXR0ZXJTaXplOlswLDBdfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpfSxlLnByb3RvdHlwZS5zZXF1ZW5jZUZyb209ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEFycmF5JiYodD1uZXcgaCh0KSksdGhpcy5zZXF1ZW5jZT10fSxlLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24odCl7dmFyIGk9dC50cmFuc2Zvcm0sZT10Lm9wYWNpdHksbz10Lm9yaWdpbixzPXQuc2l6ZSxyPXRoaXMub3B0aW9ucy5kaW1lbnNpb25zWzBdLGg9dGhpcy5vcHRpb25zLmRpbWVuc2lvbnNbMV07KHNbMF0hPT10aGlzLl9jb250ZXh0U2l6ZUNhY2hlWzBdfHxzWzFdIT09dGhpcy5fY29udGV4dFNpemVDYWNoZVsxXXx8ciE9PXRoaXMuX2RpbWVuc2lvbnNDYWNoZVswXXx8aCE9PXRoaXMuX2RpbWVuc2lvbnNDYWNoZVsxXSkmJm4uY2FsbCh0aGlzLHMscixoKTtmb3IodmFyIGM9dGhpcy5zZXF1ZW5jZSxwPVtdLHU9MDtjJiZ1PHRoaXMuX21vZGlmaWVycy5sZW5ndGg7KXt2YXIgbD1jLmdldCgpLGY9dGhpcy5fbW9kaWZpZXJzW3VdO3U+PXRoaXMuX2FjdGl2ZUNvdW50JiZ0aGlzLl9zdGF0ZXNbdV0ub3BhY2l0eS5pc0FjdGl2ZSgpJiYodGhpcy5fbW9kaWZpZXJzLnNwbGljZSh1LDEpLHRoaXMuX3N0YXRlcy5zcGxpY2UodSwxKSksbCYmcC5wdXNoKGYubW9kaWZ5KHtvcmlnaW46byx0YXJnZXQ6bC5yZW5kZXIoKX0pKSxjPWMuZ2V0TmV4dCgpLHUrK31yZXR1cm4gcyYmKGk9YS5tb3ZlVGhlbihbLXNbMF0qb1swXSwtc1sxXSpvWzFdLDBdLGkpKSx7dHJhbnNmb3JtOmksb3BhY2l0eTplLHNpemU6cyx0YXJnZXQ6cH19LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0VudGl0eVwiOjUsXCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjcsXCIuLi9jb3JlL01vZGlmaWVyXCI6OSxcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIjoxMCxcIi4uL2NvcmUvUmVuZGVyTm9kZVwiOjExLFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL2NvcmUvVmlld1NlcXVlbmNlXCI6MTcsXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiOjg4LFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVUcmFuc2Zvcm1cIjo4OX1dLDEwNDpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMub3B0aW9ucz1PYmplY3QuY3JlYXRlKGUuREVGQVVMVF9PUFRJT05TKSx0aGlzLl9vcHRpb25zTWFuYWdlcj1uZXcgYyh0aGlzLm9wdGlvbnMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLl9lbnRpdHlJZD1yLnJlZ2lzdGVyKHRoaXMpLHRoaXMuaGVhZGVyPW5ldyBhLHRoaXMuZm9vdGVyPW5ldyBhLHRoaXMuY29udGVudD1uZXcgYX1mdW5jdGlvbiBuKHQsaSl7dmFyIGU9dC5nZXRTaXplKCk7cmV0dXJuIGU/ZVt0aGlzLm9wdGlvbnMuZGlyZWN0aW9uXTppfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXJlY3Rpb249PT1lLkRJUkVDVElPTl9YP2gudHJhbnNsYXRlKHQsMCwwKTpoLnRyYW5zbGF0ZSgwLHQsMCl9ZnVuY3Rpb24gcyh0LGkpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uPT09ZS5ESVJFQ1RJT05fWD9bdCxpWzFdXTpbaVswXSx0XX12YXIgcj10KFwiLi4vY29yZS9FbnRpdHlcIiksYT10KFwiLi4vY29yZS9SZW5kZXJOb2RlXCIpLGg9dChcIi4uL2NvcmUvVHJhbnNmb3JtXCIpLGM9dChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIik7ZS5ESVJFQ1RJT05fWD0wLGUuRElSRUNUSU9OX1k9MSxlLkRFRkFVTFRfT1BUSU9OUz17ZGlyZWN0aW9uOmUuRElSRUNUSU9OX1ksaGVhZGVyU2l6ZTp2b2lkIDAsZm9vdGVyU2l6ZTp2b2lkIDAsZGVmYXVsdEhlYWRlclNpemU6MCxkZWZhdWx0Rm9vdGVyU2l6ZTowfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW50aXR5SWR9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29wdGlvbnNNYW5hZ2VyLnNldE9wdGlvbnModCl9LGUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXt2YXIgaT10LnRyYW5zZm9ybSxlPXQub3JpZ2luLHI9dC5zaXplLGE9dC5vcGFjaXR5LGM9dm9pZCAwIT09dGhpcy5vcHRpb25zLmhlYWRlclNpemU/dGhpcy5vcHRpb25zLmhlYWRlclNpemU6bi5jYWxsKHRoaXMsdGhpcy5oZWFkZXIsdGhpcy5vcHRpb25zLmRlZmF1bHRIZWFkZXJTaXplKSxwPXZvaWQgMCE9PXRoaXMub3B0aW9ucy5mb290ZXJTaXplP3RoaXMub3B0aW9ucy5mb290ZXJTaXplOm4uY2FsbCh0aGlzLHRoaXMuZm9vdGVyLHRoaXMub3B0aW9ucy5kZWZhdWx0Rm9vdGVyU2l6ZSksdT1yW3RoaXMub3B0aW9ucy5kaXJlY3Rpb25dLWMtcDtyJiYoaT1oLm1vdmVUaGVuKFstclswXSplWzBdLC1yWzFdKmVbMV0sMF0saSkpO3ZhciBsPVt7c2l6ZTpzLmNhbGwodGhpcyxjLHIpLHRhcmdldDp0aGlzLmhlYWRlci5yZW5kZXIoKX0se3RyYW5zZm9ybTpvLmNhbGwodGhpcyxjKSxzaXplOnMuY2FsbCh0aGlzLHUsciksdGFyZ2V0OnRoaXMuY29udGVudC5yZW5kZXIoKX0se3RyYW5zZm9ybTpvLmNhbGwodGhpcyxjK3UpLHNpemU6cy5jYWxsKHRoaXMscCxyKSx0YXJnZXQ6dGhpcy5mb290ZXIucmVuZGVyKCl9XTtyZXR1cm57dHJhbnNmb3JtOmksb3BhY2l0eTphLHNpemU6cix0YXJnZXQ6bH19LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0VudGl0eVwiOjUsXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi9jb3JlL1JlbmRlck5vZGVcIjoxMSxcIi4uL2NvcmUvVHJhbnNmb3JtXCI6MTV9XSwxMDU6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5fb3B0aW9uc01hbmFnZXI9bmV3IGEodGhpcy5vcHRpb25zKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5fc2hvd2luZz0hMSx0aGlzLm5vZGVzPVtdLHRoaXMudHJhbnNmb3Jtcz1bXSx0aGlzLnN0YXRlcz1bXX12YXIgbj10KFwiLi4vY29yZS9UcmFuc2Zvcm1cIiksbz10KFwiLi4vY29yZS9Nb2RpZmllclwiKSxzPXQoXCIuLi9jb3JlL1JlbmRlck5vZGVcIikscj10KFwiLi4vdXRpbGl0aWVzL1V0aWxpdHlcIiksYT10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKSxoPXQoXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiKSxjPXQoXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVRyYW5zZm9ybVwiKTtlLkRFRkFVTFRfT1BUSU9OUz17aW5UcmFuc2Zvcm06bi5zY2FsZSguMDAxLC4wMDEsLjAwMSksaW5PcGFjaXR5OjAsaW5PcmlnaW46Wy41LC41XSxpbkFsaWduOlsuNSwuNV0sb3V0VHJhbnNmb3JtOm4uc2NhbGUoLjAwMSwuMDAxLC4wMDEpLG91dE9wYWNpdHk6MCxvdXRPcmlnaW46Wy41LC41XSxvdXRBbGlnbjpbLjUsLjVdLHNob3dUcmFuc2Zvcm06bi5pZGVudGl0eSxzaG93T3BhY2l0eToxLHNob3dPcmlnaW46Wy41LC41XSxzaG93QWxpZ246Wy41LC41XSxpblRyYW5zaXRpb246ITAsb3V0VHJhbnNpdGlvbjohMCxvdmVybGFwOiExfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpfSxlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKHQsaSxlKXtpZighdClyZXR1cm4gdGhpcy5oaWRlKGUpO2lmKGkgaW5zdGFuY2VvZiBGdW5jdGlvbiYmKGU9aSxpPXZvaWQgMCksdGhpcy5fc2hvd2luZyl7aWYoIXRoaXMub3B0aW9ucy5vdmVybGFwKXJldHVybiB0aGlzLmhpZGUodGhpcy5zaG93LmJpbmQodGhpcyx0LGksZSkpO3RoaXMuaGlkZSgpfXRoaXMuX3Nob3dpbmc9ITA7dmFyIG49e3RyYW5zZm9ybTpuZXcgYyh0aGlzLm9wdGlvbnMuaW5UcmFuc2Zvcm0pLG9yaWdpbjpuZXcgaCh0aGlzLm9wdGlvbnMuaW5PcmlnaW4pLGFsaWduOm5ldyBoKHRoaXMub3B0aW9ucy5pbkFsaWduKSxvcGFjaXR5Om5ldyBoKHRoaXMub3B0aW9ucy5pbk9wYWNpdHkpfSxhPW5ldyBvKHt0cmFuc2Zvcm06bi50cmFuc2Zvcm0sb3BhY2l0eTpuLm9wYWNpdHksb3JpZ2luOm4ub3JpZ2luLGFsaWduOm4uYWxpZ259KSxwPW5ldyBzO3AuYWRkKGEpLmFkZCh0KSx0aGlzLm5vZGVzLnB1c2gocCksdGhpcy5zdGF0ZXMucHVzaChuKSx0aGlzLnRyYW5zZm9ybXMucHVzaChhKTt2YXIgdT1lP3IuYWZ0ZXIoMyxlKTp2b2lkIDA7aXx8KGk9dGhpcy5vcHRpb25zLmluVHJhbnNpdGlvbiksbi50cmFuc2Zvcm0uc2V0KHRoaXMub3B0aW9ucy5zaG93VHJhbnNmb3JtLGksdSksbi5vcGFjaXR5LnNldCh0aGlzLm9wdGlvbnMuc2hvd09wYWNpdHksaSx1KSxuLm9yaWdpbi5zZXQodGhpcy5vcHRpb25zLnNob3dPcmlnaW4saSx1KSxuLmFsaWduLnNldCh0aGlzLm9wdGlvbnMuc2hvd0FsaWduLGksdSl9LGUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24odCxpKXtpZih0aGlzLl9zaG93aW5nKXt0aGlzLl9zaG93aW5nPSExLHQgaW5zdGFuY2VvZiBGdW5jdGlvbiYmKGk9dCx0PXZvaWQgMCk7dmFyIGU9dGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aC0xXSxuPXRoaXMudHJhbnNmb3Jtc1t0aGlzLnRyYW5zZm9ybXMubGVuZ3RoLTFdLG89dGhpcy5zdGF0ZXNbdGhpcy5zdGF0ZXMubGVuZ3RoLTFdLHM9ci5hZnRlcigzLGZ1bmN0aW9uKCl7dGhpcy5ub2Rlcy5zcGxpY2UodGhpcy5ub2Rlcy5pbmRleE9mKGUpLDEpLHRoaXMuc3RhdGVzLnNwbGljZSh0aGlzLnN0YXRlcy5pbmRleE9mKG8pLDEpLHRoaXMudHJhbnNmb3Jtcy5zcGxpY2UodGhpcy50cmFuc2Zvcm1zLmluZGV4T2YobiksMSksaSYmaS5jYWxsKHRoaXMpfS5iaW5kKHRoaXMpKTt0fHwodD10aGlzLm9wdGlvbnMub3V0VHJhbnNpdGlvbiksby50cmFuc2Zvcm0uc2V0KHRoaXMub3B0aW9ucy5vdXRUcmFuc2Zvcm0sdCxzKSxvLm9wYWNpdHkuc2V0KHRoaXMub3B0aW9ucy5vdXRPcGFjaXR5LHQscyksby5vcmlnaW4uc2V0KHRoaXMub3B0aW9ucy5vdXRPcmlnaW4sdCxzKSxvLmFsaWduLnNldCh0aGlzLm9wdGlvbnMub3V0QWxpZ24sdCxzKX19LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxpPTA7aTx0aGlzLm5vZGVzLmxlbmd0aDtpKyspdC5wdXNoKHRoaXMubm9kZXNbaV0ucmVuZGVyKCkpO3JldHVybiB0fSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9Nb2RpZmllclwiOjksXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi9jb3JlL1JlbmRlck5vZGVcIjoxMSxcIi4uL2NvcmUvVHJhbnNmb3JtXCI6MTUsXCIuLi90cmFuc2l0aW9ucy9UcmFuc2l0aW9uYWJsZVwiOjg4LFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVUcmFuc2Zvcm1cIjo4OSxcIi4uL3V0aWxpdGllcy9VdGlsaXR5XCI6OTV9XSwxMDY6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe2guYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3Nob3dpbmc9LTEsdGhpcy5fb3V0Z29pbmdSZW5kZXJhYmxlcz1bXSx0aGlzLl9uZXh0UmVuZGVyYWJsZT1udWxsLHRoaXMuX3JlbmRlcmFibGVzPVtdLHRoaXMuX25vZGVzPVtdLHRoaXMuX21vZGlmaWVycz1bXSx0aGlzLl9zdGF0ZXM9W10sdGhpcy5pblRyYW5zZm9ybU1hcD1lLkRlZmF1bHRNYXAudHJhbnNmb3JtLHRoaXMuaW5PcGFjaXR5TWFwPWUuRGVmYXVsdE1hcC5vcGFjaXR5LHRoaXMuaW5PcmlnaW5NYXA9ZS5EZWZhdWx0TWFwLm9yaWdpbix0aGlzLm91dFRyYW5zZm9ybU1hcD1lLkRlZmF1bHRNYXAudHJhbnNmb3JtLHRoaXMub3V0T3BhY2l0eU1hcD1lLkRlZmF1bHRNYXAub3BhY2l0eSx0aGlzLm91dE9yaWdpbk1hcD1lLkRlZmF1bHRNYXAub3JpZ2luLHRoaXMuX291dHB1dD1bXVxufWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gdChpLmdldCgpKX12YXIgbz10KFwiLi4vY29yZS9Nb2RpZmllclwiKSxzPXQoXCIuLi9jb3JlL1JlbmRlck5vZGVcIikscj10KFwiLi4vY29yZS9UcmFuc2Zvcm1cIiksYT10KFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIiksaD10KFwiLi4vY29yZS9WaWV3XCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5ERUZBVUxUX09QVElPTlM9e2luVHJhbnNpdGlvbjohMCxvdXRUcmFuc2l0aW9uOiEwLG92ZXJsYXA6ITB9LGUuRGVmYXVsdE1hcD17dHJhbnNmb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHIuaWRlbnRpdHl9LG9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LG9yaWdpbjpudWxsfSxlLnByb3RvdHlwZS5pblRyYW5zZm9ybUZyb209ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXRoaXMuaW5UcmFuc2Zvcm1NYXA9dDtlbHNle2lmKCF0fHwhdC5nZXQpdGhyb3cgbmV3IEVycm9yKFwiaW5UcmFuc2Zvcm1Gcm9tIHRha2VzIG9ubHkgZnVuY3Rpb24gb3IgZ2V0dGVyIG9iamVjdFwiKTt0aGlzLmluVHJhbnNmb3JtTWFwPXQuZ2V0LmJpbmQodCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmluT3BhY2l0eUZyb209ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXRoaXMuaW5PcGFjaXR5TWFwPXQ7ZWxzZXtpZighdHx8IXQuZ2V0KXRocm93IG5ldyBFcnJvcihcImluT3BhY2l0eUZyb20gdGFrZXMgb25seSBmdW5jdGlvbiBvciBnZXR0ZXIgb2JqZWN0XCIpO3RoaXMuaW5PcGFjaXR5TWFwPXQuZ2V0LmJpbmQodCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmluT3JpZ2luRnJvbT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgRnVuY3Rpb24pdGhpcy5pbk9yaWdpbk1hcD10O2Vsc2V7aWYoIXR8fCF0LmdldCl0aHJvdyBuZXcgRXJyb3IoXCJpbk9yaWdpbkZyb20gdGFrZXMgb25seSBmdW5jdGlvbiBvciBnZXR0ZXIgb2JqZWN0XCIpO3RoaXMuaW5PcmlnaW5NYXA9dC5nZXQuYmluZCh0KX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUub3V0VHJhbnNmb3JtRnJvbT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgRnVuY3Rpb24pdGhpcy5vdXRUcmFuc2Zvcm1NYXA9dDtlbHNle2lmKCF0fHwhdC5nZXQpdGhyb3cgbmV3IEVycm9yKFwib3V0VHJhbnNmb3JtRnJvbSB0YWtlcyBvbmx5IGZ1bmN0aW9uIG9yIGdldHRlciBvYmplY3RcIik7dGhpcy5vdXRUcmFuc2Zvcm1NYXA9dC5nZXQuYmluZCh0KX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUub3V0T3BhY2l0eUZyb209ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXRoaXMub3V0T3BhY2l0eU1hcD10O2Vsc2V7aWYoIXR8fCF0LmdldCl0aHJvdyBuZXcgRXJyb3IoXCJvdXRPcGFjaXR5RnJvbSB0YWtlcyBvbmx5IGZ1bmN0aW9uIG9yIGdldHRlciBvYmplY3RcIik7dGhpcy5vdXRPcGFjaXR5TWFwPXQuZ2V0LmJpbmQodCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLm91dE9yaWdpbkZyb209ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXRoaXMub3V0T3JpZ2luTWFwPXQ7ZWxzZXtpZighdHx8IXQuZ2V0KXRocm93IG5ldyBFcnJvcihcIm91dE9yaWdpbkZyb20gdGFrZXMgb25seSBmdW5jdGlvbiBvciBnZXR0ZXIgb2JqZWN0XCIpO3RoaXMub3V0T3JpZ2luTWFwPXQuZ2V0LmJpbmQodCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCxpLGUpe2lmKCF0KXJldHVybiB0aGlzLmhpZGUoZSk7aWYoaSBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYoZT1pLGk9bnVsbCksdGhpcy5fc2hvd2luZz49MCl7aWYoIXRoaXMub3B0aW9ucy5vdmVybGFwKXJldHVybiB2b2lkKHRoaXMuX25leHRSZW5kZXJhYmxlP3RoaXMuX25leHRSZW5kZXJhYmxlPXQ6KHRoaXMuX25leHRSZW5kZXJhYmxlPXQsdGhpcy5oaWRlKGZ1bmN0aW9uKCl7dGhpcy5fbmV4dFJlbmRlcmFibGU9PT10JiZ0aGlzLnNob3codGhpcy5fbmV4dFJlbmRlcmFibGUsZSksdGhpcy5fbmV4dFJlbmRlcmFibGU9bnVsbH0pKSk7dGhpcy5oaWRlKCl9dmFyIHI9bnVsbCxoPXRoaXMuX3JlbmRlcmFibGVzLmluZGV4T2YodCk7aWYoaD49MCl7dGhpcy5fc2hvd2luZz1oLHI9dGhpcy5fc3RhdGVzW2hdLHIuaGFsdCgpO3ZhciBjPXRoaXMuX291dGdvaW5nUmVuZGVyYWJsZXMuaW5kZXhPZih0KTtjPj0wJiZ0aGlzLl9vdXRnb2luZ1JlbmRlcmFibGVzLnNwbGljZShjLDEpfWVsc2V7cj1uZXcgYSgwKTt2YXIgcD1uZXcgbyh7dHJhbnNmb3JtOnRoaXMuaW5UcmFuc2Zvcm1NYXA/bi5iaW5kKHRoaXMsdGhpcy5pblRyYW5zZm9ybU1hcCxyKTpudWxsLG9wYWNpdHk6dGhpcy5pbk9wYWNpdHlNYXA/bi5iaW5kKHRoaXMsdGhpcy5pbk9wYWNpdHlNYXAscik6bnVsbCxvcmlnaW46dGhpcy5pbk9yaWdpbk1hcD9uLmJpbmQodGhpcyx0aGlzLmluT3JpZ2luTWFwLHIpOm51bGx9KSx1PW5ldyBzO3UuYWRkKHApLmFkZCh0KSx0aGlzLl9zaG93aW5nPXRoaXMuX25vZGVzLmxlbmd0aCx0aGlzLl9ub2Rlcy5wdXNoKHUpLHRoaXMuX21vZGlmaWVycy5wdXNoKHApLHRoaXMuX3N0YXRlcy5wdXNoKHIpLHRoaXMuX3JlbmRlcmFibGVzLnB1c2godCl9aXx8KGk9dGhpcy5vcHRpb25zLmluVHJhbnNpdGlvbiksci5zZXQoMSxpLGUpfSxlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKHQsaSl7aWYoISh0aGlzLl9zaG93aW5nPDApKXt2YXIgZT10aGlzLl9zaG93aW5nO3RoaXMuX3Nob3dpbmc9LTEsdCBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYoaT10LHQ9dm9pZCAwKTt2YXIgbz10aGlzLl9ub2Rlc1tlXSxzPXRoaXMuX21vZGlmaWVyc1tlXSxyPXRoaXMuX3N0YXRlc1tlXSxhPXRoaXMuX3JlbmRlcmFibGVzW2VdO3MudHJhbnNmb3JtRnJvbSh0aGlzLm91dFRyYW5zZm9ybU1hcD9uLmJpbmQodGhpcyx0aGlzLm91dFRyYW5zZm9ybU1hcCxyKTpudWxsKSxzLm9wYWNpdHlGcm9tKHRoaXMub3V0T3BhY2l0eU1hcD9uLmJpbmQodGhpcyx0aGlzLm91dE9wYWNpdHlNYXAscik6bnVsbCkscy5vcmlnaW5Gcm9tKHRoaXMub3V0T3JpZ2luTWFwP24uYmluZCh0aGlzLHRoaXMub3V0T3JpZ2luTWFwLHIpOm51bGwpLHRoaXMuX291dGdvaW5nUmVuZGVyYWJsZXMuaW5kZXhPZihhKTwwJiZ0aGlzLl9vdXRnb2luZ1JlbmRlcmFibGVzLnB1c2goYSksdHx8KHQ9dGhpcy5vcHRpb25zLm91dFRyYW5zaXRpb24pLHIuaGFsdCgpLHIuc2V0KDAsdCxmdW5jdGlvbih0LGUsbixvKXtpZih0aGlzLl9vdXRnb2luZ1JlbmRlcmFibGVzLmluZGV4T2Yobyk+PTApe3ZhciBzPXRoaXMuX25vZGVzLmluZGV4T2YodCk7dGhpcy5fbm9kZXMuc3BsaWNlKHMsMSksdGhpcy5fbW9kaWZpZXJzLnNwbGljZShzLDEpLHRoaXMuX3N0YXRlcy5zcGxpY2UocywxKSx0aGlzLl9yZW5kZXJhYmxlcy5zcGxpY2UocywxKSx0aGlzLl9vdXRnb2luZ1JlbmRlcmFibGVzLnNwbGljZSh0aGlzLl9vdXRnb2luZ1JlbmRlcmFibGVzLmluZGV4T2YobyksMSksdGhpcy5fc2hvd2luZz49cyYmdGhpcy5fc2hvd2luZy0tfWkmJmkuY2FsbCh0aGlzKX0uYmluZCh0aGlzLG8scyxyLGEpKX19LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX291dHB1dDt0Lmxlbmd0aD50aGlzLl9ub2Rlcy5sZW5ndGgmJnQuc3BsaWNlKHRoaXMuX25vZGVzLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTx0aGlzLl9ub2Rlcy5sZW5ndGg7aSsrKXRbaV09dGhpcy5fbm9kZXNbaV0ucmVuZGVyKCk7cmV0dXJuIHR9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL01vZGlmaWVyXCI6OSxcIi4uL2NvcmUvUmVuZGVyTm9kZVwiOjExLFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL2NvcmUvVmlld1wiOjE2LFwiLi4vdHJhbnNpdGlvbnMvVHJhbnNpdGlvbmFibGVcIjo4OH1dLDEwNzpbZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3RoaXMub3B0aW9ucz1PYmplY3QuY3JlYXRlKGUuREVGQVVMVF9PUFRJT05TKSx0aGlzLl9vcHRpb25zTWFuYWdlcj1uZXcgcih0aGlzLm9wdGlvbnMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLmNvbnRhaW5lcj1uZXcgbih0aGlzLm9wdGlvbnMuY29udGFpbmVyKSx0aGlzLnNjcm9sbHZpZXc9bmV3IHModGhpcy5vcHRpb25zLnNjcm9sbHZpZXcpLHRoaXMuY29udGFpbmVyLmFkZCh0aGlzLnNjcm9sbHZpZXcpLHRoaXMuX2V2ZW50SW5wdXQ9bmV3IG8sby5zZXRJbnB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudElucHV0KSx0aGlzLl9ldmVudElucHV0LnBpcGUodGhpcy5zY3JvbGx2aWV3KSx0aGlzLl9ldmVudE91dHB1dD1uZXcgbyxvLnNldE91dHB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudE91dHB1dCksdGhpcy5jb250YWluZXIucGlwZSh0aGlzLl9ldmVudE91dHB1dCksdGhpcy5zY3JvbGx2aWV3LnBpcGUodGhpcy5fZXZlbnRPdXRwdXQpfXZhciBuPXQoXCIuLi9zdXJmYWNlcy9Db250YWluZXJTdXJmYWNlXCIpLG89dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpLHM9dChcIi4vU2Nyb2xsdmlld1wiKSxyPSh0KFwiLi4vdXRpbGl0aWVzL1V0aWxpdHlcIiksdChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIikpO2UuREVGQVVMVF9PUFRJT05TPXtjb250YWluZXI6e3Byb3BlcnRpZXM6e292ZXJmbG93OlwiaGlkZGVuXCJ9fSxzY3JvbGx2aWV3Ont9fSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpfSxlLnByb3RvdHlwZS5zZXF1ZW5jZUZyb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JvbGx2aWV3LnNlcXVlbmNlRnJvbS5hcHBseSh0aGlzLnNjcm9sbHZpZXcsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5nZXRTaXplLmFwcGx5KHRoaXMuY29udGFpbmVyLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5yZW5kZXIoKX0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCI6NyxcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIjoxMCxcIi4uL3N1cmZhY2VzL0NvbnRhaW5lclN1cmZhY2VcIjo3NSxcIi4uL3V0aWxpdGllcy9VdGlsaXR5XCI6OTUsXCIuL1Njcm9sbHZpZXdcIjoxMDl9XSwxMDg6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5fb3B0aW9uc01hbmFnZXI9bmV3IGModGhpcy5vcHRpb25zKSx0JiZ0aGlzLl9vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpLHRoaXMuX25vZGU9bnVsbCx0aGlzLl9wb3NpdGlvbj0wLHRoaXMuX3Bvc2l0aW9uT2Zmc2V0PTAsdGhpcy5fcG9zaXRpb25HZXR0ZXI9bnVsbCx0aGlzLl9vdXRwdXRGdW5jdGlvbj1udWxsLHRoaXMuX21hc3Rlck91dHB1dEZ1bmN0aW9uPW51bGwsdGhpcy5vdXRwdXRGcm9tKCksdGhpcy5fb25FZGdlPTAsdGhpcy5ncm91cD1uZXcgaCx0aGlzLmdyb3VwLmFkZCh7cmVuZGVyOnIuYmluZCh0aGlzKX0pLHRoaXMuX2VudGl0eUlkPWEucmVnaXN0ZXIodGhpcyksdGhpcy5fc2l6ZT1bdm9pZCAwLHZvaWQgMF0sdGhpcy5fY29udGV4dFNpemU9W3ZvaWQgMCx2b2lkIDBdLHRoaXMuX2V2ZW50SW5wdXQ9bmV3IGYsdGhpcy5fZXZlbnRPdXRwdXQ9bmV3IGYsZi5zZXRJbnB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudElucHV0KSxmLnNldE91dHB1dEhhbmRsZXIodGhpcyx0aGlzLl9ldmVudE91dHB1dCl9ZnVuY3Rpb24gbih0KXt0fHwodD10aGlzLl9jb250ZXh0U2l6ZSk7dmFyIGk9dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gdm9pZCAwPT09dFtpXT90aGlzLl9jb250ZXh0U2l6ZVtpXTp0W2ldfWZ1bmN0aW9uIG8odCxpLGUpe3ZhciBvPXQuZ2V0U2l6ZT90LmdldFNpemUoKTp0aGlzLl9jb250ZXh0U2l6ZSxzPXRoaXMuX291dHB1dEZ1bmN0aW9uKGkpO3JldHVybiBlLnB1c2goe3RyYW5zZm9ybTpzLHRhcmdldDp0LnJlbmRlcigpfSksbi5jYWxsKHRoaXMsbyl9ZnVuY3Rpb24gcygpe3JldHVybiB2b2lkIDAhPT10aGlzLm9wdGlvbnMuY2xpcFNpemU/dGhpcy5vcHRpb25zLmNsaXBTaXplOnRoaXMuX2NvbnRleHRTaXplW3RoaXMub3B0aW9ucy5kaXJlY3Rpb25dPnRoaXMuZ2V0Q3VtdWxhdGl2ZVNpemUoKVt0aGlzLm9wdGlvbnMuZGlyZWN0aW9uXT9uLmNhbGwodGhpcyx0aGlzLmdldEN1bXVsYXRpdmVTaXplKCkpOm4uY2FsbCh0aGlzLHRoaXMuX2NvbnRleHRTaXplKX1mdW5jdGlvbiByKCl7Zm9yKHZhciB0PW51bGwsaT10aGlzLl9wb3NpdGlvbixlPVtdLHI9LXRoaXMuX3Bvc2l0aW9uT2Zmc2V0LGE9cy5jYWxsKHRoaXMpLGg9dGhpcy5fbm9kZTtoJiZyLWk8YSt0aGlzLm9wdGlvbnMubWFyZ2luOylyKz1vLmNhbGwodGhpcyxoLHIsZSksaD1oLmdldE5leHQ/aC5nZXROZXh0KCk6bnVsbDt2YXIgYz10aGlzLl9ub2RlLHA9bi5jYWxsKHRoaXMsYy5nZXRTaXplKCkpO2lmKGE+cil7Zm9yKDtjJiZhPnA7KWM9Yy5nZXRQcmV2aW91cygpLGMmJihwKz1uLmNhbGwodGhpcyxjLmdldFNpemUoKSkpO2ZvcihjPXRoaXMuX25vZGU7YyYmYT5wOyljPWMuZ2V0TmV4dCgpLGMmJihwKz1uLmNhbGwodGhpcyxjLmdldFNpemUoKSkpfWZvcighaCYmYS1kPnItaT8xIT09dGhpcy5fb25FZGdlJiYodGhpcy5fb25FZGdlPTEsdGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcIm9uRWRnZVwiLHtwb3NpdGlvbjpyLWF9KSk6IXRoaXMuX25vZGUuZ2V0UHJldmlvdXMoKSYmLWQ+aT8tMSE9PXRoaXMuX29uRWRnZSYmKHRoaXMuX29uRWRnZT0tMSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwib25FZGdlXCIse3Bvc2l0aW9uOjB9KSk6MCE9PXRoaXMuX29uRWRnZSYmKHRoaXMuX29uRWRnZT0wLHRoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJvZmZFZGdlXCIpKSxoPXRoaXMuX25vZGUmJnRoaXMuX25vZGUuZ2V0UHJldmlvdXM/dGhpcy5fbm9kZS5nZXRQcmV2aW91cygpOm51bGwscj0tdGhpcy5fcG9zaXRpb25PZmZzZXQsaCYmKHQ9aC5nZXRTaXplP2guZ2V0U2l6ZSgpOnRoaXMuX2NvbnRleHRTaXplLHItPW4uY2FsbCh0aGlzLHQpKTtoJiZyLWk+LShhK3RoaXMub3B0aW9ucy5tYXJnaW4pOylvLmNhbGwodGhpcyxoLHIsZSksaD1oLmdldFByZXZpb3VzP2guZ2V0UHJldmlvdXMoKTpudWxsLGgmJih0PWguZ2V0U2l6ZT9oLmdldFNpemUoKTp0aGlzLl9jb250ZXh0U2l6ZSxyLT1uLmNhbGwodGhpcyx0KSk7cmV0dXJuIGV9dmFyIGE9dChcIi4uL2NvcmUvRW50aXR5XCIpLGg9dChcIi4uL2NvcmUvR3JvdXBcIiksYz10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKSxwPXQoXCIuLi9jb3JlL1RyYW5zZm9ybVwiKSx1PXQoXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiKSxsPXQoXCIuLi9jb3JlL1ZpZXdTZXF1ZW5jZVwiKSxmPXQoXCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiKTtlLkRFRkFVTFRfT1BUSU9OUz17ZGlyZWN0aW9uOnUuRGlyZWN0aW9uLlksbWFyZ2luOjAsY2xpcFNpemU6dm9pZCAwLGdyb3VwU2Nyb2xsOiExfTt2YXIgZD0wO2UucHJvdG90eXBlLmdldEN1bXVsYXRpdmVTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLl9ub2RlLl8uY3VtdWxhdGl2ZVNpemVzLmxlbmd0aC0xKSx0aGlzLl9ub2RlLl8uZ2V0U2l6ZSh0KX0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt0Lmdyb3VwU2Nyb2xsIT09dGhpcy5vcHRpb25zLmdyb3VwU2Nyb2xsJiYodC5ncm91cFNjcm9sbD90aGlzLmdyb3VwLnBpcGUodGhpcy5fZXZlbnRPdXRwdXQpOnRoaXMuZ3JvdXAudW5waXBlKHRoaXMuX2V2ZW50T3V0cHV0KSksdGhpcy5fb3B0aW9uc01hbmFnZXIuc2V0T3B0aW9ucyh0KX0sZS5wcm90b3R5cGUub25FZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRWRnZX0sZS5wcm90b3R5cGUub3V0cHV0RnJvbT1mdW5jdGlvbih0LGkpe3R8fCh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uPT09dS5EaXJlY3Rpb24uWD9wLnRyYW5zbGF0ZSh0LDApOnAudHJhbnNsYXRlKDAsdCl9LmJpbmQodGhpcyksaXx8KGk9dCkpLHRoaXMuX291dHB1dEZ1bmN0aW9uPXQsdGhpcy5fbWFzdGVyT3V0cHV0RnVuY3Rpb249aT9pOmZ1bmN0aW9uKGkpe3JldHVybiBwLmludmVyc2UodCgtaSkpfX0sZS5wcm90b3R5cGUucG9zaXRpb25Gcm9tPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLl9wb3NpdGlvbkdldHRlcj10OnQmJnQuZ2V0P3RoaXMuX3Bvc2l0aW9uR2V0dGVyPXQuZ2V0LmJpbmQodCk6KHRoaXMuX3Bvc2l0aW9uR2V0dGVyPW51bGwsdGhpcy5fcG9zaXRpb249dCksdGhpcy5fcG9zaXRpb25HZXR0ZXImJih0aGlzLl9wb3NpdGlvbj10aGlzLl9wb3NpdGlvbkdldHRlci5jYWxsKHRoaXMpKX0sZS5wcm90b3R5cGUuc2VxdWVuY2VGcm9tPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBBcnJheSYmKHQ9bmV3IGwoe2FycmF5OnR9KSksdGhpcy5fbm9kZT10LHRoaXMuX3Bvc2l0aW9uT2Zmc2V0PTB9LGUucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5fY29udGV4dFNpemU6dGhpcy5fc2l6ZX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGU/KHRoaXMuX3Bvc2l0aW9uR2V0dGVyJiYodGhpcy5fcG9zaXRpb249dGhpcy5fcG9zaXRpb25HZXR0ZXIuY2FsbCh0aGlzKSksdGhpcy5fZW50aXR5SWQpOm51bGx9LGUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXt2YXIgaT10LnRyYW5zZm9ybSxlPXQub3BhY2l0eSxuPXQub3JpZ2luLG89dC5zaXplO3RoaXMub3B0aW9ucy5jbGlwU2l6ZXx8b1swXT09PXRoaXMuX2NvbnRleHRTaXplWzBdJiZvWzFdPT09dGhpcy5fY29udGV4dFNpemVbMV18fCh0aGlzLl9vbkVkZ2U9MCx0aGlzLl9jb250ZXh0U2l6ZVswXT1vWzBdLHRoaXMuX2NvbnRleHRTaXplWzFdPW9bMV0sdGhpcy5vcHRpb25zLmRpcmVjdGlvbj09PXUuRGlyZWN0aW9uLlg/KHRoaXMuX3NpemVbMF09cy5jYWxsKHRoaXMpLHRoaXMuX3NpemVbMV09dm9pZCAwKToodGhpcy5fc2l6ZVswXT12b2lkIDAsdGhpcy5fc2l6ZVsxXT1zLmNhbGwodGhpcykpKTt2YXIgcj10aGlzLl9tYXN0ZXJPdXRwdXRGdW5jdGlvbigtdGhpcy5fcG9zaXRpb24pO3JldHVybnt0cmFuc2Zvcm06cC5tdWx0aXBseShpLHIpLHNpemU6byxvcGFjaXR5OmUsb3JpZ2luOm4sdGFyZ2V0OnRoaXMuZ3JvdXAucmVuZGVyKCl9fSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9FbnRpdHlcIjo1LFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIjo3LFwiLi4vY29yZS9Hcm91cFwiOjgsXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi9jb3JlL1RyYW5zZm9ybVwiOjE1LFwiLi4vY29yZS9WaWV3U2VxdWVuY2VcIjoxNyxcIi4uL3V0aWxpdGllcy9VdGlsaXR5XCI6OTV9XSwxMDk6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLm9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5fb3B0aW9uc01hbmFnZXI9bmV3IE8odGhpcy5vcHRpb25zKSx0aGlzLl9zY3JvbGxlcj1uZXcgVCh0aGlzLm9wdGlvbnMpLHRoaXMuc3luYz1uZXcgYihbXCJzY3JvbGxcIixcInRvdWNoXCJdLHtkaXJlY3Rpb246dGhpcy5vcHRpb25zLmRpcmVjdGlvbixzY2FsZTp0aGlzLm9wdGlvbnMuc3luY1NjYWxlLHJhaWxzOnRoaXMub3B0aW9ucy5yYWlscyxwcmV2ZW50RGVmYXVsdDp2b2lkIDAhPT10aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQ/dGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0OnRoaXMub3B0aW9ucy5kaXJlY3Rpb24hPT13LkRpcmVjdGlvbi5ZfSksdGhpcy5fcGh5c2ljc0VuZ2luZT1uZXcgXyx0aGlzLl9wYXJ0aWNsZT1uZXcgeSx0aGlzLl9waHlzaWNzRW5naW5lLmFkZEJvZHkodGhpcy5fcGFydGljbGUpLHRoaXMuc3ByaW5nPW5ldyB2KHthbmNob3I6WzAsMCwwXSxwZXJpb2Q6dGhpcy5vcHRpb25zLmVkZ2VQZXJpb2QsZGFtcGluZ1JhdGlvOnRoaXMub3B0aW9ucy5lZGdlRGFtcH0pLHRoaXMuZHJhZz1uZXcgZyh7Zm9yY2VGdW5jdGlvbjpnLkZPUkNFX0ZVTkNUSU9OUy5RVUFEUkFUSUMsc3RyZW5ndGg6dGhpcy5vcHRpb25zLmRyYWd9KSx0aGlzLmZyaWN0aW9uPW5ldyBnKHtmb3JjZUZ1bmN0aW9uOmcuRk9SQ0VfRlVOQ1RJT05TLkxJTkVBUixzdHJlbmd0aDp0aGlzLm9wdGlvbnMuZnJpY3Rpb259KSx0aGlzLl9ub2RlPW51bGwsdGhpcy5fdG91Y2hDb3VudD0wLHRoaXMuX3NwcmluZ1N0YXRlPXguTk9ORSx0aGlzLl9vbkVkZ2U9TS5OT05FLHRoaXMuX3BhZ2VTcHJpbmdQb3NpdGlvbj0wLHRoaXMuX2VkZ2VTcHJpbmdQb3NpdGlvbj0wLHRoaXMuX3RvdWNoVmVsb2NpdHk9MCx0aGlzLl9lYXJseUVuZD0hMSx0aGlzLl9uZWVkc1BhZ2luYXRpb25DaGVjaz0hMSx0aGlzLl9kaXNwbGFjZW1lbnQ9MCx0aGlzLl90b3RhbFNoaWZ0PTAsdGhpcy5fY2FjaGVkSW5kZXg9MCx0aGlzLl9zY3JvbGxlci5wb3NpdGlvbkZyb20odGhpcy5nZXRQb3NpdGlvbi5iaW5kKHRoaXMpKSx0aGlzLl9ldmVudElucHV0PW5ldyBtLHRoaXMuX2V2ZW50T3V0cHV0PW5ldyBtLHRoaXMuX2V2ZW50SW5wdXQucGlwZSh0aGlzLnN5bmMpLHRoaXMuc3luYy5waXBlKHRoaXMuX2V2ZW50SW5wdXQpLG0uc2V0SW5wdXRIYW5kbGVyKHRoaXMsdGhpcy5fZXZlbnRJbnB1dCksbS5zZXRPdXRwdXRIYW5kbGVyKHRoaXMsdGhpcy5fZXZlbnRPdXRwdXQpLHIuY2FsbCh0aGlzKSx0JiZ0aGlzLnNldE9wdGlvbnModCl9ZnVuY3Rpb24gbih0KXt0aGlzLl90b3VjaENvdW50PXQuY291bnQsdm9pZCAwPT09dC5jb3VudCYmKHRoaXMuX3RvdWNoQ291bnQ9MSksaC5jYWxsKHRoaXMpLHRoaXMuc2V0VmVsb2NpdHkoMCksdGhpcy5fdG91Y2hWZWxvY2l0eT0wLHRoaXMuX2Vhcmx5RW5kPSExfWZ1bmN0aW9uIG8odCl7dmFyIGk9LXQudmVsb2NpdHksZT0tdC5kZWx0YTtpZih0aGlzLl9vbkVkZ2UhPT1NLk5PTkUmJnQuc2xpcCYmKDA+aSYmdGhpcy5fb25FZGdlPT09TS5UT1B8fGk+MCYmdGhpcy5fb25FZGdlPT09TS5CT1RUT00/dGhpcy5fZWFybHlFbmR8fChzLmNhbGwodGhpcyx0KSx0aGlzLl9lYXJseUVuZD0hMCk6dGhpcy5fZWFybHlFbmQmJk1hdGguYWJzKGkpPk1hdGguYWJzKHRoaXMuZ2V0VmVsb2NpdHkoKSkmJm4uY2FsbCh0aGlzLHQpKSwhdGhpcy5fZWFybHlFbmQpe2lmKHRoaXMuX3RvdWNoVmVsb2NpdHk9aSx0LnNsaXApe3ZhciBvPXRoaXMub3B0aW9ucy5zcGVlZExpbWl0Oy1vPmk/aT0tbzppPm8mJihpPW8pLHRoaXMuc2V0VmVsb2NpdHkoaSk7dmFyIHI9MTYqbztlPnI/ZT1yOi1yPmUmJihlPS1yKX10aGlzLnNldFBvc2l0aW9uKHRoaXMuZ2V0UG9zaXRpb24oKStlKSx0aGlzLl9kaXNwbGFjZW1lbnQrPWUsdGhpcy5fc3ByaW5nU3RhdGU9PT14Lk5PTkUmJmYuY2FsbCh0aGlzKX19ZnVuY3Rpb24gcyh0KXtpZih0aGlzLl90b3VjaENvdW50PXQuY291bnR8fDAsIXRoaXMuX3RvdWNoQ291bnQpe2guY2FsbCh0aGlzKSx0aGlzLl9vbkVkZ2UhPT1NLk5PTkUmJmwuY2FsbCh0aGlzLHRoaXMuX2VkZ2VTcHJpbmdQb3NpdGlvbix4LkVER0UpLGEuY2FsbCh0aGlzKTt2YXIgaT0tdC52ZWxvY2l0eSxlPXRoaXMub3B0aW9ucy5zcGVlZExpbWl0O3Quc2xpcCYmKGUqPXRoaXMub3B0aW9ucy5lZGdlR3JpcCksLWU+aT9pPS1lOmk+ZSYmKGk9ZSksdGhpcy5zZXRWZWxvY2l0eShpKSx0aGlzLl90b3VjaFZlbG9jaXR5PTAsdGhpcy5fbmVlZHNQYWdpbmF0aW9uQ2hlY2s9ITB9fWZ1bmN0aW9uIHIoKXt0aGlzLl9ldmVudElucHV0LmJpbmRUaGlzKHRoaXMpLHRoaXMuX2V2ZW50SW5wdXQub24oXCJzdGFydFwiLG4pLHRoaXMuX2V2ZW50SW5wdXQub24oXCJ1cGRhdGVcIixvKSx0aGlzLl9ldmVudElucHV0Lm9uKFwiZW5kXCIscyksdGhpcy5fZXZlbnRJbnB1dC5vbihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7dGhpcy5fbm9kZS5fLmNhbGN1bGF0ZVNpemUoKX0uYmluZCh0aGlzKSksdGhpcy5fc2Nyb2xsZXIub24oXCJvbkVkZ2VcIixmdW5jdGlvbih0KXt0aGlzLl9lZGdlU3ByaW5nUG9zaXRpb249dC5wb3NpdGlvbixwLmNhbGwodGhpcyx0aGlzLl9zY3JvbGxlci5vbkVkZ2UoKSksdGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcIm9uRWRnZVwiKX0uYmluZCh0aGlzKSksdGhpcy5fc2Nyb2xsZXIub24oXCJvZmZFZGdlXCIsZnVuY3Rpb24oKXt0aGlzLnN5bmMuc2V0T3B0aW9ucyh7c2NhbGU6dGhpcy5vcHRpb25zLnN5bmNTY2FsZX0pLHRoaXMuX29uRWRnZT10aGlzLl9zY3JvbGxlci5vbkVkZ2UoKSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwib2ZmRWRnZVwiKX0uYmluZCh0aGlzKSksdGhpcy5fcGFydGljbGUub24oXCJ1cGRhdGVcIixmdW5jdGlvbih0KXt0aGlzLl9zcHJpbmdTdGF0ZT09PXguTk9ORSYmZi5jYWxsKHRoaXMpLHRoaXMuX2Rpc3BsYWNlbWVudD10LnBvc2l0aW9uLngtdGhpcy5fdG90YWxTaGlmdH0uYmluZCh0aGlzKSksdGhpcy5fcGFydGljbGUub24oXCJlbmRcIixmdW5jdGlvbigpeyghdGhpcy5vcHRpb25zLnBhZ2luYXRlZHx8dGhpcy5vcHRpb25zLnBhZ2luYXRlZCYmdGhpcy5fc3ByaW5nU3RhdGUhPT14Lk5PTkUpJiZ0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwic2V0dGxlXCIpfS5iaW5kKHRoaXMpKX1mdW5jdGlvbiBhKCl7dGhpcy5fc3ByaW5nU3RhdGU/dGhpcy5fcGh5c2ljc0VuZ2luZS5hdHRhY2goW3RoaXMuc3ByaW5nXSx0aGlzLl9wYXJ0aWNsZSk6dGhpcy5fcGh5c2ljc0VuZ2luZS5hdHRhY2goW3RoaXMuZHJhZyx0aGlzLmZyaWN0aW9uXSx0aGlzLl9wYXJ0aWNsZSl9ZnVuY3Rpb24gaCgpe3RoaXMuX3NwcmluZ1N0YXRlPXguTk9ORSx0aGlzLl9waHlzaWNzRW5naW5lLmRldGFjaEFsbCgpfWZ1bmN0aW9uIGModCl7dmFyIGk9dGhpcy5vcHRpb25zLmRpcmVjdGlvbixlPXQuZ2V0U2l6ZSgpO3JldHVybiBlP2VbaV06dGhpcy5fc2Nyb2xsZXIuZ2V0U2l6ZSgpW2ldfWZ1bmN0aW9uIHAodCl7dGhpcy5zeW5jLnNldE9wdGlvbnMoe3NjYWxlOnRoaXMub3B0aW9ucy5lZGdlR3JpcH0pLHRoaXMuX29uRWRnZT10LHRoaXMuX3RvdWNoQ291bnR8fHRoaXMuX3NwcmluZ1N0YXRlPT09eC5FREdFfHxsLmNhbGwodGhpcyx0aGlzLl9lZGdlU3ByaW5nUG9zaXRpb24seC5FREdFKSx0aGlzLl9zcHJpbmdTdGF0ZSYmTWF0aC5hYnModGhpcy5nZXRWZWxvY2l0eSgpKTwuMDAxJiYoaC5jYWxsKHRoaXMpLGEuY2FsbCh0aGlzKSl9ZnVuY3Rpb24gdSgpe2lmKCF0aGlzLl90b3VjaENvdW50JiZ0aGlzLl9zcHJpbmdTdGF0ZSE9PXguRURHRSl7dmFyIHQ9dGhpcy5nZXRWZWxvY2l0eSgpO2lmKCEoTWF0aC5hYnModCk+PXRoaXMub3B0aW9ucy5wYWdlU3RvcFNwZWVkKSl7dmFyIGk9dGhpcy5nZXRQb3NpdGlvbigpLGU9TWF0aC5hYnModCk+dGhpcy5vcHRpb25zLnBhZ2VTd2l0Y2hTcGVlZCxuPWMuY2FsbCh0aGlzLHRoaXMuX25vZGUpLG89aT4uNSpuLHM9dD4wLHI9MD50O3RoaXMuX25lZWRzUGFnaW5hdGlvbkNoZWNrPSExLG8mJiFlfHxlJiZzP3RoaXMuZ29Ub05leHRQYWdlKCk6ZSYmcj90aGlzLmdvVG9QcmV2aW91c1BhZ2UoKTpsLmNhbGwodGhpcywwLHguUEFHRSl9fX1mdW5jdGlvbiBsKHQsaSl7dmFyIGU7aT09PXguRURHRT8odGhpcy5fZWRnZVNwcmluZ1Bvc2l0aW9uPXQsZT17YW5jaG9yOlt0aGlzLl9lZGdlU3ByaW5nUG9zaXRpb24sMCwwXSxwZXJpb2Q6dGhpcy5vcHRpb25zLmVkZ2VQZXJpb2QsZGFtcGluZ1JhdGlvOnRoaXMub3B0aW9ucy5lZGdlRGFtcH0pOmk9PT14LlBBR0UmJih0aGlzLl9wYWdlU3ByaW5nUG9zaXRpb249dCxlPXthbmNob3I6W3RoaXMuX3BhZ2VTcHJpbmdQb3NpdGlvbiwwLDBdLHBlcmlvZDp0aGlzLm9wdGlvbnMucGFnZVBlcmlvZCxkYW1waW5nUmF0aW86dGhpcy5vcHRpb25zLnBhZ2VEYW1wfSksdGhpcy5zcHJpbmcuc2V0T3B0aW9ucyhlKSxpJiYhdGhpcy5fc3ByaW5nU3RhdGUmJihoLmNhbGwodGhpcyksdGhpcy5fc3ByaW5nU3RhdGU9aSxhLmNhbGwodGhpcykpLHRoaXMuX3NwcmluZ1N0YXRlPWl9ZnVuY3Rpb24gZigpe3ZhciB0PTAsaT10aGlzLmdldFBvc2l0aW9uKCk7aSs9KDA+aT8tLjU6LjUpPj4wO2Zvcih2YXIgZT1jLmNhbGwodGhpcyx0aGlzLl9ub2RlKSxuPXRoaXMuX25vZGUuZ2V0TmV4dCgpO3QraT49ZSYmbjspdC09ZSx0aGlzLl9zY3JvbGxlci5zZXF1ZW5jZUZyb20obiksdGhpcy5fbm9kZT1uLG49dGhpcy5fbm9kZS5nZXROZXh0KCksZT1jLmNhbGwodGhpcyx0aGlzLl9ub2RlKTtmb3IodmFyIG8scz10aGlzLl9ub2RlLmdldFByZXZpb3VzKCk7MD49dCtpJiZzOylvPWMuY2FsbCh0aGlzLHMpLHRoaXMuX3Njcm9sbGVyLnNlcXVlbmNlRnJvbShzKSx0aGlzLl9ub2RlPXMsdCs9byxzPXRoaXMuX25vZGUuZ2V0UHJldmlvdXMoKTt0JiZkLmNhbGwodGhpcyx0KSx0aGlzLl9ub2RlJiYodGhpcy5fbm9kZS5pbmRleCE9PXRoaXMuX2NhY2hlZEluZGV4P3RoaXMuZ2V0UG9zaXRpb24oKTwuNSplJiYodGhpcy5fY2FjaGVkSW5kZXg9dGhpcy5fbm9kZS5pbmRleCx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwicGFnZUNoYW5nZVwiLHtkaXJlY3Rpb246LTEsaW5kZXg6dGhpcy5fY2FjaGVkSW5kZXh9KSk6dGhpcy5nZXRQb3NpdGlvbigpPi41KmUmJih0aGlzLl9jYWNoZWRJbmRleD10aGlzLl9ub2RlLmluZGV4KzEsdGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcInBhZ2VDaGFuZ2VcIix7ZGlyZWN0aW9uOjEsaW5kZXg6dGhpcy5fY2FjaGVkSW5kZXh9KSkpfWZ1bmN0aW9uIGQodCl7dGhpcy5fZWRnZVNwcmluZ1Bvc2l0aW9uKz10LHRoaXMuX3BhZ2VTcHJpbmdQb3NpdGlvbis9dCx0aGlzLnNldFBvc2l0aW9uKHRoaXMuZ2V0UG9zaXRpb24oKSt0KSx0aGlzLl90b3RhbFNoaWZ0Kz10LHRoaXMuX3NwcmluZ1N0YXRlPT09eC5FREdFP3RoaXMuc3ByaW5nLnNldE9wdGlvbnMoe2FuY2hvcjpbdGhpcy5fZWRnZVNwcmluZ1Bvc2l0aW9uLDAsMF19KTp0aGlzLl9zcHJpbmdTdGF0ZT09PXguUEFHRSYmdGhpcy5zcHJpbmcuc2V0T3B0aW9ucyh7YW5jaG9yOlt0aGlzLl9wYWdlU3ByaW5nUG9zaXRpb24sMCwwXX0pfXZhciBfPXQoXCIuLi9waHlzaWNzL1BoeXNpY3NFbmdpbmVcIikseT10KFwiLi4vcGh5c2ljcy9ib2RpZXMvUGFydGljbGVcIiksZz10KFwiLi4vcGh5c2ljcy9mb3JjZXMvRHJhZ1wiKSx2PXQoXCIuLi9waHlzaWNzL2ZvcmNlcy9TcHJpbmdcIiksbT10KFwiLi4vY29yZS9FdmVudEhhbmRsZXJcIiksTz10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKSxTPXQoXCIuLi9jb3JlL1ZpZXdTZXF1ZW5jZVwiKSxUPXQoXCIuLi92aWV3cy9TY3JvbGxlclwiKSx3PXQoXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiKSxiPXQoXCIuLi9pbnB1dHMvR2VuZXJpY1N5bmNcIiksRT10KFwiLi4vaW5wdXRzL1Njcm9sbFN5bmNcIiksST10KFwiLi4vaW5wdXRzL1RvdWNoU3luY1wiKTtiLnJlZ2lzdGVyKHtzY3JvbGw6RSx0b3VjaDpJfSk7dmFyIHg9e05PTkU6MCxFREdFOjEsUEFHRToyfSxNPXtUT1A6LTEsTk9ORTowLEJPVFRPTToxfTtlLkRFRkFVTFRfT1BUSU9OUz17ZGlyZWN0aW9uOncuRGlyZWN0aW9uLlkscmFpbHM6ITAsZnJpY3Rpb246LjAwNSxkcmFnOjFlLTQsZWRnZUdyaXA6LjIsZWRnZVBlcmlvZDozMDAsZWRnZURhbXA6MSxtYXJnaW46MWUzLHBhZ2luYXRlZDohMSxwYWdlUGVyaW9kOjUwMCxwYWdlRGFtcDouOCxwYWdlU3RvcFNwZWVkOjEwLHBhZ2VTd2l0Y2hTcGVlZDouNSxzcGVlZExpbWl0OjUsZ3JvdXBTY3JvbGw6ITEsc3luY1NjYWxlOjF9LGUucHJvdG90eXBlLmdldEN1cnJlbnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlLmluZGV4fSxlLnByb3RvdHlwZS5nb1RvUHJldmlvdXNQYWdlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX25vZGV8fHRoaXMuX29uRWRnZT09PU0uVE9QKXJldHVybiBudWxsO2lmKHRoaXMuZ2V0UG9zaXRpb24oKT4xJiZ0aGlzLl9zcHJpbmdTdGF0ZT09PXguTk9ORSlyZXR1cm4gbC5jYWxsKHRoaXMsMCx4LlBBR0UpLHRoaXMuX25vZGU7dmFyIHQ9dGhpcy5fbm9kZS5nZXRQcmV2aW91cygpO2lmKHQpe3ZhciBpPWMuY2FsbCh0aGlzLHQpO3RoaXMuX3Njcm9sbGVyLnNlcXVlbmNlRnJvbSh0KSx0aGlzLl9ub2RlPXQsZC5jYWxsKHRoaXMsaSksbC5jYWxsKHRoaXMsMCx4LlBBR0UpfXJldHVybiB0fSxlLnByb3RvdHlwZS5nb1RvTmV4dFBhZ2U9ZnVuY3Rpb24oKXtpZighdGhpcy5fbm9kZXx8dGhpcy5fb25FZGdlPT09TS5CT1RUT00pcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5fbm9kZS5nZXROZXh0KCk7aWYodCl7dmFyIGk9Yy5jYWxsKHRoaXMsdGhpcy5fbm9kZSk7dGhpcy5fc2Nyb2xsZXIuc2VxdWVuY2VGcm9tKHQpLHRoaXMuX25vZGU9dCxkLmNhbGwodGhpcywtaSksbC5jYWxsKHRoaXMsMCx4LlBBR0UpfXJldHVybiB0fSxlLnByb3RvdHlwZS5nb1RvUGFnZT1mdW5jdGlvbih0KXt2YXIgaSxlPXRoaXMuZ2V0Q3VycmVudEluZGV4KCk7aWYoZT50KWZvcihpPTA7ZS10Pmk7aSsrKXRoaXMuZ29Ub1ByZXZpb3VzUGFnZSgpO2lmKHQ+ZSlmb3IoaT0wO3QtZT5pO2krKyl0aGlzLmdvVG9OZXh0UGFnZSgpfSxlLnByb3RvdHlwZS5vdXRwdXRGcm9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbGVyLm91dHB1dEZyb20uYXBwbHkodGhpcy5fc2Nyb2xsZXIsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFydGljbGUuZ2V0UG9zaXRpb24xRCgpfSxlLnByb3RvdHlwZS5nZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbGVyLmdldEN1bXVsYXRpdmVTaXplKHRoaXMuZ2V0Q3VycmVudEluZGV4KCkpW3RoaXMub3B0aW9ucy5kaXJlY3Rpb25dK3RoaXMuZ2V0UG9zaXRpb24oKX0sZS5wcm90b3R5cGUuZ2V0T2Zmc2V0PWUucHJvdG90eXBlLmdldFBvc2l0aW9uLGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX3BhcnRpY2xlLnNldFBvc2l0aW9uMUQodCl9LGUucHJvdG90eXBlLnNldE9mZnNldD1lLnByb3RvdHlwZS5zZXRQb3NpdGlvbixlLnByb3RvdHlwZS5nZXRWZWxvY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3VjaENvdW50P3RoaXMuX3RvdWNoVmVsb2NpdHk6dGhpcy5fcGFydGljbGUuZ2V0VmVsb2NpdHkxRCgpfSxlLnByb3RvdHlwZS5zZXRWZWxvY2l0eT1mdW5jdGlvbih0KXt0aGlzLl9wYXJ0aWNsZS5zZXRWZWxvY2l0eTFEKHQpfSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuZGlyZWN0aW9uJiYoXCJ4XCI9PT10LmRpcmVjdGlvbj90LmRpcmVjdGlvbj13LkRpcmVjdGlvbi5YOlwieVwiPT09dC5kaXJlY3Rpb24mJih0LmRpcmVjdGlvbj13LkRpcmVjdGlvbi5ZKSksdC5ncm91cFNjcm9sbCE9PXRoaXMub3B0aW9ucy5ncm91cFNjcm9sbCYmKHQuZ3JvdXBTY3JvbGw/dGhpcy5zdWJzY3JpYmUodGhpcy5fc2Nyb2xsZXIpOnRoaXMudW5zdWJzY3JpYmUodGhpcy5fc2Nyb2xsZXIpKSx0aGlzLl9vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zKHQpLHRoaXMuX3Njcm9sbGVyLnNldE9wdGlvbnModCksdm9pZCAwIT09dC5kcmFnJiZ0aGlzLmRyYWcuc2V0T3B0aW9ucyh7c3RyZW5ndGg6dGhpcy5vcHRpb25zLmRyYWd9KSx2b2lkIDAhPT10LmZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uLnNldE9wdGlvbnMoe3N0cmVuZ3RoOnRoaXMub3B0aW9ucy5mcmljdGlvbn0pLCh2b2lkIDAhPT10LmVkZ2VQZXJpb2R8fHZvaWQgMCE9PXQuZWRnZURhbXApJiZ0aGlzLnNwcmluZy5zZXRPcHRpb25zKHtwZXJpb2Q6dGhpcy5vcHRpb25zLmVkZ2VQZXJpb2QsZGFtcGluZ1JhdGlvOnRoaXMub3B0aW9ucy5lZGdlRGFtcH0pLCh0LnJhaWxzfHx2b2lkIDAhPT10LmRpcmVjdGlvbnx8dm9pZCAwIT09dC5zeW5jU2NhbGV8fHQucHJldmVudERlZmF1bHQpJiZ0aGlzLnN5bmMuc2V0T3B0aW9ucyh7cmFpbHM6dGhpcy5vcHRpb25zLnJhaWxzLGRpcmVjdGlvbjp0aGlzLm9wdGlvbnMuZGlyZWN0aW9uPT09dy5EaXJlY3Rpb24uWD9iLkRJUkVDVElPTl9YOmIuRElSRUNUSU9OX1ksc2NhbGU6dGhpcy5vcHRpb25zLnN5bmNTY2FsZSxwcmV2ZW50RGVmYXVsdDp0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHR9KX0sZS5wcm90b3R5cGUuc2VxdWVuY2VGcm9tPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXkmJih0PW5ldyBTKHthcnJheTp0LHRyYWNrU2l6ZTohMH0pKSx0aGlzLl9ub2RlPXQsdGhpcy5fc2Nyb2xsZXIuc2VxdWVuY2VGcm9tKHQpfSxlLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbGVyLmdldFNpemUuYXBwbHkodGhpcy5fc2Nyb2xsZXIsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5wYWdpbmF0ZWQmJnRoaXMuX25lZWRzUGFnaW5hdGlvbkNoZWNrJiZ1LmNhbGwodGhpcyksdGhpcy5fc2Nyb2xsZXIucmVuZGVyKCl9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjcsXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi9jb3JlL1ZpZXdTZXF1ZW5jZVwiOjE3LFwiLi4vaW5wdXRzL0dlbmVyaWNTeW5jXCI6MjcsXCIuLi9pbnB1dHMvU2Nyb2xsU3luY1wiOjMyLFwiLi4vaW5wdXRzL1RvdWNoU3luY1wiOjMzLFwiLi4vcGh5c2ljcy9QaHlzaWNzRW5naW5lXCI6NDgsXCIuLi9waHlzaWNzL2JvZGllcy9QYXJ0aWNsZVwiOjUxLFwiLi4vcGh5c2ljcy9mb3JjZXMvRHJhZ1wiOjYzLFwiLi4vcGh5c2ljcy9mb3JjZXMvU3ByaW5nXCI6NjgsXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiOjk1LFwiLi4vdmlld3MvU2Nyb2xsZXJcIjoxMDh9XSwxMTA6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt0aGlzLl9pdGVtcz1udWxsLHRoaXMuX3NpemU9bnVsbCx0aGlzLl9vdXRwdXRGdW5jdGlvbj1lLkRFRkFVTFRfT1VUUFVUX0ZVTkNUSU9OLHRoaXMub3B0aW9ucz1yLmNsb25lKHRoaXMuY29uc3RydWN0b3IuREVGQVVMVF9PUFRJT05TfHxlLkRFRkFVTFRfT1BUSU9OUyksdGhpcy5vcHRpb25zTWFuYWdlcj1uZXcgbih0aGlzLm9wdGlvbnMpLHQmJnRoaXMuc2V0T3B0aW9ucyh0KX12YXIgbj10KFwiLi4vY29yZS9PcHRpb25zTWFuYWdlclwiKSxvPXQoXCIuLi9jb3JlL1RyYW5zZm9ybVwiKSxzPXQoXCIuLi9jb3JlL1ZpZXdTZXF1ZW5jZVwiKSxyPXQoXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiKTtlLkRFRkFVTFRfT1BUSU9OUz17ZGlyZWN0aW9uOnIuRGlyZWN0aW9uLlksaXRlbVNwYWNpbmc6MH0sZS5ERUZBVUxUX09VVFBVVF9GVU5DVElPTj1mdW5jdGlvbih0LGkpe3ZhciBlPXRoaXMub3B0aW9ucy5kaXJlY3Rpb249PT1yLkRpcmVjdGlvbi5YP28udHJhbnNsYXRlKGksMCk6by50cmFuc2xhdGUoMCxpKTtyZXR1cm57dHJhbnNmb3JtOmUsdGFyZ2V0OnQucmVuZGVyKCl9fSxlLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV8fHRoaXMucmVuZGVyKCksdGhpcy5fc2l6ZX0sZS5wcm90b3R5cGUuc2VxdWVuY2VGcm9tPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXkmJih0PW5ldyBzKHQpKSx0aGlzLl9pdGVtcz10LHRoaXN9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zTWFuYWdlci5zZXRPcHRpb25zLmFwcGx5KHRoaXMub3B0aW9uc01hbmFnZXIsYXJndW1lbnRzKSx0aGlzfSxlLnByb3RvdHlwZS5zZXRPdXRwdXRGdW5jdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3V0cHV0RnVuY3Rpb249dCx0aGlzfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdD0wLGk9MV50aGlzLm9wdGlvbnMuZGlyZWN0aW9uLGU9dGhpcy5faXRlbXMsbj1udWxsLG89W10scz17fSxyPVtdLGE9MDtmb3IodGhpcy5fc2l6ZT1bMCwwXTtlJiYobj1lLmdldCgpKTspbi5nZXRTaXplJiYobz1uLmdldFNpemUoKSkscz10aGlzLl9vdXRwdXRGdW5jdGlvbi5jYWxsKHRoaXMsbix0LGErKyksci5wdXNoKHMpLG8mJihvW3RoaXMub3B0aW9ucy5kaXJlY3Rpb25dJiYodCs9b1t0aGlzLm9wdGlvbnMuZGlyZWN0aW9uXSksb1tpXT50aGlzLl9zaXplW2ldJiYodGhpcy5fc2l6ZVtpXT1vW2ldKSksZT1lLmdldE5leHQoKSx0aGlzLm9wdGlvbnMuaXRlbVNwYWNpbmcmJmUmJih0Kz10aGlzLm9wdGlvbnMuaXRlbVNwYWNpbmcpO3JldHVybiB0aGlzLl9zaXplW3RoaXMub3B0aW9ucy5kaXJlY3Rpb25dPXQscn0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIjoxMCxcIi4uL2NvcmUvVHJhbnNmb3JtXCI6MTUsXCIuLi9jb3JlL1ZpZXdTZXF1ZW5jZVwiOjE3LFwiLi4vdXRpbGl0aWVzL1V0aWxpdHlcIjo5NX1dLDExMTpbZnVuY3Rpb24odCxpKXtpLmV4cG9ydHM9e0NvbnRleHR1YWxWaWV3OnQoXCIuL0NvbnRleHR1YWxWaWV3XCIpLERlY2s6dChcIi4vRGVja1wiKSxFZGdlU3dhcHBlcjp0KFwiLi9FZGdlU3dhcHBlclwiKSxEcmF3ZXJMYXlvdXQ6dChcIi4vRHJhd2VyTGF5b3V0XCIpLEZsZXhpYmxlTGF5b3V0OnQoXCIuL0ZsZXhpYmxlTGF5b3V0XCIpLEZsaXBwZXI6dChcIi4vRmxpcHBlclwiKSxHcmlkTGF5b3V0OnQoXCIuL0dyaWRMYXlvdXRcIiksSGVhZGVyRm9vdGVyTGF5b3V0OnQoXCIuL0hlYWRlckZvb3RlckxheW91dFwiKSxMaWdodGJveDp0KFwiLi9MaWdodGJveFwiKSxSZW5kZXJDb250cm9sbGVyOnQoXCIuL1JlbmRlckNvbnRyb2xsZXJcIiksU2Nyb2xsQ29udGFpbmVyOnQoXCIuL1Njcm9sbENvbnRhaW5lclwiKSxTY3JvbGxlcjp0KFwiLi9TY3JvbGxlclwiKSxTY3JvbGx2aWV3OnQoXCIuL1Njcm9sbHZpZXdcIiksU2VxdWVudGlhbExheW91dDp0KFwiLi9TZXF1ZW50aWFsTGF5b3V0XCIpfX0se1wiLi9Db250ZXh0dWFsVmlld1wiOjk3LFwiLi9EZWNrXCI6OTgsXCIuL0RyYXdlckxheW91dFwiOjk5LFwiLi9FZGdlU3dhcHBlclwiOjEwMCxcIi4vRmxleGlibGVMYXlvdXRcIjoxMDEsXCIuL0ZsaXBwZXJcIjoxMDIsXCIuL0dyaWRMYXlvdXRcIjoxMDMsXCIuL0hlYWRlckZvb3RlckxheW91dFwiOjEwNCxcIi4vTGlnaHRib3hcIjoxMDUsXCIuL1JlbmRlckNvbnRyb2xsZXJcIjoxMDYsXCIuL1Njcm9sbENvbnRhaW5lclwiOjEwNyxcIi4vU2Nyb2xsZXJcIjoxMDgsXCIuL1Njcm9sbHZpZXdcIjoxMDksXCIuL1NlcXVlbnRpYWxMYXlvdXRcIjoxMTB9XSwxMTI6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudGl0bGU9bmV3IG8oe2NsYXNzZXM6dGhpcy5vcHRpb25zLmNsYXNzZXMsY29udGVudDp0aGlzLm9wdGlvbnMuY29udGVudH0pLHRoaXMuYmFjaz1uZXcgbyh7c2l6ZTpbdGhpcy5vcHRpb25zLnNpemVbMV0sdGhpcy5vcHRpb25zLnNpemVbMV1dLGNsYXNzZXM6dGhpcy5vcHRpb25zLmNsYXNzZXMsY29udGVudDp0aGlzLm9wdGlvbnMuYmFja0NvbnRlbnR9KSx0aGlzLmJhY2sub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcImJhY2tcIix7fSl9LmJpbmQodGhpcykpLHRoaXMubW9yZT1uZXcgbyh7c2l6ZTpbdGhpcy5vcHRpb25zLnNpemVbMV0sdGhpcy5vcHRpb25zLnNpemVbMV1dLGNsYXNzZXM6dGhpcy5vcHRpb25zLmNsYXNzZXMsY29udGVudDp0aGlzLm9wdGlvbnMubW9yZUNvbnRlbnR9KSx0aGlzLm1vcmUub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRPdXRwdXQuZW1pdChcIm1vcmVcIix7fSl9LmJpbmQodGhpcykpLHRoaXMubGF5b3V0PW5ldyBuKHtpZDpcIm1hc3RlclwiLHNpemU6dGhpcy5vcHRpb25zLnNpemUsdGFyZ2V0Olt7dHJhbnNmb3JtOnMuaW5Gcm9udCxvcmlnaW46WzAsLjVdLHRhcmdldDp0aGlzLmJhY2t9LHtvcmlnaW46Wy41LC41XSx0YXJnZXQ6dGhpcy50aXRsZX0se3RyYW5zZm9ybTpzLmluRnJvbnQsb3JpZ2luOlsxLC41XSx0YXJnZXQ6dGhpcy5tb3JlfV19KSx0aGlzLl9hZGQodGhpcy5sYXlvdXQpLHRoaXMuX29wdGlvbnNNYW5hZ2VyLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24odCl7dmFyIGk9dC5pZCxlPXQudmFsdWU7XCJzaXplXCI9PT1pPyh0aGlzLmxheW91dC5pZC5tYXN0ZXIuc2V0U2l6ZShlKSx0aGlzLnRpdGxlLnNldFNpemUoZSksdGhpcy5iYWNrLnNldFNpemUoW2VbMV0sZVsxXV0pLHRoaXMubW9yZS5zZXRTaXplKFtlWzFdLGVbMV1dKSk6XCJiYWNrQ2xhc3Nlc1wiPT09aT90aGlzLmJhY2suc2V0T3B0aW9ucyh7Y2xhc3Nlczp0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb25jYXQodGhpcy5vcHRpb25zLmJhY2tDbGFzc2VzKX0pOlwiYmFja0NvbnRlbnRcIj09PWk/dGhpcy5iYWNrLnNldENvbnRlbnQodGhpcy5vcHRpb25zLmJhY2tDb250ZW50KTpcImNsYXNzZXNcIj09PWk/KHRoaXMudGl0bGUuc2V0T3B0aW9ucyh7Y2xhc3Nlczp0aGlzLm9wdGlvbnMuY2xhc3Nlc30pLHRoaXMuYmFjay5zZXRPcHRpb25zKHtjbGFzc2VzOnRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbmNhdCh0aGlzLm9wdGlvbnMuYmFja0NsYXNzZXMpfSksdGhpcy5tb3JlLnNldE9wdGlvbnMoe2NsYXNzZXM6dGhpcy5vcHRpb25zLmNsYXNzZXMuY29uY2F0KHRoaXMub3B0aW9ucy5tb3JlQ2xhc3Nlcyl9KSk6XCJjb250ZW50XCI9PT1pP3RoaXMuc2V0Q29udGVudCh0aGlzLm9wdGlvbnMuY29udGVudCk6XCJtb3JlQ2xhc3Nlc1wiPT09aT90aGlzLm1vcmUuc2V0T3B0aW9ucyh7Y2xhc3Nlczp0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb25jYXQodGhpcy5vcHRpb25zLm1vcmVDbGFzc2VzKX0pOlwibW9yZUNvbnRlbnRcIj09PWkmJnRoaXMubW9yZS5zZXRDb250ZW50KHRoaXMub3B0aW9ucy5jb250ZW50KX0uYmluZCh0aGlzKSl9dmFyIG49dChcIi4uL2NvcmUvU2NlbmVcIiksbz10KFwiLi4vY29yZS9TdXJmYWNlXCIpLHM9dChcIi4uL2NvcmUvVHJhbnNmb3JtXCIpLHI9dChcIi4uL2NvcmUvVmlld1wiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXtzaXplOlt2b2lkIDAsNTBdLGJhY2tDbGFzc2VzOltcImJhY2tcIl0sYmFja0NvbnRlbnQ6XCImI3gyNWMwO1wiLGNsYXNzZXM6W1wibmF2aWdhdGlvblwiXSxjb250ZW50OlwiXCIsbW9yZUNsYXNzZXM6W1wibW9yZVwiXSxtb3JlQ29udGVudDpcIiYjeDI3MWE7XCJ9LGUucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGl0bGUuc2V0Q29udGVudCh0KX0saS5leHBvcnRzPWV9LHtcIi4uL2NvcmUvU2NlbmVcIjoxMixcIi4uL2NvcmUvU3VyZmFjZVwiOjE0LFwiLi4vY29yZS9UcmFuc2Zvcm1cIjoxNSxcIi4uL2NvcmUvVmlld1wiOjE2fV0sMTEzOltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPU9iamVjdC5jcmVhdGUoZS5ERUZBVUxUX09QVElPTlMpLHRoaXMub3B0aW9uc01hbmFnZXI9bmV3IGModGhpcy5vcHRpb25zKSx0JiZ0aGlzLnNldE9wdGlvbnModCksdGhpcy5pbmRpY2F0b3I9bmV3IHMoe3NpemU6dGhpcy5vcHRpb25zLmluZGljYXRvclNpemUsY2xhc3NlczpbXCJzbGlkZXItYmFja1wiXX0pLHRoaXMubGFiZWw9bmV3IG8oe3NpemU6dGhpcy5vcHRpb25zLmxhYmVsU2l6ZSxjb250ZW50OnRoaXMub3B0aW9ucy5sYWJlbCxwcm9wZXJ0aWVzOntwb2ludGVyRXZlbnRzOlwibm9uZVwifSxjbGFzc2VzOltcInNsaWRlci1sYWJlbFwiXX0pLHRoaXMuZXZlbnRPdXRwdXQ9bmV3IGEsdGhpcy5ldmVudElucHV0PW5ldyBhLGEuc2V0SW5wdXRIYW5kbGVyKHRoaXMsdGhpcy5ldmVudElucHV0KSxhLnNldE91dHB1dEhhbmRsZXIodGhpcyx0aGlzLmV2ZW50T3V0cHV0KTt2YXIgaT0odGhpcy5vcHRpb25zLnJhbmdlWzFdLXRoaXMub3B0aW9ucy5yYW5nZVswXSkvdGhpcy5vcHRpb25zLmluZGljYXRvclNpemVbMF07dGhpcy5zeW5jPW5ldyBsKFtcIm1vdXNlXCIsXCJ0b3VjaFwiXSx7c2NhbGU6aSxkaXJlY3Rpb246bC5ESVJFQ1RJT05fWH0pLHRoaXMuaW5kaWNhdG9yLnBpcGUodGhpcy5zeW5jKSx0aGlzLnN5bmMucGlwZSh0aGlzKSx0aGlzLmV2ZW50SW5wdXQub24oXCJ1cGRhdGVcIixmdW5jdGlvbih0KXt0aGlzLnNldCh0LnBvc2l0aW9uKX0uYmluZCh0aGlzKSksdGhpcy5fZHJhd1Bvcz0wLG4uY2FsbCh0aGlzKX1mdW5jdGlvbiBuKCl7dGhpcy5sYWJlbC5zZXRDb250ZW50KHRoaXMub3B0aW9ucy5sYWJlbCsnPHNwYW4gc3R5bGU9XCJmbG9hdDogcmlnaHRcIj4nK3RoaXMuZ2V0KCkudG9GaXhlZCh0aGlzLm9wdGlvbnMucHJlY2lzaW9uKStcIjwvc3Bhbj5cIil9dmFyIG89dChcIi4uL2NvcmUvU3VyZmFjZVwiKSxzPXQoXCIuLi9zdXJmYWNlcy9DYW52YXNTdXJmYWNlXCIpLHI9dChcIi4uL2NvcmUvVHJhbnNmb3JtXCIpLGE9dChcIi4uL2NvcmUvRXZlbnRIYW5kbGVyXCIpLGg9dChcIi4uL21hdGgvVXRpbGl0aWVzXCIpLGM9dChcIi4uL2NvcmUvT3B0aW9uc01hbmFnZXJcIikscD10KFwiLi4vaW5wdXRzL01vdXNlU3luY1wiKSx1PXQoXCIuLi9pbnB1dHMvVG91Y2hTeW5jXCIpLGw9dChcIi4uL2lucHV0cy9HZW5lcmljU3luY1wiKTtsLnJlZ2lzdGVyKHttb3VzZTpwLHRvdWNoOnV9KSxlLkRFRkFVTFRfT1BUSU9OUz17c2l6ZTpbMjAwLDYwXSxpbmRpY2F0b3JTaXplOlsyMDAsMzBdLGxhYmVsU2l6ZTpbMjAwLDMwXSxyYW5nZTpbMCwxXSxwcmVjaXNpb246Mix2YWx1ZTowLGxhYmVsOlwiXCIsZmlsbENvbG9yOlwicmdiYSgxNzAsIDE3MCwgMTcwLCAxKVwifSxlLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnNNYW5hZ2VyLnNldE9wdGlvbnModCl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWV9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0IT09dGhpcy5vcHRpb25zLnZhbHVlJiYodGhpcy5vcHRpb25zLnZhbHVlPWguY2xhbXAodCx0aGlzLm9wdGlvbnMucmFuZ2UpLG4uY2FsbCh0aGlzKSx0aGlzLmV2ZW50T3V0cHV0LmVtaXQoXCJjaGFuZ2VcIix7dmFsdWU6dH0pKX0sZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuc2l6ZX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnJhbmdlLGk9TWF0aC5mbG9vcigodGhpcy5nZXQoKS10WzBdKS8odFsxXS10WzBdKSp0aGlzLm9wdGlvbnMuaW5kaWNhdG9yU2l6ZVswXSk7aWYoaTx0aGlzLl9kcmF3UG9zKXRoaXMuaW5kaWNhdG9yLmdldENvbnRleHQoXCIyZFwiKS5jbGVhclJlY3QoaSwwLHRoaXMuX2RyYXdQb3MtaSsxLHRoaXMub3B0aW9ucy5pbmRpY2F0b3JTaXplWzFdKTtlbHNlIGlmKGk+dGhpcy5fZHJhd1Bvcyl7dmFyIGU9dGhpcy5pbmRpY2F0b3IuZ2V0Q29udGV4dChcIjJkXCIpO2UuZmlsbFN0eWxlPXRoaXMub3B0aW9ucy5maWxsQ29sb3IsZS5maWxsUmVjdCh0aGlzLl9kcmF3UG9zLTEsMCxpLXRoaXMuX2RyYXdQb3MrMSx0aGlzLm9wdGlvbnMuaW5kaWNhdG9yU2l6ZVsxXSl9cmV0dXJuIHRoaXMuX2RyYXdQb3M9aSx7c2l6ZTp0aGlzLm9wdGlvbnMuc2l6ZSx0YXJnZXQ6W3tvcmlnaW46WzAsMF0sdGFyZ2V0OnRoaXMuaW5kaWNhdG9yLnJlbmRlcigpfSx7dHJhbnNmb3JtOnIudHJhbnNsYXRlKDAsMCwxKSxvcmlnaW46WzAsMF0sdGFyZ2V0OnRoaXMubGFiZWwucmVuZGVyKCl9XX19LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjcsXCIuLi9jb3JlL09wdGlvbnNNYW5hZ2VyXCI6MTAsXCIuLi9jb3JlL1N1cmZhY2VcIjoxNCxcIi4uL2NvcmUvVHJhbnNmb3JtXCI6MTUsXCIuLi9pbnB1dHMvR2VuZXJpY1N5bmNcIjoyNyxcIi4uL2lucHV0cy9Nb3VzZVN5bmNcIjoyOCxcIi4uL2lucHV0cy9Ub3VjaFN5bmNcIjozMyxcIi4uL21hdGgvVXRpbGl0aWVzXCI6NDAsXCIuLi9zdXJmYWNlcy9DYW52YXNTdXJmYWNlXCI6NzR9XSwxMTQ6W2Z1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSgpe3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGF5b3V0PW5ldyBhLHRoaXMuYnV0dG9ucz1bXSx0aGlzLl9idXR0b25JZHM9e30sdGhpcy5fYnV0dG9uQ2FsbGJhY2tzPXt9LHRoaXMubGF5b3V0LnNlcXVlbmNlRnJvbSh0aGlzLmJ1dHRvbnMpLHRoaXMuX2FkZCh0aGlzLmxheW91dCksdGhpcy5fb3B0aW9uc01hbmFnZXIub24oXCJjaGFuZ2VcIixuLmJpbmQodGhpcykpfWZ1bmN0aW9uIG4odCl7dmFyIGk9dC5pZCxlPXQudmFsdWU7aWYoXCJkaXJlY3Rpb25cIj09PWkpdGhpcy5sYXlvdXQuc2V0T3B0aW9ucyh7ZGltZW5zaW9uczpvLmNhbGwodGhpcy5idXR0b25zLmxlbmd0aCx0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKX0pO2Vsc2UgaWYoXCJidXR0b25zXCI9PT1pKWZvcih2YXIgbiBpbiB0aGlzLmJ1dHRvbnMpdGhpcy5idXR0b25zW25dLnNldE9wdGlvbnMoZSk7ZWxzZSBpZihcInNlY3Rpb25zXCI9PT1pKWZvcih2YXIgcyBpbiB0aGlzLm9wdGlvbnMuc2VjdGlvbnMpdGhpcy5kZWZpbmVTZWN0aW9uKHMsdGhpcy5vcHRpb25zLnNlY3Rpb25zW3NdKX1mdW5jdGlvbiBvKHQsaSl7cmV0dXJuIGk9PT1zLkRpcmVjdGlvbi5YP1t0LDFdOlsxLHRdfXZhciBzPXQoXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiKSxyPXQoXCIuLi9jb3JlL1ZpZXdcIiksYT10KFwiLi4vdmlld3MvR3JpZExheW91dFwiKSxoPXQoXCIuL1RvZ2dsZUJ1dHRvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuREVGQVVMVF9PUFRJT05TPXtzZWN0aW9uczpbXSx3aWRnZXQ6aCxzaXplOlt2b2lkIDAsNTBdLGRpcmVjdGlvbjpzLkRpcmVjdGlvbi5YLGJ1dHRvbnM6e3RvZ2dsZU1vZGU6aC5PTn19LGUucHJvdG90eXBlLmRlZmluZVNlY3Rpb249ZnVuY3Rpb24odCxpKXt2YXIgZSxuPXRoaXMuX2J1dHRvbklkc1t0XTtpZih2b2lkIDA9PT1uKXtuPXRoaXMuYnV0dG9ucy5sZW5ndGgsdGhpcy5fYnV0dG9uSWRzW3RdPW47dmFyIHM9dGhpcy5vcHRpb25zLndpZGdldDtlPW5ldyBzLHRoaXMuYnV0dG9uc1tuXT1lLHRoaXMubGF5b3V0LnNldE9wdGlvbnMoe2RpbWVuc2lvbnM6byh0aGlzLmJ1dHRvbnMubGVuZ3RoLHRoaXMub3B0aW9ucy5kaXJlY3Rpb24pfSl9ZWxzZSBlPXRoaXMuYnV0dG9uc1tuXSxlLnVuYmluZChcInNlbGVjdFwiLHRoaXMuX2J1dHRvbkNhbGxiYWNrc1t0XSk7dGhpcy5vcHRpb25zLmJ1dHRvbnMmJmUuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMuYnV0dG9ucyksZS5zZXRPcHRpb25zKGkpLHRoaXMuX2J1dHRvbkNhbGxiYWNrc1t0XT10aGlzLnNlbGVjdC5iaW5kKHRoaXMsdCksZS5vbihcInNlbGVjdFwiLHRoaXMuX2J1dHRvbkNhbGxiYWNrc1t0XSl9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9idXR0b25JZHNbdF07dGhpcy5idXR0b25zW2ldJiZ0aGlzLmJ1dHRvbnNbaV0uaXNTZWxlY3RlZCgpP3RoaXMuX2V2ZW50T3V0cHV0LmVtaXQoXCJzZWxlY3RcIix7aWQ6dH0pOnRoaXMuYnV0dG9uc1tpXSYmdGhpcy5idXR0b25zW2ldLnNlbGVjdCgpO2Zvcih2YXIgZT0wO2U8dGhpcy5idXR0b25zLmxlbmd0aDtlKyspZSE9PWkmJnRoaXMuYnV0dG9uc1tlXS5kZXNlbGVjdCgpfSxpLmV4cG9ydHM9ZX0se1wiLi4vY29yZS9WaWV3XCI6MTYsXCIuLi91dGlsaXRpZXMvVXRpbGl0eVwiOjk1LFwiLi4vdmlld3MvR3JpZExheW91dFwiOjEwMyxcIi4vVG9nZ2xlQnV0dG9uXCI6MTE1fV0sMTE1OltmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7dGhpcy5vcHRpb25zPXtjb250ZW50OlwiXCIsb2ZmQ2xhc3NlczpbXCJvZmZcIl0sb25DbGFzc2VzOltcIm9uXCJdLHNpemU6dm9pZCAwLG91dFRyYW5zaXRpb246e2N1cnZlOlwiZWFzZUluT3V0XCIsZHVyYXRpb246MzAwfSxpblRyYW5zaXRpb246e2N1cnZlOlwiZWFzZUluT3V0XCIsZHVyYXRpb246MzAwfSx0b2dnbGVNb2RlOmUuVE9HR0xFLGNyb3NzZmFkZTohMH0sdGhpcy5fZXZlbnRPdXRwdXQ9bmV3IG8sby5zZXRPdXRwdXRIYW5kbGVyKHRoaXMsdGhpcy5fZXZlbnRPdXRwdXQpLHRoaXMub2ZmU3VyZmFjZT1uZXcgbix0aGlzLm9mZlN1cmZhY2Uub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnRvZ2dsZU1vZGUhPT1lLk9GRiYmdGhpcy5zZWxlY3QoKX0uYmluZCh0aGlzKSksdGhpcy5vZmZTdXJmYWNlLnBpcGUodGhpcy5fZXZlbnRPdXRwdXQpLHRoaXMub25TdXJmYWNlPW5ldyBuLHRoaXMub25TdXJmYWNlLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3RoaXMub3B0aW9ucy50b2dnbGVNb2RlIT09ZS5PTiYmdGhpcy5kZXNlbGVjdCgpfS5iaW5kKHRoaXMpKSx0aGlzLm9uU3VyZmFjZS5waXBlKHRoaXMuX2V2ZW50T3V0cHV0KSx0aGlzLmFyYml0ZXI9bmV3IHMoe292ZXJsYXA6dGhpcy5vcHRpb25zLmNyb3NzZmFkZX0pLHRoaXMuZGVzZWxlY3QoKSx0JiZ0aGlzLnNldE9wdGlvbnModCl9dmFyIG49dChcIi4uL2NvcmUvU3VyZmFjZVwiKSxvPXQoXCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiKSxzPXQoXCIuLi92aWV3cy9SZW5kZXJDb250cm9sbGVyXCIpO2UuT0ZGPTAsZS5PTj0xLGUuVE9HR0xFPTIsZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMCx0aGlzLmFyYml0ZXIuc2hvdyh0aGlzLm9uU3VyZmFjZSx0aGlzLm9wdGlvbnMuaW5UcmFuc2l0aW9uKSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwic2VsZWN0XCIpfSxlLnByb3RvdHlwZS5kZXNlbGVjdD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5hcmJpdGVyLnNob3codGhpcy5vZmZTdXJmYWNlLHRoaXMub3B0aW9ucy5vdXRUcmFuc2l0aW9uKSx0aGlzLl9ldmVudE91dHB1dC5lbWl0KFwiZGVzZWxlY3RcIil9LGUucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZH0sZS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt2b2lkIDAhPT10LmNvbnRlbnQmJih0aGlzLm9wdGlvbnMuY29udGVudD10LmNvbnRlbnQsdGhpcy5vZmZTdXJmYWNlLnNldENvbnRlbnQodGhpcy5vcHRpb25zLmNvbnRlbnQpLHRoaXMub25TdXJmYWNlLnNldENvbnRlbnQodGhpcy5vcHRpb25zLmNvbnRlbnQpKSx0Lm9mZkNsYXNzZXMmJih0aGlzLm9wdGlvbnMub2ZmQ2xhc3Nlcz10Lm9mZkNsYXNzZXMsdGhpcy5vZmZTdXJmYWNlLnNldENsYXNzZXModGhpcy5vcHRpb25zLm9mZkNsYXNzZXMpKSx0Lm9uQ2xhc3NlcyYmKHRoaXMub3B0aW9ucy5vbkNsYXNzZXM9dC5vbkNsYXNzZXMsdGhpcy5vblN1cmZhY2Uuc2V0Q2xhc3Nlcyh0aGlzLm9wdGlvbnMub25DbGFzc2VzKSksdm9pZCAwIT09dC5zaXplJiYodGhpcy5vcHRpb25zLnNpemU9dC5zaXplLHRoaXMub25TdXJmYWNlLnNldFNpemUodGhpcy5vcHRpb25zLnNpemUpLHRoaXMub2ZmU3VyZmFjZS5zZXRTaXplKHRoaXMub3B0aW9ucy5zaXplKSksdm9pZCAwIT09dC50b2dnbGVNb2RlJiYodGhpcy5vcHRpb25zLnRvZ2dsZU1vZGU9dC50b2dnbGVNb2RlKSx2b2lkIDAhPT10Lm91dFRyYW5zaXRpb24mJih0aGlzLm9wdGlvbnMub3V0VHJhbnNpdGlvbj10Lm91dFRyYW5zaXRpb24pLHZvaWQgMCE9PXQuaW5UcmFuc2l0aW9uJiYodGhpcy5vcHRpb25zLmluVHJhbnNpdGlvbj10LmluVHJhbnNpdGlvbiksdm9pZCAwIT09dC5jcm9zc2ZhZGUmJih0aGlzLm9wdGlvbnMuY3Jvc3NmYWRlPXQuY3Jvc3NmYWRlLHRoaXMuYXJiaXRlci5zZXRPcHRpb25zKHtvdmVybGFwOnRoaXMub3B0aW9ucy5jcm9zc2ZhZGV9KSl9LGUucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnNpemV9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFyYml0ZXIucmVuZGVyKCl9LGkuZXhwb3J0cz1lfSx7XCIuLi9jb3JlL0V2ZW50SGFuZGxlclwiOjcsXCIuLi9jb3JlL1N1cmZhY2VcIjoxNCxcIi4uL3ZpZXdzL1JlbmRlckNvbnRyb2xsZXJcIjoxMDZ9XSwxMTY6W2Z1bmN0aW9uKHQsaSl7aS5leHBvcnRzPXtOYXZpZ2F0aW9uQmFyOnQoXCIuL05hdmlnYXRpb25CYXJcIiksU2xpZGVyOnQoXCIuL1NsaWRlclwiKSxUYWJCYXI6dChcIi4vVGFiQmFyXCIpLFRvZ2dsZUJ1dHRvbjp0KFwiLi9Ub2dnbGVCdXR0b25cIil9fSx7XCIuL05hdmlnYXRpb25CYXJcIjoxMTIsXCIuL1NsaWRlclwiOjExMyxcIi4vVGFiQmFyXCI6MTE0LFwiLi9Ub2dnbGVCdXR0b25cIjoxMTV9XX0se30sWzIzXSkoMjMpfSk7XG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiBmYW1vdXMgIT0gXCJ1bmRlZmluZWRcIiA/IGZhbW91cyA6IHdpbmRvdy5mYW1vdXMpO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiBkZWZpbmVFeHBvcnQoZXgpIHsgbW9kdWxlLmV4cG9ydHMgPSBleDsgfSk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcblxuOyByZXF1aXJlKFwiRDpcXFxcZmFtb3VzLWNhbGVuZGFyXFxcXGZhbW91cy1jYWxlbmRhclxcXFxib3dlcl9jb21wb25lbnRzXFxcXGFuZ3VsYXJcXFxcYW5ndWxhci5taW4uanNcIik7XG47X19icm93c2VyaWZ5X3NoaW1fcmVxdWlyZV9fPXJlcXVpcmU7KGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZXhwb3J0cywgcmVxdWlyZSwgZGVmaW5lLCBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXykge1xuIWZ1bmN0aW9uKCl7YW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmFcIixbXCJuZ0NvcmRvdmEucGx1Z2luc1wiXSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5hZE1vYlwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFBZE1vYlwiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57Y3JlYXRlQmFubmVyVmlldzpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5BZE1vYi5jcmVhdGVCYW5uZXJWaWV3KHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxjcmVhdGVJbnRlcnN0aXRpYWxWaWV3OmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLkFkTW9iLmNyZWF0ZUludGVyc3RpdGlhbFZpZXcocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHJlcXVlc3RBZDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5BZE1vYi5yZXF1ZXN0QWQocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHNob3dBZDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5BZE1vYi5zaG93QWQocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHJlcXVlc3RJbnRlcnN0aXRpYWxBZDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5BZE1vYi5yZXF1ZXN0SW50ZXJzdGl0aWFsQWQocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmFwcEF2YWlsYWJpbGl0eVwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFBcHBBdmFpbGFiaWxpdHlcIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntjaGVjazpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIGFwcEF2YWlsYWJpbGl0eS5jaGVjayhuLGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLkFwcFJhdGVcIixbXSkucHJvdmlkZXIoXCIkY29yZG92YUFwcFJhdGVcIixbZnVuY3Rpb24oKXt0aGlzLnNldEFwcFVybD1mdW5jdGlvbihlLG4pe3ZhciByPVtcImlvc1wiLFwiYW5kcm9pZFwiLFwiYmxhY2tiZXJyeVwiLFwid2luZG93czhcIl07LTEhPT1yLmluZGV4T2YoZSkmJihBcHBSYXRlLnByZWZlcmVuY2VzLnN0b3JlQXBwVVJMW2VdPW4pfSx0aGlzLiRnZXQ9W1wiJHFcIixmdW5jdGlvbihlKXtyZXR1cm57cHJvbXB0Rm9yUmF0aW5nOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKSx0PUFwcFJhdGUucHJvbXB0Rm9yUmF0aW5nKG4pO3JldHVybiByLnJlc29sdmUodCksci5wcm9taXNlfSxvbkJ1dHRvbkNsaWNrZWQ6ZnVuY3Rpb24oZSl7QXBwUmF0ZS5vbkJ1dHRvbkNsaWNrZWQ9ZnVuY3Rpb24obil7ZS5jYWxsKHRoaXMsbil9fSxvblJhdGVEaWFsb2dTaG93OmZ1bmN0aW9uKGUpe0FwcFJhdGUub25SYXRlRGlhbG9nU2hvdz1lKCl9LHVzZUxhbmd1YWdlOmZ1bmN0aW9uKGUpe0FwcFJhdGUucHJlZmVyZW5jZXMudXNlTGFuZ3VhZ2U9ZX0sY3VzdG9tTG9jYWxlOmZ1bmN0aW9uKGUpe3ZhciBuPXt0aXRsZTpcIlJhdGUgJUBcIixtZXNzYWdlOlwiSWYgeW91IGVuam95IHVzaW5nICVALCB3b3VsZCB5b3UgbWluZCB0YWtpbmcgYSBtb21lbnQgdG8gcmF0ZSBpdD8gSXQgd29u4oCZdCB0YWtlIG1vcmUgdGhhbiBhIG1pbnV0ZS4gVGhhbmtzIGZvciB5b3VyIHN1cHBvcnQhXCIsY2FuY2VsQnV0dG9uTGFiZWw6XCJObywgVGhhbmtzXCIsbGF0ZXJCdXR0b25MYWJlbDpcIlJlbWluZCBNZSBMYXRlclwiLHJhdGVCdXR0b25MYWJlbDpcIlJhdGUgSXQgTm93XCJ9O249YW5ndWxhci5leHRlbmQobixlKSxBcHBSYXRlLnByZWZlcmVuY2VzLmN1c3RvbUxvY2FsZT1ufSxhcHBOYW1lOmZ1bmN0aW9uKGUpe0FwcFJhdGUucHJlZmVyZW5jZXMuZGlzcGxheUFwcE5hbWU9ZX0sdXNlc1VudGlsUHJvbXB0OmZ1bmN0aW9uKGUpe0FwcFJhdGUucHJlZmVyZW5jZXMudXNlc1VudGlsUHJvbXB0PWV9LHByb21wdEZvckV2ZXJ5VmVyc2lvbjpmdW5jdGlvbihlKXtBcHBSYXRlLnByZWZlcmVuY2VzLnByb21wdEFnYWluRm9yRWFjaE5ld1ZlcnNpb249ZX19fV19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5iYWNrZ3JvdW5kR2VvbG9jYXRpb25cIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhQmFja2dyb3VuZEdlb2xvY2F0aW9uXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntpbml0OmZ1bmN0aW9uKCl7bi5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9LGNvbmZpZ3VyZTpmdW5jdGlvbihyKXt0aGlzLmluaXQoKTt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5iYWNrZ3JvdW5kR2VvTG9jYXRpb24uY29uZmlndXJlKGZ1bmN0aW9uKGUpe3Qubm90aWZ5KGUpLG4ucGx1Z2lucy5iYWNrZ3JvdW5kR2VvTG9jYXRpb24uZmluaXNoKCl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSxyKSx0aGlzLnN0YXJ0KCksdC5wcm9taXNlfSxzdGFydDpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLmJhY2tncm91bmRHZW9Mb2NhdGlvbi5zdGFydChmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSksci5wcm9taXNlfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuYmFja2dyb3VuZEdlb0xvY2F0aW9uLnN0b3AoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuYmFkZ2VcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhQmFkZ2VcIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntoYXNQZXJtaXNzaW9uOmZ1bmN0aW9uKCl7dmFyIG49ZS5kZWZlcigpO3JldHVybiBjb3Jkb3ZhLnBsdWdpbnMubm90aWZpY2F0aW9uLmJhZGdlLmhhc1Blcm1pc3Npb24oZnVuY3Rpb24oZSl7ZT9uLnJlc29sdmUoITApOm4ucmVqZWN0KFwiWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb25cIil9KSxuLnByb21pc2V9LHByb21wdEZvclBlcm1pc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gY29yZG92YS5wbHVnaW5zLm5vdGlmaWNhdGlvbi5iYWRnZS5wcm9tcHRGb3JQZXJtaXNzaW9uKCl9LHNldDpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5ub3RpZmljYXRpb24uYmFkZ2UuaGFzUGVybWlzc2lvbihmdW5jdGlvbihlKXtlP3IucmVzb2x2ZShjb3Jkb3ZhLnBsdWdpbnMubm90aWZpY2F0aW9uLmJhZGdlLnNldChuKSk6ci5yZWplY3QoXCJZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBzZXQgQmFkZ2VcIil9KSxyLnByb21pc2V9LGdldDpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gY29yZG92YS5wbHVnaW5zLm5vdGlmaWNhdGlvbi5iYWRnZS5oYXNQZXJtaXNzaW9uKGZ1bmN0aW9uKGUpe2U/Y29yZG92YS5wbHVnaW5zLm5vdGlmaWNhdGlvbi5iYWRnZS5nZXQoZnVuY3Rpb24oZSl7bi5yZXNvbHZlKGUpfSk6bi5yZWplY3QoXCJZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBnZXQgQmFkZ2VcIil9KSxuLnByb21pc2V9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIG49ZS5kZWZlcigpO3JldHVybiBjb3Jkb3ZhLnBsdWdpbnMubm90aWZpY2F0aW9uLmJhZGdlLmhhc1Blcm1pc3Npb24oZnVuY3Rpb24oZSl7ZT9uLnJlc29sdmUoY29yZG92YS5wbHVnaW5zLm5vdGlmaWNhdGlvbi5iYWRnZS5jbGVhcigpKTpuLnJlamVjdChcIllvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGNsZWFyIEJhZGdlXCIpfSksbi5wcm9taXNlfSxjb25maWd1cmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5ub3RpZmljYXRpb24uYmFkZ2UuY29uZmlndXJlKGUpfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5iYXJjb2RlU2Nhbm5lclwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFCYXJjb2RlU2Nhbm5lclwiLFtcIiRxXCIsZnVuY3Rpb24oZSl7cmV0dXJue3NjYW46ZnVuY3Rpb24oKXt2YXIgbj1lLmRlZmVyKCk7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5iYXJjb2RlU2Nhbm5lci5zY2FuKGZ1bmN0aW9uKGUpe24ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KSxuLnByb21pc2V9LGVuY29kZTpmdW5jdGlvbihuLHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbj1ufHxcIlRFWFRfVFlQRVwiLGNvcmRvdmEucGx1Z2lucy5iYXJjb2RlU2Nhbm5lci5lbmNvZGUobixyLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmJhdHRlcnktc3RhdHVzXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUJhdHRlcnlTdGF0dXNcIixbXCIkcm9vdFNjb3BlXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXt2YXIgcj1lLiRuZXcoKTtyZXR1cm4gbi5hZGRFdmVudExpc3RlbmVyKFwiYmF0dGVyeXN0YXR1c1wiLGZ1bmN0aW9uKGUpe3IuJGVtaXQoXCJiYXR0ZXJ5c3RhdHVzXCIsZS5kZXRhaWwpfSwhMSksbi5hZGRFdmVudExpc3RlbmVyKFwiYmF0dGVyeWNyaXRpY2FsXCIsZnVuY3Rpb24oZSl7ci4kZW1pdChcImJhdHRlcnljcml0aWNhbFwiLGUuZGV0YWlsKX0sITEpLG4uYWRkRXZlbnRMaXN0ZW5lcihcImJhdHRlcnlsb3dcIixmdW5jdGlvbihlKXtyLiRlbWl0KFwiYmF0dGVyeWxvd1wiLGUuZGV0YWlsKX0sITEpLHJ9XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5ibGVcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhQkxFXCIsW1wiJHFcIixmdW5jdGlvbihlKXtyZXR1cm57c2NhbjpmdW5jdGlvbihuLHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gYmxlLnNjYW4obixyLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LGNvbm5lY3Q6ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBibGUuY29ubmVjdChuLGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBibGUuZGlzY29ubmVjdChuLGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LHJlYWQ6ZnVuY3Rpb24obixyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gYmxlLnJlYWQobixyLHQsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtvLnJlamVjdChlKX0pLG8ucHJvbWlzZX0sd3JpdGU6ZnVuY3Rpb24obixyLHQsbyl7dmFyIGk9ZS5kZWZlcigpO3JldHVybiBibGUud3JpdGUobixyLHQsbyxmdW5jdGlvbihlKXtpLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe2kucmVqZWN0KGUpfSksaS5wcm9taXNlfSx3cml0ZUNvbW1hbmQ6ZnVuY3Rpb24obixyLHQsbyl7dmFyIGk9ZS5kZWZlcigpO3JldHVybiBibGUud3JpdGVDb21tYW5kKG4scix0LG8sZnVuY3Rpb24oZSl7aS5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtpLnJlamVjdChlKX0pLGkucHJvbWlzZX0sbm90aWZ5OmZ1bmN0aW9uKG4scix0KXt2YXIgbz1lLmRlZmVyKCk7cmV0dXJuIGJsZS5ub3RpZnkobixyLHQsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtvLnJlamVjdChlKX0pLG8ucHJvbWlzZX0saW5kaWNhdGU6ZnVuY3Rpb24obixyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gYmxlLmluZGljYXRlKG4scix0LGZ1bmN0aW9uKGUpe28ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7by5yZWplY3QoZSl9KSxvLnByb21pc2V9LGlzQ29ubmVjdGVkOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gYmxlLmlzQ29ubmVjdGVkKG4sZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7dmFyIG49ZS5kZWZlcigpO3JldHVybiBibGUuaXNFbmFibGVkKGZ1bmN0aW9uKGUpe24ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KSxuLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmJsdWV0b290aFNlcmlhbFwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFCbHVldG9vdGhTZXJpYWxcIixbXCIkcVwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGUsbil7cmV0dXJue2Nvbm5lY3Q6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC5jb25uZWN0KHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LGNvbm5lY3RJbnNlY3VyZTpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uYmx1ZXRvb3RoU2VyaWFsLmNvbm5lY3RJbnNlY3VyZShyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC5kaXNjb25uZWN0KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSksci5wcm9taXNlfSxsaXN0OmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC5saXN0KGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5ibHVldG9vdGhTZXJpYWwuaXNFbmFibGVkKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX0saXNDb25uZWN0ZWQ6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uYmx1ZXRvb3RoU2VyaWFsLmlzQ29ubmVjdGVkKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX0sYXZhaWxhYmxlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC5hdmFpbGFibGUoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0scmVhZDpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5ibHVldG9vdGhTZXJpYWwucmVhZChmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSksci5wcm9taXNlfSxyZWFkVW50aWw6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC5yZWFkVW50aWwocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSx3cml0ZTpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uYmx1ZXRvb3RoU2VyaWFsLndyaXRlKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LHN1YnNjcmliZTpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uYmx1ZXRvb3RoU2VyaWFsLnN1YnNjcmliZShyLGZ1bmN0aW9uKGUpe3Qubm90aWZ5KGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sc3Vic2NyaWJlUmF3RGF0YTpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5ibHVldG9vdGhTZXJpYWwuc3Vic2NyaWJlUmF3RGF0YShmdW5jdGlvbihlKXtyLm5vdGlmeShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC51bnN1YnNjcmliZShmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0sdW5zdWJzY3JpYmVSYXdEYXRhOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC51bnN1YnNjcmliZVJhd0RhdGEoZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmJsdWV0b290aFNlcmlhbC5jbGVhcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0scmVhZFJTU0k6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uYmx1ZXRvb3RoU2VyaWFsLnJlYWRSU1NJKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmNhbGVuZGFyXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUNhbGVuZGFyXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntjcmVhdGVDYWxlbmRhcjpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCksbz1uLnBsdWdpbnMuY2FsZW5kYXIuZ2V0Q3JlYXRlQ2FsZW5kYXJPcHRpb25zKCk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/by5jYWxlbmRhck5hbWU9cjpvPWFuZ3VsYXIuZXh0ZW5kKG8sciksbi5wbHVnaW5zLmNhbGVuZGFyLmNyZWF0ZUNhbGVuZGFyKG8sZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sZGVsZXRlQ2FsZW5kYXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuY2FsZW5kYXIuZGVsZXRlQ2FsZW5kYXIocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxjcmVhdGVFdmVudDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCksbz17dGl0bGU6bnVsbCxsb2NhdGlvbjpudWxsLG5vdGVzOm51bGwsc3RhcnREYXRlOm51bGwsZW5kRGF0ZTpudWxsfTtyZXR1cm4gbz1hbmd1bGFyLmV4dGVuZChvLHIpLG4ucGx1Z2lucy5jYWxlbmRhci5jcmVhdGVFdmVudChvLnRpdGxlLG8ubG9jYXRpb24sby5ub3RlcyxuZXcgRGF0ZShvLnN0YXJ0RGF0ZSksbmV3IERhdGUoby5lbmREYXRlKSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxjcmVhdGVFdmVudFdpdGhPcHRpb25zOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKSxvPVtdLGk9d2luZG93LnBsdWdpbnMuY2FsZW5kYXIuZ2V0Q2FsZW5kYXJPcHRpb25zKCksYT17dGl0bGU6bnVsbCxsb2NhdGlvbjpudWxsLG5vdGVzOm51bGwsc3RhcnREYXRlOm51bGwsZW5kRGF0ZTpudWxsfTtvPU9iamVjdC5rZXlzKGEpO2Zvcih2YXIgYyBpbiByKS0xPT09by5pbmRleE9mKGMpP2lbY109cltjXTphW2NdPXJbY107cmV0dXJuIG4ucGx1Z2lucy5jYWxlbmRhci5jcmVhdGVFdmVudFdpdGhPcHRpb25zKGEudGl0bGUsYS5sb2NhdGlvbixhLm5vdGVzLG5ldyBEYXRlKGEuc3RhcnREYXRlKSxuZXcgRGF0ZShhLmVuZERhdGUpLGksZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sY3JlYXRlRXZlbnRJbnRlcmFjdGl2ZWx5OmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKSxvPXt0aXRsZTpudWxsLGxvY2F0aW9uOm51bGwsbm90ZXM6bnVsbCxzdGFydERhdGU6bnVsbCxlbmREYXRlOm51bGx9O3JldHVybiBvPWFuZ3VsYXIuZXh0ZW5kKG8sciksbi5wbHVnaW5zLmNhbGVuZGFyLmNyZWF0ZUV2ZW50SW50ZXJhY3RpdmVseShvLnRpdGxlLG8ubG9jYXRpb24sby5ub3RlcyxuZXcgRGF0ZShvLnN0YXJ0RGF0ZSksbmV3IERhdGUoby5lbmREYXRlKSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxjcmVhdGVFdmVudEluTmFtZWRDYWxlbmRhcjpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCksbz17dGl0bGU6bnVsbCxsb2NhdGlvbjpudWxsLG5vdGVzOm51bGwsc3RhcnREYXRlOm51bGwsZW5kRGF0ZTpudWxsLGNhbGVuZGFyTmFtZTpudWxsfTtyZXR1cm4gbz1hbmd1bGFyLmV4dGVuZChvLHIpLG4ucGx1Z2lucy5jYWxlbmRhci5jcmVhdGVFdmVudEluTmFtZWRDYWxlbmRhcihvLnRpdGxlLG8ubG9jYXRpb24sby5ub3RlcyxuZXcgRGF0ZShvLnN0YXJ0RGF0ZSksbmV3IERhdGUoby5lbmREYXRlKSxvLmNhbGVuZGFyTmFtZSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxmaW5kRXZlbnQ6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpLG89e3RpdGxlOm51bGwsbG9jYXRpb246bnVsbCxub3RlczpudWxsLHN0YXJ0RGF0ZTpudWxsLGVuZERhdGU6bnVsbH07cmV0dXJuIG89YW5ndWxhci5leHRlbmQobyxyKSxuLnBsdWdpbnMuY2FsZW5kYXIuZmluZEV2ZW50KG8udGl0bGUsby5sb2NhdGlvbixvLm5vdGVzLG5ldyBEYXRlKG8uc3RhcnREYXRlKSxuZXcgRGF0ZShvLmVuZERhdGUpLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LGxpc3RFdmVudHNJblJhbmdlOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuY2FsZW5kYXIubGlzdEV2ZW50c0luUmFuZ2Uocix0LGZ1bmN0aW9uKGUpe28ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7by5yZWplY3QoZSl9KSxvLnByb21pc2V9LGxpc3RDYWxlbmRhcnM6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5jYWxlbmRhci5saXN0Q2FsZW5kYXJzKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LGZpbmRBbGxFdmVudHNJbk5hbWVkQ2FsZW5kYXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuY2FsZW5kYXIuZmluZEFsbEV2ZW50c0luTmFtZWRDYWxlbmRhcihyLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LG1vZGlmeUV2ZW50OmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKSxvPXt0aXRsZTpudWxsLGxvY2F0aW9uOm51bGwsbm90ZXM6bnVsbCxzdGFydERhdGU6bnVsbCxlbmREYXRlOm51bGwsbmV3VGl0bGU6bnVsbCxuZXdMb2NhdGlvbjpudWxsLG5ld05vdGVzOm51bGwsbmV3U3RhcnREYXRlOm51bGwsbmV3RW5kRGF0ZTpudWxsfTtyZXR1cm4gbz1hbmd1bGFyLmV4dGVuZChvLHIpLG4ucGx1Z2lucy5jYWxlbmRhci5tb2RpZnlFdmVudChvLnRpdGxlLG8ubG9jYXRpb24sby5ub3RlcyxuZXcgRGF0ZShvLnN0YXJ0RGF0ZSksbmV3IERhdGUoby5lbmREYXRlKSxvLm5ld1RpdGxlLG8ubmV3TG9jYXRpb24sby5uZXdOb3RlcyxuZXcgRGF0ZShvLm5ld1N0YXJ0RGF0ZSksbmV3IERhdGUoby5uZXdFbmREYXRlKSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxkZWxldGVFdmVudDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCksbz17bmV3VGl0bGU6bnVsbCxsb2NhdGlvbjpudWxsLG5vdGVzOm51bGwsc3RhcnREYXRlOm51bGwsZW5kRGF0ZTpudWxsfTtyZXR1cm4gbz1hbmd1bGFyLmV4dGVuZChvLHIpLG4ucGx1Z2lucy5jYWxlbmRhci5kZWxldGVFdmVudChvLm5ld1RpdGxlLG8ubG9jYXRpb24sby5ub3RlcyxuZXcgRGF0ZShvLnN0YXJ0RGF0ZSksbmV3IERhdGUoby5lbmREYXRlKSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5jYW1lcmFcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhQ2FtZXJhXCIsW1wiJHFcIixmdW5jdGlvbihlKXtyZXR1cm57Z2V0UGljdHVyZTpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG5hdmlnYXRvci5jYW1lcmE/KG5hdmlnYXRvci5jYW1lcmEuZ2V0UGljdHVyZShmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSxuKSxyLnByb21pc2UpOihyLnJlc29sdmUobnVsbCksci5wcm9taXNlKX0sY2xlYW51cDpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmNhbWVyYS5jbGVhbnVwKGZ1bmN0aW9uKCl7bi5yZXNvbHZlKCl9LGZ1bmN0aW9uKGUpe24ucmVqZWN0KGUpfSksbi5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5jYXB0dXJlXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUNhcHR1cmVcIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntjYXB0dXJlQXVkaW86ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuYXZpZ2F0b3IuZGV2aWNlLmNhcHR1cmU/KG5hdmlnYXRvci5kZXZpY2UuY2FwdHVyZS5jYXB0dXJlQXVkaW8oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0sbiksci5wcm9taXNlKTooci5yZXNvbHZlKG51bGwpLHIucHJvbWlzZSl9LGNhcHR1cmVJbWFnZTpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG5hdmlnYXRvci5kZXZpY2UuY2FwdHVyZT8obmF2aWdhdG9yLmRldmljZS5jYXB0dXJlLmNhcHR1cmVJbWFnZShmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSxuKSxyLnByb21pc2UpOihyLnJlc29sdmUobnVsbCksci5wcm9taXNlKX0sY2FwdHVyZVZpZGVvOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmRldmljZS5jYXB0dXJlPyhuYXZpZ2F0b3IuZGV2aWNlLmNhcHR1cmUuY2FwdHVyZVZpZGVvKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9LG4pLHIucHJvbWlzZSk6KHIucmVzb2x2ZShudWxsKSxyLnByb21pc2UpfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5jbGlwYm9hcmRcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhQ2xpcGJvYXJkXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntjb3B5OmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5jb3Jkb3ZhLnBsdWdpbnMuY2xpcGJvYXJkLmNvcHkocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHBhc3RlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmNvcmRvdmEucGx1Z2lucy5jbGlwYm9hcmQucGFzdGUoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmNvbnRhY3RzXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUNvbnRhY3RzXCIsW1wiJHFcIixmdW5jdGlvbihlKXtyZXR1cm57c2F2ZTpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCksdD1uYXZpZ2F0b3IuY29udGFjdHMuY3JlYXRlKG4pO3JldHVybiB0LnNhdmUoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKSx0PW5hdmlnYXRvci5jb250YWN0cy5jcmVhdGUobik7cmV0dXJuIHQucmVtb3ZlKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LGNsb25lOmZ1bmN0aW9uKGUpe3ZhciBuPW5hdmlnYXRvci5jb250YWN0cy5jcmVhdGUoZSk7cmV0dXJuIG4uY2xvbmUoZSl9LGZpbmQ6ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpLHQ9bi5maWVsZHN8fFtcImlkXCIsXCJkaXNwbGF5TmFtZVwiXTtyZXR1cm4gZGVsZXRlIG4uZmllbGRzLG5hdmlnYXRvci5jb250YWN0cy5maW5kKHQsZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0sbiksci5wcm9taXNlfSxwaWNrQ29udGFjdDpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmNvbnRhY3RzLnBpY2tDb250YWN0KGZ1bmN0aW9uKGUpe24ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KSxuLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmRhdGVQaWNrZXJcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhRGF0ZVBpY2tlclwiLFtcIiR3aW5kb3dcIixcIiRxXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57c2hvdzpmdW5jdGlvbihyKXtyPXJ8fHtkYXRlOm5ldyBEYXRlLG1vZGU6XCJkYXRlXCJ9O3ZhciB0PW4uZGVmZXIoKTtyZXR1cm4gZS5kYXRlUGlja2VyLnNob3cocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9KSx0LnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmRldmljZVwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFEZXZpY2VcIixbZnVuY3Rpb24oKXtyZXR1cm57Z2V0RGV2aWNlOmZ1bmN0aW9uKCl7cmV0dXJuIGRldmljZX0sZ2V0Q29yZG92YTpmdW5jdGlvbigpe3JldHVybiBkZXZpY2UuY29yZG92YX0sZ2V0TW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gZGV2aWNlLm1vZGVsfSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIGRldmljZS5uYW1lfSxnZXRQbGF0Zm9ybTpmdW5jdGlvbigpe3JldHVybiBkZXZpY2UucGxhdGZvcm19LGdldFVVSUQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGV2aWNlLnV1aWR9LGdldFZlcnNpb246ZnVuY3Rpb24oKXtyZXR1cm4gZGV2aWNlLnZlcnNpb259fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmRldmljZU1vdGlvblwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFEZXZpY2VNb3Rpb25cIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntnZXRDdXJyZW50QWNjZWxlcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIG49ZS5kZWZlcigpO3JldHVybiBuYXZpZ2F0b3IuYWNjZWxlcm9tZXRlci5nZXRDdXJyZW50QWNjZWxlcmF0aW9uKGZ1bmN0aW9uKGUpe24ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KSxuLnByb21pc2V9LHdhdGNoQWNjZWxlcmF0aW9uOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKSx0PW5hdmlnYXRvci5hY2NlbGVyb21ldGVyLndhdGNoQWNjZWxlcmF0aW9uKGZ1bmN0aW9uKGUpe3Iubm90aWZ5KGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0sbik7cmV0dXJuIHIucHJvbWlzZS5jYW5jZWw9ZnVuY3Rpb24oKXtuYXZpZ2F0b3IuYWNjZWxlcm9tZXRlci5jbGVhcldhdGNoKHQpfSxyLnByb21pc2UuY2xlYXJXYXRjaD1mdW5jdGlvbihlKXtuYXZpZ2F0b3IuYWNjZWxlcm9tZXRlci5jbGVhcldhdGNoKGV8fHQpfSxyLnByb21pc2Uud2F0Y2hJRD10LHIucHJvbWlzZX0sY2xlYXJXYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gbmF2aWdhdG9yLmFjY2VsZXJvbWV0ZXIuY2xlYXJXYXRjaChlKX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuZGV2aWNlT3JpZW50YXRpb25cIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhRGV2aWNlT3JpZW50YXRpb25cIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntnZXRDdXJyZW50SGVhZGluZzpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmNvbXBhc3MuZ2V0Q3VycmVudEhlYWRpbmcoZnVuY3Rpb24oZSl7bi5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtuLnJlamVjdChlKX0pLG4ucHJvbWlzZX0sd2F0Y2hIZWFkaW5nOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKSx0PW5hdmlnYXRvci5jb21wYXNzLndhdGNoSGVhZGluZyhmdW5jdGlvbihlKXtyLm5vdGlmeShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9LG4pO3JldHVybiByLnByb21pc2UuY2FuY2VsPWZ1bmN0aW9uKCl7bmF2aWdhdG9yLmNvbXBhc3MuY2xlYXJXYXRjaCh0KX0sci5wcm9taXNlLmNsZWFyV2F0Y2g9ZnVuY3Rpb24oZSl7bmF2aWdhdG9yLmNvbXBhc3MuY2xlYXJXYXRjaChlfHx0KX0sci5wcm9taXNlLndhdGNoSUQ9dCxyLnByb21pc2V9LGNsZWFyV2F0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIG5hdmlnYXRvci5jb21wYXNzLmNsZWFyV2F0Y2goZSl9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmRpYWxvZ3NcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhRGlhbG9nc1wiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57YWxlcnQ6ZnVuY3Rpb24ocix0LG8pe3ZhciBpPWUuZGVmZXIoKTtyZXR1cm4gbi5uYXZpZ2F0b3Iubm90aWZpY2F0aW9uP25hdmlnYXRvci5ub3RpZmljYXRpb24uYWxlcnQocixmdW5jdGlvbigpe2kucmVzb2x2ZSgpfSx0LG8pOihuLmFsZXJ0KHIpLGkucmVzb2x2ZSgpKSxpLnByb21pc2V9LGNvbmZpcm06ZnVuY3Rpb24ocix0LG8pe3ZhciBpPWUuZGVmZXIoKTtyZXR1cm4gbi5uYXZpZ2F0b3Iubm90aWZpY2F0aW9uP25hdmlnYXRvci5ub3RpZmljYXRpb24uY29uZmlybShyLGZ1bmN0aW9uKGUpe2kucmVzb2x2ZShlKX0sdCxvKTppLnJlc29sdmUobi5jb25maXJtKHIpPzE6MiksaS5wcm9taXNlfSxwcm9tcHQ6ZnVuY3Rpb24ocix0LG8saSl7dmFyIGE9ZS5kZWZlcigpO2lmKG4ubmF2aWdhdG9yLm5vdGlmaWNhdGlvbiluYXZpZ2F0b3Iubm90aWZpY2F0aW9uLnByb21wdChyLGZ1bmN0aW9uKGUpe2EucmVzb2x2ZShlKX0sdCxvLGkpO2Vsc2V7dmFyIGM9bi5wcm9tcHQocixpKTthLnJlc29sdmUobnVsbCE9PWM/e2lucHV0MTpjLGJ1dHRvbkluZGV4OjF9OntpbnB1dDE6YyxidXR0b25JbmRleDoyfSl9cmV0dXJuIGEucHJvbWlzZX0sYmVlcDpmdW5jdGlvbihlKXtyZXR1cm4gbmF2aWdhdG9yLm5vdGlmaWNhdGlvbi5iZWVwKGUpfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5mYWNlYm9va1wiLFtdKS5wcm92aWRlcihcIiRjb3Jkb3ZhRmFjZWJvb2tcIixbZnVuY3Rpb24oKXt2YXIgZSxuO3RoaXMuc2V0QXBwSUQ9ZnVuY3Rpb24ocix0KXtlPXIsbj10fHxcInYyLjBcIn0sdGhpcy4kZ2V0PVtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24ocix0KXtyZXR1cm57Z2V0QXBwSUQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0saW5pdDpmdW5jdGlvbihlKXt0LmNvcmRvdmF8fGZhY2Vib29rQ29ubmVjdFBsdWdpbi5icm93c2VySW5pdChlLG4pfSxsb2dpbjpmdW5jdGlvbihlKXt0aGlzLmluaXQodGhpcy5nZXRBcHBJRCgpKTt2YXIgbj1yLmRlZmVyKCk7cmV0dXJuIGZhY2Vib29rQ29ubmVjdFBsdWdpbi5sb2dpbihlLGZ1bmN0aW9uKGUpe24ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KSxuLnByb21pc2V9LHNob3dEaWFsb2c6ZnVuY3Rpb24oZSl7dmFyIG49ci5kZWZlcigpO3JldHVybiBmYWNlYm9va0Nvbm5lY3RQbHVnaW4uc2hvd0RpYWxvZyhlLGZ1bmN0aW9uKGUpe24ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KSxuLnByb21pc2V9LGFwaTpmdW5jdGlvbihlLG4pe3ZhciB0PXIuZGVmZXIoKTtyZXR1cm4gZmFjZWJvb2tDb25uZWN0UGx1Z2luLmFwaShlLG4sZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sZ2V0QWNjZXNzVG9rZW46ZnVuY3Rpb24oKXt2YXIgZT1yLmRlZmVyKCk7cmV0dXJuIGZhY2Vib29rQ29ubmVjdFBsdWdpbi5nZXRBY2Nlc3NUb2tlbihmdW5jdGlvbihuKXtlLnJlc29sdmUobil9LGZ1bmN0aW9uKG4pe2UucmVqZWN0KG4pfSksZS5wcm9taXNlfSxnZXRMb2dpblN0YXR1czpmdW5jdGlvbigpe3ZhciBlPXIuZGVmZXIoKTtyZXR1cm4gZmFjZWJvb2tDb25uZWN0UGx1Z2luLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uKG4pe2UucmVzb2x2ZShuKX0sZnVuY3Rpb24obil7ZS5yZWplY3Qobil9KSxlLnByb21pc2V9LGxvZ291dDpmdW5jdGlvbigpe3ZhciBlPXIuZGVmZXIoKTtyZXR1cm4gZmFjZWJvb2tDb25uZWN0UGx1Z2luLmxvZ291dChmdW5jdGlvbihuKXtlLnJlc29sdmUobil9LGZ1bmN0aW9uKG4pe2UucmVqZWN0KG4pfSksZS5wcm9taXNlfX19XX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmZhY2Vib29rQWRzXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUZhY2Vib29rQWRzXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntzZXRPcHRpb25zOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5GYWNlYm9va0Fkcy5zZXRPcHRpb25zKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxjcmVhdGVCYW5uZXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLkZhY2Vib29rQWRzLmNyZWF0ZUJhbm5lcihyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0scmVtb3ZlQmFubmVyOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLkZhY2Vib29rQWRzLnJlbW92ZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHNob3dCYW5uZXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLkZhY2Vib29rQWRzLnNob3dCYW5uZXIocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHNob3dCYW5uZXJBdFhZOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLkZhY2Vib29rQWRzLnNob3dCYW5uZXJBdFhZKHIsdCxmdW5jdGlvbigpe28ucmVzb2x2ZSgpfSxmdW5jdGlvbigpe28ucmVqZWN0KCl9KSxvLnByb21pc2V9LGhpZGVCYW5uZXI6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uRmFjZWJvb2tBZHMuaGlkZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHByZXBhcmVJbnRlcnN0aXRpYWw6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLkZhY2Vib29rQWRzLnByZXBhcmVJbnRlcnN0aXRpYWwocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHNob3dJbnRlcnN0aXRpYWw6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uRmFjZWJvb2tBZHMuc2hvd0ludGVyc3RpdGlhbChmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmZpbGVcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhRmlsZVwiLFtcIiRxXCIsXCIkd2luZG93XCIsXCIkbG9nXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGUsbixyLHQpe2Z1bmN0aW9uIG8oZSl7dmFyIG49bmV3IEZpbGVSZWFkZXI7cmV0dXJuIG4ub25sb2FkZW5kPWZ1bmN0aW9uKCl7dGhpcy5lcnJvcj9lLnJlamVjdCh0aGlzLmVycm9yKTplLnJlc29sdmUodGhpcy5yZXN1bHQpfSxufWZ1bmN0aW9uIGkobixyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIGMobixyKS50aGVuKGZ1bmN0aW9uKGUpe2UuZmlsZSh0LnJlc29sdmUsdC5yZWplY3QpfSx0LnJlamVjdCksdC5wcm9taXNlfWZ1bmN0aW9uIGEobixyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIGMobixyKS50aGVuKGZ1bmN0aW9uKGUpe2UuY3JlYXRlV3JpdGVyKHQucmVzb2x2ZSx0LnJlamVjdCl9LHQucmVqZWN0KSx0LnByb21pc2V9ZnVuY3Rpb24gYyhuLHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbCgpLnRoZW4oZnVuY3Rpb24oZSl7ZS5yb290LmdldEZpbGUobixyLHQucmVzb2x2ZSx0LnJlamVjdCl9LHQucmVqZWN0KSx0LnByb21pc2V9ZnVuY3Rpb24gdShyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChyLGZ1bmN0aW9uKGUpe2UuZmlsZSh0LnJlc29sdmUsdC5yZWplY3QpfSx0LnJlamVjdCksdC5wcm9taXNlfWZ1bmN0aW9uIHMobixyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIGwoKS50aGVuKGZ1bmN0aW9uKGUpe2Uucm9vdC5nZXREaXJlY3RvcnkobixyLHQucmVzb2x2ZSx0LnJlamVjdCl9LHQucmVqZWN0KSx0LnByb21pc2V9ZnVuY3Rpb24gbCgpe3ZhciByPWUuZGVmZXIoKTt0cnl7bi5yZXF1ZXN0RmlsZVN5c3RlbShuLlBFUlNJU1RFTlQsMTA0ODU3NixyLnJlc29sdmUsci5yZWplY3QpfWNhdGNoKHQpe3IucmVqZWN0KHQpfXJldHVybiByLnByb21pc2V9cmV0dXJue2NoZWNrRGlyOmZ1bmN0aW9uKGUpe3JldHVybiBzKGUse2NyZWF0ZTohMX0pfSxjcmVhdGVEaXI6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gcyhlLHtjcmVhdGU6ITAsZXhjbHVzaXZlOm59KX0sbGlzdERpcjpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIHMobix7Y3JlYXRlOiExfSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLmNyZWF0ZVJlYWRlcigpO3QucmVhZEVudHJpZXMoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbigpe3IucmVqZWN0KFwiRElSX1JFQURfRVJST1IgOiBcIituKX0pfSxmdW5jdGlvbigpe3IucmVqZWN0KFwiRElSX05PVF9GT1VORCA6IFwiK24pfSksci5wcm9taXNlfSxjaGVja0ZpbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIDI9PWFyZ3VtZW50cy5sZW5ndGgmJihlPVwiL1wiK2UrXCIvXCIrYXJndW1lbnRzWzFdKSxjKGUse2NyZWF0ZTohMX0pfSxjcmVhdGVGaWxlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIDM9PWFyZ3VtZW50cy5sZW5ndGgmJihlPVwiL1wiK2UrXCIvXCIrYXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdKSxjKGUse2NyZWF0ZTohMCxleGNsdXNpdmU6bn0pfSxyZW1vdmVGaWxlOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gMj09YXJndW1lbnRzLmxlbmd0aCYmKG49XCIvXCIrbitcIi9cIithcmd1bWVudHNbMV0pLGMobix7Y3JlYXRlOiExfSkudGhlbihmdW5jdGlvbihlKXtlLnJlbW92ZShyLnJlc29sdmUsci5yZWplY3QpfSxyLnJlamVjdCksci5wcm9taXNlfSx3cml0ZUZpbGU6ZnVuY3Rpb24obixyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gYShuLHtjcmVhdGU6ITB9KS50aGVuKGZ1bmN0aW9uKGUpe3QmJnQuYXBwZW5kPT09ITAmJmUuc2VlayhlLmxlbmd0aCksZS5vbndyaXRlZW5kPWZ1bmN0aW9uKGUpe3RoaXMuZXJyb3I/by5yZWplY3QodGhpcy5lcnJvcik6by5yZXNvbHZlKGUpfSxlLndyaXRlKHIpfSxvLnJlamVjdCksby5wcm9taXNlfSxyZWFkRmlsZTpmdW5jdGlvbihlKXtyZXR1cm4gci5sb2coXCJyZWFkRmlsZSBpcyBub3cgZGVwcmVjYXRlZCBhcyBvZiB2MC4xLjQtYWxwaGEsIHVzZSByZWFkQXNUZXh0IGluc3RlYWRcIiksdGhpcy5yZWFkQXNUZXh0KGUpfSxyZWFkQXNUZXh0OmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gMj09YXJndW1lbnRzLmxlbmd0aCYmKG49XCIvXCIrbitcIi9cIithcmd1bWVudHNbMV0pLGkobix7Y3JlYXRlOiExfSkudGhlbihmdW5jdGlvbihlKXtvKHIpLnJlYWRBc1RleHQoZSl9LHIucmVqZWN0KSxyLnByb21pc2V9LHJlYWRBc0RhdGFVUkw6ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO3JldHVybiAyPT1hcmd1bWVudHMubGVuZ3RoJiYobj1cIi9cIituK1wiL1wiK2FyZ3VtZW50c1sxXSksaShuLHtjcmVhdGU6ITF9KS50aGVuKGZ1bmN0aW9uKGUpe28ocikucmVhZEFzRGF0YVVSTChlKX0sci5yZWplY3QpLHIucHJvbWlzZX0scmVhZEFzQmluYXJ5U3RyaW5nOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gMj09YXJndW1lbnRzLmxlbmd0aCYmKG49XCIvXCIrbitcIi9cIithcmd1bWVudHNbMV0pLGkobix7Y3JlYXRlOiExfSkudGhlbihmdW5jdGlvbihlKXtvKHIpLnJlYWRBc0JpbmFyeVN0cmluZyhlKX0sci5yZWplY3QpLHIucHJvbWlzZX0scmVhZEFzQXJyYXlCdWZmZXI6ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO3JldHVybiAyPT1hcmd1bWVudHMubGVuZ3RoJiYobj1cIi9cIituK1wiL1wiK2FyZ3VtZW50c1sxXSksaShuLHtjcmVhdGU6ITF9KS50aGVuKGZ1bmN0aW9uKGUpe28ocikucmVhZEFzQXJyYXlCdWZmZXIoZSl9LHIucmVqZWN0KSxyLnByb21pc2V9LHJlYWRGaWxlTWV0YWRhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSx7Y3JlYXRlOiExfSl9LHJlYWRGaWxlQWJzb2x1dGU6ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO3JldHVybiB1KG4pLnRoZW4oZnVuY3Rpb24oZSl7byhyKS5yZWFkQXNUZXh0KGUpfSxyLnJlamVjdCksci5wcm9taXNlfSxyZWFkRmlsZU1ldGFkYXRhQWJzb2x1dGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSl9LGRvd25sb2FkRmlsZTpmdW5jdGlvbihuLHIsdCxvKXt2YXIgaT1lLmRlZmVyKCksYT1uZXcgRmlsZVRyYW5zZmVyLGM9ZW5jb2RlVVJJKG4pO3JldHVybiBhLm9ucHJvZ3Jlc3M9aS5ub3RpZnksYS5kb3dubG9hZChjLHIsaS5yZXNvbHZlLGkucmVqZWN0LHQsbyksaS5wcm9taXNlfSx1cGxvYWRGaWxlOmZ1bmN0aW9uKG4scixvKXt2YXIgaT1lLmRlZmVyKCksYT1uZXcgRmlsZVRyYW5zZmVyLGM9ZW5jb2RlVVJJKG4pO3JldHVybiB2b2lkIDAhPT1vLnRpbWVvdXQmJm51bGwhPT1vLnRpbWVvdXQmJih0KGZ1bmN0aW9uKCl7YS5hYm9ydCgpfSxvLnRpbWVvdXQpLG8udGltZW91dD1udWxsKSxhLm9ucHJvZ3Jlc3M9aS5ub3RpZnksYS51cGxvYWQocixjLGkucmVzb2x2ZSxpLnJlamVjdCxvKSxpLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmZsYXNobGlnaHRcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhRmxhc2hsaWdodFwiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57YXZhaWxhYmxlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuZmxhc2hsaWdodC5hdmFpbGFibGUoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSksci5wcm9taXNlfSxzd2l0Y2hPbjpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLmZsYXNobGlnaHQuc3dpdGNoT24oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0sc3dpdGNoT2ZmOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuZmxhc2hsaWdodC5zd2l0Y2hPZmYoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuZmxhc2hsaWdodC50b2dnbGUoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuZmx1cnJ5QWRzXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUZsdXJyeUFkc1wiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57c2V0T3B0aW9uczpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uRmx1cnJ5QWRzLnNldE9wdGlvbnMocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LGNyZWF0ZUJhbm5lcjpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uRmx1cnJ5QWRzLmNyZWF0ZUJhbm5lcihyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0scmVtb3ZlQmFubmVyOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLkZsdXJyeUFkcy5yZW1vdmVCYW5uZXIoZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtyLnJlamVjdCgpfSksci5wcm9taXNlfSxzaG93QmFubmVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5GbHVycnlBZHMuc2hvd0Jhbm5lcihyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0sc2hvd0Jhbm5lckF0WFk6ZnVuY3Rpb24ocix0KXt2YXIgbz1lLmRlZmVyKCk7cmV0dXJuIG4uRmx1cnJ5QWRzLnNob3dCYW5uZXJBdFhZKHIsdCxmdW5jdGlvbigpe28ucmVzb2x2ZSgpfSxmdW5jdGlvbigpe28ucmVqZWN0KCl9KSxvLnByb21pc2V9LGhpZGVCYW5uZXI6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uRmx1cnJ5QWRzLmhpZGVCYW5uZXIoZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtyLnJlamVjdCgpfSksci5wcm9taXNlfSxwcmVwYXJlSW50ZXJzdGl0aWFsOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5GbHVycnlBZHMucHJlcGFyZUludGVyc3RpdGlhbChyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0sc2hvd0ludGVyc3RpdGlhbDpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5GbHVycnlBZHMuc2hvd0ludGVyc3RpdGlhbChmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmdhXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUdBXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntpbml0OmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiB0PXQ+PTA/dDoxMCxuLnBsdWdpbnMuZ2FQbHVnaW4uaW5pdChmdW5jdGlvbihlKXtvLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe28ucmVqZWN0KGUpfSxyLHQpLG8ucHJvbWlzZX0sdHJhY2tFdmVudDpmdW5jdGlvbihyLHQsbyxpLGEsYyl7dmFyIHU9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuZ2FQbHVnaW4udHJhY2tFdmVudChmdW5jdGlvbihlKXt1LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3UucmVqZWN0KGUpfSxvLGksYSxjKSx1LnByb21pc2V9LHRyYWNrUGFnZTpmdW5jdGlvbihyLHQsbyl7dmFyIGk9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuZ2FQbHVnaW4udHJhY2tQYWdlKGZ1bmN0aW9uKGUpe2kucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7aS5yZWplY3QoZSl9LG8pLGkucHJvbWlzZX0sc2V0VmFyaWFibGU6ZnVuY3Rpb24ocix0LG8saSl7dmFyIGE9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuZ2FQbHVnaW4uc2V0VmFyaWFibGUoZnVuY3Rpb24oZSl7YS5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXthLnJlamVjdChlKX0sbyxpKSxhLnByb21pc2V9LGV4aXQ6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5nYVBsdWdpbi5leGl0KGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmdlb2xvY2F0aW9uXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUdlb2xvY2F0aW9uXCIsW1wiJHFcIixmdW5jdGlvbihlKXtyZXR1cm57Z2V0Q3VycmVudFBvc2l0aW9uOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSxuKSxyLnByb21pc2V9LHdhdGNoUG9zaXRpb246ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpLHQ9bmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oZnVuY3Rpb24oZSl7ci5ub3RpZnkoZSl9LGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSxuKTtyZXR1cm4gci5wcm9taXNlLmNhbmNlbD1mdW5jdGlvbigpe25hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHQpfSxyLnByb21pc2UuY2xlYXJXYXRjaD1mdW5jdGlvbihlKXtuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaChlfHx0KX0sci5wcm9taXNlLndhdGNoSUQ9dCxyLnByb21pc2V9LGNsZWFyV2F0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKGUpfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5nbG9iYWxpemF0aW9uXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUdsb2JhbGl6YXRpb25cIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntnZXRQcmVmZXJyZWRMYW5ndWFnZTpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uZ2V0UHJlZmVycmVkTGFuZ3VhZ2UoZnVuY3Rpb24oZSl7bi5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtuLnJlamVjdChlKX0pLG4ucHJvbWlzZX0sZ2V0TG9jYWxlTmFtZTpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uZ2V0TG9jYWxlTmFtZShmdW5jdGlvbihlKXtuLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe24ucmVqZWN0KGUpfSksbi5wcm9taXNlfSxnZXRGaXJzdERheU9mV2VlazpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uZ2V0Rmlyc3REYXlPZldlZWsoZnVuY3Rpb24oZSl7bi5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtuLnJlamVjdChlKX0pLG4ucHJvbWlzZX0sZGF0ZVRvU3RyaW5nOmZ1bmN0aW9uKG4scil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuYXZpZ2F0b3IuZ2xvYmFsaXphdGlvbi5kYXRlVG9TdHJpbmcobixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSxyKSx0LnByb21pc2V9LHN0cmluZ1RvRGF0ZTpmdW5jdGlvbihuLHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uc3RyaW5nVG9EYXRlKG4sZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0sciksdC5wcm9taXNlfSxnZXREYXRlUGF0dGVybjpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG5hdmlnYXRvci5nbG9iYWxpemF0aW9uLmdldERhdGVQYXR0ZXJuKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9LG4pLHIucHJvbWlzZX0sZ2V0RGF0ZU5hbWVzOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uZ2V0RGF0ZU5hbWVzKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9LG4pLHIucHJvbWlzZX0saXNEYXlMaWdodFNhdmluZ3NUaW1lOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uaXNEYXlMaWdodFNhdmluZ3NUaW1lKG4sZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX0sbnVtYmVyVG9TdHJpbmc6ZnVuY3Rpb24obixyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG5hdmlnYXRvci5nbG9iYWxpemF0aW9uLm51bWJlclRvU3RyaW5nKG4sZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0sciksdC5wcm9taXNlfSxzdHJpbmdUb051bWJlcjpmdW5jdGlvbihuLHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uc3RyaW5nVG9OdW1iZXIobixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSxyKSx0LnByb21pc2V9LGdldE51bWJlclBhdHRlcm46ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuYXZpZ2F0b3IuZ2xvYmFsaXphdGlvbi5nZXROdW1iZXJQYXR0ZXJuKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9LG4pLHIucHJvbWlzZX0sZ2V0Q3VycmVuY3lQYXR0ZXJuOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbmF2aWdhdG9yLmdsb2JhbGl6YXRpb24uZ2V0Q3VycmVuY3lQYXR0ZXJuKG4sZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLHIucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuZ29vZ2xlQWRzXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUdvb2dsZUFkc1wiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57c2V0T3B0aW9uczpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uQWRNb2Iuc2V0T3B0aW9ucyhyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0sY3JlYXRlQmFubmVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5BZE1vYi5jcmVhdGVCYW5uZXIocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHJlbW92ZUJhbm5lcjpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5BZE1vYi5yZW1vdmVCYW5uZXIoZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtyLnJlamVjdCgpfSksci5wcm9taXNlfSxzaG93QmFubmVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5BZE1vYi5zaG93QmFubmVyKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxzaG93QmFubmVyQXRYWTpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5BZE1vYi5zaG93QmFubmVyQXRYWShyLHQsZnVuY3Rpb24oKXtvLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtvLnJlamVjdCgpfSksby5wcm9taXNlfSxoaWRlQmFubmVyOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLkFkTW9iLmhpZGVCYW5uZXIoZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtyLnJlamVjdCgpfSksci5wcm9taXNlfSxwcmVwYXJlSW50ZXJzdGl0aWFsOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5BZE1vYi5wcmVwYXJlSW50ZXJzdGl0aWFsKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxzaG93SW50ZXJzdGl0aWFsOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLkFkTW9iLnNob3dJbnRlcnN0aXRpYWwoZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtyLnJlamVjdCgpfSksci5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5nb29nbGVBbmFseXRpY3NcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhR29vZ2xlQW5hbHl0aWNzXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntzdGFydFRyYWNrZXJXaXRoSWQ6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLmFuYWx5dGljcy5zdGFydFRyYWNrZXJXaXRoSWQocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxzZXRVc2VySWQ6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLmFuYWx5dGljcy5zZXRVc2VySWQocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxkZWJ1Z01vZGU6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uYW5hbHl0aWNzLmRlYnVnTW9kZShmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX0sdHJhY2tWaWV3OmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5hbmFseXRpY3MudHJhY2tWaWV3KHIsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sYWRkQ3VzdG9tRGltZW5zaW9uOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLmFuYWx5dGljcy5hZGRDdXN0b21EaW1lbnNpb24ocix0LGZ1bmN0aW9uKCl7by5yZXNvbHZlKCl9LGZ1bmN0aW9uKGUpe28ucmVqZWN0KGUpfSksby5wcm9taXNlfSx0cmFja0V2ZW50OmZ1bmN0aW9uKHIsdCxvLGkpe3ZhciBhPWUuZGVmZXIoKTtyZXR1cm4gbi5hbmFseXRpY3MudHJhY2tFdmVudChyLHQsbyxpLGZ1bmN0aW9uKGUpe2EucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7YS5yZWplY3QoZSl9KSxhLnByb21pc2V9LGFkZFRyYW5zYWN0aW9uOmZ1bmN0aW9uKHIsdCxvLGksYSxjKXt2YXIgdT1lLmRlZmVyKCk7cmV0dXJuIG4uYW5hbHl0aWNzLmFkZFRyYW5zYWN0aW9uKHIsdCxvLGksYSxjLGZ1bmN0aW9uKGUpe3UucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dS5yZWplY3QoZSl9KSx1LnByb21pc2V9LGFkZFRyYW5zYWN0aW9uSXRlbTpmdW5jdGlvbihyLHQsbyxpLGEsYyx1KXt2YXIgcz1lLmRlZmVyKCk7cmV0dXJuIG4uYW5hbHl0aWNzLmFkZFRyYW5zYWN0aW9uSXRlbShyLHQsbyxpLGEsYyx1LGZ1bmN0aW9uKGUpe3MucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7cy5yZWplY3QoZSl9KSxzLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmdvb2dsZU1hcFwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFHb29nbGVNYXBcIixbXCIkcVwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGUsbil7dmFyIHI9bnVsbDtyZXR1cm57Z2V0TWFwOmZ1bmN0aW9uKHQpe3ZhciBvPWUuZGVmZXIoKTtpZihuLnBsdWdpbi5nb29nbGUubWFwcyl7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfY2FudmFzXCIpO3I9bi5wbHVnaW4uZ29vZ2xlLm1hcHMuTWFwLmdldE1hcCh0KSxyLnNldERpdihpKSxvLnJlc29sdmUocil9ZWxzZSBvLnJlamVjdChudWxsKTtyZXR1cm4gby5wcm9taXNlfSxpc01hcExvYWRlZDpmdW5jdGlvbigpe3JldHVybiEhcn0sYWRkTWFya2VyOmZ1bmN0aW9uKG4pe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gci5hZGRNYXJrZXIobixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9KSx0LnByb21pc2V9LGdldE1hcFR5cGVJZHM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wbHVnaW4uZ29vZ2xlLm1hcHMubWFwVHlwZUlkfSxzZXRWaXNpYmxlOmZ1bmN0aW9uKG4pe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gci5zZXRWaXNpYmxlKG4pLHQucHJvbWlzZX0sY2xlYW51cDpmdW5jdGlvbigpe3I9bnVsbH19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuaHR0cGRcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhSHR0cGRcIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntzdGFydFNlcnZlcjpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5Db3JIdHRwZC5zdGFydFNlcnZlcihuLGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX0sc3RvcFNlcnZlcjpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gY29yZG92YS5wbHVnaW5zLkNvckh0dHBkLnN0b3BTZXJ2ZXIoZnVuY3Rpb24oKXtuLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtuLnJlamVjdCgpfSksbi5wcm9taXNlfSxnZXRVUkw6ZnVuY3Rpb24oKXt2YXIgbj1lLmRlZmVyKCk7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5Db3JIdHRwZC5nZXRVUkwoZnVuY3Rpb24oZSl7bi5yZXNvbHZlKGUpfSxmdW5jdGlvbigpe24ucmVqZWN0KCl9KSxuLnByb21pc2V9LGdldExvY2FsUGF0aDpmdW5jdGlvbigpe3ZhciBuPWUuZGVmZXIoKTtyZXR1cm4gY29yZG92YS5wbHVnaW5zLkNvckh0dHBkLmdldExvY2FsUGF0aChmdW5jdGlvbihlKXtuLnJlc29sdmUoZSl9LGZ1bmN0aW9uKCl7bi5yZWplY3QoKX0pLG4ucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuaUFkXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YWlBZFwiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57c2V0T3B0aW9uczpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7XG5yZXR1cm4gbi5pQWQuc2V0T3B0aW9ucyhyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0sY3JlYXRlQmFubmVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5pQWQuY3JlYXRlQmFubmVyKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxyZW1vdmVCYW5uZXI6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uaUFkLnJlbW92ZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHNob3dCYW5uZXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLmlBZC5zaG93QmFubmVyKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxzaG93QmFubmVyQXRYWTpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5pQWQuc2hvd0Jhbm5lckF0WFkocix0LGZ1bmN0aW9uKCl7by5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7by5yZWplY3QoKX0pLG8ucHJvbWlzZX0saGlkZUJhbm5lcjpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5pQWQuaGlkZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHByZXBhcmVJbnRlcnN0aXRpYWw6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLmlBZC5wcmVwYXJlSW50ZXJzdGl0aWFsKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxzaG93SW50ZXJzdGl0aWFsOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLmlBZC5zaG93SW50ZXJzdGl0aWFsKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuaW5BcHBCcm93c2VyXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUluQXBwQnJvd3NlclwiLFtcIiRyb290U2NvcGVcIixcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuLHIpe3ZhciB0LG8saT1lLiRuZXcoKTtyZXR1cm57aW5pdDpmdW5jdGlvbihlKXtpZihhbmd1bGFyLmlzT2JqZWN0KGUpKXt2YXIgbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2goW3IrXCI9XCIrZVtyXV0pO289bi5qb2luKCl9ZWxzZSBvPWU7cmV0dXJuIGl9LG9wZW46ZnVuY3Rpb24oZSxhKXt2YXIgYz1uLmRlZmVyKCk7cmV0dXJuIHQ9ci5vcGVuKGUsYSxvKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIixmdW5jdGlvbihlKXtpLiRlbWl0KFwibG9hZHN0YXJ0XCIsZSl9LCExKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RvcFwiLGZ1bmN0aW9uKGUpe2MucmVzb2x2ZShlKSxpLiRlbWl0KFwibG9hZHN0b3BcIixlKX0sITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlcnJvclwiLGZ1bmN0aW9uKGUpe2MucmVqZWN0KGUpLGkuJGVtaXQoXCJsb2FkZXJyb3JcIixlKX0sITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXRcIixmdW5jdGlvbihlKXtpLiRlbWl0KFwiZXhpdFwiLGUpfSwhMSksYy5wcm9taXNlfSxjbG9zZTpmdW5jdGlvbigpe3QuY2xvc2UoKX0sZXhlY3V0ZVNjcmlwdDpmdW5jdGlvbihlKXt2YXIgcj1uLmRlZmVyKCk7cmV0dXJuIHQuZXhlY3V0ZVNjcmlwdChlLGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0pLHIucHJvbWlzZX0saW5zZXJ0Q1NTOmZ1bmN0aW9uKGUpe3ZhciByPW4uZGVmZXIoKTtyZXR1cm4gdC5pbnNlcnRDU1MoZSxmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmtleWJvYXJkXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUtleWJvYXJkXCIsW2Z1bmN0aW9uKCl7cmV0dXJue2hpZGVBY2Nlc3NvcnlCYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIoZSl9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5jbG9zZSgpfSxkaXNhYmxlU2Nyb2xsOmZ1bmN0aW9uKGUpe3JldHVybiBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbChlKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5pc1Zpc2libGV9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLmtleWNoYWluXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YUtleWNoYWluXCIsW1wiJHFcIixmdW5jdGlvbihlKXt2YXIgbj1uZXcgS2V5Y2hhaW47cmV0dXJue2dldEZvcktleTpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5nZXRGb3JLZXkoby5yZXNvbHZlLG8ucmVqZWN0LHIsdCksby5wcm9taXNlfSxzZXRGb3JLZXk6ZnVuY3Rpb24ocix0LG8pe3ZhciBpPWUuZGVmZXIoKTtyZXR1cm4gbi5zZXRGb3JLZXkoaS5yZXNvbHZlLGkucmVqZWN0LHIsdCxvKSxpLnByb21pc2V9LHJlbW92ZUZvcktleTpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5yZW1vdmVGb3JLZXkoby5yZXNvbHZlLG8ucmVqZWN0LHIsdCksby5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5sb2NhbE5vdGlmaWNhdGlvblwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFMb2NhbE5vdGlmaWNhdGlvblwiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57YWRkOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbi5ub3RpZmljYXRpb24ubG9jYWwuYWRkKHIsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSx0KSxvLnByb21pc2V9LGNhbmNlbDpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW4ubm90aWZpY2F0aW9uLmxvY2FsLmNhbmNlbChyLGZ1bmN0aW9uKGUpe28ucmVzb2x2ZShlKX0sdCksby5wcm9taXNlfSxjYW5jZWxBbGw6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbi5ub3RpZmljYXRpb24ubG9jYWwuY2FuY2VsQWxsKGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sciksdC5wcm9taXNlfSxpc1NjaGVkdWxlZDpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW4ubm90aWZpY2F0aW9uLmxvY2FsLmlzU2NoZWR1bGVkKHIsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSx0KSxvLnByb21pc2V9LGhhc1Blcm1pc3Npb246ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbi5ub3RpZmljYXRpb24ubG9jYWwuaGFzUGVybWlzc2lvbihmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LHIpLHQucHJvbWlzZX0scHJvbXB0Rm9yUGVybWlzc2lvbjpmdW5jdGlvbigpe24ucGx1Z2luLm5vdGlmaWNhdGlvbi5sb2NhbC5wcm9tcHRGb3JQZXJtaXNzaW9uKCl9LGdldFNjaGVkdWxlZElkczpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2luLm5vdGlmaWNhdGlvbi5sb2NhbC5nZXRTY2hlZHVsZWRJZHMoZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxyKSx0LnByb21pc2V9LGlzVHJpZ2dlcmVkOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbi5ub3RpZmljYXRpb24ubG9jYWwuaXNUcmlnZ2VyZWQocixmdW5jdGlvbihlKXtvLnJlc29sdmUoZSl9LHQpLG8ucHJvbWlzZX0sZ2V0VHJpZ2dlcmVkSWRzOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW4ubm90aWZpY2F0aW9uLmxvY2FsLmdldFRyaWdnZXJlZElkcyhmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LHIpLHQucHJvbWlzZX0sZ2V0RGVmYXVsdHM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wbHVnaW4ubm90aWZpY2F0aW9uLmxvY2FsLmdldERlZmF1bHRzKCl9LHNldERlZmF1bHRzOmZ1bmN0aW9uKGUpe24ucGx1Z2luLm5vdGlmaWNhdGlvbi5sb2NhbC5zZXREZWZhdWx0cyhlKX0sb25hZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wbHVnaW4ubm90aWZpY2F0aW9uLmxvY2FsLm9uYWRkfSxvbnRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wbHVnaW4ubm90aWZpY2F0aW9uLmxvY2FsLm9udHJpZ2dlcn0sb25jbGljazpmdW5jdGlvbigpe3JldHVybiBuLnBsdWdpbi5ub3RpZmljYXRpb24ubG9jYWwub25jbGlja30sb25jYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wbHVnaW4ubm90aWZpY2F0aW9uLmxvY2FsLm9uY2FuY2VsfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5tTWVkaWFBZHNcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhTU1lZGlhQWRzXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntzZXRPcHRpb25zOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5tTWVkaWEuc2V0T3B0aW9ucyhyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0sY3JlYXRlQmFubmVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5tTWVkaWEuY3JlYXRlQmFubmVyKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxyZW1vdmVCYW5uZXI6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4ubU1lZGlhLnJlbW92ZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHNob3dCYW5uZXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLm1NZWRpYS5zaG93QmFubmVyKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxzaG93QmFubmVyQXRYWTpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5tTWVkaWEuc2hvd0Jhbm5lckF0WFkocix0LGZ1bmN0aW9uKCl7by5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7by5yZWplY3QoKX0pLG8ucHJvbWlzZX0saGlkZUJhbm5lcjpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5tTWVkaWEuaGlkZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHByZXBhcmVJbnRlcnN0aXRpYWw6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLm1NZWRpYS5wcmVwYXJlSW50ZXJzdGl0aWFsKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxzaG93SW50ZXJzdGl0aWFsOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLm1NZWRpYS5zaG93SW50ZXJzdGl0aWFsKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMubWVkaWFcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhTWVkaWFcIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntuZXdNZWRpYTpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCksdD1udWxsLG89bmV3IE1lZGlhKG4sZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0sZnVuY3Rpb24oZSl7dD1lfSk7cmV0dXJue21lZGlhOm8sbWVkaWFTdGF0dXM6dCxwcm9taXNlOnIucHJvbWlzZX19LGdldEN1cnJlbnRQb3NpdGlvbjpmdW5jdGlvbihuKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KSxyLnByb21pc2V9LGdldER1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldER1cmF0aW9uKCl9LHBsYXk6ZnVuY3Rpb24oZSxuKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgbiYmKG49e30pLGUucGxheShuKX0scGF1c2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF1c2UoKX0scmVsZWFzZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWxlYXNlKCl9LHNlZWtUbzpmdW5jdGlvbihlLG4pe3JldHVybiBlLnNlZWtUbyhuKX0sc2V0Vm9sdW1lOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuc2V0Vm9sdW1lKG4pfSxzdGFydFJlY29yZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydFJlY29yZCgpfSxzdG9wUmVjb3JkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BSZWNvcmQoKX0sc3RvcDpmdW5jdGlvbihlKXtyZXR1cm4gZS5zdG9wKCl9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLm1vYmZveEFkc1wiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFNb2JGb3hBZHNcIixbXCIkcVwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3NldE9wdGlvbnM6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLk1vYkZveC5zZXRPcHRpb25zKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxjcmVhdGVCYW5uZXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLk1vYkZveC5jcmVhdGVCYW5uZXIocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHJlbW92ZUJhbm5lcjpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5Nb2JGb3gucmVtb3ZlQmFubmVyKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX0sc2hvd0Jhbm5lcjpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uTW9iRm94LnNob3dCYW5uZXIocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHNob3dCYW5uZXJBdFhZOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLk1vYkZveC5zaG93QmFubmVyQXRYWShyLHQsZnVuY3Rpb24oKXtvLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtvLnJlamVjdCgpfSksby5wcm9taXNlfSxoaWRlQmFubmVyOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLk1vYkZveC5oaWRlQmFubmVyKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoKX0pLHIucHJvbWlzZX0scHJlcGFyZUludGVyc3RpdGlhbDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uTW9iRm94LnByZXBhcmVJbnRlcnN0aXRpYWwocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHNob3dJbnRlcnN0aXRpYWw6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uTW9iRm94LnNob3dJbnRlcnN0aXRpYWwoZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0sZnVuY3Rpb24oKXtyLnJlamVjdCgpfSksci5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2luc1wiLFtcIm5nQ29yZG92YS5wbHVnaW5zLmFkTW9iXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5hcHBBdmFpbGFiaWxpdHlcIixcIm5nQ29yZG92YS5wbHVnaW5zLmJhY2tncm91bmRHZW9sb2NhdGlvblwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuYmFkZ2VcIixcIm5nQ29yZG92YS5wbHVnaW5zLmJhcmNvZGVTY2FubmVyXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5iYXR0ZXJ5LXN0YXR1c1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuYmxlXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5ibHVldG9vdGhTZXJpYWxcIixcIm5nQ29yZG92YS5wbHVnaW5zLmNhbGVuZGFyXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5jYW1lcmFcIixcIm5nQ29yZG92YS5wbHVnaW5zLmNhcHR1cmVcIixcIm5nQ29yZG92YS5wbHVnaW5zLmNsaXBib2FyZFwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuY29udGFjdHNcIixcIm5nQ29yZG92YS5wbHVnaW5zLmRhdGVQaWNrZXJcIixcIm5nQ29yZG92YS5wbHVnaW5zLmRldmljZVwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuZGV2aWNlTW90aW9uXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5kZXZpY2VPcmllbnRhdGlvblwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuZGlhbG9nc1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuZmFjZWJvb2tcIixcIm5nQ29yZG92YS5wbHVnaW5zLmZhY2Vib29rQWRzXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5maWxlXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5mbGFzaGxpZ2h0XCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5mbHVycnlBZHNcIixcIm5nQ29yZG92YS5wbHVnaW5zLmdhXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5nZW9sb2NhdGlvblwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuZ2xvYmFsaXphdGlvblwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuZ29vZ2xlQWRzXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5nb29nbGVBbmFseXRpY3NcIixcIm5nQ29yZG92YS5wbHVnaW5zLmdvb2dsZU1hcFwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuaHR0cGRcIixcIm5nQ29yZG92YS5wbHVnaW5zLmlBZFwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuaW5BcHBCcm93c2VyXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5rZXlib2FyZFwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMua2V5Y2hhaW5cIixcIm5nQ29yZG92YS5wbHVnaW5zLmxvY2FsTm90aWZpY2F0aW9uXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5tZWRpYVwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMubU1lZGlhQWRzXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5tb2Jmb3hBZHNcIixcIm5nQ29yZG92YS5wbHVnaW5zLm1vcHViQWRzXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5uYXRpdmVBdWRpb1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMubmV0d29ya1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMub2F1dGhcIixcIm5nQ29yZG92YS5wbHVnaW5zLm9hdXRoVXRpbGl0eVwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMucGluRGlhbG9nXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5wcmVmc1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMucHJpbnRlclwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMucHJvZ3Jlc3NJbmRpY2F0b3JcIixcIm5nQ29yZG92YS5wbHVnaW5zLnB1c2hcIixcIm5nQ29yZG92YS5wbHVnaW5zLnNtc1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuc29jaWFsU2hhcmluZ1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuc3Bpbm5lckRpYWxvZ1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuc3BsYXNoc2NyZWVuXCIsXCJuZ0NvcmRvdmEucGx1Z2lucy5zcWxpdGVcIixcIm5nQ29yZG92YS5wbHVnaW5zLnN0YXR1c2JhclwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMudG9hc3RcIixcIm5nQ29yZG92YS5wbHVnaW5zLnRvdWNoaWRcIixcIm5nQ29yZG92YS5wbHVnaW5zLnZpYnJhdGlvblwiLFwibmdDb3Jkb3ZhLnBsdWdpbnMudmlkZW9DYXB0dXJlUGx1c1wiLFwibmdDb3Jkb3ZhLnBsdWdpbnMuemlwXCJdKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLm1vcHViQWRzXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YU1vUHViQWRzXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntzZXRPcHRpb25zOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5Nb1B1Yi5zZXRPcHRpb25zKHIsZnVuY3Rpb24oKXt0LnJlc29sdmUoKX0sZnVuY3Rpb24oKXt0LnJlamVjdCgpfSksdC5wcm9taXNlfSxjcmVhdGVCYW5uZXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLk1vUHViLmNyZWF0ZUJhbm5lcihyLGZ1bmN0aW9uKCl7dC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZX0scmVtb3ZlQmFubmVyOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLk1vUHViLnJlbW92ZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHNob3dCYW5uZXI6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLk1vUHViLnNob3dCYW5uZXIocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHNob3dCYW5uZXJBdFhZOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLk1vUHViLnNob3dCYW5uZXJBdFhZKHIsdCxmdW5jdGlvbigpe28ucmVzb2x2ZSgpfSxmdW5jdGlvbigpe28ucmVqZWN0KCl9KSxvLnByb21pc2V9LGhpZGVCYW5uZXI6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uTW9QdWIuaGlkZUJhbm5lcihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9LHByZXBhcmVJbnRlcnN0aXRpYWw6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLk1vUHViLnByZXBhcmVJbnRlcnN0aXRpYWwocixmdW5jdGlvbigpe3QucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2V9LHNob3dJbnRlcnN0aXRpYWw6ZnVuY3Rpb24oKXt2YXIgcj1lLmRlZmVyKCk7cmV0dXJuIG4uTW9QdWIuc2hvd0ludGVyc3RpdGlhbChmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSxmdW5jdGlvbigpe3IucmVqZWN0KCl9KSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLm5hdGl2ZUF1ZGlvXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YU5hdGl2ZUF1ZGlvXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntwcmVsb2FkU2ltcGxlOmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuTmF0aXZlQXVkaW8ucHJlbG9hZFNpbXBsZShyLHQsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtvLnJlamVjdChlKX0pLG8ucHJvbWlzZX0scHJlbG9hZENvbXBsZXg6ZnVuY3Rpb24ocix0LG8saSl7dmFyIGE9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuTmF0aXZlQXVkaW8ucHJlbG9hZENvbXBsZXgocix0LG8saSxmdW5jdGlvbihlKXthLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe2EucmVqZWN0KGUpfSksYS5wcm9taXNlfSxwbGF5OmZ1bmN0aW9uKHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuTmF0aXZlQXVkaW8ucGxheShyLHQsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtvLnJlamVjdChlKX0pLG8ucHJvbWlzZX0sc3RvcDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5OYXRpdmVBdWRpby5zdG9wKHIsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sbG9vcDpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5OYXRpdmVBdWRpby5sb29wKHIsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sdW5sb2FkOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLk5hdGl2ZUF1ZGlvLnVubG9hZChyLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LHNldFZvbHVtZUZvckNvbXBsZXhBc3NldDpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLk5hdGl2ZUF1ZGlvLnNldFZvbHVtZUZvckNvbXBsZXhBc3NldChyLHQsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtvLnJlamVjdChlKX0pLG8ucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMubmV0d29ya1wiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFOZXR3b3JrXCIsW2Z1bmN0aW9uKCl7cmV0dXJue2dldE5ldHdvcms6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZX0saXNPbmxpbmU6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IuY29ubmVjdGlvbi50eXBlO3JldHVybiBlIT09Q29ubmVjdGlvbi5VTktOT1dOJiZlIT09Q29ubmVjdGlvbi5OT05FfSxpc09mZmxpbmU6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IuY29ubmVjdGlvbi50eXBlO3JldHVybiBlPT09Q29ubmVjdGlvbi5VTktOT1dOfHxlPT09Q29ubmVjdGlvbi5OT05FfSx3YXRjaE5ldHdvcms6ZnVuY3Rpb24oKXt9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLm9hdXRoXCIsW1wibmdDb3Jkb3ZhLnBsdWdpbnMub2F1dGhVdGlsaXR5XCJdKS5mYWN0b3J5KFwiJGNvcmRvdmFPYXV0aFwiLFtcIiRxXCIsXCIkaHR0cFwiLFwiJGNvcmRvdmFPYXV0aFV0aWxpdHlcIixmdW5jdGlvbihlLG4scil7cmV0dXJue2Ryb3Bib3g6ZnVuY3Rpb24obil7dmFyIHI9ZS5kZWZlcigpO2lmKHdpbmRvdy5jb3Jkb3ZhKXt2YXIgdD1jb3Jkb3ZhLnJlcXVpcmUoXCJjb3Jkb3ZhL3BsdWdpbl9saXN0XCIpLm1ldGFkYXRhO2lmKHQuaGFzT3duUHJvcGVydHkoXCJvcmcuYXBhY2hlLmNvcmRvdmEuaW5hcHBicm93c2VyXCIpPT09ITApe3ZhciBvPXdpbmRvdy5vcGVuKFwiaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vMS9vYXV0aDIvYXV0aG9yaXplP2NsaWVudF9pZD1cIituK1wiJnJlZGlyZWN0X3VyaT1odHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrJnJlc3BvbnNlX3R5cGU9dG9rZW5cIixcIl9ibGFua1wiLFwibG9jYXRpb249bm8sY2xlYXJzZXNzaW9uY2FjaGU9eWVzLGNsZWFyY2FjaGU9eWVzXCIpO28uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGUpe2lmKDA9PT1lLnVybC5pbmRleE9mKFwiaHR0cDovL2xvY2FsaG9zdC9jYWxsYmFja1wiKSl7Zm9yKHZhciBuPWUudXJsLnNwbGl0KFwiI1wiKVsxXSx0PW4uc3BsaXQoXCImXCIpLGk9W10sYT0wO2E8dC5sZW5ndGg7YSsrKWlbdFthXS5zcGxpdChcIj1cIilbMF1dPXRbYV0uc3BsaXQoXCI9XCIpWzFdO2lmKHZvaWQgMCE9PWkuYWNjZXNzX3Rva2VuJiZudWxsIT09aS5hY2Nlc3NfdG9rZW4pe3ZhciBjPXthY2Nlc3NfdG9rZW46aS5hY2Nlc3NfdG9rZW4sdG9rZW5fdHlwZTppLnRva2VuX3R5cGUsdWlkOmkudWlkfTtyLnJlc29sdmUoYyl9ZWxzZSByLnJlamVjdChcIlByb2JsZW0gYXV0aGVudGljYXRpbmdcIik7by5jbG9zZSgpfX0pfWVsc2Ugci5yZWplY3QoXCJDb3VsZCBub3QgZmluZCBJbkFwcEJyb3dzZXIgcGx1Z2luXCIpfWVsc2Ugci5yZWplY3QoXCJDYW5ub3QgYXV0aGVudGljYXRlIHZpYSBhIHdlYiBicm93c2VyXCIpO3JldHVybiByLnByb21pc2V9LGRpZ2l0YWxPY2VhbjpmdW5jdGlvbihyLHQpe3ZhciBvPWUuZGVmZXIoKTtpZih3aW5kb3cuY29yZG92YSl7dmFyIGk9Y29yZG92YS5yZXF1aXJlKFwiY29yZG92YS9wbHVnaW5fbGlzdFwiKS5tZXRhZGF0YTtpZihpLmhhc093blByb3BlcnR5KFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiKT09PSEwKXt2YXIgYT13aW5kb3cub3BlbihcImh0dHBzOi8vY2xvdWQuZGlnaXRhbG9jZWFuLmNvbS92MS9vYXV0aC9hdXRob3JpemU/Y2xpZW50X2lkPVwiK3IrXCImcmVkaXJlY3RfdXJpPWh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2smcmVzcG9uc2VfdHlwZT1jb2RlJnNjb3BlPXJlYWQlMjB3cml0ZVwiLFwiX2JsYW5rXCIsXCJsb2NhdGlvbj1ubyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXNcIik7YS5hZGRFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oZSl7aWYoMD09PWUudXJsLmluZGV4T2YoXCJodHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrXCIpKXt2YXIgaT1lLnVybC5zcGxpdChcImNvZGU9XCIpWzFdO24uZGVmYXVsdHMuaGVhZGVycy5wb3N0W1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsbih7bWV0aG9kOlwicG9zdFwiLHVybDpcImh0dHBzOi8vY2xvdWQuZGlnaXRhbG9jZWFuLmNvbS92MS9vYXV0aC90b2tlblwiLGRhdGE6XCJjbGllbnRfaWQ9XCIrcitcIiZjbGllbnRfc2VjcmV0PVwiK3QrXCImcmVkaXJlY3RfdXJpPWh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2smZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGUmY29kZT1cIitpfSkuc3VjY2VzcyhmdW5jdGlvbihlKXtvLnJlc29sdmUoZSl9KS5lcnJvcihmdW5jdGlvbigpe28ucmVqZWN0KFwiUHJvYmxlbSBhdXRoZW50aWNhdGluZ1wiKX0pLGEuY2xvc2UoKX19KX1lbHNlIG8ucmVqZWN0KFwiQ291bGQgbm90IGZpbmQgSW5BcHBCcm93c2VyIHBsdWdpblwiKX1lbHNlIG8ucmVqZWN0KFwiQ2Fubm90IGF1dGhlbnRpY2F0ZSB2aWEgYSB3ZWIgYnJvd3NlclwiKTtyZXR1cm4gby5wcm9taXNlfSxnb29nbGU6ZnVuY3Rpb24obixyKXt2YXIgdD1lLmRlZmVyKCk7aWYod2luZG93LmNvcmRvdmEpe3ZhciBvPWNvcmRvdmEucmVxdWlyZShcImNvcmRvdmEvcGx1Z2luX2xpc3RcIikubWV0YWRhdGE7aWYoby5oYXNPd25Qcm9wZXJ0eShcIm9yZy5hcGFjaGUuY29yZG92YS5pbmFwcGJyb3dzZXJcIik9PT0hMCl7dmFyIGk9d2luZG93Lm9wZW4oXCJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aD9jbGllbnRfaWQ9XCIrbitcIiZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFjayZzY29wZT1cIityLmpvaW4oXCIgXCIpK1wiJmFwcHJvdmFsX3Byb21wdD1mb3JjZSZyZXNwb25zZV90eXBlPXRva2VuXCIsXCJfYmxhbmtcIixcImxvY2F0aW9uPW5vLGNsZWFyc2Vzc2lvbmNhY2hlPXllcyxjbGVhcmNhY2hlPXllc1wiKTtpLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIixmdW5jdGlvbihlKXtpZigwPT09ZS51cmwuaW5kZXhPZihcImh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2tcIikpe2Zvcih2YXIgbj1lLnVybC5zcGxpdChcIiNcIilbMV0scj1uLnNwbGl0KFwiJlwiKSxvPVtdLGE9MDthPHIubGVuZ3RoO2ErKylvW3JbYV0uc3BsaXQoXCI9XCIpWzBdXT1yW2FdLnNwbGl0KFwiPVwiKVsxXTtpZih2b2lkIDAhPT1vLmFjY2Vzc190b2tlbiYmbnVsbCE9PW8uYWNjZXNzX3Rva2VuKXt7KHthY2Nlc3NfdG9rZW46by5hY2Nlc3NfdG9rZW4sdG9rZW5fdHlwZTpvLnRva2VuX3R5cGUsdWlkOm8udWlkfSl9dC5yZXNvbHZlKHthY2Nlc3NfdG9rZW46by5hY2Nlc3NfdG9rZW4sdG9rZW5fdHlwZTpvLnRva2VuX3R5cGUsZXhwaXJlc19pbjpvLmV4cGlyZXNfaW59KX1lbHNlIHQucmVqZWN0KFwiUHJvYmxlbSBhdXRoZW50aWNhdGluZ1wiKTtpLmNsb3NlKCl9fSl9ZWxzZSB0LnJlamVjdChcIkNvdWxkIG5vdCBmaW5kIEluQXBwQnJvd3NlciBwbHVnaW5cIil9ZWxzZSB0LnJlamVjdChcIkNhbm5vdCBhdXRoZW50aWNhdGUgdmlhIGEgd2ViIGJyb3dzZXJcIik7cmV0dXJuIHQucHJvbWlzZX0sZ2l0aHViOmZ1bmN0aW9uKHIsdCxvKXt2YXIgaT1lLmRlZmVyKCk7aWYod2luZG93LmNvcmRvdmEpe3ZhciBhPWNvcmRvdmEucmVxdWlyZShcImNvcmRvdmEvcGx1Z2luX2xpc3RcIikubWV0YWRhdGE7aWYoYS5oYXNPd25Qcm9wZXJ0eShcIm9yZy5hcGFjaGUuY29yZG92YS5pbmFwcGJyb3dzZXJcIik9PT0hMCl7dmFyIGM9d2luZG93Lm9wZW4oXCJodHRwczovL2dpdGh1Yi5jb20vbG9naW4vb2F1dGgvYXV0aG9yaXplP2NsaWVudF9pZD1cIityK1wiJnJlZGlyZWN0X3VyaT1odHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrJnNjb3BlPVwiK28uam9pbihcIixcIiksXCJfYmxhbmtcIixcImxvY2F0aW9uPW5vLGNsZWFyc2Vzc2lvbmNhY2hlPXllcyxjbGVhcmNhY2hlPXllc1wiKTtjLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIixmdW5jdGlvbihlKXtpZigwPT09ZS51cmwuaW5kZXhPZihcImh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2tcIikpe3ZhciBvPWUudXJsLnNwbGl0KFwiY29kZT1cIilbMV07bi5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbXCJDb250ZW50LVR5cGVcIl09XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixuLmRlZmF1bHRzLmhlYWRlcnMucG9zdC5BY2NlcHQ9XCJhcHBsaWNhdGlvbi9qc29uXCIsbih7bWV0aG9kOlwicG9zdFwiLHVybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9sb2dpbi9vYXV0aC9hY2Nlc3NfdG9rZW5cIixkYXRhOlwiY2xpZW50X2lkPVwiK3IrXCImY2xpZW50X3NlY3JldD1cIit0K1wiJnJlZGlyZWN0X3VyaT1odHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrJmNvZGU9XCIrb30pLnN1Y2Nlc3MoZnVuY3Rpb24oZSl7aS5yZXNvbHZlKGUpfSkuZXJyb3IoZnVuY3Rpb24oKXtpLnJlamVjdChcIlByb2JsZW0gYXV0aGVudGljYXRpbmdcIil9KSxjLmNsb3NlKCl9fSl9ZWxzZSBpLnJlamVjdChcIkNvdWxkIG5vdCBmaW5kIEluQXBwQnJvd3NlciBwbHVnaW5cIil9ZWxzZSBpLnJlamVjdChcIkNhbm5vdCBhdXRoZW50aWNhdGUgdmlhIGEgd2ViIGJyb3dzZXJcIik7cmV0dXJuIGkucHJvbWlzZX0sZmFjZWJvb2s6ZnVuY3Rpb24obixyKXt2YXIgdD1lLmRlZmVyKCk7aWYod2luZG93LmNvcmRvdmEpe3ZhciBvPWNvcmRvdmEucmVxdWlyZShcImNvcmRvdmEvcGx1Z2luX2xpc3RcIikubWV0YWRhdGE7aWYoby5oYXNPd25Qcm9wZXJ0eShcIm9yZy5hcGFjaGUuY29yZG92YS5pbmFwcGJyb3dzZXJcIik9PT0hMCl7dmFyIGk9d2luZG93Lm9wZW4oXCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vZGlhbG9nL29hdXRoP2NsaWVudF9pZD1cIituK1wiJnJlZGlyZWN0X3VyaT1odHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrJnJlc3BvbnNlX3R5cGU9dG9rZW4mc2NvcGU9XCIrci5qb2luKFwiLFwiKSxcIl9ibGFua1wiLFwibG9jYXRpb249bm8sY2xlYXJzZXNzaW9uY2FjaGU9eWVzLGNsZWFyY2FjaGU9eWVzXCIpO2kuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGUpe2lmKDA9PT1lLnVybC5pbmRleE9mKFwiaHR0cDovL2xvY2FsaG9zdC9jYWxsYmFja1wiKSl7Zm9yKHZhciBuPWUudXJsLnNwbGl0KFwiI1wiKVsxXSxyPW4uc3BsaXQoXCImXCIpLG89W10sYT0wO2E8ci5sZW5ndGg7YSsrKW9bclthXS5zcGxpdChcIj1cIilbMF1dPXJbYV0uc3BsaXQoXCI9XCIpWzFdO2lmKHZvaWQgMCE9PW8uYWNjZXNzX3Rva2VuJiZudWxsIT09by5hY2Nlc3NfdG9rZW4pe3ZhciBjPXthY2Nlc3NfdG9rZW46by5hY2Nlc3NfdG9rZW4sZXhwaXJlc19pbjpvLmV4cGlyZXNfaW59O3QucmVzb2x2ZShjKX1lbHNlIHQucmVqZWN0KFwiUHJvYmxlbSBhdXRoZW50aWNhdGluZ1wiKTtpLmNsb3NlKCl9fSl9ZWxzZSB0LnJlamVjdChcIkNvdWxkIG5vdCBmaW5kIEluQXBwQnJvd3NlciBwbHVnaW5cIil9ZWxzZSB0LnJlamVjdChcIkNhbm5vdCBhdXRoZW50aWNhdGUgdmlhIGEgd2ViIGJyb3dzZXJcIik7cmV0dXJuIHQucHJvbWlzZX0sbGlua2VkaW46ZnVuY3Rpb24ocix0LG8saSl7dmFyIGE9ZS5kZWZlcigpO2lmKHdpbmRvdy5jb3Jkb3ZhKXt2YXIgYz1jb3Jkb3ZhLnJlcXVpcmUoXCJjb3Jkb3ZhL3BsdWdpbl9saXN0XCIpLm1ldGFkYXRhO2lmKGMuaGFzT3duUHJvcGVydHkoXCJvcmcuYXBhY2hlLmNvcmRvdmEuaW5hcHBicm93c2VyXCIpPT09ITApe3ZhciB1PXdpbmRvdy5vcGVuKFwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL3Vhcy9vYXV0aDIvYXV0aG9yaXphdGlvbj9jbGllbnRfaWQ9XCIrcitcIiZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFjayZzY29wZT1cIitvLmpvaW4oXCIgXCIpK1wiJnJlc3BvbnNlX3R5cGU9Y29kZSZzdGF0ZT1cIitpLFwiX2JsYW5rXCIsXCJsb2NhdGlvbj1ubyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXNcIik7dS5hZGRFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oZSl7aWYoMD09PWUudXJsLmluZGV4T2YoXCJodHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrXCIpKXt2YXIgbz1lLnVybC5zcGxpdChcImNvZGU9XCIpWzFdO24uZGVmYXVsdHMuaGVhZGVycy5wb3N0W1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsbih7bWV0aG9kOlwicG9zdFwiLHVybDpcImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS91YXMvb2F1dGgyL2FjY2Vzc1Rva2VuXCIsZGF0YTpcImNsaWVudF9pZD1cIityK1wiJmNsaWVudF9zZWNyZXQ9XCIrdCtcIiZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFjayZncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZSZjb2RlPVwiK299KS5zdWNjZXNzKGZ1bmN0aW9uKGUpe2EucmVzb2x2ZShlKX0pLmVycm9yKGZ1bmN0aW9uKCl7YS5yZWplY3QoXCJQcm9ibGVtIGF1dGhlbnRpY2F0aW5nXCIpfSksdS5jbG9zZSgpfX0pfWVsc2UgYS5yZWplY3QoXCJDb3VsZCBub3QgZmluZCBJbkFwcEJyb3dzZXIgcGx1Z2luXCIpfWVsc2UgYS5yZWplY3QoXCJDYW5ub3QgYXV0aGVudGljYXRlIHZpYSBhIHdlYiBicm93c2VyXCIpO3JldHVybiBhLnByb21pc2V9LGluc3RhZ3JhbTpmdW5jdGlvbihuLHIpe3ZhciB0PWUuZGVmZXIoKTtpZih3aW5kb3cuY29yZG92YSl7dmFyIG89Y29yZG92YS5yZXF1aXJlKFwiY29yZG92YS9wbHVnaW5fbGlzdFwiKS5tZXRhZGF0YTtpZihvLmhhc093blByb3BlcnR5KFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiKT09PSEwKXt2YXIgaT13aW5kb3cub3BlbihcImh0dHBzOi8vYXBpLmluc3RhZ3JhbS5jb20vb2F1dGgvYXV0aG9yaXplLz9jbGllbnRfaWQ9XCIrbitcIiZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFjayZzY29wZT1cIityLmpvaW4oXCIgXCIpK1wiJnJlc3BvbnNlX3R5cGU9dG9rZW5cIixcIl9ibGFua1wiLFwibG9jYXRpb249bm8sY2xlYXJzZXNzaW9uY2FjaGU9eWVzLGNsZWFyY2FjaGU9eWVzXCIpO2kuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGUpe2lmKDA9PT1lLnVybC5pbmRleE9mKFwiaHR0cDovL2xvY2FsaG9zdC9jYWxsYmFja1wiKSl7Zm9yKHZhciBuPWUudXJsLnNwbGl0KFwiI1wiKVsxXSxyPW4uc3BsaXQoXCImXCIpLG89W10sYT0wO2E8ci5sZW5ndGg7YSsrKW9bclthXS5zcGxpdChcIj1cIilbMF1dPXJbYV0uc3BsaXQoXCI9XCIpWzFdO2lmKHZvaWQgMCE9PW8uYWNjZXNzX3Rva2VuJiZudWxsIT09by5hY2Nlc3NfdG9rZW4pe3ZhciBjPXthY2Nlc3NfdG9rZW46by5hY2Nlc3NfdG9rZW59O3QucmVzb2x2ZShjKX1lbHNlIHQucmVqZWN0KFwiUHJvYmxlbSBhdXRoZW50aWNhdGluZ1wiKTtpLmNsb3NlKCl9fSl9ZWxzZSB0LnJlamVjdChcIkNvdWxkIG5vdCBmaW5kIEluQXBwQnJvd3NlciBwbHVnaW5cIil9ZWxzZSB0LnJlamVjdChcIkNhbm5vdCBhdXRoZW50aWNhdGUgdmlhIGEgd2ViIGJyb3dzZXJcIik7cmV0dXJuIHQucHJvbWlzZX0sYm94OmZ1bmN0aW9uKHIsdCxvKXt2YXIgaT1lLmRlZmVyKCk7aWYod2luZG93LmNvcmRvdmEpe3ZhciBhPWNvcmRvdmEucmVxdWlyZShcImNvcmRvdmEvcGx1Z2luX2xpc3RcIikubWV0YWRhdGE7aWYoYS5oYXNPd25Qcm9wZXJ0eShcIm9yZy5hcGFjaGUuY29yZG92YS5pbmFwcGJyb3dzZXJcIik9PT0hMCl7dmFyIGM9d2luZG93Lm9wZW4oXCJodHRwczovL2FwcC5ib3guY29tL2FwaS9vYXV0aDIvYXV0aG9yaXplLz9jbGllbnRfaWQ9XCIrcitcIiZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFjayZzdGF0ZT1cIitvK1wiJnJlc3BvbnNlX3R5cGU9Y29kZVwiLFwiX2JsYW5rXCIsXCJsb2NhdGlvbj1ubyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXNcIik7Yy5hZGRFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oZSl7aWYoMD09PWUudXJsLmluZGV4T2YoXCJodHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrXCIpKXt2YXIgbz1lLnVybC5zcGxpdChcImNvZGU9XCIpWzFdO24uZGVmYXVsdHMuaGVhZGVycy5wb3N0W1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsbih7bWV0aG9kOlwicG9zdFwiLHVybDpcImh0dHBzOi8vYXBwLmJveC5jb20vYXBpL29hdXRoMi90b2tlblwiLGRhdGE6XCJjbGllbnRfaWQ9XCIrcitcIiZjbGllbnRfc2VjcmV0PVwiK3QrXCImcmVkaXJlY3RfdXJpPWh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2smZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGUmY29kZT1cIitvfSkuc3VjY2VzcyhmdW5jdGlvbihlKXtpLnJlc29sdmUoZSl9KS5lcnJvcihmdW5jdGlvbigpe2kucmVqZWN0KFwiUHJvYmxlbSBhdXRoZW50aWNhdGluZ1wiKX0pLGMuY2xvc2UoKX19KX1lbHNlIGkucmVqZWN0KFwiQ291bGQgbm90IGZpbmQgSW5BcHBCcm93c2VyIHBsdWdpblwiKX1lbHNlIGkucmVqZWN0KFwiQ2Fubm90IGF1dGhlbnRpY2F0ZSB2aWEgYSB3ZWIgYnJvd3NlclwiKTtyZXR1cm4gaS5wcm9taXNlfSxyZWRkaXQ6ZnVuY3Rpb24ocix0LG8pe3ZhciBpPWUuZGVmZXIoKTtpZih3aW5kb3cuY29yZG92YSl7dmFyIGE9Y29yZG92YS5yZXF1aXJlKFwiY29yZG92YS9wbHVnaW5fbGlzdFwiKS5tZXRhZGF0YTtpZihhLmhhc093blByb3BlcnR5KFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiKT09PSEwKXt2YXIgYz13aW5kb3cub3BlbihcImh0dHBzOi8vc3NsLnJlZGRpdC5jb20vYXBpL3YxL2F1dGhvcml6ZT9jbGllbnRfaWQ9XCIrcitcIiZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFjayZkdXJhdGlvbj1wZXJtYW5lbnQmc3RhdGU9bmdjb3Jkb3Zhb2F1dGgmc2NvcGU9XCIrby5qb2luKFwiLFwiKStcIiZyZXNwb25zZV90eXBlPWNvZGVcIixcIl9ibGFua1wiLFwibG9jYXRpb249bm8sY2xlYXJzZXNzaW9uY2FjaGU9eWVzLGNsZWFyY2FjaGU9eWVzXCIpO2MuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGUpezA9PT1lLnVybC5pbmRleE9mKFwiaHR0cDovL2xvY2FsaG9zdC9jYWxsYmFja1wiKSYmKHJlcXVlc3RUb2tlbj1lLnVybC5zcGxpdChcImNvZGU9XCIpWzFdLG4uZGVmYXVsdHMuaGVhZGVycy5wb3N0W1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsbi5kZWZhdWx0cy5oZWFkZXJzLnBvc3QuQXV0aG9yaXphdGlvbj1cIkJhc2ljIFwiK2J0b2EocitcIjpcIit0KSxuKHttZXRob2Q6XCJwb3N0XCIsdXJsOlwiaHR0cHM6Ly9zc2wucmVkZGl0LmNvbS9hcGkvdjEvYWNjZXNzX3Rva2VuXCIsZGF0YTpcInJlZGlyZWN0X3VyaT1odHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrJmdyYW50X3R5cGU9YXV0aG9yaXphdGlvbl9jb2RlJmNvZGU9XCIrcmVxdWVzdFRva2VufSkuc3VjY2VzcyhmdW5jdGlvbihlKXtpLnJlc29sdmUoZSl9KS5lcnJvcihmdW5jdGlvbigpe2kucmVqZWN0KFwiUHJvYmxlbSBhdXRoZW50aWNhdGluZ1wiKX0pLGMuY2xvc2UoKSl9KX1lbHNlIGkucmVqZWN0KFwiQ291bGQgbm90IGZpbmQgSW5BcHBCcm93c2VyIHBsdWdpblwiKX1lbHNlIGkucmVqZWN0KFwiQ2Fubm90IGF1dGhlbnRpY2F0ZSB2aWEgYSB3ZWIgYnJvd3NlclwiKTtyZXR1cm4gaS5wcm9taXNlfSx0d2l0dGVyOmZ1bmN0aW9uKHQsbyl7dmFyIGk9ZS5kZWZlcigpO2lmKHdpbmRvdy5jb3Jkb3ZhKXt2YXIgYT1jb3Jkb3ZhLnJlcXVpcmUoXCJjb3Jkb3ZhL3BsdWdpbl9saXN0XCIpLm1ldGFkYXRhO2lmKGEuaGFzT3duUHJvcGVydHkoXCJvcmcuYXBhY2hlLmNvcmRvdmEuaW5hcHBicm93c2VyXCIpPT09ITApaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGpzU0hBKXt2YXIgYz1uZXcganNTSEEoTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpLFwiVEVYVFwiKSx1PXtvYXV0aF9jb25zdW1lcl9rZXk6dCxvYXV0aF9ub25jZTpjLmdldEhhc2goXCJTSEEtMVwiLFwiSEVYXCIpLG9hdXRoX3NpZ25hdHVyZV9tZXRob2Q6XCJITUFDLVNIQTFcIixvYXV0aF90aW1lc3RhbXA6TWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpLG9hdXRoX3ZlcnNpb246XCIxLjBcIn0scz1yLmNyZWF0ZVNpZ25hdHVyZShcIlBPU1RcIixcImh0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL29hdXRoL3JlcXVlc3RfdG9rZW5cIix1LHtvYXV0aF9jYWxsYmFjazpcImh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2tcIn0sbyk7bi5kZWZhdWx0cy5oZWFkZXJzLnBvc3QuQXV0aG9yaXphdGlvbj1zLmF1dGhvcml6YXRpb25faGVhZGVyLG4uZGVmYXVsdHMuaGVhZGVycy5wb3N0W1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsbih7bWV0aG9kOlwicG9zdFwiLHVybDpcImh0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL29hdXRoL3JlcXVlc3RfdG9rZW5cIixkYXRhOlwib2F1dGhfY2FsbGJhY2s9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFja1wifSkuc3VjY2VzcyhmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zcGxpdChcIiZcIiksYT17fSxjPTA7Yzx0Lmxlbmd0aDtjKyspYVt0W2NdLnNwbGl0KFwiPVwiKVswXV09dFtjXS5zcGxpdChcIj1cIilbMV07YS5oYXNPd25Qcm9wZXJ0eShcIm9hdXRoX3Rva2VuXCIpPT09ITEmJmkucmVqZWN0KFwiT2F1dGggcmVxdWVzdCB0b2tlbiB3YXMgbm90IHJlY2VpdmVkXCIpO3ZhciBzPXdpbmRvdy5vcGVuKFwiaHR0cHM6Ly9hcGkudHdpdHRlci5jb20vb2F1dGgvYXV0aGVudGljYXRlP29hdXRoX3Rva2VuPVwiK2Eub2F1dGhfdG9rZW4sXCJfYmxhbmtcIixcImxvY2F0aW9uPW5vLGNsZWFyc2Vzc2lvbmNhY2hlPXllcyxjbGVhcmNhY2hlPXllc1wiKTtzLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIixmdW5jdGlvbihlKXtpZigwPT09ZS51cmwuaW5kZXhPZihcImh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2tcIikpe2Zvcih2YXIgdD1lLnVybC5zcGxpdChcIj9cIilbMV0sYT10LnNwbGl0KFwiJlwiKSxjPXt9LGw9MDtsPGEubGVuZ3RoO2wrKyljW2FbbF0uc3BsaXQoXCI9XCIpWzBdXT1hW2xdLnNwbGl0KFwiPVwiKVsxXTtjLmhhc093blByb3BlcnR5KFwib2F1dGhfdmVyaWZpZXJcIik9PT0hMSYmaS5yZWplY3QoXCJCcm93c2VyIGF1dGhlbnRpY2F0aW9uIGZhaWxlZCB0byBjb21wbGV0ZS4gIE5vIG9hdXRoX3ZlcmlmaWVyIHdhcyByZXR1cm5lZFwiKSxkZWxldGUgdS5vYXV0aF9zaWduYXR1cmUsdS5vYXV0aF90b2tlbj1jLm9hdXRoX3Rva2VuO3ZhciBmPXIuY3JlYXRlU2lnbmF0dXJlKFwiUE9TVFwiLFwiaHR0cHM6Ly9hcGkudHdpdHRlci5jb20vb2F1dGgvYWNjZXNzX3Rva2VuXCIsdSx7b2F1dGhfdmVyaWZpZXI6Yy5vYXV0aF92ZXJpZmllcn0sbyk7bi5kZWZhdWx0cy5oZWFkZXJzLnBvc3QuQXV0aG9yaXphdGlvbj1mLmF1dGhvcml6YXRpb25faGVhZGVyLG4uZGVmYXVsdHMuaGVhZGVycy5wb3N0W1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsbih7bWV0aG9kOlwicG9zdFwiLHVybDpcImh0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL29hdXRoL2FjY2Vzc190b2tlblwiLGRhdGE6XCJvYXV0aF92ZXJpZmllcj1cIitjLm9hdXRoX3ZlcmlmaWVyfSkuc3VjY2VzcyhmdW5jdGlvbihlKXtmb3IodmFyIG49ZS5zcGxpdChcIiZcIikscj17fSx0PTA7dDxuLmxlbmd0aDt0KyspcltuW3RdLnNwbGl0KFwiPVwiKVswXV09blt0XS5zcGxpdChcIj1cIilbMV07ci5oYXNPd25Qcm9wZXJ0eShcIm9hdXRoX3Rva2VuX3NlY3JldFwiKT09PSExJiZpLnJlamVjdChcIk9hdXRoIGFjY2VzcyB0b2tlbiB3YXMgbm90IHJlY2VpdmVkXCIpLGkucmVzb2x2ZShyKX0pLmVycm9yKGZ1bmN0aW9uKGUpe2kucmVqZWN0KGUpfSkscy5jbG9zZSgpfX0pfSkuZXJyb3IoZnVuY3Rpb24oZSl7aS5yZWplY3QoZSl9KX1lbHNlIGkucmVqZWN0KFwiTWlzc2luZyBqc1NIQSBKYXZhU2NyaXB0IGxpYnJhcnlcIik7ZWxzZSBpLnJlamVjdChcIkNvdWxkIG5vdCBmaW5kIEluQXBwQnJvd3NlciBwbHVnaW5cIil9ZWxzZSBpLnJlamVjdChcIkNhbm5vdCBhdXRoZW50aWNhdGUgdmlhIGEgd2ViIGJyb3dzZXJcIik7cmV0dXJuIGkucHJvbWlzZX0sbWVldHVwOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtpZih3aW5kb3cuY29yZG92YSl7dmFyIHQ9Y29yZG92YS5yZXF1aXJlKFwiY29yZG92YS9wbHVnaW5fbGlzdFwiKS5tZXRhZGF0YTtpZih0Lmhhc093blByb3BlcnR5KFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiKT09PSEwKXt2YXIgbz13aW5kb3cub3BlbihcImh0dHBzOi8vc2VjdXJlLm1lZXR1cC5jb20vb2F1dGgyL2F1dGhvcml6ZS8/Y2xpZW50X2lkPVwiK24rXCImcmVkaXJlY3RfdXJpPWh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2smcmVzcG9uc2VfdHlwZT10b2tlblwiLFwiX2JsYW5rXCIsXCJsb2NhdGlvbj1ubyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXNcIik7by5hZGRFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oZSl7aWYoMD09PWUudXJsLmluZGV4T2YoXCJodHRwOi8vbG9jYWxob3N0L2NhbGxiYWNrXCIpKXtmb3IodmFyIG49ZS51cmwuc3BsaXQoXCIjXCIpWzFdLHQ9bi5zcGxpdChcIiZcIiksaT17fSxhPTA7YTx0Lmxlbmd0aDthKyspaVt0W2FdLnNwbGl0KFwiPVwiKVswXV09dFthXS5zcGxpdChcIj1cIilbMV07dm9pZCAwIT09aS5hY2Nlc3NfdG9rZW4mJm51bGwhPT1pLmFjY2Vzc190b2tlbj9yLnJlc29sdmUoaSk6ci5yZWplY3QoXCJQcm9ibGVtIGF1dGhlbnRpY2F0aW5nXCIpLG8uY2xvc2UoKX19KX1lbHNlIHIucmVqZWN0KFwiQ291bGQgbm90IGZpbmQgSW5BcHBCcm93c2VyIHBsdWdpblwiKX1lbHNlIHIucmVqZWN0KFwiQ2Fubm90IGF1dGhlbnRpY2F0ZSB2aWEgYSB3ZWIgYnJvd3NlclwiKTtyZXR1cm4gci5wcm9taXNlfSxmb3Vyc3F1YXJlOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtpZih3aW5kb3cuY29yZG92YSl7dmFyIHQ9Y29yZG92YS5yZXF1aXJlKFwiY29yZG92YS9wbHVnaW5fbGlzdFwiKS5tZXRhZGF0YTtpZih0Lmhhc093blByb3BlcnR5KFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiKT09PSEwKXt2YXIgbz13aW5kb3cub3BlbihcImh0dHBzOi8vZm91cnNxdWFyZS5jb20vb2F1dGgyL2F1dGhlbnRpY2F0ZT9jbGllbnRfaWQ9XCIrbitcIiZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC9jYWxsYmFjayZyZXNwb25zZV90eXBlPXRva2VuXCIsXCJfYmxhbmtcIixcImxvY2F0aW9uPW5vLGNsZWFyc2Vzc2lvbmNhY2hlPXllcyxjbGVhcmNhY2hlPXllc1wiKTtvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIixmdW5jdGlvbihlKXtpZigwPT09ZS51cmwuaW5kZXhPZihcImh0dHA6Ly9sb2NhbGhvc3QvY2FsbGJhY2tcIikpe2Zvcih2YXIgbj1lLnVybC5zcGxpdChcIiNcIilbMV0sdD1uLnNwbGl0KFwiJlwiKSxpPVtdLGE9MDthPHQubGVuZ3RoO2ErKylpW3RbYV0uc3BsaXQoXCI9XCIpWzBdXT10W2FdLnNwbGl0KFwiPVwiKVsxXTtpZih2b2lkIDAhPT1pLmFjY2Vzc190b2tlbiYmbnVsbCE9PWkuYWNjZXNzX3Rva2VuKXt2YXIgYz17YWNjZXNzX3Rva2VuOmkuYWNjZXNzX3Rva2VuLGV4cGlyZXNfaW46aS5leHBpcmVzX2lufTtyLnJlc29sdmUoYyl9ZWxzZSByLnJlamVjdChcIlByb2JsZW0gYXV0aGVudGljYXRpbmdcIik7by5jbG9zZSgpfX0pfWVsc2Ugci5yZWplY3QoXCJDb3VsZCBub3QgZmluZCBJbkFwcEJyb3dzZXIgcGx1Z2luXCIpfWVsc2Ugci5yZWplY3QoXCJDYW5ub3QgYXV0aGVudGljYXRlIHZpYSBhIHdlYiBicm93c2VyXCIpO3JldHVybiByLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLm9hdXRoVXRpbGl0eVwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFPYXV0aFV0aWxpdHlcIixbXCIkcVwiLGZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZVNpZ25hdHVyZTpmdW5jdGlvbihlLG4scix0LG8pe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBqc1NIQSl7Zm9yKHZhciBpPWFuZ3VsYXIuY29weShyKSxhPU9iamVjdC5rZXlzKHQpLGM9MDtjPGEubGVuZ3RoO2MrKylpW2FbY11dPWVuY29kZVVSSUNvbXBvbmVudCh0W2FbY11dKTt2YXIgdT1lK1wiJlwiK2VuY29kZVVSSUNvbXBvbmVudChuKStcIiZcIixzPU9iamVjdC5rZXlzKGkpLnNvcnQoKTtmb3IoYz0wO2M8cy5sZW5ndGg7YysrKXUrPWVuY29kZVVSSUNvbXBvbmVudChjPT1zLmxlbmd0aC0xP3NbY10rXCI9XCIraVtzW2NdXTpzW2NdK1wiPVwiK2lbc1tjXV0rXCImXCIpO3ZhciBsPW5ldyBqc1NIQSh1LFwiVEVYVFwiKTtyLm9hdXRoX3NpZ25hdHVyZT1lbmNvZGVVUklDb21wb25lbnQobC5nZXRITUFDKGVuY29kZVVSSUNvbXBvbmVudChvKStcIiZcIixcIlRFWFRcIixcIlNIQS0xXCIsXCJCNjRcIikpO3ZhciBmPU9iamVjdC5rZXlzKHIpLGQ9XCJPQXV0aCBcIjtmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWQrPWM9PWYubGVuZ3RoLTE/ZltjXSsnPVwiJytyW2ZbY11dKydcIic6ZltjXSsnPVwiJytyW2ZbY11dKydcIiwnO3JldHVybntzaWduYXR1cmVfYmFzZV9zdHJpbmc6dSxhdXRob3JpemF0aW9uX2hlYWRlcjpkLHNpZ25hdHVyZTpyLm9hdXRoX3NpZ25hdHVyZX19cmV0dXJuXCJNaXNzaW5nIGpzU0hBIEphdmFTY3JpcHQgbGlicmFyeVwifX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5waW5EaWFsb2dcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhUGluRGlhbG9nXCIsW1wiJHFcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLG4pe3JldHVybntwcm9tcHQ6ZnVuY3Rpb24ocix0LG8pe3ZhciBpPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnBpbkRpYWxvZy5wcm9tcHQocixmdW5jdGlvbihlKXtpLnJlc29sdmUoZSl9LHQsbyksaS5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5wcmVmc1wiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFQcmVmZXJlbmNlc1wiLFtcIiR3aW5kb3dcIixcIiRxXCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57c2V0OmZ1bmN0aW9uKHIsdCl7dmFyIG89bi5kZWZlcigpO3JldHVybiBlLmFwcGdpcmFmZmUucGx1Z2lucy5hcHBsaWNhdGlvblByZWZlcmVuY2VzLnNldChyLHQsZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtvLnJlamVjdChlKX0pLG8ucHJvbWlzZX0sZ2V0OmZ1bmN0aW9uKHIpe3ZhciB0PW4uZGVmZXIoKTtyZXR1cm4gZS5hcHBnaXJhZmZlLnBsdWdpbnMuYXBwbGljYXRpb25QcmVmZXJlbmNlcy5nZXQocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5wcmludGVyXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YVByaW50ZXJcIixbXCIkcVwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGUsbil7cmV0dXJue2lzQXZhaWxhYmxlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbi5wcmludGVyLmlzQXZhaWxhYmxlKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0pLHIucHJvbWlzZX0scHJpbnQ6ZnVuY3Rpb24ocix0KXt2YXIgbz1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2luLnByaW50ZXIucHJpbnQocix0LGZ1bmN0aW9uKCl7by5yZXNvbHZlKCl9KSxvLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLnByb2dyZXNzSW5kaWNhdG9yXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YVByb2dyZXNzXCIsW1wiJHFcIixmdW5jdGlvbigpe3JldHVybntzaG93U2ltcGxlOmZ1bmN0aW9uKGUpe3ZhciBuPWV8fCExO3JldHVybiBQcm9ncmVzc0luZGljYXRvci5zaG93U2ltcGxlKG4pfSxzaG93U2ltcGxlV2l0aExhYmVsOmZ1bmN0aW9uKGUsbil7dmFyIHI9ZXx8ITEsdD1ufHxcIkxvYWRpbmcuLi5cIjtyZXR1cm4gUHJvZ3Jlc3NJbmRpY2F0b3Iuc2hvd1NpbXBsZVdpdGhMYWJlbChyLHQpfSxzaG93U2ltcGxlV2l0aExhYmVsRGV0YWlsOmZ1bmN0aW9uKGUsbixyKXt2YXIgdD1lfHwhMSxvPW58fFwiTG9hZGluZy4uLlwiLGk9cnx8XCJQbGVhc2Ugd2FpdFwiO3JldHVybiBQcm9ncmVzc0luZGljYXRvci5zaG93U2ltcGxlV2l0aExhYmVsRGV0YWlsKHQsbyxpKX0sc2hvd0RldGVybWluYXRlOmZ1bmN0aW9uKGUsbil7dmFyIHI9ZXx8ITEsdD1ufHw1ZTQ7cmV0dXJuIFByb2dyZXNzSW5kaWNhdG9yLnNob3dEZXRlcm1pbmF0ZShyLHQpfSxzaG93RGV0ZXJtaW5hdGVXaXRoTGFiZWw6ZnVuY3Rpb24oZSxuLHIpe3ZhciB0PWV8fCExLG89bnx8NWU0LGk9cnx8XCJMb2FkaW5nLi4uXCI7cmV0dXJuIFByb2dyZXNzSW5kaWNhdG9yLnNob3dEZXRlcm1pbmF0ZVdpdGhMYWJlbCh0LG8saSl9LHNob3dBbm51bGFyOmZ1bmN0aW9uKGUsbil7dmFyIHI9ZXx8ITEsdD1ufHw1ZTQ7cmV0dXJuIFByb2dyZXNzSW5kaWNhdG9yLnNob3dBbm51bGFyKHIsdCl9LHNob3dBbm51bGFyV2l0aExhYmVsOmZ1bmN0aW9uKGUsbixyKXt2YXIgdD1lfHwhMSxvPW58fDVlNCxpPXJ8fFwiTG9hZGluZy4uLlwiO3JldHVybiBQcm9ncmVzc0luZGljYXRvci5zaG93QW5udWxhcldpdGhMYWJlbCh0LG8saSl9LHNob3dCYXI6ZnVuY3Rpb24oZSxuKXt2YXIgcj1lfHwhMSx0PW58fDVlNDtyZXR1cm4gUHJvZ3Jlc3NJbmRpY2F0b3Iuc2hvd0JhcihyLHQpfSxzaG93QmFyV2l0aExhYmVsOmZ1bmN0aW9uKGUsbixyKXt2YXIgdD1lfHwhMSxvPW58fDVlNCxpPXJ8fFwiTG9hZGluZy4uLlwiO3JldHVybiBQcm9ncmVzc0luZGljYXRvci5zaG93QmFyV2l0aExhYmVsKHQsbyxpKX0sc2hvd1N1Y2Nlc3M6ZnVuY3Rpb24oZSxuKXt2YXIgcj1lfHwhMSx0PW58fFwiU3VjY2Vzc1wiO3JldHVybiBQcm9ncmVzc0luZGljYXRvci5zaG93U3VjY2VzcyhyLHQpfSxzaG93VGV4dDpmdW5jdGlvbihlLG4scil7dmFyIHQ9ZXx8ITEsbz1ufHxcIldhcm5pbmdcIixpPXJ8fFwiY2VudGVyXCI7cmV0dXJuIFByb2dyZXNzSW5kaWNhdG9yLnNob3dUZXh0KHQsbyxpKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBQcm9ncmVzc0luZGljYXRvci5oaWRlKCl9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLnB1c2hcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhUHVzaFwiLFtcIiRxXCIsXCIkd2luZG93XCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oZSxuLHIpe3JldHVybntvbk5vdGlmaWNhdGlvbjpmdW5jdGlvbihlKXtyLiRhcHBseShmdW5jdGlvbigpe3IuJGJyb2FkY2FzdChcInB1c2hOb3RpZmljYXRpb25SZWNlaXZlZFwiLGUpfSl9LHJlZ2lzdGVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gdm9pZCAwIT09ciYmdm9pZCAwPT09ci5lY2ImJihyLmVjYj1cImFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmctYXBwXScpKS5pbmplY3RvcigpLmdldCgnJGNvcmRvdmFQdXNoJykub25Ob3RpZmljYXRpb25cIiksbi5wbHVnaW5zLnB1c2hOb3RpZmljYXRpb24ucmVnaXN0ZXIoZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0sciksdC5wcm9taXNlfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnB1c2hOb3RpZmljYXRpb24udW5yZWdpc3RlcihmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSxyKSx0LnByb21pc2V9LHNldEJhZGdlTnVtYmVyOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnB1c2hOb3RpZmljYXRpb24uc2V0QXBwbGljYXRpb25JY29uQmFkZ2VOdW1iZXIoZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0sciksdC5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5zbXNcIixbXSkuZmFjdG9yeShcIiRjb3Jkb3ZhU21zXCIsW1wiJHFcIixmdW5jdGlvbihlKXtyZXR1cm57c2VuZDpmdW5jdGlvbihuLHIsdCl7dmFyIG89ZS5kZWZlcigpO3JldHVybiBzbXMuc2VuZChuLHIsdCxmdW5jdGlvbihlKXtvLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe28ucmVqZWN0KGUpfSksby5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy5zb2NpYWxTaGFyaW5nXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YVNvY2lhbFNoYXJpbmdcIixbXCIkcVwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGUsbil7cmV0dXJue3NoYXJlOmZ1bmN0aW9uKHIsdCxvLGkpe3ZhciBhPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnNvY2lhbHNoYXJpbmcuc2hhcmUocix0LG8saSxmdW5jdGlvbigpe2EucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKCl7YS5yZWplY3QoITEpfSksYS5wcm9taXNlfSxzaGFyZVZpYVR3aXR0ZXI6ZnVuY3Rpb24ocix0LG8pe3ZhciBpPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnNvY2lhbHNoYXJpbmcuc2hhcmVWaWFUd2l0dGVyKHIsdCxvLGZ1bmN0aW9uKCl7aS5yZXNvbHZlKCEwKX0sZnVuY3Rpb24oKXtpLnJlamVjdCghMSl9KSxpLnByb21pc2V9LHNoYXJlVmlhV2hhdHNBcHA6ZnVuY3Rpb24ocix0LG8pe3ZhciBpPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnNvY2lhbHNoYXJpbmcuc2hhcmVWaWFXaGF0c0FwcChyLHQsbyxmdW5jdGlvbigpe2kucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKCl7aS5yZWplY3QoITEpfSksaS5wcm9taXNlfSxzaGFyZVZpYUZhY2Vib29rOmZ1bmN0aW9uKHIsdCxvKXt2YXIgaT1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5zb2NpYWxzaGFyaW5nLnNoYXJlVmlhRmFjZWJvb2socix0LG8sZnVuY3Rpb24oKXtpLnJlc29sdmUoITApfSxmdW5jdGlvbigpe2kucmVqZWN0KCExKX0pLGkucHJvbWlzZX0sc2hhcmVWaWFTTVM6ZnVuY3Rpb24ocix0KXt2YXIgbz1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5zb2NpYWxzaGFyaW5nLnNoYXJlVmlhU01TKHIsdCxmdW5jdGlvbigpe28ucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKCl7by5yZWplY3QoITEpfSksby5wcm9taXNlfSxzaGFyZVZpYUVtYWlsOmZ1bmN0aW9uKHIsdCxvLGksYSxjKXt2YXIgdT1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy5zb2NpYWxzaGFyaW5nLnNoYXJlVmlhRW1haWwocix0LG8saSxhLGMsZnVuY3Rpb24oKXt1LnJlc29sdmUoITApfSxmdW5jdGlvbigpe3UucmVqZWN0KCExKX0pLHUucHJvbWlzZX0sY2FuU2hhcmVWaWFFbWFpbDpmdW5jdGlvbigpe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnNvY2lhbHNoYXJpbmcuY2FuU2hhcmVWaWFFbWFpbChmdW5jdGlvbigpe3IucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKCl7ci5yZWplY3QoITEpfSksci5wcm9taXNlfSxjYW5TaGFyZVZpYTpmdW5jdGlvbihyLHQsbyxpLGEpe3ZhciBjPWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnNvY2lhbHNoYXJpbmcuY2FuU2hhcmVWaWEocix0LG8saSxhLGZ1bmN0aW9uKGUpe2MucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7Yy5yZWplY3QoZSl9KSxjLnByb21pc2V9LHNoYXJlVmlhOmZ1bmN0aW9uKHIsdCxvLGksYSl7dmFyIGM9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMuc29jaWFsc2hhcmluZy5zaGFyZVZpYShyLHQsbyxpLGEsZnVuY3Rpb24oKXtjLnJlc29sdmUoITApfSxmdW5jdGlvbigpe2MucmVqZWN0KCExKX0pLGMucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuc3Bpbm5lckRpYWxvZ1wiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFTcGlubmVyRGlhbG9nXCIsW1wiJHdpbmRvd1wiLGZ1bmN0aW9uKGUpe3JldHVybntzaG93OmZ1bmN0aW9uKG4scix0KXtyZXR1cm4gdD10fHwhMSxlLnBsdWdpbnMuc3Bpbm5lckRpYWxvZy5zaG93KG4scix0KX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBlLnBsdWdpbnMuc3Bpbm5lckRpYWxvZy5oaWRlKCl9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLnNwbGFzaHNjcmVlblwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFTcGxhc2hzY3JlZW5cIixbZnVuY3Rpb24oKXtyZXR1cm57aGlkZTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3Iuc3BsYXNoc2NyZWVuLmhpZGUoKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3Iuc3BsYXNoc2NyZWVuLnNob3coKX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuc3FsaXRlXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YVNRTGl0ZVwiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57b3BlbkRCOmZ1bmN0aW9uKGUscil7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIHImJihyPTApLG4uc3FsaXRlUGx1Z2luLm9wZW5EYXRhYmFzZSh7bmFtZTplLGJnVHlwZTpyfSl9LGV4ZWN1dGU6ZnVuY3Rpb24obixyLHQpe3ZhciBvPWUuZGVmZXIoKTtyZXR1cm4gbi50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwocix0LGZ1bmN0aW9uKGUsbil7by5yZXNvbHZlKG4pfSxmdW5jdGlvbihlLG4pe28ucmVqZWN0KG4pfSl9KSxvLnByb21pc2V9LGluc2VydENvbGxlY3Rpb246ZnVuY3Rpb24obixyLHQpe3ZhciBvPWUuZGVmZXIoKSxpPXQuc2xpY2UoMCk7cmV0dXJuIG4udHJhbnNhY3Rpb24oZnVuY3Rpb24oZSl7IWZ1bmN0aW9uIG4oKXt2YXIgdD1pLnNwbGljZSgwLDEpWzBdO3RyeXtlLmV4ZWN1dGVTcWwocix0LGZ1bmN0aW9uKGUscil7MD09PWkubGVuZ3RoP28ucmVzb2x2ZShyKTpuKCl9LGZ1bmN0aW9uKGUsbil7by5yZWplY3Qobil9KX1jYXRjaChhKXtvLnJlamVjdChhKX19KCl9KSxvLnByb21pc2V9LG5lc3RlZEV4ZWN1dGU6ZnVuY3Rpb24obixyLHQsbyxpKXt2YXIgYT1lLmRlZmVyKCk7cmV0dXJuIG4udHJhbnNhY3Rpb24oZnVuY3Rpb24oZSl7ZS5leGVjdXRlU3FsKHIsbyxmdW5jdGlvbihlLG4pe2EucmVzb2x2ZShuKSxlLmV4ZWN1dGVTcWwodCxpLGZ1bmN0aW9uKGUsbil7YS5yZXNvbHZlKG4pXG59KX0pfSxmdW5jdGlvbihlLG4pe2EucmVqZWN0KG4pfSksYS5wcm9taXNlfSxkZWxldGVEQjpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4uc3FsaXRlUGx1Z2luLmRlbGV0ZURhdGFiYXNlKHIsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX19fV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuc3RhdHVzYmFyXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YVN0YXR1c2JhclwiLFtmdW5jdGlvbigpe3JldHVybntvdmVybGF5c1dlYlZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuIFN0YXR1c0Jhci5vdmVybGF5c1dlYlZpZXcoISFlKX0sc3R5bGU6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO2Nhc2UgMTpyZXR1cm4gU3RhdHVzQmFyLnN0eWxlTGlnaHRDb250ZW50KCk7Y2FzZSAyOnJldHVybiBTdGF0dXNCYXIuc3R5bGVCbGFja1RyYW5zbHVjZW50KCk7Y2FzZSAzOnJldHVybiBTdGF0dXNCYXIuc3R5bGVCbGFja09wYXF1ZSgpO2RlZmF1bHQ6cmV0dXJuIFN0YXR1c0Jhci5zdHlsZURlZmF1bHQoKX19LHN0eWxlQ29sb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIFN0YXR1c0Jhci5iYWNrZ3JvdW5kQ29sb3JCeU5hbWUoZSl9LHN0eWxlSGV4OmZ1bmN0aW9uKGUpe3JldHVybiBTdGF0dXNCYXIuYmFja2dyb3VuZENvbG9yQnlIZXhTdHJpbmcoZSl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gU3RhdHVzQmFyLmhpZGUoKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBTdGF0dXNCYXIuc2hvdygpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gU3RhdHVzQmFyLmlzVmlzaWJsZSgpfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy50b2FzdFwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFUb2FzdFwiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57c2hvd1Nob3J0VG9wOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnRvYXN0LnNob3dTaG9ydFRvcChyLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LHNob3dTaG9ydENlbnRlcjpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy50b2FzdC5zaG93U2hvcnRDZW50ZXIocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxzaG93U2hvcnRCb3R0b206ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMudG9hc3Quc2hvd1Nob3J0Qm90dG9tKHIsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sc2hvd0xvbmdUb3A6ZnVuY3Rpb24ocil7dmFyIHQ9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMudG9hc3Quc2hvd0xvbmdUb3AocixmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSksdC5wcm9taXNlfSxzaG93TG9uZ0NlbnRlcjpmdW5jdGlvbihyKXt2YXIgdD1lLmRlZmVyKCk7cmV0dXJuIG4ucGx1Z2lucy50b2FzdC5zaG93TG9uZ0NlbnRlcihyLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9KSx0LnByb21pc2V9LHNob3dMb25nQm90dG9tOmZ1bmN0aW9uKHIpe3ZhciB0PWUuZGVmZXIoKTtyZXR1cm4gbi5wbHVnaW5zLnRvYXN0LnNob3dMb25nQm90dG9tKHIsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pLHQucHJvbWlzZX0sc2hvdzpmdW5jdGlvbihyLHQsbyl7dmFyIGk9ZS5kZWZlcigpO3JldHVybiBuLnBsdWdpbnMudG9hc3Quc2hvdyhyLHQsbyxmdW5jdGlvbihlKXtpLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe2kucmVqZWN0KGUpfSksaS5wcm9taXNlfX19XSksYW5ndWxhci5tb2R1bGUoXCJuZ0NvcmRvdmEucGx1Z2lucy50b3VjaGlkXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YVRvdWNoSURcIixbXCIkcVwiLGZ1bmN0aW9uKGUpe3JldHVybntjaGVja1N1cHBvcnQ6ZnVuY3Rpb24oKXt2YXIgbj1lLmRlZmVyKCk7cmV0dXJuIHdpbmRvdy5jb3Jkb3ZhP3RvdWNoaWQuY2hlY2tTdXBwb3J0KGZ1bmN0aW9uKGUpe24ucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KTpuLnJlamVjdChcIk5vdCBzdXBwb3J0ZWQgd2l0aG91dCBjb3Jkb3ZhLmpzXCIpLG4ucHJvbWlzZX0sYXV0aGVudGljYXRlOmZ1bmN0aW9uKG4pe3ZhciByPWUuZGVmZXIoKTtyZXR1cm4gd2luZG93LmNvcmRvdmE/dG91Y2hpZC5hdXRoZW50aWNhdGUoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtyLnJlamVjdChlKX0sbik6ci5yZWplY3QoXCJOb3Qgc3VwcG9ydGVkIHdpdGhvdXQgY29yZG92YS5qc1wiKSxyLnByb21pc2V9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLnZpYnJhdGlvblwiLFtdKS5mYWN0b3J5KFwiJGNvcmRvdmFWaWJyYXRpb25cIixbZnVuY3Rpb24oKXtyZXR1cm57dmlicmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmF2aWdhdG9yLm5vdGlmaWNhdGlvbi52aWJyYXRlKGUpfSx2aWJyYXRlV2l0aFBhdHRlcm46ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmF2aWdhdG9yLm5vdGlmaWNhdGlvbi52aWJyYXRlV2l0aFBhdHRlcm4oZSxuKX0sY2FuY2VsVmlicmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5ub3RpZmljYXRpb24uY2FuY2VsVmlicmF0aW9uKCl9fX1dKSxhbmd1bGFyLm1vZHVsZShcIm5nQ29yZG92YS5wbHVnaW5zLnZpZGVvQ2FwdHVyZVBsdXNcIixbXSkucHJvdmlkZXIoXCIkY29yZG92YVZpZGVvQ2FwdHVyZVBsdXNcIixbZnVuY3Rpb24oKXt2YXIgZT17fTt0aGlzLnNldExpbWl0PWZ1bmN0aW9uKG4pe2UubGltaXQ9bn0sdGhpcy5zZXRNYXhEdXJhdGlvbj1mdW5jdGlvbihuKXtlLmR1cmF0aW9uPW59LHRoaXMuc2V0SGlnaFF1YWxpdHk9ZnVuY3Rpb24obil7ZS5oaWdocXVhbGl0eT1ufSx0aGlzLnVzZUZyb250Q2FtZXJhPWZ1bmN0aW9uKG4pe2UuZnJvbnRjYW1lcmE9bn0sdGhpcy5zZXRQb3J0cmFpdE92ZXJsYXk9ZnVuY3Rpb24obil7ZS5wb3J0cmFpdE92ZXJsYXk9bn0sdGhpcy5zZXRMYW5kc2NhcGVPdmVybGF5PWZ1bmN0aW9uKG4pe2UubGFuZHNjYXBlT3ZlcmxheT1ufSx0aGlzLnNldE92ZXJsYXlUZXh0PWZ1bmN0aW9uKG4pe2Uub3ZlcmxheVRleHQ9bn0sdGhpcy4kZ2V0PVtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24obixyKXtyZXR1cm57Y2FwdHVyZVZpZGVvOmZ1bmN0aW9uKHQpe3ZhciBvPW4uZGVmZXIoKTtyZXR1cm4gci5wbHVnaW5zLnZpZGVvY2FwdHVyZXBsdXM/KHIucGx1Z2lucy52aWRlb2NhcHR1cmVwbHVzLmNhcHR1cmVWaWRlbyhvLnJlc29sdmUsby5yZWplY3QsYW5ndWxhci5leHRlbmQoe30sZSx0KSksby5wcm9taXNlKTooby5yZXNvbHZlKG51bGwpLG8ucHJvbWlzZSl9fX1dfV0pLGFuZ3VsYXIubW9kdWxlKFwibmdDb3Jkb3ZhLnBsdWdpbnMuemlwXCIsW10pLmZhY3RvcnkoXCIkY29yZG92YVppcFwiLFtcIiRxXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm57dW56aXA6ZnVuY3Rpb24ocix0KXt2YXIgbz1lLmRlZmVyKCk7cmV0dXJuIG4uemlwLnVuemlwKHIsdCxmdW5jdGlvbihlKXswPT09ZT9vLnJlc29sdmUoKTpvLnJlamVjdCgpfSxmdW5jdGlvbihlKXtvLm5vdGlmeShlKX0pLG8ucHJvbWlzZX19fV0pfSgpO1xuOyBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXyh0eXBlb2YgbmdDb3Jkb3ZhICE9IFwidW5kZWZpbmVkXCIgPyBuZ0NvcmRvdmEgOiB3aW5kb3cubmdDb3Jkb3ZhKTtcblxufSkuY2FsbChnbG9iYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCJcbi8qXG4gKiBjbGFzc0xpc3QuanM6IENyb3NzLWJyb3dzZXIgZnVsbCBlbGVtZW50LmNsYXNzTGlzdCBpbXBsZW1lbnRhdGlvbi5cbiAqIDIwMTEtMDYtMTVcbiAqXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG4gKiBQdWJsaWMgRG9tYWluLlxuICogTk8gV0FSUkFOVFkgRVhQUkVTU0VEIE9SIElNUExJRUQuIFVTRSBBVCBZT1VSIE9XTiBSSVNLLlxuICovXG5cbi8qZ2xvYmFsIHNlbGYsIGRvY3VtZW50LCBET01FeGNlcHRpb24gKi9cblxuLyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL2NsYXNzTGlzdC5qcy9ibG9iL21hc3Rlci9jbGFzc0xpc3QuanMqL1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmICEoXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSkpIHtcblxuKGZ1bmN0aW9uICh2aWV3KSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXJcbiAgICAgIGNsYXNzTGlzdFByb3AgPSBcImNsYXNzTGlzdFwiXG4gICAgLCBwcm90b1Byb3AgPSBcInByb3RvdHlwZVwiXG4gICAgLCBlbGVtQ3RyUHJvdG8gPSAodmlldy5IVE1MRWxlbWVudCB8fCB2aWV3LkVsZW1lbnQpW3Byb3RvUHJvcF1cbiAgICAsIG9iakN0ciA9IE9iamVjdFxuICAgICwgc3RyVHJpbSA9IFN0cmluZ1twcm90b1Byb3BdLnRyaW0gfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbiAgICB9XG4gICAgLCBhcnJJbmRleE9mID0gQXJyYXlbcHJvdG9Qcm9wXS5pbmRleE9mIHx8IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgICBpID0gMFxuICAgICAgICAgICAgLCBsZW4gPSB0aGlzLmxlbmd0aFxuICAgICAgICA7XG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgLy8gVmVuZG9yczogcGxlYXNlIGFsbG93IGNvbnRlbnQgY29kZSB0byBpbnN0YW50aWF0ZSBET01FeGNlcHRpb25zXG4gICAgLCBET01FeCA9IGZ1bmN0aW9uICh0eXBlLCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuY29kZSA9IERPTUV4Y2VwdGlvblt0eXBlXTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgLCBjaGVja1Rva2VuQW5kR2V0SW5kZXggPSBmdW5jdGlvbiAoY2xhc3NMaXN0LCB0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeChcbiAgICAgICAgICAgICAgICAgIFwiU1lOVEFYX0VSUlwiXG4gICAgICAgICAgICAgICAgLCBcIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvXFxzLy50ZXN0KHRva2VuKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4KFxuICAgICAgICAgICAgICAgICAgXCJJTlZBTElEX0NIQVJBQ1RFUl9FUlJcIlxuICAgICAgICAgICAgICAgICwgXCJTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJySW5kZXhPZi5jYWxsKGNsYXNzTGlzdCwgdG9rZW4pO1xuICAgIH1cbiAgICAsIENsYXNzTGlzdCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgICB0cmltbWVkQ2xhc3NlcyA9IHN0clRyaW0uY2FsbChlbGVtLmNsYXNzTmFtZSlcbiAgICAgICAgICAgICwgY2xhc3NlcyA9IHRyaW1tZWRDbGFzc2VzID8gdHJpbW1lZENsYXNzZXMuc3BsaXQoL1xccysvKSA6IFtdXG4gICAgICAgICAgICAsIGkgPSAwXG4gICAgICAgICAgICAsIGxlbiA9IGNsYXNzZXMubGVuZ3RoXG4gICAgICAgIDtcbiAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wdXNoKGNsYXNzZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAsIGNsYXNzTGlzdFByb3RvID0gQ2xhc3NMaXN0W3Byb3RvUHJvcF0gPSBbXVxuICAgICwgY2xhc3NMaXN0R2V0dGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENsYXNzTGlzdCh0aGlzKTtcbiAgICB9XG47XG4vLyBNb3N0IERPTUV4Y2VwdGlvbiBpbXBsZW1lbnRhdGlvbnMgZG9uJ3QgYWxsb3cgY2FsbGluZyBET01FeGNlcHRpb24ncyB0b1N0cmluZygpXG4vLyBvbiBub24tRE9NRXhjZXB0aW9ucy4gRXJyb3IncyB0b1N0cmluZygpIGlzIHN1ZmZpY2llbnQgaGVyZS5cbkRPTUV4W3Byb3RvUHJvcF0gPSBFcnJvcltwcm90b1Byb3BdO1xuY2xhc3NMaXN0UHJvdG8uaXRlbSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgcmV0dXJuIHRoaXNbaV0gfHwgbnVsbDtcbn07XG5jbGFzc0xpc3RQcm90by5jb250YWlucyA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgIHRva2VuICs9IFwiXCI7XG4gICAgcmV0dXJuIGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgIT09IC0xO1xufTtcbmNsYXNzTGlzdFByb3RvLmFkZCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgIHRva2VuICs9IFwiXCI7XG4gICAgaWYgKGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgPT09IC0xKSB7XG4gICAgICAgIHRoaXMucHVzaCh0b2tlbik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgIH1cbn07XG5jbGFzc0xpc3RQcm90by5yZW1vdmUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICB0b2tlbiArPSBcIlwiO1xuICAgIHZhciBpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgIH1cbn07XG5jbGFzc0xpc3RQcm90by50b2dnbGUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICB0b2tlbiArPSBcIlwiO1xuICAgIGlmIChjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pID09PSAtMSkge1xuICAgICAgICB0aGlzLmFkZCh0b2tlbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmUodG9rZW4pO1xuICAgIH1cbn07XG5jbGFzc0xpc3RQcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5qb2luKFwiIFwiKTtcbn07XG5cbmlmIChvYmpDdHIuZGVmaW5lUHJvcGVydHkpIHtcbiAgICB2YXIgY2xhc3NMaXN0UHJvcERlc2MgPSB7XG4gICAgICAgICAgZ2V0OiBjbGFzc0xpc3RHZXR0ZXJcbiAgICAgICAgLCBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgICwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgICBvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG4gICAgfSBjYXRjaCAoZXgpIHsgLy8gSUUgOCBkb2Vzbid0IHN1cHBvcnQgZW51bWVyYWJsZTp0cnVlXG4gICAgICAgIGlmIChleC5udW1iZXIgPT09IC0weDdGRjVFQzU0KSB7XG4gICAgICAgICAgICBjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG4gICAgICAgIH1cbiAgICB9XG59IGVsc2UgaWYgKG9iakN0cltwcm90b1Byb3BdLl9fZGVmaW5lR2V0dGVyX18pIHtcbiAgICBlbGVtQ3RyUHJvdG8uX19kZWZpbmVHZXR0ZXJfXyhjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RHZXR0ZXIpO1xufVxuXG59KHNlbGYpKTtcblxufVxuIiwiaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkge1xuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKG9UaGlzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAvLyBjbG9zZXN0IHRoaW5nIHBvc3NpYmxlIHRvIHRoZSBFQ01BU2NyaXB0IDUgaW50ZXJuYWwgSXNDYWxsYWJsZSBmdW5jdGlvblxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIC0gd2hhdCBpcyB0cnlpbmcgdG8gYmUgYm91bmQgaXMgbm90IGNhbGxhYmxlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgICAgZlRvQmluZCA9IHRoaXMsXG4gICAgICAgIGZOT1AgPSBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgZkJvdW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZUb0JpbmQuYXBwbHkodGhpcyBpbnN0YW5jZW9mIGZOT1AgJiYgb1RoaXNcbiAgICAgICAgICAgICAgICA/IHRoaXNcbiAgICAgICAgICAgICAgICA6IG9UaGlzLFxuICAgICAgICAgICAgICAgIGFBcmdzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZk5PUC5wcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcbiAgICAgICAgZkJvdW5kLnByb3RvdHlwZSA9IG5ldyBmTk9QKCk7XG5cbiAgICAgICAgcmV0dXJuIGZCb3VuZDtcbiAgICB9O1xufVxuIiwicmVxdWlyZSgnLi9jbGFzc0xpc3QuanMnKTtcbnJlcXVpcmUoJy4vZnVuY3Rpb25Qcm90b3R5cGVCaW5kLmpzJyk7XG5yZXF1aXJlKCcuL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcycpOyIsIi8vIGFkZHMgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZ1bmN0aW9uYWxpdHlcbi8vIFNvdXJjZTogaHR0cDovL3N0cmQ2LmNvbS8yMDExLzA1L2JldHRlci13aW5kb3ctcmVxdWVzdGFuaW1hdGlvbmZyYW1lLXNoaW0vXG5cbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPVxuICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgfHxcbiAgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgICB8fFxuICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgIHx8XG4gIGZ1bmN0aW9uKGNhbGxiYWNrLCBlbGVtZW50KSB7XG4gICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgY2FsbGJhY2soK25ldyBEYXRlKCkpO1xuICB9LCAxMDAwIC8gNjApO1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY29udHJvbGxlcm5hbWUgPSAnaGVsbG8nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFwcCkge1xuICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuXG4gICAgdmFyIGRlcHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQnO1xuICAgICAgICB2YXIgYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB9O1xuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIGNvbnRyb2xsZXIuJGluamVjdCA9IGRlcHM7XG4gICAgYXBwLmNvbnRyb2xsZXIoYXBwLm5hbWUgKyAnLicgKyBjb250cm9sbGVybmFtZSwgY29udHJvbGxlcik7XG59OyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcHApIHtcbiAgICAvLyBpbmplY3Q6c3RhcnRcbiAgICByZXF1aXJlKCcuL2hlbGxvJykoYXBwKTtcbiAgICAvLyBpbmplY3Q6ZW5kXG59OyIsIid1c2Ugc3RyaWN0JztcbnJlcXVpcmUoJ2FuZ3VsYXItdWktcm91dGVyJyk7XG5cbnJlcXVpcmUoJ2ZhbW91cy1hbmd1bGFyJyk7XG5yZXF1aXJlKCduZ0NvcmRvdmEnKTtcblxudmFyIG1vZHVsZW5hbWUgPSAnY29tbW9uJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lc3BhY2UpIHtcblxuICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZSArICcuJyArIG1vZHVsZW5hbWU7XG5cbiAgICB2YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoZnVsbG5hbWUsIFsndWkucm91dGVyJywgJ2ZhbW91cy5hbmd1bGFyJywgJ25nQ29yZG92YSddKTtcbiAgICAvLyBpbmplY3Q6Zm9sZGVycyBzdGFydFxuICAgIHJlcXVpcmUoJy4vY29udHJvbGxlcnMnKShhcHApO1xuXG4gICAgLy8gaW5qZWN0OmZvbGRlcnMgZW5kXG5cbiAgICBhcHAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJyxcbiAgICAgICAgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vdmlld3MvaG9tZS5odG1sJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgXSk7XG5cbiAgICByZXR1cm4gYXBwO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9ICc8ZGl2PkhvbWU8L2Rpdj4nOyJdfQ==
